!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=73)}([function(e,t,n){var r=n(38)("wks"),i=n(22),o=n(2).Symbol,s="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(8),i=n(62),o=n(41),s=Object.defineProperty;t.f=n(5)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(53)("wks"),i=n(57),o=n(11).Symbol,s="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))}).store=r},function(e,t,n){e.exports=!n(13)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(153),i=n(32);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(21);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(3),i=n(15);e.exports=n(5)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports={}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(2),i=n(1),o=n(60),s=n(9),a=function(e,t,n){var l,h,c,p=e&a.F,u=e&a.G,g=e&a.S,d=e&a.P,f=e&a.B,m=e&a.W,y=u?i:i[t]||(i[t]={}),v=y.prototype,_=u?r:g?r[t]:(r[t]||{}).prototype;u&&(n=t);for(l in n)(h=!p&&_&&void 0!==_[l])&&l in y||(c=h?_[l]:n[l],y[l]=u&&"function"!=typeof _[l]?n[l]:f&&h?o(c,r):m&&_[l]==c?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):d&&"function"==typeof c?o(Function.call,c):c,d&&((y.virtual||(y.virtual={}))[l]=c,e&a.R&&v&&!v[l]&&s(v,l,c)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(67),i=n(33);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(26);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(51)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(20),i=n(28);e.exports=n(17)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(16),i=n(85),o=n(101),s=Object.defineProperty;t.f=n(17)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){"use strict";var r=n(167)(!0);n(63)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(53)("keys"),i=n(57);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){e.exports=!0},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(3).f,i=n(6),o=n(0)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(38)("keys"),i=n(22);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(2),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(32);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(21);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(2),i=n(1),o=n(34),s=n(43),a=n(3).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){t.f=n(0)},function(e,t,n){n(172);for(var r=n(2),i=n(9),o=n(10),s=n(0)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var h=a[l],c=r[h],p=c&&c.prototype;p&&!p[s]&&i(p,s,h),o[h]=o.Array}},function(e,t,n){"use strict";e.exports={angleFromMatrix:function(e,t){var n=180*Math.atan2(-1*t,e)/Math.PI;return n<0&&(n+=360),Math.round(n)},coordIIIF:function(e,t,n){var r,i,o=0,s=t,a=0,l=n;if(Array.isArray(e))for(r=0;r<e.length;r++)if(Array.isArray(e[r]))for(i=0;i<e[r].length;i++)e[r][i][0]>o&&(o=e[r][i][0]),e[r][i][0]<s&&(s=e[r][i][0]),e[r][i][1]>a&&(a=e[r][i][1]),e[r][i][1]<l&&(l=e[r][i][1]);s*=t/1e3,o*=t/1e3,l*=t/1e3,a*=t/1e3;var h=o-s,c=a-l;return parseInt(s)+","+parseInt(l)+","+Math.round(h)+","+Math.round(c)},abs2rel:function(e,t){var n,r=[];if(Array.isArray(e)&&t>0)for(n=0;n<e.length;n++){var i=e[n],o=1e3*i[0]/t,s=1e3*i[1]/t;r.push([o,s])}return r},rel2abs:function(e,t){var n,r=[];if(Array.isArray(e)&&t>0)for(n=0;n<e.length;n++){var i=e[n],o=Math.round(i[0]*t/1e3),s=Math.round(i[1]*t/1e3);r.push([o,s])}return r},isRectangle:function(e){if(!Array.isArray(e)||4!==e.length)return!1;var t,n={},r={},i=0,o=0;for(t=0;t<e.length;t++){if(n[e[t][0]]?n[e[t][0]]++:n[e[t][0]]=1,r[e[t][1]]?r[e[t][1]]++:r[e[t][1]]=1,t>0&&e[t][0]!=i&&e[t][1]!=o)return!1;i=e[t][0],o=e[t][1]}var s,a=0;for(s in n)if(n.hasOwnProperty(s)&&(a++,2!=n[s]))return!1;if(2!=a)return!1;a=0;for(s in r)if(r.hasOwnProperty(s)&&(a++,2!=r[s]))return!1;return 2==a}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(80);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(26),i=n(11).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(11),i=n(24),o=n(47),s=n(19),a=function(e,t,n){var l,h,c,p=e&a.F,u=e&a.G,g=e&a.S,d=e&a.P,f=e&a.B,m=e&a.W,y=u?i:i[t]||(i[t]={}),v=y.prototype,_=u?r:g?r[t]:(r[t]||{}).prototype;u&&(n=t);for(l in n)(h=!p&&_&&void 0!==_[l])&&l in y||(c=h?_[l]:n[l],y[l]=u&&"function"!=typeof _[l]?n[l]:f&&h?o(c,r):m&&_[l]==c?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):d&&"function"==typeof c?o(Function.call,c):c,d&&((y.virtual||(y.virtual={}))[l]=c,e&a.R&&v&&!v[l]&&s(v,l,c)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(20).f,i=n(18),o=n(4)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(11),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(86),i=n(25);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(30),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(25);e.exports=function(e){return Object(r(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){e.exports={default:n(141),__esModule:!0}},function(e,t,n){var r=n(31),i=n(0)("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(147);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(21),i=n(2).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=!n(5)&&!n(13)(function(){return 7!=Object.defineProperty(n(61)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(34),i=n(12),o=n(68),s=n(9),a=n(6),l=n(10),h=n(157),c=n(36),p=n(165),u=n(0)("iterator"),g=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,f,m,y,v){h(n,t,f);var _,E,b,C=function(e){if(!g&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",A="values"==m,S=!1,T=e.prototype,I=T[u]||T["@@iterator"]||m&&T[m],x=I||C(m),M=m?A?C("entries"):x:void 0,D="Array"==t?T.entries||I:I;if(D&&(b=p(D.call(new e)))!==Object.prototype&&(c(b,w,!0),r||a(b,u)||s(b,u,d)),A&&I&&"values"!==I.name&&(S=!0,x=function(){return I.call(this)}),r&&!v||!g&&!S&&T[u]||s(T,u,x),l[t]=x,l[w]=d,m)if(_={values:A?x:C("values"),keys:y?x:C("keys"),entries:M},v)for(E in _)E in T||o(T,E,_[E]);else i(i.P+i.F*(g||S),t,_);return _}},function(e,t,n){var r=n(8),i=n(162),o=n(33),s=n(37)("IE_PROTO"),a=function(){},l=function(){var e,t=n(61)("iframe"),r=o.length;for(t.style.display="none",n(152).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[s]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(67),i=n(33).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(6),i=n(7),o=n(149)(!1),s=n(37)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),l=0,h=[];for(n in a)n!=s&&r(a,n)&&h.push(n);for(;t.length>l;)r(a,n=t[l++])&&(~o(h,n)||h.push(n));return h}},function(e,t,n){e.exports=n(9)},function(e,t,n){var r=n(39),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(59),i=n(0)("iterator"),o=n(10);e.exports=n(1).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){n(126);var r=n(124)(n(74),n(125),"data-v-76fcf456",null);e.exports=r.exports},function(e,t,n){"use strict";(function(t){/*!
 * Vue.js v2.3.0
 * (c) 2014-2017 Evan You
 * Released under the MIT License.
 */
function n(e){return void 0===e||null===e}function r(e){return void 0!==e&&null!==e}function i(e){return!0===e}function o(e){return"string"==typeof e||"number"==typeof e}function s(e){return null!==e&&"object"==typeof e}function a(e){return"[object Object]"===Vi.call(e)}function l(e){return"[object RegExp]"===Vi.call(e)}function h(e){return null==e?"":"object"==typeof e?JSON.stringify(e,null,2):String(e)}function c(e){var t=parseFloat(e);return isNaN(t)?e:t}function p(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function u(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function g(e,t){return ji.call(e,t)}function d(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}function f(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function m(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function y(e,t){for(var n in t)e[n]=t[n];return e}function v(e){for(var t={},n=0;n<e.length;n++)e[n]&&y(t,e[n]);return t}function _(){}function E(e,t){var n=s(e),r=s(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{return JSON.stringify(e)===JSON.stringify(t)}catch(n){return e===t}}function b(e,t){for(var n=0;n<e.length;n++)if(E(e[n],t))return n;return-1}function C(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function w(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function A(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function S(e){if(!qi.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}function T(e,t,n){if(Qi.errorHandler)Qi.errorHandler.call(null,e,t,n);else{if(eo("Error in "+n+': "'+e.toString()+'"',t),!ao||"undefined"==typeof console)throw e;console.error(e)}}function I(e){return"function"==typeof e&&/native code/.test(e.toString())}function x(e){So.target&&To.push(So.target),So.target=e}function M(){So.target=To.pop()}function D(e,t){e.__proto__=t}function O(e,t,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];A(e,o,t[o])}}function N(e,t){if(s(e)){var n;return g(e,"__ob__")&&e.__ob__ instanceof Oo?n=e.__ob__:Do.shouldConvert&&!Eo()&&(Array.isArray(e)||a(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Oo(e)),t&&n&&n.vmCount++,n}}function R(e,t,n,r){var i=new So,o=Object.getOwnPropertyDescriptor(e,t);if(!o||!1!==o.configurable){var s=o&&o.get,a=o&&o.set,l=N(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return So.target&&(i.depend(),l&&l.dep.depend(),Array.isArray(t)&&H(t)),t},set:function(t){var o=s?s.call(e):n;t===o||t!==t&&o!==o||(r&&r(),a?a.call(e,t):n=t,l=N(t),i.notify())}})}}function L(e,t,n){if(Array.isArray(e)&&"number"==typeof t)return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(g(e,t))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?(eo("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option."),n):r?(R(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function P(e,t){if(Array.isArray(e)&&"number"==typeof t)return void e.splice(t,1);var n=e.__ob__;if(e._isVue||n&&n.vmCount)return void eo("Avoid deleting properties on a Vue instance or its root $data - just set it to null.");g(e,t)&&(delete e[t],n&&n.dep.notify())}function H(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&H(t)}function B(e,t){if(!t)return e;for(var n,r,i,o=Object.keys(t),s=0;s<o.length;s++)n=o[s],r=e[n],i=t[n],g(e,n)?a(r)&&a(i)&&B(r,i):L(e,n,i);return e}function k(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function U(e,t){var n=Object.create(e||null);return t?y(n,t):n}function V(e){for(var t in e.components){var n=t.toLowerCase();(Gi(n)||Qi.isReservedTag(n))&&eo("Do not use built-in or reserved HTML elements as component id: "+t)}}function G(e){var t=e.props;if(t){var n,r,i,o={};if(Array.isArray(t))for(n=t.length;n--;)r=t[n],"string"==typeof r?(i=Wi(r),o[i]={type:null}):eo("props must be strings when using array syntax.");else if(a(t))for(var s in t)r=t[s],i=Wi(s),o[i]=a(r)?r:{type:r};e.props=o}}function j(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"==typeof r&&(t[n]={bind:r,update:r})}}function W(e,t,n){function r(r){var i=No[r]||Po;l[r]=i(e[r],t[r],n,r)}V(t),"function"==typeof t&&(t=t.options),G(t),j(t);var i=t.extends;if(i&&(e=W(e,i,n)),t.mixins)for(var o=0,s=t.mixins.length;o<s;o++)e=W(e,t.mixins[o],n);var a,l={};for(a in e)r(a);for(a in t)g(e,a)||r(a);return l}function F(e,t,n,r){if("string"==typeof n){var i=e[t];if(g(i,n))return i[n];var o=Wi(n);if(g(i,o))return i[o];var s=Fi(o);if(g(i,s))return i[s];var a=i[n]||i[o]||i[s];return r&&!a&&eo("Failed to resolve "+t.slice(0,-1)+": "+n,e),a}}function z(e,t,n,r){var i=t[e],o=!g(n,e),s=n[e];if($(Boolean,i.type)&&(o&&!g(i,"default")?s=!1:$(String,i.type)||""!==s&&s!==zi(e)||(s=!0)),void 0===s){s=Y(r,i,e);var a=Do.shouldConvert;Do.shouldConvert=!0,N(s),Do.shouldConvert=a}return X(i,e,s,r,o),s}function Y(e,t,n){if(g(t,"default")){var r=t.default;return s(r)&&eo('Invalid default value for prop "'+n+'": Props with type Object/Array must use a factory function to return the default value.',e),e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof r&&"Function"!==K(t.type)?r.call(e):r}}function X(e,t,n,r,i){if(e.required&&i)return void eo('Missing required prop: "'+t+'"',r);if(null!=n||e.required){var o=e.type,s=!o||!0===o,a=[];if(o){Array.isArray(o)||(o=[o]);for(var l=0;l<o.length&&!s;l++){var h=Z(n,o[l]);a.push(h.expectedType||""),s=h.valid}}if(!s)return void eo('Invalid prop: type check failed for prop "'+t+'". Expected '+a.map(Fi).join(", ")+", got "+Object.prototype.toString.call(n).slice(8,-1)+".",r);var c=e.validator;c&&(c(n)||eo('Invalid prop: custom validator check failed for prop "'+t+'".',r))}}function Z(e,t){var n,r=K(t);return n=Ho.test(r)?typeof e===r.toLowerCase():"Object"===r?a(e):"Array"===r?Array.isArray(e):e instanceof t,{valid:n,expectedType:r}}function K(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function $(e,t){if(!Array.isArray(t))return K(t)===K(e);for(var n=0,r=t.length;n<r;n++)if(K(t[n])===K(e))return!0;return!1}function Q(e){return new zo(void 0,void 0,void 0,String(e))}function J(e){var t=new zo(e.tag,e.data,e.children,e.text,e.elm,e.context,e.componentOptions);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isCloned=!0,t}function q(e){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=J(e[r]);return n}function ee(e){function t(){var e=arguments,n=t.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var r=0;r<n.length;r++)n[r].apply(null,e)}return t.fns=e,t}function te(e,t,r,i,o){var s,a,l,h;for(s in e)a=e[s],l=t[s],h=Ko(s),n(a)?eo('Invalid handler for event "'+h.name+'": got '+String(a),o):n(l)?(n(a.fns)&&(a=e[s]=ee(a)),r(h.name,a,h.once,h.capture,h.passive)):a!==l&&(l.fns=a,e[s]=l);for(s in t)n(e[s])&&(h=Ko(s),i(h.name,t[s],h.capture))}function ne(e,t,o){function s(){o.apply(this,arguments),u(a.fns,s)}var a,l=e[t];n(l)?a=ee([s]):r(l.fns)&&i(l.merged)?(a=l,a.fns.push(s)):a=ee([l,s]),a.merged=!0,e[t]=a}function re(e,t,i){var o=t.options.props;if(!n(o)){var s={},a=e.attrs,l=e.props;if(r(a)||r(l))for(var h in o){var c=zi(h),p=h.toLowerCase();h!==p&&a&&g(a,p)&&to('Prop "'+p+'" is passed to component '+Ui(i||t)+', but the declared prop name is "'+h+'". Note that HTML attributes are case-insensitive and camelCased props need to use their kebab-case equivalents when using in-DOM templates. You should probably use "'+c+'" instead of "'+h+'".'),ie(s,l,h,c,!0)||ie(s,a,h,c,!1)}return s}}function ie(e,t,n,i,o){if(r(t)){if(g(t,n))return e[n]=t[n],o||delete t[n],!0;if(g(t,i))return e[n]=t[i],o||delete t[i],!0}return!1}function oe(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function se(e){return o(e)?[Q(e)]:Array.isArray(e)?ae(e):void 0}function ae(e,t){var i,s,a,l=[];for(i=0;i<e.length;i++)s=e[i],n(s)||"boolean"==typeof s||(a=l[l.length-1],Array.isArray(s)?l.push.apply(l,ae(s,(t||"")+"_"+i)):o(s)?r(a)&&r(a.text)?a.text+=String(s):""!==s&&l.push(Q(s)):r(s.text)&&r(a)&&r(a.text)?l[l.length-1]=Q(a.text+s.text):(r(s.tag)&&n(s.key)&&r(t)&&(s.key="__vlist"+t+"_"+i+"__"),l.push(s)));return l}function le(e,t){return s(e)?t.extend(e):e}function he(e,t,o){if(i(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;if(i(e.loading)&&r(e.loadingComp))return e.loadingComp;if(!r(e.contexts)){var a=e.contexts=[o],l=!0,h=function(){for(var e=0,t=a.length;e<t;e++)a[e].$forceUpdate()},c=C(function(n){e.resolved=le(n,t),l||h()}),p=C(function(t){eo("Failed to resolve async component: "+String(e)+(t?"\nReason: "+t:"")),r(e.errorComp)&&(e.error=!0,h())}),u=e(c,p);return s(u)&&("function"==typeof u.then?n(e.resolved)&&u.then(c,p):r(u.component)&&"function"==typeof u.component.then&&(u.component.then(c,p),r(u.error)&&(e.errorComp=le(u.error,t)),r(u.loading)&&(e.loadingComp=le(u.loading,t),0===u.delay?e.loading=!0:setTimeout(function(){n(e.resolved)&&n(e.error)&&(e.loading=!0,h())},u.delay||200)),r(u.timeout)&&setTimeout(function(){p("timeout ("+u.timeout+"ms)")},u.timeout))),l=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(o)}function ce(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(r(n)&&r(n.componentOptions))return n}}function pe(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&de(e,t)}function ue(e,t,n){n?Xo.$once(e,t):Xo.$on(e,t)}function ge(e,t){Xo.$off(e,t)}function de(e,t,n){Xo=e,te(t,n||{},ue,ge,e)}function fe(e,t){var n={};if(!e)return n;for(var r=[],i=0,o=e.length;i<o;i++){var s=e[i];if(s.context!==t&&s.functionalContext!==t||!s.data||null==s.data.slot)r.push(s);else{var a=s.data.slot,l=n[a]||(n[a]=[]);"template"===s.tag?l.push.apply(l,s.children):l.push(s)}}return r.every(me)||(n.default=r),n}function me(e){return e.isComment||" "===e.text}function ye(e){for(var t={},n=0;n<e.length;n++)t[e[n][0]]=e[n][1];return t}function ve(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function _e(e,t,n){e.$el=t,e.$options.render||(e.$options.render=Zo,e.$options.template&&"#"!==e.$options.template.charAt(0)||e.$options.el||t?eo("You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.",e):eo("Failed to mount component: template or render function not defined.",e)),Ae(e,"beforeMount");var r;return r=Qi.performance&&Ro?function(){var t=e._name,r=e._uid,i="vue-perf-start:"+r,o="vue-perf-end:"+r;Ro(i);var s=e._render();Ro(o),Lo(t+" render",i,o),Ro(i),e._update(s,n),Ro(o),Lo(t+" patch",i,o)}:function(){e._update(e._render(),n)},e._watcher=new ss(e,r,_),n=!1,null==e.$vnode&&(e._isMounted=!0,Ae(e,"mounted")),e}function Ee(e,t,n,r,i){var o=!!(i||e.$options._renderChildren||r.data.scopedSlots||e.$scopedSlots!==Ji);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=i,t&&e.$options.props){Do.shouldConvert=!1,Do.isSettingProps=!0;for(var s=e._props,a=e.$options._propKeys||[],l=0;l<a.length;l++){var h=a[l];s[h]=z(h,e.$options.props,t,e)}Do.shouldConvert=!0,Do.isSettingProps=!1,e.$options.propsData=t}if(n){var c=e.$options._parentListeners;e.$options._parentListeners=n,de(e,n,c)}o&&(e.$slots=fe(i,r.context),e.$forceUpdate())}function be(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Ce(e,t){if(t){if(e._directInactive=!1,be(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Ce(e.$children[n]);Ae(e,"activated")}}function we(e,t){if(!(t&&(e._directInactive=!0,be(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)we(e.$children[n]);Ae(e,"deactivated")}}function Ae(e,t){var n=e.$options[t];if(n)for(var r=0,i=n.length;r<i;r++)try{n[r].call(e)}catch(n){T(n,e,t+" hook")}e._hasHookEvent&&e.$emit("hook:"+t)}function Se(){Jo.length=qo.length=0,es={},ts={},ns=rs=!1}function Te(){rs=!0;var e,t;for(Jo.sort(function(e,t){return e.id-t.id}),is=0;is<Jo.length;is++)if(e=Jo[is],t=e.id,es[t]=null,e.run(),null!=es[t]&&(ts[t]=(ts[t]||0)+1,ts[t]>Qo)){eo("You may have an infinite update loop "+(e.user?'in watcher with expression "'+e.expression+'"':"in a component render function."),e.vm);break}var n=qo.slice(),r=Jo.slice();Se(),Me(n),Ie(r),bo&&Qi.devtools&&bo.emit("flush")}function Ie(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&Ae(r,"updated")}}function xe(e){e._inactive=!1,qo.push(e)}function Me(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Ce(e[t],!0)}function De(e){var t=e.id;if(null==es[t]){if(es[t]=!0,rs){for(var n=Jo.length-1;n>=0&&Jo[n].id>e.id;)n--;Jo.splice(Math.max(n,is)+1,0,e)}else Jo.push(e);ns||(ns=!0,wo(Te))}}function Oe(e){as.clear(),Ne(e,as)}function Ne(e,t){var n,r,i=Array.isArray(e);if((i||s(e))&&Object.isExtensible(e)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(i)for(n=e.length;n--;)Ne(e[n],t);else for(r=Object.keys(e),n=r.length;n--;)Ne(e[r[n]],t)}}function Re(e,t,n){ls.get=function(){return this[t][n]},ls.set=function(e){this[t][n]=e},Object.defineProperty(e,n,ls)}function Le(e){e._watchers=[];var t=e.$options;t.props&&Pe(e,t.props),t.methods&&Ge(e,t.methods),t.data?He(e):N(e._data={},!0),t.computed&&ke(e,t.computed),t.watch&&je(e,t.watch)}function Pe(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[],o=!e.$parent;Do.shouldConvert=o;for(var s in t)!function(o){i.push(o);var s=z(o,t,n,e);(hs[o]||Qi.isReservedAttr(o))&&eo('"'+o+'" is a reserved attribute and cannot be used as component prop.',e),R(r,o,s,function(){e.$parent&&!Do.isSettingProps&&eo("Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \""+o+'"',e)}),o in e||Re(e,"_props",o)}(s);Do.shouldConvert=!0}function He(e){var t=e.$options.data;t=e._data="function"==typeof t?Be(t,e):t||{},a(t)||(t={},eo("data functions should return an object:\nhttps://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",e));for(var n=Object.keys(t),r=e.$options.props,i=n.length;i--;)r&&g(r,n[i])?eo('The data property "'+n[i]+'" is already declared as a prop. Use prop default value instead.',e):w(n[i])||Re(e,"_data",n[i]);N(t,!0)}function Be(e,t){try{return e.call(t)}catch(e){return T(e,t,"data()"),{}}}function ke(e,t){var n=e._computedWatchers=Object.create(null);for(var r in t){var i=t[r],o="function"==typeof i?i:i.get;void 0===o&&(eo('No getter function has been defined for computed property "'+r+'".',e),o=_),n[r]=new ss(e,o,_,cs),r in e?r in e.$data?eo('The computed property "'+r+'" is already defined in data.',e):e.$options.props&&r in e.$options.props&&eo('The computed property "'+r+'" is already defined as a prop.',e):Ue(e,r,i)}}function Ue(e,t,n){"function"==typeof n?(ls.get=Ve(t),ls.set=_):(ls.get=n.get?!1!==n.cache?Ve(t):n.get:_,ls.set=n.set?n.set:_),Object.defineProperty(e,t,ls)}function Ve(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),So.target&&t.depend(),t.value}}function Ge(e,t){var n=e.$options.props;for(var r in t)e[r]=null==t[r]?_:f(t[r],e),null==t[r]&&eo('method "'+r+'" has an undefined value in the component definition. Did you reference the function correctly?',e),n&&g(n,r)&&eo('method "'+r+'" has already been defined as a prop.',e)}function je(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)We(e,n,r[i]);else We(e,n,r)}}function We(e,t,n){var r;a(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}function Fe(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}function ze(e){var t=Ye(e.$options.inject,e);t&&Object.keys(t).forEach(function(n){R(e,n,t[n],function(){eo('Avoid mutating an injected value directly since the changes will be overwritten whenever the provided component re-renders. injection being mutated: "'+n+'"',e)})})}function Ye(e,t){if(e){for(var n=Array.isArray(e),r=Object.create(null),i=n?e:Co?Reflect.ownKeys(e):Object.keys(e),o=0;o<i.length;o++)for(var s=i[o],a=n?s:e[s],l=t;l;){if(l._provided&&a in l._provided){r[s]=l._provided[a];break}l=l.$parent}return r}}function Xe(e,t,n,i,o){var s={},a=e.options.props;if(r(a))for(var l in a)s[l]=z(l,a,t);else r(n.attrs)&&Ze(s,n.attrs),r(n.props)&&Ze(s,n.props);var h=Object.create(i),c=function(e,t,n,r){return et(h,e,t,n,r,!0)},p=e.options.render.call(null,c,{data:n,props:s,children:o,parent:i,listeners:n.on||{},injections:Ye(e.options.inject,i),slots:function(){return fe(o,i)}});return p instanceof zo&&(p.functionalContext=i,n.slot&&((p.data||(p.data={})).slot=n.slot)),p}function Ze(e,t){for(var n in t)e[Wi(n)]=t[n]}function Ke(e,t,o,a,l){if(!n(e)){var h=o.$options._base;if(s(e)&&(e=h.extend(e)),"function"!=typeof e)return void eo("Invalid Component definition: "+String(e),o);if(!n(e.cid)||void 0!==(e=he(e,h,o))){dt(e),t=t||{},r(t.model)&&qe(e.options,t);var c=re(t,e,l);if(i(e.options.functional))return Xe(e,c,t,o,a);var p=t.on;t.on=t.nativeOn,i(e.options.abstract)&&(t={}),Qe(t);var u=e.options.name||l;return new zo("vue-component-"+e.cid+(u?"-"+u:""),t,void 0,void 0,void 0,o,{Ctor:e,propsData:c,listeners:p,tag:l,children:a})}}}function $e(e,t,n,i){var o=e.componentOptions,s={_isComponent:!0,parent:t,propsData:o.propsData,_componentTag:o.tag,_parentVnode:e,_parentListeners:o.listeners,_renderChildren:o.children,_parentElm:n||null,_refElm:i||null},a=e.data.inlineTemplate;return r(a)&&(s.render=a.render,s.staticRenderFns=a.staticRenderFns),new o.Ctor(s)}function Qe(e){e.hook||(e.hook={});for(var t=0;t<us.length;t++){var n=us[t],r=e.hook[n],i=ps[n];e.hook[n]=r?Je(i,r):i}}function Je(e,t){return function(n,r,i,o){e(n,r,i,o),t(n,r,i,o)}}function qe(e,t){var n=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(t.props||(t.props={}))[n]=t.model.value;var o=t.on||(t.on={});r(o[i])?o[i]=[t.model.callback].concat(o[i]):o[i]=t.model.callback}function et(e,t,n,r,s,a){return(Array.isArray(n)||o(n))&&(s=r,r=n,n=void 0),i(a)&&(s=ds),tt(e,t,n,r,s)}function tt(e,t,n,i,o){if(r(n)&&r(n.__ob__))return eo("Avoid using observed data object as vnode data: "+JSON.stringify(n)+"\nAlways create fresh vnode data objects in each render!",e),Zo();if(!t)return Zo();Array.isArray(i)&&"function"==typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),o===ds?i=se(i):o===gs&&(i=oe(i));var s,a;if("string"==typeof t){var l;a=Qi.getTagNamespace(t),s=Qi.isReservedTag(t)?new zo(Qi.parsePlatformTagName(t),n,i,void 0,void 0,e):r(l=F(e.$options,"components",t))?Ke(l,n,e,i,t):new zo(t,n,i,void 0,void 0,e)}else s=Ke(t,n,e,i);return void 0!==s?(a&&nt(s,a),s):Zo()}function nt(e,t){if(e.ns=t,"foreignObject"!==e.tag&&Array.isArray(e.children))for(var i=0,o=e.children.length;i<o;i++){var s=e.children[i];r(s.tag)&&n(s.ns)&&nt(s,t)}}function rt(e,t){var n,r,i,o,a;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,i=e.length;r<i;r++)n[r]=t(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(s(e))for(o=Object.keys(e),n=new Array(o.length),r=0,i=o.length;r<i;r++)a=o[r],n[r]=t(e[a],a,r);return n}function it(e,t,n,r){var i=this.$scopedSlots[e];if(i)return n=n||{},r&&y(n,r),i(n)||t;var o=this.$slots[e];return o&&(o._rendered&&eo('Duplicate presence of slot "'+e+'" found in the same render tree - this will likely cause render errors.',this),o._rendered=!0),o||t}function ot(e){return F(this.$options,"filters",e,!0)||Xi}function st(e,t,n){var r=Qi.keyCodes[t]||n;return Array.isArray(r)?-1===r.indexOf(e):r!==e}function at(e,t,n,r){if(n)if(s(n)){Array.isArray(n)&&(n=v(n));var i;for(var o in n){if("class"===o||"style"===o)i=e;else{var a=e.attrs&&e.attrs.type;i=r||Qi.mustUseProp(t,a,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}o in i||(i[o]=n[o])}}else eo("v-bind without argument expects an Object or Array value",this);return e}function lt(e,t){var n=this._staticTrees[e];return n&&!t?Array.isArray(n)?q(n):J(n):(n=this._staticTrees[e]=this.$options.staticRenderFns[e].call(this._renderProxy),ct(n,"__static__"+e,!1),n)}function ht(e,t,n){return ct(e,"__once__"+t+(n?"_"+n:""),!0),e}function ct(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&pt(e[r],t+"_"+r,n);else pt(e,t,n)}function pt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function ut(e){e._vnode=null,e._staticTrees=null;var t=e.$vnode=e.$options._parentVnode,n=t&&t.context;e.$slots=fe(e.$options._renderChildren,n),e.$scopedSlots=Ji,e._c=function(t,n,r,i){return et(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return et(e,t,n,r,i,!0)}}function gt(e,t){var n=e.$options=Object.create(e.constructor.options);n.parent=t.parent,n.propsData=t.propsData,n._parentVnode=t._parentVnode,n._parentListeners=t._parentListeners,n._renderChildren=t._renderChildren,n._componentTag=t._componentTag,n._parentElm=t._parentElm,n._refElm=t._refElm,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function dt(e){var t=e.options;if(e.super){var n=dt(e.super);if(n!==e.superOptions){e.superOptions=n;var r=ft(e);r&&y(e.extendOptions,r),t=e.options=W(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function ft(e){var t,n=e.options,r=e.extendOptions,i=e.sealedOptions;for(var o in n)n[o]!==i[o]&&(t||(t={}),t[o]=mt(n[o],r[o],i[o]));return t}function mt(e,t,n){if(Array.isArray(e)){var r=[];n=Array.isArray(n)?n:[n],t=Array.isArray(t)?t:[t];for(var i=0;i<e.length;i++)(t.indexOf(e[i])>=0||n.indexOf(e[i])<0)&&r.push(e[i]);return r}return e}function yt(e){this instanceof yt||eo("Vue is a constructor and should be called with the `new` keyword"),this._init(e)}function vt(e){e.use=function(e){if(!e.installed){var t=m(arguments,1);return t.unshift(this),"function"==typeof e.install?e.install.apply(e,t):"function"==typeof e&&e.apply(null,t),e.installed=!0,this}}}function _t(e){e.mixin=function(e){this.options=W(this.options,e)}}function Et(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var o=e.name||n.options.name;/^[a-zA-Z][\w-]*$/.test(o)||eo('Invalid component name: "'+o+'". Component names can only contain alphanumeric characters and the hyphen, and must start with a letter.');var s=function(e){this._init(e)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=t++,s.options=W(n.options,e),s.super=n,s.options.props&&bt(s),s.options.computed&&Ct(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,Ki.forEach(function(e){s[e]=n[e]}),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=y({},s.options),i[r]=s,s}}function bt(e){var t=e.options.props;for(var n in t)Re(e.prototype,"_props",n)}function Ct(e){var t=e.options.computed;for(var n in t)Ue(e.prototype,n,t[n])}function wt(e){Ki.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&Qi.isReservedTag(e)&&eo("Do not use built-in or reserved HTML elements as component id: "+e),"component"===t&&a(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}function At(e){return e&&(e.Ctor.options.name||e.tag)}function St(e,t){return"string"==typeof e?e.split(",").indexOf(t)>-1:!!l(e)&&e.test(t)}function Tt(e,t,n){for(var r in e){var i=e[r];if(i){var o=At(i.componentOptions);o&&!n(o)&&(i!==t&&It(i),e[r]=null)}}}function It(e){e&&e.componentInstance.$destroy()}function xt(e){for(var t=e.data,n=e,i=e;r(i.componentInstance);)i=i.componentInstance._vnode,i.data&&(t=Mt(i.data,t));for(;r(n=n.parent);)n.data&&(t=Mt(t,n.data));return Dt(t)}function Mt(e,t){return{staticClass:Ot(e.staticClass,t.staticClass),class:r(e.class)?[e.class,t.class]:t.class}}function Dt(e){var t=e.class,n=e.staticClass;return r(n)||r(t)?Ot(n,Nt(t)):""}function Ot(e,t){return e?t?e+" "+t:e:t||""}function Nt(e){if(n(e))return"";if("string"==typeof e)return e;var t="";if(Array.isArray(e)){for(var i,o=0,a=e.length;o<a;o++)r(e[o])&&r(i=Nt(e[o]))&&""!==i&&(t+=i+" ");return t.slice(0,-1)}if(s(e)){for(var l in e)e[l]&&(t+=l+" ");return t.slice(0,-1)}return t}function Rt(e){return Us(e)?"svg":"math"===e?"math":void 0}function Lt(e){if(!ao)return!0;if(Gs(e))return!1;if(e=e.toLowerCase(),null!=js[e])return js[e];var t=document.createElement(e);return e.indexOf("-")>-1?js[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:js[e]=/HTMLUnknownElement/.test(t.toString())}function Pt(e){if("string"==typeof e){var t=document.querySelector(e);return t||(eo("Cannot find element: "+e),document.createElement("div"))}return e}function Ht(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function Bt(e,t){return document.createElementNS(Bs[e],t)}function kt(e){return document.createTextNode(e)}function Ut(e){return document.createComment(e)}function Vt(e,t,n){e.insertBefore(t,n)}function Gt(e,t){e.removeChild(t)}function jt(e,t){e.appendChild(t)}function Wt(e){return e.parentNode}function Ft(e){return e.nextSibling}function zt(e){return e.tagName}function Yt(e,t){e.textContent=t}function Xt(e,t,n){e.setAttribute(t,n)}function Zt(e,t){var n=e.data.ref;if(n){var r=e.context,i=e.componentInstance||e.elm,o=r.$refs;t?Array.isArray(o[n])?u(o[n],i):o[n]===i&&(o[n]=void 0):e.data.refInFor?Array.isArray(o[n])&&o[n].indexOf(i)<0?o[n].push(i):o[n]=[i]:o[n]=i}}function Kt(e,t){return e.key===t.key&&e.tag===t.tag&&e.isComment===t.isComment&&r(e.data)===r(t.data)&&$t(e,t)}function $t(e,t){if("input"!==e.tag)return!0;var n;return(r(n=e.data)&&r(n=n.attrs)&&n.type)===(r(n=t.data)&&r(n=n.attrs)&&n.type)}function Qt(e,t,n){var i,o,s={};for(i=t;i<=n;++i)o=e[i].key,r(o)&&(s[o]=i);return s}function Jt(e,t){(e.data.directives||t.data.directives)&&qt(e,t)}function qt(e,t){var n,r,i,o=e===zs,s=t===zs,a=en(e.data.directives,e.context),l=en(t.data.directives,t.context),h=[],c=[];for(n in l)r=a[n],i=l[n],r?(i.oldValue=r.value,nn(i,"update",t,e),i.def&&i.def.componentUpdated&&c.push(i)):(nn(i,"bind",t,e),i.def&&i.def.inserted&&h.push(i));if(h.length){var p=function(){for(var n=0;n<h.length;n++)nn(h[n],"inserted",t,e)};o?ne(t.data.hook||(t.data.hook={}),"insert",p):p()}if(c.length&&ne(t.data.hook||(t.data.hook={}),"postpatch",function(){for(var n=0;n<c.length;n++)nn(c[n],"componentUpdated",t,e)}),!o)for(n in a)l[n]||nn(a[n],"unbind",e,e,s)}function en(e,t){var n=Object.create(null);if(!e)return n;var r,i;for(r=0;r<e.length;r++)i=e[r],i.modifiers||(i.modifiers=Zs),n[tn(i)]=i,i.def=F(t.$options,"directives",i.name,!0);return n}function tn(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function nn(e,t,n,r,i){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,i)}catch(r){T(r,n.context,"directive "+e.name+" "+t+" hook")}}function rn(e,t){if(!n(e.data.attrs)||!n(t.data.attrs)){var i,o,s=t.elm,a=e.data.attrs||{},l=t.data.attrs||{};r(l.__ob__)&&(l=t.data.attrs=y({},l));for(i in l)o=l[i],a[i]!==o&&on(s,i,o);co&&l.value!==a.value&&on(s,"value",l.value);for(i in a)n(l[i])&&(Ls(i)?s.removeAttributeNS(Rs,Ps(i)):Os(i)||s.removeAttribute(i))}}function on(e,t,n){Ns(t)?Hs(n)?e.removeAttribute(t):e.setAttribute(t,t):Os(t)?e.setAttribute(t,Hs(n)||"false"===n?"false":"true"):Ls(t)?Hs(n)?e.removeAttributeNS(Rs,Ps(t)):e.setAttributeNS(Rs,t,n):Hs(n)?e.removeAttribute(t):e.setAttribute(t,n)}function sn(e,t){var i=t.elm,o=t.data,s=e.data;if(!(n(o.staticClass)&&n(o.class)&&(n(s)||n(s.staticClass)&&n(s.class)))){var a=xt(t),l=i._transitionClasses;r(l)&&(a=Ot(a,Nt(l))),a!==i._prevClass&&(i.setAttribute("class",a),i._prevClass=a)}}function an(e){function t(){(s||(s=[])).push(e.slice(d,i).trim()),d=i+1}var n,r,i,o,s,a=!1,l=!1,h=!1,c=!1,p=0,u=0,g=0,d=0;for(i=0;i<e.length;i++)if(r=n,n=e.charCodeAt(i),a)39===n&&92!==r&&(a=!1);else if(l)34===n&&92!==r&&(l=!1);else if(h)96===n&&92!==r&&(h=!1);else if(c)47===n&&92!==r&&(c=!1);else if(124!==n||124===e.charCodeAt(i+1)||124===e.charCodeAt(i-1)||p||u||g){switch(n){case 34:l=!0;break;case 39:a=!0;break;case 96:h=!0;break;case 40:g++;break;case 41:g--;break;case 91:u++;break;case 93:u--;break;case 123:p++;break;case 125:p--}if(47===n){for(var f=i-1,m=void 0;f>=0&&" "===(m=e.charAt(f));f--);m&&Js.test(m)||(c=!0)}}else void 0===o?(d=i+1,o=e.slice(0,i).trim()):t();if(void 0===o?o=e.slice(0,i).trim():0!==d&&t(),s)for(i=0;i<s.length;i++)o=ln(o,s[i]);return o}function ln(e,t){var n=t.indexOf("(");return n<0?'_f("'+t+'")('+e+")":'_f("'+t.slice(0,n)+'")('+e+","+t.slice(n+1)}function hn(e){console.error("[Vue compiler]: "+e)}function cn(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function pn(e,t,n){(e.props||(e.props=[])).push({name:t,value:n})}function un(e,t,n){(e.attrs||(e.attrs=[])).push({name:t,value:n})}function gn(e,t,n,r,i,o){(e.directives||(e.directives=[])).push({name:t,rawName:n,value:r,arg:i,modifiers:o})}function dn(e,t,n,r,i,o){o&&r&&r.prevent&&r.passive&&o("passive and prevent can't be used together. Passive handler can't prevent default event."),r&&r.capture&&(delete r.capture,t="!"+t),r&&r.once&&(delete r.once,t="~"+t),r&&r.passive&&(delete r.passive,t="&"+t);var s;r&&r.native?(delete r.native,s=e.nativeEvents||(e.nativeEvents={})):s=e.events||(e.events={});var a={value:n,modifiers:r},l=s[t];Array.isArray(l)?i?l.unshift(a):l.push(a):s[t]=l?i?[a,l]:[l,a]:a}function fn(e,t,n){var r=mn(e,":"+t)||mn(e,"v-bind:"+t);if(null!=r)return an(r);if(!1!==n){var i=mn(e,t);if(null!=i)return JSON.stringify(i)}}function mn(e,t){var n;if(null!=(n=e.attrsMap[t]))for(var r=e.attrsList,i=0,o=r.length;i<o;i++)if(r[i].name===t){r.splice(i,1);break}return n}function yn(e,t,n){var r=n||{},i=r.number,o=r.trim,s="$$v";o&&(s="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(s="_n("+s+")");var a=vn(t,s);e.model={value:"("+t+")",expression:'"'+t+'"',callback:"function ($$v) {"+a+"}"}}function vn(e,t){var n=_n(e);return null===n.idx?e+"="+t:"var $$exp = "+n.exp+", $$idx = "+n.idx+";if (!Array.isArray($$exp)){"+e+"="+t+"}else{$$exp.splice($$idx, 1, "+t+")}"}function _n(e){if(Es=e,_s=Es.length,Cs=ws=As=0,e.indexOf("[")<0||e.lastIndexOf("]")<_s-1)return{exp:e,idx:null};for(;!bn();)bs=En(),Cn(bs)?An(bs):91===bs&&wn(bs);return{exp:e.substring(0,ws),idx:e.substring(ws+1,As)}}function En(){return Es.charCodeAt(++Cs)}function bn(){return Cs>=_s}function Cn(e){return 34===e||39===e}function wn(e){var t=1;for(ws=Cs;!bn();)if(e=En(),Cn(e))An(e);else if(91===e&&t++,93===e&&t--,0===t){As=Cs;break}}function An(e){for(var t=e;!bn()&&(e=En())!==t;);}function Sn(e,t,n){Ss=n;var r=t.value,i=t.modifiers,o=e.tag,s=e.attrsMap.type,a=e.attrsMap["v-bind:type"]||e.attrsMap[":type"];if("input"===o&&a&&Ss('<input :type="'+a+'" v-model="'+r+'">:\nv-model does not support dynamic input types. Use v-if branches instead.'),"input"===o&&"file"===s&&Ss("<"+e.tag+' v-model="'+r+'" type="file">:\nFile inputs are read only. Use a v-on:change listener instead.'),"select"===o)xn(e,r,i);else if("input"===o&&"checkbox"===s)Tn(e,r,i);else if("input"===o&&"radio"===s)In(e,r,i);else if("input"===o||"textarea"===o)Mn(e,r,i);else{if(!Qi.isReservedTag(o))return yn(e,r,i),!1;Ss("<"+e.tag+' v-model="'+r+"\">: v-model is not supported on this element type. If you are working with contenteditable, it's recommended to wrap a library dedicated for that purpose inside a custom component.")}return!0}function Tn(e,t,n){var r=n&&n.number,i=fn(e,"value")||"null",o=fn(e,"true-value")||"true",s=fn(e,"false-value")||"false";pn(e,"checked","Array.isArray("+t+")?_i("+t+","+i+")>-1"+("true"===o?":("+t+")":":_q("+t+","+o+")")),dn(e,ea,"var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+s+");if(Array.isArray($$a)){var $$v="+(r?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$c){$$i<0&&("+t+"=$$a.concat($$v))}else{$$i>-1&&("+t+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+vn(t,"$$c")+"}",null,!0)}function In(e,t,n){var r=n&&n.number,i=fn(e,"value")||"null";i=r?"_n("+i+")":i,pn(e,"checked","_q("+t+","+i+")"),dn(e,ea,vn(t,i),null,!0)}function xn(e,t,n){var r=n&&n.number,i='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(r?"_n(val)":"val")+"})",o="var $$selectedVal = "+i+";";o=o+" "+vn(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),dn(e,"change",o,null,!0)}function Mn(e,t,n){var r=e.attrsMap.type,i=n||{},o=i.lazy,s=i.number,a=i.trim,l=!o&&"range"!==r,h=o?"change":"range"===r?qs:"input",c="$event.target.value";a&&(c="$event.target.value.trim()"),s&&(c="_n("+c+")");var p=vn(t,c);l&&(p="if($event.target.composing)return;"+p),pn(e,"value","("+t+")"),dn(e,h,p,null,!0),(a||s||"number"===r)&&dn(e,"blur","$forceUpdate()")}function Dn(e){var t;r(e[qs])&&(t=ho?"change":"input",e[t]=[].concat(e[qs],e[t]||[]),delete e[qs]),r(e[ea])&&(t=fo?"click":"change",e[t]=[].concat(e[ea],e[t]||[]),delete e[ea])}function On(e,t,n,r,i){if(n){var o=t,s=Ts;t=function(n){null!==(1===arguments.length?o(n):o.apply(null,arguments))&&Nn(e,t,r,s)}}Ts.addEventListener(e,t,mo?{capture:r,passive:i}:r)}function Nn(e,t,n,r){(r||Ts).removeEventListener(e,t,n)}function Rn(e,t){if(!n(e.data.on)||!n(t.data.on)){var r=t.data.on||{},i=e.data.on||{};Ts=t.elm,Dn(r),te(r,i,On,Nn,t.context)}}function Ln(e,t){if(!n(e.data.domProps)||!n(t.data.domProps)){var i,o,s=t.elm,a=e.data.domProps||{},l=t.data.domProps||{};r(l.__ob__)&&(l=t.data.domProps=y({},l));for(i in a)n(l[i])&&(s[i]="");for(i in l)if(o=l[i],"textContent"!==i&&"innerHTML"!==i||(t.children&&(t.children.length=0),o!==a[i]))if("value"===i){s._value=o;var h=null==o?"":String(o);Pn(s,t,h)&&(s.value=h)}else s[i]=o}}function Pn(e,t,n){return!e.composing&&("option"===t.tag||Hn(e,n)||Bn(e,n))}function Hn(e,t){return document.activeElement!==e&&e.value!==t}function Bn(e,t){var n=e.value,i=e._vModifiers;return r(i)&&i.number||"number"===e.type?c(n)!==c(t):r(i)&&i.trim?n.trim()!==t.trim():n!==t}function kn(e){var t=Un(e.style);return e.staticStyle?y(e.staticStyle,t):t}function Un(e){return Array.isArray(e)?v(e):"string"==typeof e?ra(e):e}function Vn(e,t){var n,r={};if(t)for(var i=e;i.componentInstance;)i=i.componentInstance._vnode,i.data&&(n=kn(i.data))&&y(r,n);(n=kn(e.data))&&y(r,n);for(var o=e;o=o.parent;)o.data&&(n=kn(o.data))&&y(r,n);return r}function Gn(e,t){var i=t.data,o=e.data;if(!(n(i.staticStyle)&&n(i.style)&&n(o.staticStyle)&&n(o.style))){var s,a,l=t.elm,h=o.staticStyle,c=o.normalizedStyle||o.style||{},p=h||c,u=Un(t.data.style)||{};t.data.normalizedStyle=r(u.__ob__)?y({},u):u;var g=Vn(t,!0);for(a in p)n(g[a])&&sa(l,a,"");for(a in g)(s=g[a])!==p[a]&&sa(l,a,null==s?"":s)}}function jn(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Wn(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t);else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");e.setAttribute("class",n.trim())}}function Fn(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&y(t,ca(e.name||"v")),y(t,e),t}return"string"==typeof e?ca(e):void 0}}function zn(e){va(function(){va(e)})}function Yn(e,t){(e._transitionClasses||(e._transitionClasses=[])).push(t),jn(e,t)}function Xn(e,t){e._transitionClasses&&u(e._transitionClasses,t),Wn(e,t)}function Zn(e,t,n){var r=Kn(e,t),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===ua?fa:ya,l=0,h=function(){e.removeEventListener(a,c),n()},c=function(t){t.target===e&&++l>=s&&h()};setTimeout(function(){l<s&&h()},o+1),e.addEventListener(a,c)}function Kn(e,t){var n,r=window.getComputedStyle(e),i=r[da+"Delay"].split(", "),o=r[da+"Duration"].split(", "),s=$n(i,o),a=r[ma+"Delay"].split(", "),l=r[ma+"Duration"].split(", "),h=$n(a,l),c=0,p=0;return t===ua?s>0&&(n=ua,c=s,p=o.length):t===ga?h>0&&(n=ga,c=h,p=l.length):(c=Math.max(s,h),n=c>0?s>h?ua:ga:null,p=n?n===ua?o.length:l.length:0),{type:n,timeout:c,propCount:p,hasTransform:n===ua&&_a.test(r[da+"Property"])}}function $n(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return Qn(t)+Qn(e[n])}))}function Qn(e){return 1e3*Number(e.slice(0,-1))}function Jn(e,t){var i=e.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var o=Fn(e.data.transition);if(!n(o)&&!r(i._enterCb)&&1===i.nodeType){for(var a=o,l=a.css,h=a.type,p=a.enterClass,u=a.enterToClass,g=a.enterActiveClass,d=a.appearClass,f=a.appearToClass,m=a.appearActiveClass,y=a.beforeEnter,v=a.enter,_=a.afterEnter,E=a.enterCancelled,b=a.beforeAppear,w=a.appear,A=a.afterAppear,S=a.appearCancelled,T=a.duration,I=$o,x=$o.$vnode;x&&x.parent;)x=x.parent,I=x.context;var M=!I._isMounted||!e.isRootInsert;if(!M||w||""===w){var D=M&&d?d:p,O=M&&m?m:g,N=M&&f?f:u,R=M?b||y:y,L=M&&"function"==typeof w?w:v,P=M?A||_:_,H=M?S||E:E,B=c(s(T)?T.enter:T);null!=B&&er(B,"enter",e);var k=!1!==l&&!co,U=nr(L),V=i._enterCb=C(function(){k&&(Xn(i,N),Xn(i,O)),V.cancelled?(k&&Xn(i,D),H&&H(i)):P&&P(i),i._enterCb=null});e.data.show||ne(e.data.hook||(e.data.hook={}),"insert",function(){var t=i.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),L&&L(i,V)}),R&&R(i),k&&(Yn(i,D),Yn(i,O),zn(function(){Yn(i,N),Xn(i,D),V.cancelled||U||(tr(B)?setTimeout(V,B):Zn(i,h,V))})),e.data.show&&(t&&t(),L&&L(i,V)),k||U||V()}}}function qn(e,t){function i(){S.cancelled||(e.data.show||((o.parentNode._pending||(o.parentNode._pending={}))[e.key]=e),f&&f(o),b&&(Yn(o,u),Yn(o,d),zn(function(){Yn(o,g),Xn(o,u),S.cancelled||w||(tr(A)?setTimeout(S,A):Zn(o,p,S))})),m&&m(o,S),b||w||S())}var o=e.elm;r(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var a=Fn(e.data.transition);if(n(a))return t();if(!r(o._leaveCb)&&1===o.nodeType){var l=a,h=l.css,p=l.type,u=l.leaveClass,g=l.leaveToClass,d=l.leaveActiveClass,f=l.beforeLeave,m=l.leave,y=l.afterLeave,v=l.leaveCancelled,_=l.delayLeave,E=l.duration,b=!1!==h&&!co,w=nr(m),A=c(s(E)?E.leave:E);null!=A&&er(A,"leave",e);var S=o._leaveCb=C(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[e.key]=null),b&&(Xn(o,g),Xn(o,d)),S.cancelled?(b&&Xn(o,u),v&&v(o)):(t(),y&&y(o)),o._leaveCb=null});_?_(i):i()}}function er(e,t,n){"number"!=typeof e?eo("<transition> explicit "+t+" duration is not a valid number - got "+JSON.stringify(e)+".",n.context):isNaN(e)&&eo("<transition> explicit "+t+" duration is NaN - the duration expression might be incorrect.",n.context)}function tr(e){return"number"==typeof e&&!isNaN(e)}function nr(e){if(n(e))return!1;var t=e.fns;return r(t)?nr(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function rr(e,t){!0!==t.data.show&&Jn(t)}function ir(e,t,n){var r=t.value,i=e.multiple;if(i&&!Array.isArray(r))return void eo('<select multiple v-model="'+t.expression+'"> expects an Array value for its binding, but got '+Object.prototype.toString.call(r).slice(8,-1),n);for(var o,s,a=0,l=e.options.length;a<l;a++)if(s=e.options[a],i)o=b(r,sr(s))>-1,s.selected!==o&&(s.selected=o);else if(E(sr(s),r))return void(e.selectedIndex!==a&&(e.selectedIndex=a));i||(e.selectedIndex=-1)}function or(e,t){for(var n=0,r=t.length;n<r;n++)if(E(sr(t[n]),e))return!1;return!0}function sr(e){return"_value"in e?e._value:e.value}function ar(e){e.target.composing=!0}function lr(e){e.target.composing=!1,hr(e.target,"input")}function hr(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function cr(e){return!e.componentInstance||e.data&&e.data.transition?e:cr(e.componentInstance._vnode)}function pr(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?pr(ce(t.children)):e}function ur(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var o in i)t[Wi(o)]=i[o];return t}function gr(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function dr(e){for(;e=e.parent;)if(e.data.transition)return!0}function fr(e,t){return t.key===e.key&&t.tag===e.tag}function mr(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function yr(e){e.data.newPos=e.elm.getBoundingClientRect()}function vr(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}function _r(e){return Na=Na||document.createElement("div"),Na.innerHTML=e,Na.textContent}function Er(e,t){var n=t?fl:dl;return e.replace(n,function(e){return gl[e]})}function br(e,t){function n(t){c+=t,e=e.substring(t)}function r(e,n,r){var i,a;if(null==n&&(n=c),null==r&&(r=c),e&&(a=e.toLowerCase()),e)for(i=s.length-1;i>=0&&s[i].lowerCasedTag!==a;i--);else i=0;if(i>=0){for(var l=s.length-1;l>=i;l--)(l>i||!e)&&t.warn&&t.warn("tag <"+s[l].tag+"> has no matching end tag."),t.end&&t.end(s[l].tag,n,r);s.length=i,o=i&&s[i-1].tag}else"br"===a?t.start&&t.start(e,[],!0,n,r):"p"===a&&(t.start&&t.start(e,[],!1,n,r),t.end&&t.end(e,n,r))}for(var i,o,s=[],a=t.expectHTML,l=t.isUnaryTag||Yi,h=t.canBeLeftOpenTag||Yi,c=0;e;){if(i=e,o&&pl(o)){var p=o.toLowerCase(),u=ul[p]||(ul[p]=new RegExp("([\\s\\S]*?)(</"+p+"[^>]*>)","i")),g=0,d=e.replace(u,function(e,n,r){return g=r.length,pl(p)||"noscript"===p||(n=n.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),t.chars&&t.chars(n),""});c+=e.length-d.length,e=d,r(p,c-g,c)}else{var f=e.indexOf("<");if(0===f){if(Fa.test(e)){var m=e.indexOf("--\x3e");if(m>=0){n(m+3);continue}}if(za.test(e)){var y=e.indexOf("]>");if(y>=0){n(y+2);continue}}var v=e.match(Wa);if(v){n(v[0].length);continue}var _=e.match(ja);if(_){var E=c;n(_[0].length),r(_[1],E,c);continue}var b=function(){var t=e.match(Va);if(t){var r={tagName:t[1],attrs:[],start:c};n(t[0].length);for(var i,o;!(i=e.match(Ga))&&(o=e.match(ka));)n(o[0].length),r.attrs.push(o);if(i)return r.unarySlash=i[1],n(i[0].length),r.end=c,r}}();if(b){!function(e){var n=e.tagName,i=e.unarySlash;a&&("p"===o&&Ha(n)&&r(o),h(n)&&o===n&&r(n));for(var c=l(n)||"html"===n&&"head"===o||!!i,p=e.attrs.length,u=new Array(p),g=0;g<p;g++){var d=e.attrs[g];Ya&&-1===d[0].indexOf('""')&&(""===d[3]&&delete d[3],""===d[4]&&delete d[4],""===d[5]&&delete d[5]);var f=d[3]||d[4]||d[5]||"";u[g]={name:d[1],value:Er(f,t.shouldDecodeNewlines)}}c||(s.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:u}),o=n),t.start&&t.start(n,u,c,e.start,e.end)}(b);continue}}var C=void 0,w=void 0,A=void 0;if(f>=0){for(w=e.slice(f);!(ja.test(w)||Va.test(w)||Fa.test(w)||za.test(w)||(A=w.indexOf("<",1))<0);)f+=A,w=e.slice(f);C=e.substring(0,f),n(f)}f<0&&(C=e,e=""),t.chars&&C&&t.chars(C)}if(e===i){t.chars&&t.chars(e),!s.length&&t.warn&&t.warn('Mal-formatted tag at end of template: "'+e+'"');break}}r()}function Cr(e,t){var n=t?yl(t):ml;if(n.test(e)){for(var r,i,o=[],s=n.lastIndex=0;r=n.exec(e);){i=r.index,i>s&&o.push(JSON.stringify(e.slice(s,i)));var a=an(r[1].trim());o.push("_s("+a+")"),s=i+r[0].length}return s<e.length&&o.push(JSON.stringify(e.slice(s))),o.join("+")}}function wr(e,t){function n(e){c||(c=!0,Xa(e))}function r(e){e.pre&&(l=!1),Ja(e.tag)&&(h=!1)}Xa=t.warn||hn,el=t.getTagNamespace||Yi,qa=t.mustUseProp||Yi,Ja=t.isPreTag||Yi,$a=cn(t.modules,"preTransformNode"),Ka=cn(t.modules,"transformNode"),Qa=cn(t.modules,"postTransformNode"),Za=t.delimiters;var i,o,s=[],a=!1!==t.preserveWhitespace,l=!1,h=!1,c=!1;return br(e,{warn:Xa,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,start:function(e,a,c){function p(e){"slot"!==e.tag&&"template"!==e.tag||n("Cannot use <"+e.tag+"> as component root element because it may contain multiple nodes."),e.attrsMap.hasOwnProperty("v-for")&&n("Cannot use v-for on stateful component root element because it renders multiple elements.")}var u=o&&o.ns||el(e);ho&&"svg"===u&&(a=jr(a));var g={type:1,tag:e,attrsList:a,attrsMap:Ur(a),parent:o,children:[]};u&&(g.ns=u),Gr(g)&&!Eo()&&(g.forbidden=!0,Xa("Templates should only be responsible for mapping the state to the UI. Avoid placing tags with side-effects in your templates, such as <"+e+">, as they will not be parsed."));for(var d=0;d<$a.length;d++)$a[d](g,t);if(l||(Ar(g),g.pre&&(l=!0)),Ja(g.tag)&&(h=!0),l)Sr(g);else{xr(g),Mr(g),Rr(g),Tr(g),g.plain=!g.key&&!a.length,Ir(g),Lr(g),Pr(g);for(var f=0;f<Ka.length;f++)Ka[f](g,t);Hr(g)}if(i?s.length||(i.if&&(g.elseif||g.else)?(p(g),Nr(i,{exp:g.elseif,block:g})):n("Component template should contain exactly one root element. If you are using v-if on multiple elements, use v-else-if to chain them instead.")):(i=g,p(i)),o&&!g.forbidden)if(g.elseif||g.else)Dr(g,o);else if(g.slotScope){o.plain=!1;var m=g.slotTarget||'"default"';(o.scopedSlots||(o.scopedSlots={}))[m]=g}else o.children.push(g),g.parent=o;c?r(g):(o=g,s.push(g));for(var y=0;y<Qa.length;y++)Qa[y](g,t)},end:function(){var e=s[s.length-1],t=e.children[e.children.length-1];t&&3===t.type&&" "===t.text&&!h&&e.children.pop(),s.length-=1,o=s[s.length-1],r(e)},chars:function(t){if(!o)return void(t===e?n("Component template requires a root element, rather than just text."):(t=t.trim())&&n('text "'+t+'" outside root element will be ignored.'));if(!ho||"textarea"!==o.tag||o.attrsMap.placeholder!==t){var r=o.children;if(t=h||t.trim()?Vr(o)?t:Sl(t):a&&r.length?" ":""){var i;!l&&" "!==t&&(i=Cr(t,Za))?r.push({type:2,expression:i,text:t}):" "===t&&r.length&&" "===r[r.length-1].text||r.push({type:3,text:t})}}}}),i}function Ar(e){null!=mn(e,"v-pre")&&(e.pre=!0)}function Sr(e){var t=e.attrsList.length;if(t)for(var n=e.attrs=new Array(t),r=0;r<t;r++)n[r]={name:e.attrsList[r].name,value:JSON.stringify(e.attrsList[r].value)};else e.pre||(e.plain=!0)}function Tr(e){var t=fn(e,"key");t&&("template"===e.tag&&Xa("<template> cannot be keyed. Place the key on real elements instead."),e.key=t)}function Ir(e){var t=fn(e,"ref");t&&(e.ref=t,e.refInFor=Br(e))}function xr(e){var t;if(t=mn(e,"v-for")){var n=t.match(El);if(!n)return void Xa("Invalid v-for expression: "+t);e.for=n[2].trim();var r=n[1].trim(),i=r.match(bl);i?(e.alias=i[1].trim(),e.iterator1=i[2].trim(),i[3]&&(e.iterator2=i[3].trim())):e.alias=r}}function Mr(e){var t=mn(e,"v-if");if(t)e.if=t,Nr(e,{exp:t,block:e});else{null!=mn(e,"v-else")&&(e.else=!0);var n=mn(e,"v-else-if");n&&(e.elseif=n)}}function Dr(e,t){var n=Or(t.children);n&&n.if?Nr(n,{exp:e.elseif,block:e}):Xa("v-"+(e.elseif?'else-if="'+e.elseif+'"':"else")+" used on element <"+e.tag+"> without corresponding v-if.")}function Or(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];" "!==e[t].text&&Xa('text "'+e[t].text.trim()+'" between v-if and v-else(-if) will be ignored.'),e.pop()}}function Nr(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function Rr(e){null!=mn(e,"v-once")&&(e.once=!0)}function Lr(e){if("slot"===e.tag)e.slotName=fn(e,"name"),e.key&&Xa("`key` does not work on <slot> because slots are abstract outlets and can possibly expand into multiple elements. Use the key on a wrapping element instead.");else{var t=fn(e,"slot");t&&(e.slotTarget='""'===t?'"default"':t),"template"===e.tag&&(e.slotScope=mn(e,"scope"))}}function Pr(e){var t;(t=fn(e,"is"))&&(e.component=t),null!=mn(e,"inline-template")&&(e.inlineTemplate=!0)}function Hr(e){var t,n,r,i,o,s,a,l=e.attrsList;for(t=0,n=l.length;t<n;t++)if(r=i=l[t].name,o=l[t].value,_l.test(r))if(e.hasBindings=!0,s=kr(r),s&&(r=r.replace(Al,"")),wl.test(r))r=r.replace(wl,""),o=an(o),a=!1,s&&(s.prop&&(a=!0,"innerHtml"===(r=Wi(r))&&(r="innerHTML")),s.camel&&(r=Wi(r)),s.sync&&dn(e,"update:"+Wi(r),vn(o,"$event"))),a||qa(e.tag,e.attrsMap.type,r)?pn(e,r,o):un(e,r,o);else if(vl.test(r))r=r.replace(vl,""),dn(e,r,o,s,!1,Xa);else{r=r.replace(_l,"");var h=r.match(Cl),c=h&&h[1];c&&(r=r.slice(0,-(c.length+1))),gn(e,r,i,o,c,s),"model"===r&&Wr(e,o)}else{var p=Cr(o,Za);p&&Xa(r+'="'+o+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div id="{{ val }}">, use <div :id="val">.'),un(e,r,JSON.stringify(o))}}function Br(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}function kr(e){var t=e.match(Al);if(t){var n={};return t.forEach(function(e){n[e.slice(1)]=!0}),n}}function Ur(e){for(var t={},n=0,r=e.length;n<r;n++)!t[e[n].name]||ho||po||Xa("duplicate attribute: "+e[n].name),t[e[n].name]=e[n].value;return t}function Vr(e){return"script"===e.tag||"style"===e.tag}function Gr(e){return"style"===e.tag||"script"===e.tag&&(!e.attrsMap.type||"text/javascript"===e.attrsMap.type)}function jr(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];Tl.test(r.name)||(r.name=r.name.replace(Il,""),t.push(r))}return t}function Wr(e,t){for(var n=e;n;)n.for&&n.alias===t&&Xa("<"+e.tag+' v-model="'+t+'">: You are binding v-model directly to a v-for iteration alias. This will not be able to modify the v-for source array because writing to the alias is like modifying a function local variable. Consider using an array of objects and use v-model on an object property instead.'),n=n.parent}function Fr(e,t){e&&(tl=xl(t.staticKeys||""),nl=t.isReservedTag||Yi,Yr(e),Xr(e,!1))}function zr(e){return p("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(e?","+e:""))}function Yr(e){if(e.static=Kr(e),1===e.type){if(!nl(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var t=0,n=e.children.length;t<n;t++){var r=e.children[t];Yr(r),r.static||(e.static=!1)}}}function Xr(e,t){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=t),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var n=0,r=e.children.length;n<r;n++)Xr(e.children[n],t||!!e.for);e.ifConditions&&Zr(e.ifConditions,t)}}function Zr(e,t){for(var n=1,r=e.length;n<r;n++)Xr(e[n].block,t)}function Kr(e){return 2!==e.type&&(3===e.type||!(!e.pre&&(e.hasBindings||e.if||e.for||Gi(e.tag)||!nl(e.tag)||$r(e)||!Object.keys(e).every(tl))))}function $r(e){for(;e.parent;){if(e=e.parent,"template"!==e.tag)return!1;if(e.for)return!0}return!1}function Qr(e,t,n){var r=t?"nativeOn:{":"on:{";for(var i in e){var o=e[i];"click"===i&&o&&o.modifiers&&o.modifiers.right&&n('Use "contextmenu" instead of "click.right" since right clicks do not actually fire "click" events.'),r+='"'+i+'":'+Jr(i,o)+","}return r.slice(0,-1)+"}"}function Jr(e,t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(t){return Jr(e,t)}).join(",")+"]";var n=Dl.test(t.value),r=Ml.test(t.value);if(t.modifiers){var i="",o="",s=[];for(var a in t.modifiers)Rl[a]?(o+=Rl[a],Ol[a]&&s.push(a)):s.push(a);s.length&&(i+=qr(s)),o&&(i+=o);return"function($event){"+i+(n?t.value+"($event)":r?"("+t.value+")($event)":t.value)+"}"}return n||r?t.value:"function($event){"+t.value+"}"}function qr(e){return"if(!('button' in $event)&&"+e.map(ei).join("&&")+")return null;"}function ei(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=Ol[e];return"_k($event.keyCode,"+JSON.stringify(e)+(n?","+JSON.stringify(n):"")+")"}function ti(e,t){e.wrapData=function(n){return"_b("+n+",'"+e.tag+"',"+t.value+(t.modifiers&&t.modifiers.prop?",true":"")+")"}}function ni(e,t){var n=ll,r=ll=[],i=hl;hl=0,cl=t,rl=t.warn||hn,il=cn(t.modules,"transformCode"),ol=cn(t.modules,"genData"),sl=t.directives||{},al=t.isReservedTag||Yi;var o=e?ri(e):'_c("div")';return ll=n,hl=i,{render:"with(this){return "+o+"}",staticRenderFns:r}}function ri(e){if(e.staticRoot&&!e.staticProcessed)return ii(e);if(e.once&&!e.onceProcessed)return oi(e);if(e.for&&!e.forProcessed)return li(e);if(e.if&&!e.ifProcessed)return si(e);if("template"!==e.tag||e.slotTarget){if("slot"===e.tag)return Ei(e);var t;if(e.component)t=bi(e.component,e);else{var n=e.plain?void 0:hi(e),r=e.inlineTemplate?null:di(e,!0);t="_c('"+e.tag+"'"+(n?","+n:"")+(r?","+r:"")+")"}for(var i=0;i<il.length;i++)t=il[i](e,t);return t}return di(e)||"void 0"}function ii(e){return e.staticProcessed=!0,ll.push("with(this){return "+ri(e)+"}"),"_m("+(ll.length-1)+(e.staticInFor?",true":"")+")"}function oi(e){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return si(e);if(e.staticInFor){for(var t="",n=e.parent;n;){if(n.for){t=n.key;break}n=n.parent}return t?"_o("+ri(e)+","+hl+++(t?","+t:"")+")":(rl("v-once can only be used inside v-for that is keyed. "),ri(e))}return ii(e)}function si(e){return e.ifProcessed=!0,ai(e.ifConditions.slice())}function ai(e){function t(e){return e.once?oi(e):ri(e)}if(!e.length)return"_e()";var n=e.shift();return n.exp?"("+n.exp+")?"+t(n.block)+":"+ai(e):""+t(n.block)}function li(e){var t=e.for,n=e.alias,r=e.iterator1?","+e.iterator1:"",i=e.iterator2?","+e.iterator2:"";return yi(e)&&"slot"!==e.tag&&"template"!==e.tag&&!e.key&&rl("<"+e.tag+' v-for="'+n+" in "+t+'">: component lists rendered with v-for should have explicit keys. See https://vuejs.org/guide/list.html#key for more info.',!0),e.forProcessed=!0,"_l(("+t+"),function("+n+r+i+"){return "+ri(e)+"})"}function hi(e){var t="{",n=ci(e);n&&(t+=n+","),e.key&&(t+="key:"+e.key+","),e.ref&&(t+="ref:"+e.ref+","),e.refInFor&&(t+="refInFor:true,"),e.pre&&(t+="pre:true,"),e.component&&(t+='tag:"'+e.tag+'",');for(var r=0;r<ol.length;r++)t+=ol[r](e);if(e.attrs&&(t+="attrs:{"+Ci(e.attrs)+"},"),e.props&&(t+="domProps:{"+Ci(e.props)+"},"),e.events&&(t+=Qr(e.events,!1,rl)+","),e.nativeEvents&&(t+=Qr(e.nativeEvents,!0,rl)+","),e.slotTarget&&(t+="slot:"+e.slotTarget+","),e.scopedSlots&&(t+=ui(e.scopedSlots)+","),e.model&&(t+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var i=pi(e);i&&(t+=i+",")}return t=t.replace(/,$/,"")+"}",e.wrapData&&(t=e.wrapData(t)),t}function ci(e){var t=e.directives;if(t){var n,r,i,o,s="directives:[",a=!1;for(n=0,r=t.length;n<r;n++){i=t[n],o=!0;var l=sl[i.name]||Ll[i.name];l&&(o=!!l(e,i,rl)),o&&(a=!0,s+='{name:"'+i.name+'",rawName:"'+i.rawName+'"'+(i.value?",value:("+i.value+"),expression:"+JSON.stringify(i.value):"")+(i.arg?',arg:"'+i.arg+'"':"")+(i.modifiers?",modifiers:"+JSON.stringify(i.modifiers):"")+"},")}return a?s.slice(0,-1)+"]":void 0}}function pi(e){var t=e.children[0];if((e.children.length>1||1!==t.type)&&rl("Inline-template components must have exactly one child element."),1===t.type){var n=ni(t,cl);return"inlineTemplate:{render:function(){"+n.render+"},staticRenderFns:["+n.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}function ui(e){return"scopedSlots:_u(["+Object.keys(e).map(function(t){return gi(t,e[t])}).join(",")+"])"}function gi(e,t){return"["+e+",function("+String(t.attrsMap.scope)+"){return "+("template"===t.tag?di(t)||"void 0":ri(t))+"}]"}function di(e,t){var n=e.children;if(n.length){var r=n[0];if(1===n.length&&r.for&&"template"!==r.tag&&"slot"!==r.tag)return ri(r);var i=t?fi(n):0;return"["+n.map(vi).join(",")+"]"+(i?","+i:"")}}function fi(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];if(1===r.type){if(mi(r)||r.ifConditions&&r.ifConditions.some(function(e){return mi(e.block)})){t=2;break}(yi(r)||r.ifConditions&&r.ifConditions.some(function(e){return yi(e.block)}))&&(t=1)}}return t}function mi(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function yi(e){return!al(e.tag)}function vi(e){return 1===e.type?ri(e):_i(e)}function _i(e){return"_v("+(2===e.type?e.expression:wi(JSON.stringify(e.text)))+")"}function Ei(e){var t=e.slotName||'"default"',n=di(e),r="_t("+t+(n?","+n:""),i=e.attrs&&"{"+e.attrs.map(function(e){return Wi(e.name)+":"+e.value}).join(",")+"}",o=e.attrsMap["v-bind"];return!i&&!o||n||(r+=",null"),i&&(r+=","+i),o&&(r+=(i?"":",null")+","+o),r+")"}function bi(e,t){var n=t.inlineTemplate?null:di(t,!0);return"_c("+e+","+hi(t)+(n?","+n:"")+")"}function Ci(e){for(var t="",n=0;n<e.length;n++){var r=e[n];t+='"'+r.name+'":'+wi(r.value)+","}return t.slice(0,-1)}function wi(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Ai(e){var t=[];return e&&Si(e,t),t}function Si(e,t){if(1===e.type){for(var n in e.attrsMap)if(_l.test(n)){var r=e.attrsMap[n];r&&("v-for"===n?Ii(e,'v-for="'+r+'"',t):vl.test(n)?Ti(r,n+'="'+r+'"',t):Mi(r,n+'="'+r+'"',t))}if(e.children)for(var i=0;i<e.children.length;i++)Si(e.children[i],t)}else 2===e.type&&Mi(e.expression,e.text,t)}function Ti(e,t,n){var r=e.replace(kl,""),i=r.match(Hl);i&&"$"!==r.charAt(i.index-1)&&n.push('avoid using JavaScript unary operator as property name: "'+i[0]+'" in expression '+t.trim()),Mi(e,t,n)}function Ii(e,t,n){Mi(e.for||"",t,n),xi(e.alias,"v-for alias",t,n),xi(e.iterator1,"v-for iterator",t,n),xi(e.iterator2,"v-for iterator",t,n)}function xi(e,t,n,r){"string"!=typeof e||Bl.test(e)||r.push("invalid "+t+' "'+e+'" in expression: '+n.trim())}function Mi(e,t,n){try{new Function("return "+e)}catch(i){var r=e.replace(kl,"").match(Pl);r?n.push('avoid using JavaScript keyword as property name: "'+r[0]+'" in expression '+t.trim()):n.push("invalid expression: "+t.trim())}}function Di(e,t){var n=wr(e.trim(),t);Fr(n,t);var r=ni(n,t);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}}function Oi(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),_}}function Ni(e,t){var n=t.warn||hn,r=mn(e,"class");if(r){Cr(r,t.delimiters)&&n('class="'+r+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div class="{{ val }}">, use <div :class="val">.')}r&&(e.staticClass=JSON.stringify(r));var i=fn(e,"class",!1);i&&(e.classBinding=i)}function Ri(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}function Li(e,t){var n=t.warn||hn,r=mn(e,"style");if(r){Cr(r,t.delimiters)&&n('style="'+r+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div style="{{ val }}">, use <div :style="val">.'),e.staticStyle=JSON.stringify(ra(r))}var i=fn(e,"style",!1);i&&(e.styleBinding=i)}function Pi(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}function Hi(e,t){t.value&&pn(e,"textContent","_s("+t.value+")")}function Bi(e,t){t.value&&pn(e,"innerHTML","_s("+t.value+")")}function ki(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}var Ui,Vi=Object.prototype.toString,Gi=p("slot,component",!0),ji=Object.prototype.hasOwnProperty,Wi=d(function(e){return e.replace(/-(\w)/g,function(e,t){return t?t.toUpperCase():""})}),Fi=d(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),zi=d(function(e){return e.replace(/([^-])([A-Z])/g,"$1-$2").replace(/([^-])([A-Z])/g,"$1-$2").toLowerCase()}),Yi=function(){return!1},Xi=function(e){return e},Zi="data-server-rendered",Ki=["component","directive","filter"],$i=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],Qi={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!0,devtools:!0,performance:!1,errorHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Yi,isReservedAttr:Yi,isUnknownElement:Yi,getTagNamespace:_,parsePlatformTagName:Xi,mustUseProp:Yi,_lifecycleHooks:$i},Ji=Object.freeze({}),qi=/[^\w.$]/,eo=_,to=_,no="undefined"!=typeof console,ro=function(e){return e.replace(/(?:^|[-_])(\w)/g,function(e){return e.toUpperCase()}).replace(/[-_]/g,"")};eo=function(e,t){no&&!Qi.silent&&console.error("[Vue warn]: "+e+(t?oo(t):""))},to=function(e,t){no&&!Qi.silent&&console.warn("[Vue tip]: "+e+(t?oo(t):""))},Ui=function(e,t){if(e.$root===e)return"<Root>";var n="string"==typeof e?e:"function"==typeof e&&e.options?e.options.name:e._isVue?e.$options.name||e.$options._componentTag:e.name,r=e._isVue&&e.$options.__file;if(!n&&r){var i=r.match(/([^\/\\]+)\.vue$/);n=i&&i[1]}return(n?"<"+ro(n)+">":"<Anonymous>")+(r&&!1!==t?" at "+r:"")};var io=function(e,t){for(var n="";t;)t%2==1&&(n+=e),t>1&&(e+=e),t>>=1;return n},oo=function(e){if(e._isVue&&e.$parent){for(var t=[],n=0;e;){if(t.length>0){var r=t[t.length-1];if(r.constructor===e.constructor){n++,e=e.$parent;continue}n>0&&(t[t.length-1]=[r,n],n=0)}t.push(e),e=e.$parent}return"\n\nfound in\n\n"+t.map(function(e,t){return""+(0===t?"---\x3e ":io(" ",5+2*t))+(Array.isArray(e)?Ui(e[0])+"... ("+e[1]+" recursive calls)":Ui(e))}).join("\n")}return"\n\n(found in "+Ui(e)+")"},so="__proto__"in{},ao="undefined"!=typeof window,lo=ao&&window.navigator.userAgent.toLowerCase(),ho=lo&&/msie|trident/.test(lo),co=lo&&lo.indexOf("msie 9.0")>0,po=lo&&lo.indexOf("edge/")>0,uo=lo&&lo.indexOf("android")>0,go=lo&&/iphone|ipad|ipod|ios/.test(lo),fo=lo&&/chrome\/\d+/.test(lo)&&!po,mo=!1;if(ao)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){mo=!0}}),window.addEventListener("test-passive",null,yo)}catch(e){}var vo,_o,Eo=function(){return void 0===vo&&(vo=!ao&&void 0!==t&&"server"===t.process.env.VUE_ENV),vo},bo=ao&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Co="undefined"!=typeof Symbol&&I(Symbol)&&"undefined"!=typeof Reflect&&I(Reflect.ownKeys),wo=function(){function e(){r=!1;var e=n.slice(0);n.length=0;for(var t=0;t<e.length;t++)e[t]()}var t,n=[],r=!1;if("undefined"!=typeof Promise&&I(Promise)){var i=Promise.resolve(),o=function(e){console.error(e)};t=function(){i.then(e).catch(o),go&&setTimeout(_)}}else if("undefined"==typeof MutationObserver||!I(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())t=function(){setTimeout(e,0)};else{var s=1,a=new MutationObserver(e),l=document.createTextNode(String(s));a.observe(l,{characterData:!0}),t=function(){s=(s+1)%2,l.data=String(s)}}return function(e,i){var o;if(n.push(function(){if(e)try{e.call(i)}catch(e){T(e,i,"nextTick")}else o&&o(i)}),r||(r=!0,t()),!e&&"undefined"!=typeof Promise)return new Promise(function(e,t){o=e})}}();_o="undefined"!=typeof Set&&I(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Ao=0,So=function(){this.id=Ao++,this.subs=[]};So.prototype.addSub=function(e){this.subs.push(e)},So.prototype.removeSub=function(e){u(this.subs,e)},So.prototype.depend=function(){So.target&&So.target.addDep(this)},So.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},So.target=null;var To=[],Io=Array.prototype,xo=Object.create(Io);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=Io[e];A(xo,e,function(){for(var n=arguments,r=arguments.length,i=new Array(r);r--;)i[r]=n[r];var o,s=t.apply(this,i),a=this.__ob__;switch(e){case"push":case"unshift":o=i;break;case"splice":o=i.slice(2)}return o&&a.observeArray(o),a.dep.notify(),s})});var Mo=Object.getOwnPropertyNames(xo),Do={shouldConvert:!0,isSettingProps:!1},Oo=function(e){if(this.value=e,this.dep=new So,this.vmCount=0,A(e,"__ob__",this),Array.isArray(e)){(so?D:O)(e,xo,Mo),this.observeArray(e)}else this.walk(e)};Oo.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)R(e,t[n],e[t[n]])},Oo.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)N(e[t])};var No=Qi.optionMergeStrategies;No.el=No.propsData=function(e,t,n,r){return n||eo('option "'+r+'" can only be used during instance creation with the `new` keyword.'),Po(e,t)},No.data=function(e,t,n){return n?e||t?function(){var r="function"==typeof t?t.call(n):t,i="function"==typeof e?e.call(n):void 0;return r?B(r,i):i}:void 0:t?"function"!=typeof t?(eo('The "data" option should be a function that returns a per-instance value in component definitions.',n),e):e?function(){return B(t.call(this),e.call(this))}:t:e},$i.forEach(function(e){No[e]=k}),Ki.forEach(function(e){No[e+"s"]=U}),No.watch=function(e,t){if(!t)return Object.create(e||null);if(!e)return t;var n={};y(n,e);for(var r in t){var i=n[r],o=t[r];i&&!Array.isArray(i)&&(i=[i]),n[r]=i?i.concat(o):[o]}return n},No.props=No.methods=No.computed=function(e,t){if(!t)return Object.create(e||null);if(!e)return t;var n=Object.create(null);return y(n,e),y(n,t),n};var Ro,Lo,Po=function(e,t){return void 0===t?e:t},Ho=/^(String|Number|Boolean|Function|Symbol)$/,Bo=ao&&window.performance;Bo&&Bo.mark&&Bo.measure&&Bo.clearMarks&&Bo.clearMeasures&&(Ro=function(e){return Bo.mark(e)},Lo=function(e,t,n){Bo.measure(e,t,n),Bo.clearMarks(t),Bo.clearMarks(n),Bo.clearMeasures(e)});var ko,Uo=p("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,require"),Vo=function(e,t){eo('Property or method "'+t+'" is not defined on the instance but referenced during render. Make sure to declare reactive data properties in the data option.',e)},Go="undefined"!=typeof Proxy&&Proxy.toString().match(/native code/);if(Go){var jo=p("stop,prevent,self,ctrl,shift,alt,meta");Qi.keyCodes=new Proxy(Qi.keyCodes,{set:function(e,t,n){return jo(t)?(eo("Avoid overwriting built-in modifier in config.keyCodes: ."+t),!1):(e[t]=n,!0)}})}var Wo={has:function(e,t){var n=t in e,r=Uo(t)||"_"===t.charAt(0);return n||r||Vo(e,t),n||!r}},Fo={get:function(e,t){return"string"!=typeof t||t in e||Vo(e,t),e[t]}};ko=function(e){if(Go){var t=e.$options,n=t.render&&t.render._withStripped?Fo:Wo;e._renderProxy=new Proxy(e,n)}else e._renderProxy=e};var zo=function(e,t,n,r,i,o,s){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.functionalContext=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1},Yo={child:{}};Yo.child.get=function(){return this.componentInstance},Object.defineProperties(zo.prototype,Yo);var Xo,Zo=function(){var e=new zo;return e.text="",e.isComment=!0,e},Ko=d(function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}}),$o=null,Qo=100,Jo=[],qo=[],es={},ts={},ns=!1,rs=!1,is=0,os=0,ss=function(e,t,n,r){this.vm=e,e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++os,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new _o,this.newDepIds=new _o,this.expression=t.toString(),"function"==typeof t?this.getter=t:(this.getter=S(t),this.getter||(this.getter=function(){},eo('Failed watching path: "'+t+'" Watcher only accepts simple dot-delimited paths. For full control, use a function instead.',e))),this.value=this.lazy?void 0:this.get()};ss.prototype.get=function(){x(this);var e,t=this.vm;if(this.user)try{e=this.getter.call(t,t)}catch(e){T(e,t,'getter for watcher "'+this.expression+'"')}else e=this.getter.call(t,t);return this.deep&&Oe(e),M(),this.cleanupDeps(),e},ss.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},ss.prototype.cleanupDeps=function(){for(var e=this,t=this.deps.length;t--;){var n=e.deps[t];e.newDepIds.has(n.id)||n.removeSub(e)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},ss.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():De(this)},ss.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||s(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){T(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},ss.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ss.prototype.depend=function(){for(var e=this,t=this.deps.length;t--;)e.deps[t].depend()},ss.prototype.teardown=function(){var e=this;if(this.active){this.vm._isBeingDestroyed||u(this.vm._watchers,this);for(var t=this.deps.length;t--;)e.deps[t].removeSub(e);this.active=!1}};var as=new _o,ls={enumerable:!0,configurable:!0,get:_,set:_},hs={key:1,ref:1,slot:1},cs={lazy:!0},ps={init:function(e,t,n,r){if(!e.componentInstance||e.componentInstance._isDestroyed){(e.componentInstance=$e(e,$o,n,r)).$mount(t?e.elm:void 0,t)}else if(e.data.keepAlive){var i=e;ps.prepatch(i,i)}},prepatch:function(e,t){var n=t.componentOptions;Ee(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Ae(n,"mounted")),e.data.keepAlive&&(t._isMounted?xe(n):Ce(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?we(t,!0):t.$destroy())}},us=Object.keys(ps),gs=1,ds=2,fs=0;!function(e){e.prototype._init=function(e){var t=this;t._uid=fs++;var n,r;Qi.performance&&Ro&&(n="vue-perf-init:"+t._uid,r="vue-perf-end:"+t._uid,Ro(n)),t._isVue=!0,e&&e._isComponent?gt(t,e):t.$options=W(dt(t.constructor),e||{},t),ko(t),t._self=t,ve(t),pe(t),ut(t),Ae(t,"beforeCreate"),ze(t),Le(t),Fe(t),Ae(t,"created"),Qi.performance&&Ro&&(t._name=Ui(t,!1),Ro(r),Lo(t._name+" init",n,r)),t.$options.el&&t.$mount(t.$options.el)}}(yt),function(e){var t={};t.get=function(){return this._data};var n={};n.get=function(){return this._props},t.set=function(e){eo("Avoid replacing instance root $data. Use nested data properties instead.",this)},n.set=function(){eo("$props is readonly.",this)},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=L,e.prototype.$delete=P,e.prototype.$watch=function(e,t,n){var r=this;n=n||{},n.user=!0;var i=new ss(r,e,t,n);return n.immediate&&t.call(r,i.value),function(){i.teardown()}}}(yt),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this,i=this;if(Array.isArray(e))for(var o=0,s=e.length;o<s;o++)r.$on(e[o],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){function n(){r.$off(e,n),t.apply(r,arguments)}var r=this;return n.fn=t,r.$on(e,n),r},e.prototype.$off=function(e,t){var n=this,r=this;if(!arguments.length)return r._events=Object.create(null),r;if(Array.isArray(e)){for(var i=0,o=e.length;i<o;i++)n.$off(e[i],t);return r}var s=r._events[e];if(!s)return r;if(1===arguments.length)return r._events[e]=null,r;for(var a,l=s.length;l--;)if((a=s[l])===t||a.fn===t){s.splice(l,1);break}return r},e.prototype.$emit=function(e){var t=this,n=e.toLowerCase();n!==e&&t._events[n]&&to('Event "'+n+'" is emitted in component '+Ui(t)+' but the handler is registered for "'+e+'". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "'+zi(e)+'" instead of "'+e+'".');var r=t._events[e];if(r){r=r.length>1?m(r):r;for(var i=m(arguments,1),o=0,s=r.length;o<s;o++)r[o].apply(t,i)}return t}}(yt),function(e){e.prototype._update=function(e,t){var n=this;n._isMounted&&Ae(n,"beforeUpdate");var r=n.$el,i=n._vnode,o=$o;$o=n,n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1,n.$options._parentElm,n.$options._refElm),$o=o,r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Ae(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||u(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Ae(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$options._parentElm=e.$options._refElm=null}}}(yt),function(e){e.prototype.$nextTick=function(e){return wo(e,this)},e.prototype._render=function(){var e=this,t=e.$options,n=t.render,r=t.staticRenderFns,i=t._parentVnode;if(e._isMounted)for(var o in e.$slots)e.$slots[o]=q(e.$slots[o]);e.$scopedSlots=i&&i.data.scopedSlots||Ji,r&&!e._staticTrees&&(e._staticTrees=[]),e.$vnode=i;var s;try{s=n.call(e._renderProxy,e.$createElement)}catch(t){T(t,e,"render function"),s=e.$options.renderError?e.$options.renderError.call(e._renderProxy,e.$createElement,t):e._vnode}return s instanceof zo||(Array.isArray(s)&&eo("Multiple root nodes returned from render function. Render function should return a single root node.",e),s=Zo()),s.parent=i,s},e.prototype._o=ht,e.prototype._n=c,e.prototype._s=h,e.prototype._l=rt,e.prototype._t=it,e.prototype._q=E,e.prototype._i=b,e.prototype._m=lt,e.prototype._f=ot,e.prototype._k=st,e.prototype._b=at,e.prototype._v=Q,e.prototype._e=Zo,e.prototype._u=ye}(yt);var ms=[String,RegExp],ys={name:"keep-alive",abstract:!0,props:{include:ms,exclude:ms},created:function(){this.cache=Object.create(null)},destroyed:function(){var e=this;for(var t in e.cache)It(e.cache[t])},watch:{include:function(e){Tt(this.cache,this._vnode,function(t){return St(e,t)})},exclude:function(e){Tt(this.cache,this._vnode,function(t){return!St(e,t)})}},render:function(){var e=ce(this.$slots.default),t=e&&e.componentOptions;if(t){var n=At(t);if(n&&(this.include&&!St(this.include,n)||this.exclude&&St(this.exclude,n)))return e;var r=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;this.cache[r]?e.componentInstance=this.cache[r].componentInstance:this.cache[r]=e,e.data.keepAlive=!0}return e}},vs={KeepAlive:ys};!function(e){var t={};t.get=function(){return Qi},t.set=function(){eo("Do not replace the Vue.config object, set individual fields instead.")},Object.defineProperty(e,"config",t),e.util={warn:eo,extend:y,mergeOptions:W,defineReactive:R},e.set=L,e.delete=P,e.nextTick=wo,e.options=Object.create(null),Ki.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,y(e.options.components,vs),vt(e),_t(e),Et(e),wt(e)}(yt),Object.defineProperty(yt.prototype,"$isServer",{get:Eo}),yt.version="2.3.0";var _s,Es,bs,Cs,ws,As,Ss,Ts,Is,xs=p("style,class"),Ms=p("input,textarea,option,select"),Ds=function(e,t,n){return"value"===n&&Ms(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Os=p("contenteditable,draggable,spellcheck"),Ns=p("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Rs="http://www.w3.org/1999/xlink",Ls=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Ps=function(e){return Ls(e)?e.slice(6,e.length):""},Hs=function(e){return null==e||!1===e},Bs={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ks=p("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template"),Us=p("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Vs=function(e){return"pre"===e},Gs=function(e){return ks(e)||Us(e)},js=Object.create(null),Ws=Object.freeze({createElement:Ht,createElementNS:Bt,createTextNode:kt,createComment:Ut,insertBefore:Vt,removeChild:Gt,appendChild:jt,parentNode:Wt,nextSibling:Ft,tagName:zt,setTextContent:Yt,setAttribute:Xt}),Fs={create:function(e,t){Zt(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Zt(e,!0),Zt(t))},destroy:function(e){Zt(e,!0)}},zs=new zo("",{},[]),Ys=["create","activate","update","remove","destroy"],Xs={create:Jt,update:Jt,destroy:function(e){Jt(e,zs)}},Zs=Object.create(null),Ks=[Fs,Xs],$s={create:rn,update:rn},Qs={create:sn,update:sn},Js=/[\w).+\-_$\]]/,qs="__r",ea="__c",ta={create:Rn,update:Rn},na={create:Ln,update:Ln},ra=d(function(e){var t={};return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var n=e.split(/:(.+)/);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}),ia=/^--/,oa=/\s*!important$/,sa=function(e,t,n){if(ia.test(t))e.style.setProperty(t,n);else if(oa.test(n))e.style.setProperty(t,n.replace(oa,""),"important");else{var r=la(t);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)e.style[r]=n[i];else e.style[r]=n}},aa=["Webkit","Moz","ms"],la=d(function(e){if(Is=Is||document.createElement("div"),"filter"!==(e=Wi(e))&&e in Is.style)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<aa.length;n++){var r=aa[n]+t;if(r in Is.style)return r}}),ha={create:Gn,update:Gn},ca=d(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),pa=ao&&!co,ua="transition",ga="animation",da="transition",fa="transitionend",ma="animation",ya="animationend";pa&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(da="WebkitTransition",fa="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ma="WebkitAnimation",ya="webkitAnimationEnd"));var va=ao&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,_a=/\b(transform|all)(,|$)/,Ea=ao?{create:rr,activate:rr,remove:function(e,t){!0!==e.data.show?qn(e,t):t()}}:{},ba=[$s,Qs,ta,na,ha,Ea],Ca=ba.concat(Ks),wa=function(e){function t(e){return new zo(O.tagName(e).toLowerCase(),{},[],void 0,e)}function s(e,t){function n(){0==--n.listeners&&a(e)}return n.listeners=t,n}function a(e){var t=O.parentNode(e);r(t)&&O.removeChild(t,e)}function l(e,t,n,o,s){if(e.isRootInsert=!s,!h(e,t,n,o)){var a=e.data,l=e.children,c=e.tag;r(c)?(a&&a.pre&&N++,N||e.ns||Qi.ignoredElements.length&&Qi.ignoredElements.indexOf(c)>-1||!Qi.isUnknownElement(c)||eo("Unknown custom element: <"+c+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.',e.context),e.elm=e.ns?O.createElementNS(e.ns,c):O.createElement(c,e),y(e),d(e,l,t),r(a)&&m(e,t),g(n,e.elm,o),a&&a.pre&&N--):i(e.isComment)?(e.elm=O.createComment(e.text),g(n,e.elm,o)):(e.elm=O.createTextNode(e.text),g(n,e.elm,o))}}function h(e,t,n,o){var s=e.data;if(r(s)){var a=r(e.componentInstance)&&s.keepAlive;if(r(s=s.hook)&&r(s=s.init)&&s(e,!1,n,o),r(e.componentInstance))return c(e,t),i(a)&&u(e,t,n,o),!0}}function c(e,t){r(e.data.pendingInsert)&&t.push.apply(t,e.data.pendingInsert),e.elm=e.componentInstance.$el,f(e)?(m(e,t),y(e)):(Zt(e),t.push(e))}function u(e,t,n,i){for(var o,s=e;s.componentInstance;)if(s=s.componentInstance._vnode,r(o=s.data)&&r(o=o.transition)){for(o=0;o<M.activate.length;++o)M.activate[o](zs,s);t.push(s);break}g(n,e.elm,i)}function g(e,t,n){r(e)&&(r(n)?n.parentNode===e&&O.insertBefore(e,t,n):O.appendChild(e,t))}function d(e,t,n){if(Array.isArray(t))for(var r=0;r<t.length;++r)l(t[r],n,e.elm,null,!0);else o(e.text)&&O.appendChild(e.elm,O.createTextNode(e.text))}function f(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return r(e.tag)}function m(e,t){for(var n=0;n<M.create.length;++n)M.create[n](zs,e);I=e.data.hook,r(I)&&(r(I.create)&&I.create(zs,e),r(I.insert)&&t.push(e))}function y(e){for(var t,n=e;n;)r(t=n.context)&&r(t=t.$options._scopeId)&&O.setAttribute(e.elm,t,""),n=n.parent;r(t=$o)&&t!==e.context&&r(t=t.$options._scopeId)&&O.setAttribute(e.elm,t,"")}function v(e,t,n,r,i,o){for(;r<=i;++r)l(n[r],o,e,t)}function _(e){var t,n,i=e.data;if(r(i))for(r(t=i.hook)&&r(t=t.destroy)&&t(e),t=0;t<M.destroy.length;++t)M.destroy[t](e);if(r(t=e.children))for(n=0;n<e.children.length;++n)_(e.children[n])}function E(e,t,n,i){for(;n<=i;++n){var o=t[n];r(o)&&(r(o.tag)?(b(o),_(o)):a(o.elm))}}function b(e,t){if(r(t)||r(e.data)){var n,i=M.remove.length+1;for(r(t)?t.listeners+=i:t=s(e.elm,i),r(n=e.componentInstance)&&r(n=n._vnode)&&r(n.data)&&b(n,t),n=0;n<M.remove.length;++n)M.remove[n](e,t);r(n=e.data.hook)&&r(n=n.remove)?n(e,t):t()}else a(e.elm)}function C(e,t,i,o,s){for(var a,h,c,p,u=0,g=0,d=t.length-1,f=t[0],m=t[d],y=i.length-1,_=i[0],b=i[y],C=!s;u<=d&&g<=y;)n(f)?f=t[++u]:n(m)?m=t[--d]:Kt(f,_)?(w(f,_,o),f=t[++u],_=i[++g]):Kt(m,b)?(w(m,b,o),m=t[--d],b=i[--y]):Kt(f,b)?(w(f,b,o),C&&O.insertBefore(e,f.elm,O.nextSibling(m.elm)),f=t[++u],b=i[--y]):Kt(m,_)?(w(m,_,o),C&&O.insertBefore(e,m.elm,f.elm),m=t[--d],_=i[++g]):(n(a)&&(a=Qt(t,u,d)),h=r(_.key)?a[_.key]:null,n(h)?(l(_,o,e,f.elm),_=i[++g]):(c=t[h],c||eo("It seems there are duplicate keys that is causing an update error. Make sure each v-for item has a unique key."),Kt(c,_)?(w(c,_,o),t[h]=void 0,C&&O.insertBefore(e,_.elm,f.elm),_=i[++g]):(l(_,o,e,f.elm),_=i[++g])));u>d?(p=n(i[y+1])?null:i[y+1].elm,v(e,p,i,g,y,o)):g>y&&E(e,t,u,d)}function w(e,t,o,s){if(e!==t){if(i(t.isStatic)&&i(e.isStatic)&&t.key===e.key&&(i(t.isCloned)||i(t.isOnce)))return t.elm=e.elm,void(t.componentInstance=e.componentInstance);var a,l=t.data;r(l)&&r(a=l.hook)&&r(a=a.prepatch)&&a(e,t);var h=t.elm=e.elm,c=e.children,p=t.children;if(r(l)&&f(t)){for(a=0;a<M.update.length;++a)M.update[a](e,t);r(a=l.hook)&&r(a=a.update)&&a(e,t)}n(t.text)?r(c)&&r(p)?c!==p&&C(h,c,p,o,s):r(p)?(r(e.text)&&O.setTextContent(h,""),v(h,null,p,0,p.length-1,o)):r(c)?E(h,c,0,c.length-1):r(e.text)&&O.setTextContent(h,""):e.text!==t.text&&O.setTextContent(h,t.text),r(l)&&r(a=l.hook)&&r(a=a.postpatch)&&a(e,t)}}function A(e,t,n){if(i(n)&&r(e.parent))e.parent.data.pendingInsert=t;else for(var o=0;o<t.length;++o)t[o].data.hook.insert(t[o])}function S(e,t,n){if(!T(e,t))return!1;t.elm=e;var i=t.tag,o=t.data,s=t.children;if(r(o)&&(r(I=o.hook)&&r(I=I.init)&&I(t,!0),r(I=t.componentInstance)))return c(t,n),!0;if(r(i)){if(r(s))if(e.hasChildNodes()){for(var a=!0,l=e.firstChild,h=0;h<s.length;h++){if(!l||!S(l,s[h],n)){a=!1;break}l=l.nextSibling}if(!a||l)return"undefined"==typeof console||R||(R=!0,console.warn("Parent: ",e),console.warn("Mismatching childNodes vs. VNodes: ",e.childNodes,s)),!1}else d(t,s,n);if(r(o))for(var p in o)if(!L(p)){m(t,n);break}}else e.data!==t.text&&(e.data=t.text);return!0}function T(e,t){return r(t.tag)?0===t.tag.indexOf("vue-component")||t.tag.toLowerCase()===(e.tagName&&e.tagName.toLowerCase()):e.nodeType===(t.isComment?8:3)}var I,x,M={},D=e.modules,O=e.nodeOps;for(I=0;I<Ys.length;++I)for(M[Ys[I]]=[],x=0;x<D.length;++x)r(D[x][Ys[I]])&&M[Ys[I]].push(D[x][Ys[I]]);var N=0,R=!1,L=p("attrs,style,class,staticClass,staticStyle,key");return function(e,o,s,a,h,c){if(n(o))return void(r(e)&&_(e));var p=!1,u=[];if(n(e))p=!0,l(o,u,h,c);else{var g=r(e.nodeType);if(!g&&Kt(e,o))w(e,o,u,a);else{if(g){if(1===e.nodeType&&e.hasAttribute(Zi)&&(e.removeAttribute(Zi),s=!0),i(s)){if(S(e,o,u))return A(o,u,!0),e;eo("The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.")}e=t(e)}var d=e.elm,m=O.parentNode(d);if(l(o,u,d._leaveCb?null:m,O.nextSibling(d)),r(o.parent)){for(var y=o.parent;y;)y.elm=o.elm,y=y.parent;if(f(o))for(var v=0;v<M.create.length;++v)M.create[v](zs,o.parent)}r(m)?E(m,[e],0,0):r(e.tag)&&_(e)}}return A(o,u,p),o.elm}}({nodeOps:Ws,modules:Ca});co&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&hr(e,"input")});var Aa={inserted:function(e,t,n){if("select"===n.tag){var r=function(){ir(e,t,n.context)};r(),(ho||po)&&setTimeout(r,0)}else"textarea"!==n.tag&&"text"!==e.type&&"password"!==e.type||(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("change",lr),uo||(e.addEventListener("compositionstart",ar),e.addEventListener("compositionend",lr)),co&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){ir(e,t,n.context);(e.multiple?t.value.some(function(t){return or(t,e.options)}):t.value!==t.oldValue&&or(t.value,e.options))&&hr(e,"change")}}},Sa={bind:function(e,t,n){var r=t.value;n=cr(n);var i=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i&&!co?(n.data.show=!0,Jn(n,function(){e.style.display=o})):e.style.display=r?o:"none"},update:function(e,t,n){var r=t.value;r!==t.oldValue&&(n=cr(n),n.data&&n.data.transition&&!co?(n.data.show=!0,r?Jn(n,function(){e.style.display=e.__vOriginalDisplay}):qn(n,function(){e.style.display="none"})):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}},Ta={model:Aa,show:Sa},Ia={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},xa={name:"transition",props:Ia,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(function(e){return e.tag}),n.length)){n.length>1&&eo("<transition> can only be used on a single element. Use <transition-group> for lists.",this.$parent);var r=this.mode;r&&"in-out"!==r&&"out-in"!==r&&eo("invalid <transition> mode: "+r,this.$parent);var i=n[0];if(dr(this.$vnode))return i;var s=pr(i);if(!s)return i;if(this._leaving)return gr(e,i);var a="__transition-"+this._uid+"-";s.key=null==s.key?a+s.tag:o(s.key)?0===String(s.key).indexOf(a)?s.key:a+s.key:s.key;var l=(s.data||(s.data={})).transition=ur(this),h=this._vnode,c=pr(h);if(s.data.directives&&s.data.directives.some(function(e){return"show"===e.name})&&(s.data.show=!0),c&&c.data&&!fr(s,c)){var p=c&&(c.data.transition=y({},l));if("out-in"===r)return this._leaving=!0,ne(p,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),gr(e,i);if("in-out"===r){var u,g=function(){u()};ne(l,"afterEnter",g),ne(l,"enterCancelled",g),ne(p,"delayLeave",function(e){u=e})}}return i}}},Ma=y({tag:String,moveClass:String},Ia);delete Ma.mode;var Da={props:Ma,render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=ur(this),a=0;a<i.length;a++){var l=i[a];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=s;else{var h=l.componentOptions,c=h?h.Ctor.options.name||h.tag||"":l.tag;eo("<transition-group> children must be keyed: <"+c+">")}}if(r){for(var p=[],u=[],g=0;g<r.length;g++){var d=r[g];d.data.transition=s,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?p.push(d):u.push(d)}this.kept=e(t,null,p),this.removed=u}return e(t,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";if(e.length&&this.hasMove(e[0].elm,t)){e.forEach(mr),e.forEach(yr),e.forEach(vr);var n=document.body;n.offsetHeight;e.forEach(function(e){if(e.data.moved){var n=e.elm,r=n.style;Yn(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(fa,n._moveCb=function e(r){r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(fa,e),n._moveCb=null,Xn(n,t))})}})}},methods:{hasMove:function(e,t){if(!pa)return!1;if(null!=this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){Wn(n,e)}),jn(n,t),n.style.display="none",this.$el.appendChild(n);var r=Kn(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}},Oa={Transition:xa,TransitionGroup:Da};yt.config.mustUseProp=Ds,yt.config.isReservedTag=Gs,yt.config.isReservedAttr=xs,yt.config.getTagNamespace=Rt,yt.config.isUnknownElement=Lt,y(yt.options.directives,Ta),y(yt.options.components,Oa),yt.prototype.__patch__=ao?wa:_,yt.prototype.$mount=function(e,t){return e=e&&ao?Pt(e):void 0,_e(this,e,t)},setTimeout(function(){Qi.devtools&&(bo?bo.emit("init",yt):fo&&console[console.info?"info":"log"]("Download the Vue Devtools extension for a better development experience:\nhttps://github.com/vuejs/vue-devtools")),!1!==Qi.productionTip&&ao&&"undefined"!=typeof console&&console[console.info?"info":"log"]("You are running Vue in development mode.\nMake sure to turn on production mode when deploying for production.\nSee more tips at https://vuejs.org/guide/deployment.html")},0);var Na,Ra=!!ao&&function(e,t){var n=document.createElement("div");return n.innerHTML='<div a="'+e+'">',n.innerHTML.indexOf(t)>0}("\n","&#10;"),La=p("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Pa=p("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Ha=p("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Ba=[/"([^"]*)"+/.source,/'([^']*)'+/.source,/([^\s"'=<>`]+)/.source],ka=new RegExp("^\\s*"+/([^\s"'<>\/=]+)/.source+"(?:\\s*("+/(?:=)/.source+")\\s*(?:"+Ba.join("|")+"))?"),Ua="[a-zA-Z_][\\w\\-\\.]*",Va=new RegExp("^<((?:"+Ua+"\\:)?"+Ua+")"),Ga=/^\s*(\/?)>/,ja=new RegExp("^<\\/((?:"+Ua+"\\:)?"+Ua+")[^>]*>"),Wa=/^<!DOCTYPE [^>]+>/i,Fa=/^<!--/,za=/^<!\[/,Ya=!1;"x".replace(/x(.)?/g,function(e,t){Ya=""===t});var Xa,Za,Ka,$a,Qa,Ja,qa,el,tl,nl,rl,il,ol,sl,al,ll,hl,cl,pl=p("script,style,textarea",!0),ul={},gl={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n"},dl=/&(?:lt|gt|quot|amp);/g,fl=/&(?:lt|gt|quot|amp|#10);/g,ml=/\{\{((?:.|\n)+?)\}\}/g,yl=d(function(e){var t=e[0].replace(/[-.*+?^${}()|[\]\/\\]/g,"\\$&"),n=e[1].replace(/[-.*+?^${}()|[\]\/\\]/g,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")}),vl=/^@|^v-on:/,_l=/^v-|^@|^:/,El=/(.*?)\s+(?:in|of)\s+(.*)/,bl=/\((\{[^}]*\}|[^,]*),([^,]*)(?:,([^,]*))?\)/,Cl=/:(.*)$/,wl=/^:|^v-bind:/,Al=/\.[^.]+/g,Sl=d(_r),Tl=/^xmlns:NS\d+/,Il=/^NS\d+:/,xl=d(zr),Ml=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,Dl=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,Ol={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Nl=function(e){return"if("+e+")return null;"},Rl={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Nl("$event.target !== $event.currentTarget"),ctrl:Nl("!$event.ctrlKey"),shift:Nl("!$event.shiftKey"),alt:Nl("!$event.altKey"),meta:Nl("!$event.metaKey"),left:Nl("'button' in $event && $event.button !== 0"),middle:Nl("'button' in $event && $event.button !== 1"),right:Nl("'button' in $event && $event.button !== 2")},Ll={bind:ti,cloak:_},Pl=new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),Hl=new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),Bl=/[A-Za-z_$][\w$]*/,kl=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g,Ul={staticKeys:["staticClass"],transformNode:Ni,genData:Ri},Vl={staticKeys:["staticStyle"],transformNode:Li,genData:Pi},Gl=[Ul,Vl],jl={model:Sn,text:Hi,html:Bi},Wl={expectHTML:!0,modules:Gl,directives:jl,isPreTag:Vs,isUnaryTag:La,mustUseProp:Ds,canBeLeftOpenTag:Pa,isReservedTag:Gs,getTagNamespace:Rt,staticKeys:function(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")}(Gl)},Fl=function(e){function t(t,n){var r=Object.create(e),i=[],o=[];if(r.warn=function(e,t){(t?o:i).push(e)},n){n.modules&&(r.modules=(e.modules||[]).concat(n.modules)),n.directives&&(r.directives=y(Object.create(e.directives),n.directives));for(var s in n)"modules"!==s&&"directives"!==s&&(r[s]=n[s])}var a=Di(t,r);return i.push.apply(i,Ai(a.ast)),a.errors=i,a.tips=o,a}function n(e,n,i){n=n||{};try{new Function("return 1")}catch(e){e.toString().match(/unsafe-eval|CSP/)&&eo("It seems you are using the standalone build of Vue.js in an environment with Content Security Policy that prohibits unsafe-eval. The template compiler cannot work in this environment. Consider relaxing the policy to allow unsafe-eval or pre-compiling your templates into render functions.")}var o=n.delimiters?String(n.delimiters)+e:e;if(r[o])return r[o];var s=t(e,n);s.errors&&s.errors.length&&eo("Error compiling template:\n\n"+e+"\n\n"+s.errors.map(function(e){return"- "+e}).join("\n")+"\n",i),s.tips&&s.tips.length&&s.tips.forEach(function(e){return to(e,i)});var a={},l=[];a.render=Oi(s.render,l);var h=s.staticRenderFns.length;a.staticRenderFns=new Array(h);for(var c=0;c<h;c++)a.staticRenderFns[c]=Oi(s.staticRenderFns[c],l);return s.errors&&s.errors.length||!l.length||eo("Failed to generate render function:\n\n"+l.map(function(e){var t=e.err,n=e.code;return t.toString()+" in\n\n"+n+"\n"}).join("\n"),i),r[o]=a}var r=Object.create(null);return{compile:t,compileToFunctions:n}}(Wl),zl=Fl.compileToFunctions,Yl=d(function(e){var t=Pt(e);return t&&t.innerHTML}),Xl=yt.prototype.$mount;yt.prototype.$mount=function(e,t){if((e=e&&Pt(e))===document.body||e===document.documentElement)return eo("Do not mount Vue to <html> or <body> - mount to normal elements instead."),this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&((r=Yl(r))||eo("Template element not found or is empty: "+n.template,this));else{if(!r.nodeType)return eo("invalid template option:"+r,this),this;r=r.innerHTML}else e&&(r=ki(e));if(r){Qi.performance&&Ro&&Ro("compile");var i=zl(r,{shouldDecodeNewlines:Ra,delimiters:n.delimiters},this),o=i.render,s=i.staticRenderFns;n.render=o,n.staticRenderFns=s,Qi.performance&&Ro&&(Ro("compile end"),Lo(this._name+" compile","compile","compile end"))}}return Xl.call(this,e,t)},yt.compile=zl,e.exports=yt}).call(t,n(129))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(72),i=n.n(r),o=n(71),s=n.n(o);i.a.config.productionTip=!1,new i.a({el:"#app",template:"<App/>",components:{App:s.a}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(78),i=n.n(r),o=n(107),s=n.n(o),a=n(75),l=n.n(a);t.default={name:"app",data:function(){return{mode:this.initialMode,svgImExPort:"",zoomValue:this.initialZoom,imexport:"import",loadRelative:!1,image:null,selectedShape:null,backgroundImage:null}},props:{width:{type:Number,default:600},height:{type:Number,default:400},showToolbar:{type:Boolean,default:!0},showToolbarModes:{type:Boolean,default:!0},showToolbarModeList:{type:Boolean,default:!1},zoomFactorMax:{type:Number,default:4},initialZoom:{type:Number,default:1},initialImage:{type:String,default:"./assets/earth.jpg"},initialMode:{type:String,default:"HoverMult"},modesEnabled:{type:Array,default:function(){return["Hover","HoverMult","Modify","Create","Select"]}},modesAvailable:{type:Array,default:function(){return[{value:"Hover",text:"Hover"},{value:"HoverMult",text:"Hover (multiple)"},{value:"Modify",text:"Modify"},{value:"Create",text:"Create",disabled:!0},{value:"Select",text:"Select"}]}},xrxStyle:{type:Object,default:function(){return{strokeColor:"#3B3BFF",fillColor:"#3B3BFF",strokeWidth:2,fillOpacity:.4,hoverable:{strokeColor:"#00ff00",fillColor:"#00ff00",strokeWidth:3,fillOpacity:.4},creatable:{strokeColor:"#ff0000",fillColor:"#ff0000",strokeWidth:3,fillOpacity:.4},selectable:{strokeColor:"#ff00ff",fillColor:"#ff00ff",strokeWidth:3,fillOpacity:.4}}}}},mounted:function(){var e=this;this.image=new s.a.drawing.Drawing(this.$refs.canvas),this.$on("mode-change",function(t,n){e.selectedShape=null}),this.image.eventShapeCreated=function(){e.setMode("HoverMult"),e.applyStyles(),document.activeElement.blur()},this.image.eventShapeSelected=function(t){e.selectedShape=t},this.backgroundImage=this.initialImage,this.setMode(this.mode),this.loadImage()},methods:{dump:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(t)},loadImage:function(){var e=this;this.image.setBackgroundImage(this.backgroundImage,function(){e.image.getViewbox().fit(!1),e.image.getViewbox().setZoomFactorMax(e.zoomFactorMax),e.zoomValue=e.image.getViewbox().getZoomValue(),e.image.draw()})},setMode:function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];"HoverMult"===e?this.image.setModeHover(!0):(t=this.image)["setMode"+e].apply(t,i()(r)),this.$emit("mode-change",this.mode,e),this.mode=e},zoom:function(e){"in"===e?this.image.getViewbox().zoomIn():"out"===e?this.image.getViewbox().zoomOut():"fit"===e?this.image.getViewbox().fit(!0):"width"===e?this.image.getViewbox().fitToWidth(!0):"height"===e?this.image.getViewbox().fitToHeight(!0):this.image.getViewbox().zoomTo(e),this.zoomValue=this.image.getViewbox().getZoomValue(),this.image.draw()},applyStyles:function(){var e=this;this.image.getLayerShape().getShapes().forEach(function(t){l.a.applyStyle(t,e.xrxStyle)})},drawShape:function(e){var t=new s.a.shape[e](this.image);l.a.applyStyle(t,this.xrxStyle),this.setMode("Create",t.getCreatable())},removeSelected:function(){this.image.getSelectedShape()?window.confirm("Delete selected shape?")&&(this.image.removeShape(this.image.getSelectedShape()),this.setMode(this.initialMode)):window.alert("Please select a shape")},copyShape:function(){var e=l.a.svgFromShapes(this.image.getSelectedShape());l.a.drawFromSvg(e,this.image),this.applyStyles()},showImexport:function(e){this.imexport=e,this.svgImExPort="import"===this.imexport?"":l.a.svgFromDrawing(this.image),$(this.$refs.imexportModal).modal("show")},loadSvg:function(){this.image.getLayerShape().removeShapes(),l.a.drawFromSvg(this.svgImExPort,this.image,{relative:this.loadRelative}),this.applyStyles(),$(this.$refs.imexportModal).modal("hide")},showImageModal:function(){$(this.$refs.imageModal).modal("show")}}}},function(e,t,n){"use strict";e.exports=n(76),e.exports.CoordUtils=n(45)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"get"+e.substr(0,1).toUpperCase()+e.substr(1)}function o(e){return"set"+e.substr(0,1).toUpperCase()+e.substr(1)}var s=n(130),a=r(s),l=n(138),h=r(l),c=n(58),p=r(c),u=n(139),g=r(u),d=n(133),f=r(d),m=n(136),y=r(m),v=n(137),_=r(v),E=n(179),b=window&&window.goog?window.goog:E.goog,C=n(45);e.exports=function(){function e(){(0,y.default)(this,e)}return(0,_.default)(e,null,[{key:"applyStyle",value:function(t,n){Array.isArray(t)||(t=[t]),t.forEach(function(t){if(t){var r=new E.shape.Style;(0,f.default)(n).forEach(function(s){var a=n[s];try{"object"===(void 0===a?"undefined":(0,g.default)(a))?e.applyStyle(t[i(s)](),a):r[o(s)](a)}catch(e){throw console.log("Failed for",s,a,t),e}}),t.setStyle(r)}})}},{key:"createDrawing",value:function(e,t,n){var r=b.style.getSize;b.style.getSize=function(i){var o=r(i);return e===i&&(o.width<=0||o.height<=0)?{width:t,height:n}:o};var i=new E.drawing.Drawing(e);if(!i.getEngine().isAvailable())throw new Error("No Engine available :-( Much sadness");return i}},{key:"createShape",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(e in E.shape))throw new Error("No such shape "+e);return new E.shape[e](t)}},{key:"drawFromSvg",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.shapesFromSvg(t,n,r);return n.getLayerShape().addShapes(i),n.draw(),i}},{key:"svgFromShapes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e instanceof E.shape.ShapeGroup&&(e=e.getChildren()),Array.isArray(e)||(e=[e]),0===e.length&&console.warn("Should pass at least one shape to svgFromShape or SVG will be empty");var t=['<?xml version="1.0" encoding="UTF-8" ?>'];t.push(['<svg xmlns="http://www.w3.org/2000/svg" version="1.1"','width="'+e[0].getDrawing().getLayerBackground().getImage().getWidth()+'"','height="'+e[0].getDrawing().getLayerBackground().getImage().getHeight()+'">'].join(" "));var n=!0,r=!1,i=void 0;try{for(var o,s=(0,p.default)(e);!(n=(o=s.next()).done);n=!0){var a=o.value;if(a instanceof E.shape.Rect||a instanceof E.shape.Polygon&&C.isRectangle(a.getCoords())){var l=a.getCoords(),c=[Number.MAX_VALUE,Number.MAX_VALUE],u=c[0],g=c[1],d=[Number.MIN_VALUE,Number.MIN_VALUE],f=d[0],m=d[1],y=!0,v=!1,_=void 0;try{for(var b,w=(0,p.default)(l);!(y=(b=w.next()).done);y=!0){var A=(0,h.default)(b.value,2),S=A[0],T=A[1],I=[Math.max(S,f),Math.max(T,m)];f=I[0],m=I[1];var x=[Math.min(S,u),Math.min(T,g)];u=x[0],g=x[1]}}catch(e){v=!0,_=e}finally{try{!y&&w.return&&w.return()}finally{if(v)throw _}}t.push('  <rect x="'+u+'" y="'+g+'" width="'+(f-u)+'" height="'+(m-g)+'"/>')}else if(a instanceof E.shape.Polygon){var M=a.getCoords();t.push('  <polygon points="'+M.map(function(e){return e.join(",")}).join(" ")+'" />')}else if(a instanceof E.shape.Polyline){var D=a.getCoords();t.push('  <polyline points="'+D.map(function(e){return e.join(",")}).join(" ")+'" />')}else if(a instanceof E.shape.Line){var O=a.getCoords();t.push('  <line x1="'+O[0][0]+'" y1="'+O[0][1]+'" x2="'+O[1][0]+'" y2="'+O[1][1]+'"/>')}else if(a instanceof E.shape.Ellipse){var N=a.getCenter(),R=(0,h.default)(N,2),L=R[0],P=R[1],H=[a.getRadiusX(),a.getRadiusY()],B=H[0],k=H[1];t.push('  <ellipse cx="'+L+'" cy="'+P+'" rx="'+B+'" ry="'+k+'"/>')}else if(a instanceof E.shape.Circle){var U=a.getCenter(),V=(0,h.default)(U,2),G=V[0],j=V[1],W=a.getRadius();t.push('  <circle cx="'+G+'" cy="'+j+'" r="'+W+'"/>')}else console.error("SVG Export not implemented for",a)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return t.push("</svg>"),t.join("\n")}},{key:"shapesFromSvg",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===window)throw new Error("shapesFromSvg must be run in a browser");n.relative=n.relative||!1;var r=new window.DOMParser,i=r.parseFromString(e,"image/svg+xml"),o=["height","width"].map(function(e){return parseInt(i.documentElement.getAttribute(e))}),s=(0,h.default)(o,2),l=s[0],c=s[1],p=l>0?t.getLayerBackground().getImage().getWidth()/l:1,u=c>0?t.getLayerBackground().getImage().getHeight()/c:1,g=[];(0,a.default)(i.querySelectorAll("rect")).forEach(function(e){var r=new E.shape.Rect(t),i=["x","y","width","height"].map(function(t){return parseFloat(e.getAttribute(t))}),o=(0,h.default)(i,4),s=o[0],a=o[1],l=o[2],c=o[3];if(n.relative){var d=[s*p,a*u,l*p,c*u];s=d[0],a=d[1],l=d[2],c=d[3]}var f=[[s,a],[s+l,a],[s+l,a+c],[s,a+c]];r.setCoords(f),g.push(r)}),(0,a.default)(i.querySelectorAll("polygon")).forEach(function(e){var r=new E.shape.Polygon(t),i=e.getAttribute("points").split(" ").map(function(e){return e.split(",").map(function(e){return parseInt(e)})});n.relative&&(i=i.map(function(e){var t=(0,h.default)(e,2),n=t[0],r=t[1];return[n*p,r*u]})),r.setCoords(i),g.push(r)}),(0,a.default)(i.querySelectorAll("polyline")).forEach(function(e){var r=new E.shape.Polyline(t),i=e.getAttribute("points").split(" ").map(function(e){return e.split(",").map(function(e){return parseInt(e)})});n.relative&&(i=i.map(function(e){var t=(0,h.default)(e,2),n=t[0],r=t[1];return[n*p,r*u]})),r.setCoords(i),g.push(r)}),(0,a.default)(i.querySelectorAll("circle")).forEach(function(e){var r=new E.shape.Circle(t),i=[parseFloat(e.getAttribute("cx")),parseFloat(e.getAttribute("cy"))],o=parseFloat(e.getAttribute("r"));n.relative&&(i[0]=i[0]*p,i[1]=i[1]*u,o*=Math.min(p,u)),r.setCenter.apply(r,i),r.setRadius(o),g.push(r)}),(0,a.default)(i.querySelectorAll("ellipse")).forEach(function(e){var r=new E.shape.Ellipse(t),i=[parseFloat(e.getAttribute("cx")),parseFloat(e.getAttribute("cy"))],o=[parseFloat(e.getAttribute("rx")),parseFloat(e.getAttribute("ry"))];n.relative&&(i[0]=i[0]*p,i[1]=i[1]*u,o[0]=o[0]*p,o[1]=o[1]*u),r.setCenter.apply(r,i),r.setRadiusX(o[0]),r.setRadiusY(o[1]),g.push(r)}),(0,a.default)(i.querySelectorAll("line")).forEach(function(e){var r=new E.shape.Line(t),i=[["x1","y1"],["x2","y2"]].map(function(t){return[parseFloat(e.getAttribute(t[0])),parseFloat(e.getAttribute(t[1]))]});n.relative&&(i=i.map(function(e){var t=(0,h.default)(e,2),n=t[0],r=t[1];return[n*p,r*u]})),r.setCoords(i),g.push(r)});var d=new E.shape.ShapeGroup(t);return d.addChildren(g),d}},{key:"svgFromDrawing",value:function(t){return e.svgFromShapes(t.getLayerShape().getShapes())}},{key:"navigationThumb",value:function(e,t){if(!e||!t)throw new Error("Call 'navigationThumb' with the xrx canvasses for the thumb and the image");var n=t.getViewbox().ctmDump(),r=new b.math.AffineTransform(n[0],n[1],n[2],n[3],n[4],n[5]),i=Math.sqrt(Math.pow(r.getScaleX(),2)+Math.pow(r.getShearX(),2)),o=Math.sqrt(Math.pow(r.getScaleY(),2)+Math.pow(r.getShearY(),2)),s=e.getLayerBackground().getImage().getWidth(),a=e.getLayerBackground().getImage().getHeight(),l=t.getLayerBackground().getImage().getWidth(),h=t.getLayerBackground().getImage().getHeight(),c=s/(l*i),p=a/(h*o),u=[];r.transform([0,0],0,u,0,1);var d=t.getCanvas().getWidth(),f=t.getCanvas().getHeight(),m=(new E.shape.Rect(e),[]),y=C.angleFromMatrix(n[0],n[1]);270==y?(m[0]=[(0-u[1])*p,(u[0]-d)*c],m[1]=[(f-u[1])*p,(u[0]-d)*c],m[2]=[(f-u[1])*p,u[0]*c],m[3]=[(0-u[1])*p,u[0]*c]):180==y?(m[0]=[(u[0]-d)*c,(u[1]-f)*p],m[1]=[u[0]*c,(u[1]-f)*p],m[2]=[u[0]*c,u[1]*p],m[3]=[(u[0]-d)*c,u[1]*p]):90==y?(m[0]=[(u[1]-f)*p,(0-u[0])*c],m[1]=[u[1]*p,(0-u[0])*c],m[2]=[u[1]*p,(d-u[0])*c],m[3]=[(u[1]-f)*p,(d-u[0])*c]):(m[0]=[(0-u[0])*c,(0-u[1])*p],m[1]=[(d-u[0])*c,(0-u[1])*p],m[2]=[(d-u[0])*c,(f-u[1])*p],m[3]=[(0-u[0])*c,(f-u[1])*p]);var v=new E.shape.Rect(e);v.setCoords(m),v.setStrokeWidth(1.5);var _="#A00000";"object"==("undefined"==typeof zonecolor?"undefined":(0,g.default)(zonecolor))&&zonecolor.length>3&&(_="#"+zonecolor[0]),v.setStrokeColor(_),v.setFillColor(_),v.setFillOpacity(.15),[].push(v),e.getLayerShape().removeShapes(),e.getLayerShape().addShapes(v),e.draw()}}]),e}()},function(e,t,n){e.exports={default:n(79),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(77),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){n(104),n(103),e.exports=n(24).Array.from},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(54),i=n(55),o=n(100);e.exports=function(e){return function(t,n,s){var a,l=r(t),h=i(l.length),c=o(s,h);if(e&&n!=n){for(;h>c;)if((a=l[c++])!=a)return!0}else for(;h>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(46),i=n(4)("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";var r=n(20),i=n(28);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){e.exports=n(11).document&&document.documentElement},function(e,t,n){e.exports=!n(17)&&!n(51)(function(){return 7!=Object.defineProperty(n(48)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(46);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(27),i=n(4)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(16);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){"use strict";var r=n(93),i=n(28),o=n(52),s={};n(19)(s,n(4)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(92),i=n(50),o=n(98),s=n(19),a=n(18),l=n(27),h=n(89),c=n(52),p=n(95),u=n(4)("iterator"),g=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,f,m,y,v){h(n,t,f);var _,E,b,C=function(e){if(!g&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",A="values"==m,S=!1,T=e.prototype,I=T[u]||T["@@iterator"]||m&&T[m],x=I||C(m),M=m?A?C("entries"):x:void 0,D="Array"==t?T.entries||I:I;if(D&&(b=p(D.call(new e)))!==Object.prototype&&(c(b,w,!0),r||a(b,u)||s(b,u,d)),A&&I&&"values"!==I.name&&(S=!0,x=function(){return I.call(this)}),r&&!v||!g&&!S&&T[u]||s(T,u,x),l[t]=x,l[w]=d,m)if(_={values:A?x:C("values"),keys:y?x:C("keys"),entries:M},v)for(E in _)E in T||o(T,E,_[E]);else i(i.P+i.F*(g||S),t,_);return _}},function(e,t,n){var r=n(4)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},e(o)}catch(e){}return n}},function(e,t){e.exports=!0},function(e,t,n){var r=n(16),i=n(94),o=n(49),s=n(29)("IE_PROTO"),a=function(){},l=function(){var e,t=n(48)("iframe"),r=o.length;for(t.style.display="none",n(84).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[s]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(20),i=n(16),o=n(97);e.exports=n(17)?Object.defineProperties:function(e,t){i(e);for(var n,s=o(t),a=s.length,l=0;a>l;)r.f(e,n=s[l++],t[n]);return e}},function(e,t,n){var r=n(18),i=n(56),o=n(29)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(18),i=n(54),o=n(81)(!1),s=n(29)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),l=0,h=[];for(n in a)n!=s&&r(a,n)&&h.push(n);for(;t.length>l;)r(a,n=t[l++])&&(~o(h,n)||h.push(n));return h}},function(e,t,n){var r=n(96),i=n(49);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){e.exports=n(19)},function(e,t,n){var r=n(30),i=n(25);e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),l=r(n),h=a.length;return l<0||l>=h?e?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===h||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536)}}},function(e,t,n){var r=n(30),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(26);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(82),i=n(4)("iterator"),o=n(27);e.exports=n(24).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";var r=n(47),i=n(50),o=n(56),s=n(88),a=n(87),l=n(55),h=n(83),c=n(102);i(i.S+i.F*!n(91)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,p,u=o(e),g="function"==typeof this?this:Array,d=arguments.length,f=d>1?arguments[1]:void 0,m=void 0!==f,y=0,v=c(u);if(m&&(f=r(f,d>2?arguments[2]:void 0,2)),void 0==v||g==Array&&a(v))for(t=l(u.length),n=new g(t);t>y;y++)h(n,y,m?f(u[y],y):u[y]);else for(p=v.call(u),n=new g;!(i=p.next()).done;y++)h(n,y,m?s(p,f,[i.value,y],!0):i.value);return n.length=y,n}})},function(e,t,n){"use strict";var r=n(99)(!0);n(90)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){t=e.exports=n(106)(),t.push([e.i,".panel[data-v-76fcf456]{background:transparent}.panel .panel-heading[data-v-76fcf456]{padding:0}.panel .xrx-toolbar .dropdown-toggle[data-v-76fcf456],.panel .xrx-toolbar .input-group[data-v-76fcf456],.panel .xrx-toolbar button[data-v-76fcf456],.panel .xrx-toolbar select[data-v-76fcf456]{height:32px}.panel .xrx-toolbar .dropdown-toggle>img[data-v-76fcf456],.panel .xrx-toolbar .input-group>img[data-v-76fcf456],.panel .xrx-toolbar button>img[data-v-76fcf456],.panel .xrx-toolbar select>img[data-v-76fcf456]{height:20px}.panel .xrx-toolbar .dropdown-toggle.btn[data-v-76fcf456],.panel .xrx-toolbar .input-group.btn[data-v-76fcf456],.panel .xrx-toolbar button.btn[data-v-76fcf456],.panel .xrx-toolbar select.btn[data-v-76fcf456]{padding-left:6px;padding-right:6px}.imexport-modal textarea[data-v-76fcf456]{font-family:monospace;min-height:200px}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,t){var n=n||{};n.global=this,n.isDef=function(e){return void 0!==e},n.exportPath_=function(e,t,r){e=e.split("."),r=r||n.global,e[0]in r||!r.execScript||r.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)!e.length&&n.isDef(t)?r[i]=t:r=r[i]?r[i]:r[i]={}},n.define=function(e,t){var r=t;n.exportPath_(e,r)},n.DEBUG=!0,n.LOCALE="en",n.TRUSTED_SITE=!0,n.STRICT_MODE_COMPATIBLE=!1,n.provide=function(e){n.exportPath_(e)},n.setTestOnly=function(e){if(!n.DEBUG)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},n.forwardDeclare=function(e){},n.getObjectByName=function(e,t){for(var r,i=e.split("."),o=t||n.global;r=i.shift();){if(!n.isDefAndNotNull(o[r]))return null;o=o[r]}return o},n.globalize=function(e,t){var r,i=t||n.global;for(r in e)i[r]=e[r]},n.addDependency=function(e,t,r){if(n.DEPENDENCIES_ENABLED){var i;e=e.replace(/\\/g,"/");for(var o=n.dependencies_,s=0;i=t[s];s++)o.nameToPath[i]=e,e in o.pathToNames||(o.pathToNames[e]={}),o.pathToNames[e][i]=!0;for(i=0;t=r[i];i++)e in o.requires||(o.requires[e]={}),o.requires[e][t]=!0}},n.ENABLE_DEBUG_LOADER=!0,n.require=function(e){},n.basePath="",n.nullFunction=function(){},n.identityFunction=function(e,t){return e},n.abstractMethod=function(){throw Error("unimplemented abstract method")},n.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(n.DEBUG&&(n.instantiatedSingletons_[n.instantiatedSingletons_.length]=e),e.instance_=new e)}},n.instantiatedSingletons_=[],n.DEPENDENCIES_ENABLED=!1,n.DEPENDENCIES_ENABLED&&(n.included_={},n.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},n.inHtmlDocument_=function(){var e=n.global.document;return void 0!==e&&"write"in e},n.findBasePath_=function(){if(n.global.CLOSURE_BASE_PATH)n.basePath=n.global.CLOSURE_BASE_PATH;else if(n.inHtmlDocument_())for(var e=n.global.document.getElementsByTagName("script"),t=e.length-1;0<=t;--t){var r=e[t].src,i=r.lastIndexOf("?"),i=-1==i?r.length:i;if("base.js"==r.substr(i-7,7)){n.basePath=r.substr(0,i-7);break}}},n.importScript_=function(e){var t=n.global.CLOSURE_IMPORT_SCRIPT||n.writeScriptTag_;!n.dependencies_.written[e]&&t(e)&&(n.dependencies_.written[e]=!0)},n.writeScriptTag_=function(e){if(n.inHtmlDocument_()){var t=n.global.document;if("complete"==t.readyState){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}return t.write('<script type="text/javascript" src="'+e+'"><\/script>'),!0}return!1},n.writeScripts_=function(){function e(t){if(!(t in o.written)){if(!(t in o.visited)&&(o.visited[t]=!0,t in o.requires))for(var s in o.requires[t])if(!n.isProvided_(s)){if(!(s in o.nameToPath))throw Error("Undefined nameToPath for "+s);e(o.nameToPath[s])}t in i||(i[t]=!0,r.push(t))}}var t,r=[],i={},o=n.dependencies_;for(t in n.included_)o.written[t]||e(t);for(t=0;t<r.length;t++){if(!r[t])throw Error("Undefined script input");n.importScript_(n.basePath+r[t])}},n.getPathFromDeps_=function(e){return e in n.dependencies_.nameToPath?n.dependencies_.nameToPath[e]:null},n.findBasePath_(),n.global.CLOSURE_NO_DEPS||n.importScript_(n.basePath+"deps.js")),n.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},n.isNull=function(e){return null===e},n.isDefAndNotNull=function(e){return null!=e},n.isArray=function(e){return"array"==n.typeOf(e)},n.isArrayLike=function(e){var t=n.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},n.isDateLike=function(e){return n.isObject(e)&&"function"==typeof e.getFullYear},n.isString=function(e){return"string"==typeof e},n.isBoolean=function(e){return"boolean"==typeof e},n.isNumber=function(e){return"number"==typeof e},n.isFunction=function(e){return"function"==n.typeOf(e)},n.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},n.getUid=function(e){return e[n.UID_PROPERTY_]||(e[n.UID_PROPERTY_]=++n.uidCounter_)},n.hasUid=function(e){return!!e[n.UID_PROPERTY_]},n.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(n.UID_PROPERTY_);try{delete e[n.UID_PROPERTY_]}catch(e){}},n.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),n.uidCounter_=0,n.getHashCode=n.getUid,n.removeHashCode=n.removeUid,n.cloneObject=function(e){var t=n.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var r,t="array"==t?[]:{};for(r in e)t[r]=n.cloneObject(e[r]);return t}return e},n.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},n.bindJs_=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},n.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n.bind=n.bindNative_:n.bind=n.bindJs_,n.bind.apply(null,arguments)},n.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}},n.mixin=function(e,t){for(var n in t)e[n]=t[n]},n.now=n.TRUSTED_SITE&&Date.now||function(){return+new Date},n.globalEval=function(e){if(n.global.execScript)n.global.execScript(e,"JavaScript");else{if(!n.global.eval)throw Error("goog.globalEval not available");if(null==n.evalWorksForGlobals_&&(n.global.eval("var _et_ = 1;"),void 0!==n.global._et_?(delete n.global._et_,n.evalWorksForGlobals_=!0):n.evalWorksForGlobals_=!1),n.evalWorksForGlobals_)n.global.eval(e);else{var t=n.global.document,r=t.createElement("script");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.body.appendChild(r),t.body.removeChild(r)}}},n.evalWorksForGlobals_=null,n.getCssName=function(e,t){var r=function(e){return n.cssNameMapping_[e]||e},i=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join("-")},i=n.cssNameMapping_?"BY_WHOLE"==n.cssNameMappingStyle_?r:i:function(e){return e};return t?e+"-"+i(t):i(e)},n.setCssNameMapping=function(e,t){n.cssNameMapping_=e,n.cssNameMappingStyle_=t},n.getMsg=function(e,t){var n,r=t||{};for(n in r){var i=(""+r[n]).replace(/\$/g,"$$$$");e=e.replace(new RegExp("\\{\\$"+n+"\\}","gi"),i)}return e},n.getMsgWithFallback=function(e,t){return e},n.exportSymbol=function(e,t,r){n.exportPath_(e,t,r)},n.exportProperty=function(e,t,n){e[t]=n},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,r){var i=Array.prototype.slice.call(arguments,2);return t.prototype[n].apply(e,i)}},n.base=function(e,t,r){var i=arguments.callee.caller;if(n.STRICT_MODE_COMPATIBLE||n.DEBUG&&!i)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(i.superClass_)return i.superClass_.constructor.apply(e,Array.prototype.slice.call(arguments,1));for(var o=Array.prototype.slice.call(arguments,2),s=!1,a=e.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[t]===i)s=!0;else if(s)return a.prototype[t].apply(e,o);if(e[t]===i)return e.constructor.prototype[t].apply(e,o);throw Error("goog.base called from a method of one name to a method of a different name")},n.scope=function(e){e.call(n.global)};var r={drawing:function(){}};r.drawing.State={DRAG:1,NONE:2},r.drawing.Mode={VIEW:1,MODIFY:2,DELETE:3,CREATE:4,DISABLED:5,SELECT:6,HOVER:7,HOVERMULTIPLE:8},r.drawing.Orientation={C:"C",NE:"NE",SE:"SE",SW:"SW",NW:"NW"},r.drawing.Position={NE:"NE",SE:"SE",SW:"SW",NW:"NW"},r.drawing.EventType={VIEWBOX_CHANGE:"eventViewboxChange",SHAPE_MODIFY:"eventShapeModify",SHAPE_CREATED:"eventShapeCreated",SHAPE_SELECTED:"eventShapeSelected",SHAPE_HOVER_IN:"eventShapeHoverIn",SHAPE_HOVER_MOVE:"eventShapeHoverMove",SHAPE_HOVER_OUT:"eventShapeHoverOut",SHAPE_BEFORE_DRAW:"eventShapeBeforeDraw"},n.object={},n.object.forEach=function(e,t,n){for(var r in e)t.call(n,e[r],r,e)},n.object.filter=function(e,t,n){var r,i={};for(r in e)t.call(n,e[r],r,e)&&(i[r]=e[r]);return i},n.object.map=function(e,t,n){var r,i={};for(r in e)i[r]=t.call(n,e[r],r,e);return i},n.object.some=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return!0;return!1},n.object.every=function(e,t,n){for(var r in e)if(!t.call(n,e[r],r,e))return!1;return!0},n.object.getCount=function(e){var t,n=0;for(t in e)n++;return n},n.object.getAnyKey=function(e){for(var t in e)return t},n.object.getAnyValue=function(e){for(var t in e)return e[t]},n.object.contains=function(e,t){return n.object.containsValue(e,t)},n.object.getValues=function(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n},n.object.getKeys=function(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n},n.object.getValueByKeys=function(e,t){for(var r=n.isArrayLike(t),i=r?t:arguments,r=r?0:1;r<i.length&&(e=e[i[r]],n.isDef(e));r++);return e},n.object.containsKey=function(e,t){return t in e},n.object.containsValue=function(e,t){for(var n in e)if(e[n]==t)return!0;return!1},n.object.findKey=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},n.object.findValue=function(e,t,r){return(t=n.object.findKey(e,t,r))&&e[t]},n.object.isEmpty=function(e){for(var t in e)return!1;return!0},n.object.clear=function(e){for(var t in e)delete e[t]},n.object.remove=function(e,t){var n;return(n=t in e)&&delete e[t],n},n.object.add=function(e,t,r){if(t in e)throw Error('The object already contains the key "'+t+'"');n.object.set(e,t,r)},n.object.get=function(e,t,n){return t in e?e[t]:n},n.object.set=function(e,t,n){e[t]=n},n.object.setIfUndefined=function(e,t,n){return t in e?e[t]:e[t]=n},n.object.clone=function(e){var t,n={};for(t in e)n[t]=e[t];return n},n.object.unsafeClone=function(e){var t=n.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var r,t="array"==t?[]:{};for(r in e)t[r]=n.object.unsafeClone(e[r]);return t}return e},n.object.transpose=function(e){var t,n={};for(t in e)n[e[t]]=t;return n},n.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),n.object.extend=function(e,t){for(var r,i,o=1;o<arguments.length;o++){i=arguments[o];for(r in i)e[r]=i[r];for(var s=0;s<n.object.PROTOTYPE_FIELDS_.length;s++)r=n.object.PROTOTYPE_FIELDS_[s],Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}},n.object.create=function(e){var t=arguments.length;if(1==t&&n.isArray(arguments[0]))return n.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},i=0;i<t;i+=2)r[arguments[i]]=arguments[i+1];return r},n.object.createSet=function(e){var t=arguments.length;if(1==t&&n.isArray(arguments[0]))return n.object.createSet.apply(null,arguments[0]);for(var r={},i=0;i<t;i++)r[arguments[i]]=!0;return r},n.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},n.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},n.string={},n.string.DETECT_DOUBLE_ESCAPING=!1,n.string.Unicode={NBSP:""},n.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},n.string.endsWith=function(e,t){var n=e.length-t.length;return 0<=n&&e.indexOf(t,n)==n},n.string.caseInsensitiveStartsWith=function(e,t){return 0==n.string.caseInsensitiveCompare(t,e.substr(0,t.length))},n.string.caseInsensitiveEndsWith=function(e,t){return 0==n.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},n.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},n.string.subs=function(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")},n.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},n.string.isEmpty=function(e){return/^[\s\xa0]*$/.test(e)},n.string.isEmptySafe=function(e){return n.string.isEmpty(n.string.makeSafe(e))},n.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},n.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},n.string.isNumeric=function(e){return!/[^0-9]/.test(e)},n.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},n.string.isSpace=function(e){return" "==e},n.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"">=e},n.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},n.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},n.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},n.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},n.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},n.string.trim=function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},n.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},n.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},n.string.caseInsensitiveCompare=function(e,t){var n=String(e).toLowerCase(),r=String(t).toLowerCase();return n<r?-1:n==r?0:1},n.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,n.string.numerateCompare=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var r=e.toLowerCase().match(n.string.numerateCompareRegExp_),i=t.toLowerCase().match(n.string.numerateCompareRegExp_),o=Math.min(r.length,i.length),s=0;s<o;s++){var a=r[s],l=i[s];if(a!=l)return r=parseInt(a,10),!isNaN(r)&&(i=parseInt(l,10),!isNaN(i)&&r-i)?r-i:a<l?-1:1}return r.length!=i.length?r.length-i.length:e<t?-1:1},n.string.urlEncode=function(e){return encodeURIComponent(String(e))},n.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},n.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},n.string.htmlEscape=function(e,t){if(t)e=e.replace(n.string.AMP_RE_,"&amp;").replace(n.string.LT_RE_,"&lt;").replace(n.string.GT_RE_,"&gt;").replace(n.string.QUOT_RE_,"&quot;").replace(n.string.SINGLE_QUOTE_RE_,"&#39;").replace(n.string.NULL_RE_,"&#0;"),n.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(n.string.E_RE_,"&#101;"));else{if(!n.string.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(n.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(n.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(n.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(n.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(n.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(n.string.NULL_RE_,"&#0;")),n.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")&&(e=e.replace(n.string.E_RE_,"&#101;"))}return e},n.string.AMP_RE_=/&/g,n.string.LT_RE_=/</g,n.string.GT_RE_=/>/g,n.string.QUOT_RE_=/"/g,n.string.SINGLE_QUOTE_RE_=/'/g,n.string.NULL_RE_=/\x00/g,n.string.E_RE_=/e/g,n.string.ALL_RE_=n.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,n.string.unescapeEntities=function(e){return n.string.contains(e,"&")?"document"in n.global?n.string.unescapeEntitiesUsingDom_(e):n.string.unescapePureXmlEntities_(e):e},n.string.unescapeEntitiesWithDocument=function(e,t){return n.string.contains(e,"&")?n.string.unescapeEntitiesUsingDom_(e,t):e},n.string.unescapeEntitiesUsingDom_=function(e,t){var r,i={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return r=t?t.createElement("div"):n.global.document.createElement("div"),e.replace(n.string.HTML_ENTITY_PATTERN_,function(e,t){var n=i[e];if(n)return n;if("#"==t.charAt(0)){var o=Number("0"+t.substr(1));isNaN(o)||(n=String.fromCharCode(o))}return n||(r.innerHTML=e+" ",n=r.firstChild.nodeValue.slice(0,-1)),i[e]=n})},n.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var n=Number("0"+t.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return e}})},n.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,n.string.whitespaceEscape=function(e,t){return n.string.newLineToBr(e.replace(/  /g," &#160;"),t)},n.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+n.string.Unicode.NBSP)},n.string.stripQuotes=function(e,t){for(var n=t.length,r=0;r<n;r++){var i=1==n?t:t.charAt(r);if(e.charAt(0)==i&&e.charAt(e.length-1)==i)return e.substring(1,e.length-1)}return e},n.string.truncate=function(e,t,r){return r&&(e=n.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=n.string.htmlEscape(e)),e},n.string.truncateMiddle=function(e,t,r,i){if(r&&(e=n.string.unescapeEntities(e)),i&&e.length>t){i>t&&(i=t);var o=e.length-i;e=e.substring(0,t-i)+"..."+e.substring(o)}else e.length>t&&(i=Math.floor(t/2),o=e.length-i,e=e.substring(0,i+t%2)+"..."+e.substring(o));return r&&(e=n.string.htmlEscape(e)),e},n.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\"},n.string.jsEscapeCache_={"'":"\\'"},n.string.quote=function(e){if(e=String(e),e.quote)return e.quote();for(var t=['"'],r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);t[r+1]=n.string.specialEscapeChars_[i]||(31<o&&127>o?i:n.string.escapeChar(i))}return t.push('"'),t.join("")},n.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=n.string.escapeChar(e.charAt(r));return t.join("")},n.string.escapeChar=function(e){if(e in n.string.jsEscapeCache_)return n.string.jsEscapeCache_[e];if(e in n.string.specialEscapeChars_)return n.string.jsEscapeCache_[e]=n.string.specialEscapeChars_[e];var t=e,r=e.charCodeAt(0);return 31<r&&127>r?t=e:(256>r?(t="\\x",(16>r||256<r)&&(t+="0")):(t="\\u",4096>r&&(t+="0")),t+=r.toString(16).toUpperCase()),n.string.jsEscapeCache_[e]=t},n.string.toMap=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=!0;return t},n.string.contains=function(e,t){return-1!=e.indexOf(t)},n.string.caseInsensitiveContains=function(e,t){return n.string.contains(e.toLowerCase(),t.toLowerCase())},n.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},n.string.removeAt=function(e,t,n){var r=e;return 0<=t&&t<e.length&&0<n&&(r=e.substr(0,t)+e.substr(t+n,e.length-t-n)),r},n.string.remove=function(e,t){var r=new RegExp(n.string.regExpEscape(t),"");return e.replace(r,"")},n.string.removeAll=function(e,t){var r=new RegExp(n.string.regExpEscape(t),"g");return e.replace(r,"")},n.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},n.string.repeat=function(e,t){return Array(t+1).join(e)},n.string.padNumber=function(e,t,r){return e=n.isDef(r)?e.toFixed(r):String(e),r=e.indexOf("."),-1==r&&(r=e.length),n.string.repeat("0",Math.max(0,t-r))+e},n.string.makeSafe=function(e){return null==e?"":String(e)},n.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},n.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^n.now()).toString(36)},n.string.compareVersions=function(e,t){for(var r=0,i=n.string.trim(String(e)).split("."),o=n.string.trim(String(t)).split("."),s=Math.max(i.length,o.length),a=0;0==r&&a<s;a++){var l=i[a]||"",h=o[a]||"",c=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var u=c.exec(l)||["","",""],g=p.exec(h)||["","",""];if(0==u[0].length&&0==g[0].length)break;var r=0==u[1].length?0:parseInt(u[1],10),d=0==g[1].length?0:parseInt(g[1],10),r=n.string.compareElements_(r,d)||n.string.compareElements_(0==u[2].length,0==g[2].length)||n.string.compareElements_(u[2],g[2])}while(0==r)}return r},n.string.compareElements_=function(e,t){return e<t?-1:e>t?1:0},n.string.HASHCODE_MAX_=4294967296,n.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r),t%=n.string.HASHCODE_MAX_;return t},n.string.uniqueStringCounter_=2147483648*Math.random()|0,n.string.createUniqueString=function(){return"goog_"+n.string.uniqueStringCounter_++},n.string.toNumber=function(e){var t=Number(e);return 0==t&&n.string.isEmpty(e)?NaN:t},n.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},n.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},n.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},n.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},n.string.toTitleCase=function(e,t){var r=n.isString(t)?n.string.regExpEscape(t):"\\s";return e.replace(new RegExp("(^"+(r?"|["+r+"]+":"")+")([a-z])","g"),function(e,t,n){return t+n.toUpperCase()})},n.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),n.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},n.string.splitLimit=function(e,t,n){e=e.split(t);for(var r=[];0<n&&e.length;)r.push(e.shift()),n--;return e.length&&r.push(e.join(t)),r},n.labs={},n.labs.userAgent={},n.labs.userAgent.util={},n.labs.userAgent.util.getNativeUserAgentString_=function(){var e=n.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},n.labs.userAgent.util.getNavigator_=function(){return n.global.navigator},n.labs.userAgent.util.userAgent_=n.labs.userAgent.util.getNativeUserAgentString_(),n.labs.userAgent.util.setUserAgent=function(e){n.labs.userAgent.util.userAgent_=e||n.labs.userAgent.util.getNativeUserAgentString_()},n.labs.userAgent.util.getUserAgent=function(){return n.labs.userAgent.util.userAgent_},n.labs.userAgent.util.matchUserAgent=function(e){var t=n.labs.userAgent.util.getUserAgent();return n.string.contains(t,e)},n.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=n.labs.userAgent.util.getUserAgent();return n.string.caseInsensitiveContains(t,e)},n.labs.userAgent.util.extractVersionTuples=function(e){for(var t,n=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),r=[];t=n.exec(e);)r.push([t[1],t[2],t[3]||void 0]);return r},n.dom={},n.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},n.debug={},n.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,n.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))},n.inherits(n.debug.Error,Error),n.debug.Error.prototype.name="CustomError",n.asserts={},n.asserts.ENABLE_ASSERTS=n.DEBUG,n.asserts.AssertionError=function(e,t){t.unshift(e),n.debug.Error.call(this,n.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},n.inherits(n.asserts.AssertionError,n.debug.Error),n.asserts.AssertionError.prototype.name="AssertionError",n.asserts.doAssertFailure_=function(e,t,r,i){var o="Assertion failed";if(r)var o=o+": "+r,s=i;else e&&(o+=": "+e,s=t);throw new n.asserts.AssertionError(""+o,s||[])},n.asserts.assert=function(e,t,r){return n.asserts.ENABLE_ASSERTS&&!e&&n.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},n.asserts.fail=function(e,t){if(n.asserts.ENABLE_ASSERTS)throw new n.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},n.asserts.assertNumber=function(e,t,r){return n.asserts.ENABLE_ASSERTS&&!n.isNumber(e)&&n.asserts.doAssertFailure_("Expected number but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertString=function(e,t,r){return n.asserts.ENABLE_ASSERTS&&!n.isString(e)&&n.asserts.doAssertFailure_("Expected string but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertFunction=function(e,t,r){return n.asserts.ENABLE_ASSERTS&&!n.isFunction(e)&&n.asserts.doAssertFailure_("Expected function but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertObject=function(e,t,r){return n.asserts.ENABLE_ASSERTS&&!n.isObject(e)&&n.asserts.doAssertFailure_("Expected object but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertArray=function(e,t,r){return n.asserts.ENABLE_ASSERTS&&!n.isArray(e)&&n.asserts.doAssertFailure_("Expected array but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertBoolean=function(e,t,r){return n.asserts.ENABLE_ASSERTS&&!n.isBoolean(e)&&n.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertElement=function(e,t,r){return!n.asserts.ENABLE_ASSERTS||n.isObject(e)&&e.nodeType==n.dom.NodeType.ELEMENT||n.asserts.doAssertFailure_("Expected Element but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertInstanceof=function(e,t,r,i){return!n.asserts.ENABLE_ASSERTS||e instanceof t||n.asserts.doAssertFailure_("instanceof check failed.",null,r,Array.prototype.slice.call(arguments,3)),e},n.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)n.asserts.fail(e+" should not be enumerable in Object.prototype.")},n.array={},n.NATIVE_ARRAY_PROTOTYPES=n.TRUSTED_SITE,n.array.ASSUME_NATIVE_FUNCTIONS=!1,n.array.peek=function(e){return e[e.length-1]},n.array.last=n.array.peek,n.array.ARRAY_PROTOTYPE_=Array.prototype,n.array.indexOf=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.indexOf)?function(e,t,r){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,n.isString(e))return n.isString(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},n.array.lastIndexOf=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(e,t,r){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(r=null==r?e.length-1:r,0>r&&(r=Math.max(0,e.length+r)),n.isString(e))return n.isString(t)&&1==t.length?e.lastIndexOf(t,r):-1;for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1},n.array.forEach=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.forEach)?function(e,t,r){n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.forEach.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=n.isString(e)?e.split(""):e,s=0;s<i;s++)s in o&&t.call(r,o[s],s,e)},n.array.forEachRight=function(e,t,r){for(var i=e.length,o=n.isString(e)?e.split(""):e,i=i-1;0<=i;--i)i in o&&t.call(r,o[i],i,e)},n.array.filter=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.filter)?function(e,t,r){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.filter.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=[],s=0,a=n.isString(e)?e.split(""):e,l=0;l<i;l++)if(l in a){var h=a[l];t.call(r,h,l,e)&&(o[s++]=h)}return o},n.array.map=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.map)?function(e,t,r){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.map.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=Array(i),s=n.isString(e)?e.split(""):e,a=0;a<i;a++)a in s&&(o[a]=t.call(r,s[a],a,e));return o},n.array.reduce=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.reduce)?function(e,t,r,i){return n.asserts.assert(null!=e.length),i&&(t=n.bind(t,i)),n.array.ARRAY_PROTOTYPE_.reduce.call(e,t,r)}:function(e,t,r,i){var o=r;return n.array.forEach(e,function(n,r){o=t.call(i,o,n,r,e)}),o},n.array.reduceRight=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.reduceRight)?function(e,t,r,i){return n.asserts.assert(null!=e.length),i&&(t=n.bind(t,i)),n.array.ARRAY_PROTOTYPE_.reduceRight.call(e,t,r)}:function(e,t,r,i){var o=r;return n.array.forEachRight(e,function(n,r){o=t.call(i,o,n,r,e)}),o},n.array.some=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.some)?function(e,t,r){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.some.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=n.isString(e)?e.split(""):e,s=0;s<i;s++)if(s in o&&t.call(r,o[s],s,e))return!0;return!1},n.array.every=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.every)?function(e,t,r){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.every.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=n.isString(e)?e.split(""):e,s=0;s<i;s++)if(s in o&&!t.call(r,o[s],s,e))return!1;return!0},n.array.count=function(e,t,r){var i=0;return n.array.forEach(e,function(e,n,o){t.call(r,e,n,o)&&++i},r),i},n.array.find=function(e,t,r){return t=n.array.findIndex(e,t,r),0>t?null:n.isString(e)?e.charAt(t):e[t]},n.array.findIndex=function(e,t,r){for(var i=e.length,o=n.isString(e)?e.split(""):e,s=0;s<i;s++)if(s in o&&t.call(r,o[s],s,e))return s;return-1},n.array.findRight=function(e,t,r){return t=n.array.findIndexRight(e,t,r),0>t?null:n.isString(e)?e.charAt(t):e[t]},n.array.findIndexRight=function(e,t,r){for(var i=e.length,o=n.isString(e)?e.split(""):e,i=i-1;0<=i;i--)if(i in o&&t.call(r,o[i],i,e))return i;return-1},n.array.contains=function(e,t){return 0<=n.array.indexOf(e,t)},n.array.isEmpty=function(e){return 0==e.length},n.array.clear=function(e){if(!n.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},n.array.insert=function(e,t){n.array.contains(e,t)||e.push(t)},n.array.insertAt=function(e,t,r){n.array.splice(e,r,0,t)},n.array.insertArrayAt=function(e,t,r){n.partial(n.array.splice,e,r,0).apply(null,t)},n.array.insertBefore=function(e,t,r){var i;2==arguments.length||0>(i=n.array.indexOf(e,r))?e.push(t):n.array.insertAt(e,t,i)},n.array.remove=function(e,t){var r,i=n.array.indexOf(e,t);return(r=0<=i)&&n.array.removeAt(e,i),r},n.array.removeAt=function(e,t){return n.asserts.assert(null!=e.length),1==n.array.ARRAY_PROTOTYPE_.splice.call(e,t,1).length},n.array.removeIf=function(e,t,r){return 0<=(t=n.array.findIndex(e,t,r))&&(n.array.removeAt(e,t),!0)},n.array.concat=function(e){return n.array.ARRAY_PROTOTYPE_.concat.apply(n.array.ARRAY_PROTOTYPE_,arguments)},n.array.join=function(e){return n.array.ARRAY_PROTOTYPE_.concat.apply(n.array.ARRAY_PROTOTYPE_,arguments)},n.array.toArray=function(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]},n.array.clone=n.array.toArray,n.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var i,o=arguments[r];if(n.isArray(o)||(i=n.isArrayLike(o))&&Object.prototype.hasOwnProperty.call(o,"callee"))e.push.apply(e,o);else if(i)for(var s=e.length,a=o.length,l=0;l<a;l++)e[s+l]=o[l];else e.push(o)}},n.array.splice=function(e,t,r,i){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.splice.apply(e,n.array.slice(arguments,1))},n.array.slice=function(e,t,r){return n.asserts.assert(null!=e.length),2>=arguments.length?n.array.ARRAY_PROTOTYPE_.slice.call(e,t):n.array.ARRAY_PROTOTYPE_.slice.call(e,t,r)},n.array.removeDuplicates=function(e,t,r){t=t||e;var i=function(e){return n.isObject(a)?"o"+n.getUid(a):(typeof a).charAt(0)+a};r=r||i;for(var i={},o=0,s=0;s<e.length;){var a=e[s++],l=r(a);Object.prototype.hasOwnProperty.call(i,l)||(i[l]=!0,t[o++]=a)}t.length=o},n.array.binarySearch=function(e,t,r){return n.array.binarySearch_(e,r||n.array.defaultCompare,!1,t)},n.array.binarySelect=function(e,t,r){return n.array.binarySearch_(e,t,!0,void 0,r)},n.array.binarySearch_=function(e,t,n,r,i){for(var o,s=0,a=e.length;s<a;){var l,h=s+a>>1;l=n?t.call(i,e[h],h,e):t(r,e[h]),0<l?s=h+1:(a=h,o=!l)}return o?s:~s},n.array.sort=function(e,t){e.sort(t||n.array.defaultCompare)},n.array.stableSort=function(e,t){for(var r=0;r<e.length;r++)e[r]={index:r,value:e[r]};var i=t||n.array.defaultCompare;for(n.array.sort(e,function(e,t){return i(e.value,t.value)||e.index-t.index}),r=0;r<e.length;r++)e[r]=e[r].value},n.array.sortObjectsByKey=function(e,t,r){var i=r||n.array.defaultCompare;n.array.sort(e,function(e,n){return i(e[t],n[t])})};n.array.isSorted=function(e,t,r){t=t||n.array.defaultCompare;for(var i=1;i<e.length;i++){var o=t(e[i-1],e[i]);if(0<o||0==o&&r)return!1}return!0},n.array.equals=function(e,t,r){if(!n.isArrayLike(e)||!n.isArrayLike(t)||e.length!=t.length)return!1;var i=e.length;r=r||n.array.defaultCompareEquality;for(var o=0;o<i;o++)if(!r(e[o],t[o]))return!1;return!0},n.array.compare3=function(e,t,r){r=r||n.array.defaultCompare;for(var i=Math.min(e.length,t.length),o=0;o<i;o++){var s=r(e[o],t[o]);if(0!=s)return s}return n.array.defaultCompare(e.length,t.length)},n.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},n.array.defaultCompareEquality=function(e,t){return e===t},n.array.binaryInsert=function(e,t,r){return 0>(r=n.array.binarySearch(e,t,r))&&(n.array.insertAt(e,t,-(r+1)),!0)},n.array.binaryRemove=function(e,t,r){return 0<=(t=n.array.binarySearch(e,t,r))&&n.array.removeAt(e,t)},n.array.bucket=function(e,t,r){for(var i={},o=0;o<e.length;o++){var s=e[o],a=t.call(r,s,o,e);n.isDef(a)&&(i[a]||(i[a]=[])).push(s)}return i},n.array.toObject=function(e,t,r){var i={};return n.array.forEach(e,function(n,o){i[t.call(r,n,o,e)]=n}),i},n.array.range=function(e,t,n){var r=[],i=0,o=e;if(n=n||1,void 0!==t&&(i=e,o=t),0>n*(o-i))return[];if(0<n)for(e=i;e<o;e+=n)r.push(e);else for(e=i;e>o;e+=n)r.push(e);return r},n.array.repeat=function(e,t){for(var n=[],r=0;r<t;r++)n[r]=e;return n},n.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var i=arguments[r];n.isArray(i)?t.push.apply(t,n.array.flatten.apply(null,i)):t.push(i)}return t},n.array.rotate=function(e,t){return n.asserts.assert(null!=e.length),e.length&&(t%=e.length,0<t?n.array.ARRAY_PROTOTYPE_.unshift.apply(e,e.splice(-t,t)):0>t&&n.array.ARRAY_PROTOTYPE_.push.apply(e,e.splice(0,-t))),e},n.array.moveItem=function(e,t,r){n.asserts.assert(0<=t&&t<e.length),n.asserts.assert(0<=r&&r<e.length),t=n.array.ARRAY_PROTOTYPE_.splice.call(e,t,1),n.array.ARRAY_PROTOTYPE_.splice.call(e,r,0,t[0])},n.array.zip=function(e){if(!arguments.length)return[];for(var t=[],n=0;;n++){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(n>=o.length)return t;r.push(o[n])}t.push(r)}},n.array.shuffle=function(e,t){for(var n=t||Math.random,r=e.length-1;0<r;r--){var i=Math.floor(n()*(r+1)),o=e[r];e[r]=e[i],e[i]=o}},n.labs.userAgent.browser={},n.labs.userAgent.browser.matchOpera_=function(){return n.labs.userAgent.util.matchUserAgent("Opera")||n.labs.userAgent.util.matchUserAgent("OPR")},n.labs.userAgent.browser.matchIE_=function(){return n.labs.userAgent.util.matchUserAgent("Trident")||n.labs.userAgent.util.matchUserAgent("MSIE")},n.labs.userAgent.browser.matchFirefox_=function(){return n.labs.userAgent.util.matchUserAgent("Firefox")},n.labs.userAgent.browser.matchSafari_=function(){return n.labs.userAgent.util.matchUserAgent("Safari")&&!n.labs.userAgent.util.matchUserAgent("Chrome")&&!n.labs.userAgent.util.matchUserAgent("CriOS")&&!n.labs.userAgent.util.matchUserAgent("Android")},n.labs.userAgent.browser.matchChrome_=function(){return n.labs.userAgent.util.matchUserAgent("Chrome")||n.labs.userAgent.util.matchUserAgent("CriOS")},n.labs.userAgent.browser.matchAndroidBrowser_=function(){return n.labs.userAgent.util.matchUserAgent("Android")&&!n.labs.userAgent.util.matchUserAgent("Chrome")&&!n.labs.userAgent.util.matchUserAgent("CriOS")},n.labs.userAgent.browser.isOpera=n.labs.userAgent.browser.matchOpera_,n.labs.userAgent.browser.isIE=n.labs.userAgent.browser.matchIE_,n.labs.userAgent.browser.isFirefox=n.labs.userAgent.browser.matchFirefox_,n.labs.userAgent.browser.isSafari=n.labs.userAgent.browser.matchSafari_,n.labs.userAgent.browser.isChrome=n.labs.userAgent.browser.matchChrome_,n.labs.userAgent.browser.isAndroidBrowser=n.labs.userAgent.browser.matchAndroidBrowser_,n.labs.userAgent.browser.isSilk=function(){return n.labs.userAgent.util.matchUserAgent("Silk")},n.labs.userAgent.browser.getVersion=function(){var e=n.labs.userAgent.util.getUserAgent();return n.labs.userAgent.browser.isIE()?n.labs.userAgent.browser.getIEVersion_(e):n.labs.userAgent.browser.isOpera()?n.labs.userAgent.browser.getOperaVersion_(e):(e=n.labs.userAgent.util.extractVersionTuples(e),n.labs.userAgent.browser.getVersionFromTuples_(e))},n.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=n.string.compareVersions(n.labs.userAgent.browser.getVersion(),e)},n.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];var t="",n=/MSIE +([\d\.]+)/.exec(e);if(n&&n[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==n[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=n[1];return t},n.labs.userAgent.browser.getOperaVersion_=function(e){e=n.labs.userAgent.util.extractVersionTuples(e);var t=n.array.peek(e);return"OPR"==t[0]&&t[1]?t[1]:n.labs.userAgent.browser.getVersionFromTuples_(e)},n.labs.userAgent.browser.getVersionFromTuples_=function(e){return n.asserts.assert(2<e.length,"Couldn't extract version tuple from user agent string"),e[2]&&e[2][1]?e[2][1]:""},n.labs.userAgent.engine={},n.labs.userAgent.engine.isPresto=function(){return n.labs.userAgent.util.matchUserAgent("Presto")},n.labs.userAgent.engine.isTrident=function(){return n.labs.userAgent.util.matchUserAgent("Trident")||n.labs.userAgent.util.matchUserAgent("MSIE")},n.labs.userAgent.engine.isWebKit=function(){return n.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")},n.labs.userAgent.engine.isGecko=function(){return n.labs.userAgent.util.matchUserAgent("Gecko")&&!n.labs.userAgent.engine.isWebKit()&&!n.labs.userAgent.engine.isTrident()},n.labs.userAgent.engine.getVersion=function(){var e=n.labs.userAgent.util.getUserAgent();if(e){var e=n.labs.userAgent.util.extractVersionTuples(e),t=e[1];if(t)return"Gecko"==t[0]?n.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):t[1];var r,e=e[0];if(e&&(r=e[2])&&(r=/Trident\/([^\s;]+)/.exec(r)))return r[1]}return""},n.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=n.string.compareVersions(n.labs.userAgent.engine.getVersion(),e)},n.labs.userAgent.engine.getVersionForKey_=function(e,t){var r=n.array.find(e,function(e){return t==e[0]});return r&&r[1]||""},n.userAgent={},n.userAgent.ASSUME_IE=!1,n.userAgent.ASSUME_GECKO=!1,n.userAgent.ASSUME_WEBKIT=!1,n.userAgent.ASSUME_MOBILE_WEBKIT=!1,n.userAgent.ASSUME_OPERA=!1,n.userAgent.ASSUME_ANY_VERSION=!1,n.userAgent.BROWSER_KNOWN_=n.userAgent.ASSUME_IE||n.userAgent.ASSUME_GECKO||n.userAgent.ASSUME_MOBILE_WEBKIT||n.userAgent.ASSUME_WEBKIT||n.userAgent.ASSUME_OPERA,n.userAgent.getUserAgentString=function(){return n.labs.userAgent.util.getUserAgent()},n.userAgent.getNavigator=function(){return n.global.navigator||null},n.userAgent.OPERA=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_OPERA:n.labs.userAgent.browser.isOpera(),n.userAgent.IE=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_IE:n.labs.userAgent.browser.isIE(),n.userAgent.GECKO=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_GECKO:n.labs.userAgent.engine.isGecko(),n.userAgent.WEBKIT=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_WEBKIT||n.userAgent.ASSUME_MOBILE_WEBKIT:n.labs.userAgent.engine.isWebKit(),n.userAgent.isMobile_=function(){return n.userAgent.WEBKIT&&n.labs.userAgent.util.matchUserAgent("Mobile")},n.userAgent.MOBILE=n.userAgent.ASSUME_MOBILE_WEBKIT||n.userAgent.isMobile_(),n.userAgent.SAFARI=n.userAgent.WEBKIT,n.userAgent.determinePlatform_=function(){var e=n.userAgent.getNavigator();return e&&e.platform||""},n.userAgent.PLATFORM=n.userAgent.determinePlatform_(),n.userAgent.ASSUME_MAC=!1,n.userAgent.ASSUME_WINDOWS=!1,n.userAgent.ASSUME_LINUX=!1,n.userAgent.ASSUME_X11=!1,n.userAgent.ASSUME_ANDROID=!1,n.userAgent.ASSUME_IPHONE=!1,n.userAgent.ASSUME_IPAD=!1,n.userAgent.PLATFORM_KNOWN_=n.userAgent.ASSUME_MAC||n.userAgent.ASSUME_WINDOWS||n.userAgent.ASSUME_LINUX||n.userAgent.ASSUME_X11||n.userAgent.ASSUME_ANDROID||n.userAgent.ASSUME_IPHONE||n.userAgent.ASSUME_IPAD,n.userAgent.initPlatform_=function(){n.userAgent.detectedMac_=n.string.contains(n.userAgent.PLATFORM,"Mac"),n.userAgent.detectedWindows_=n.string.contains(n.userAgent.PLATFORM,"Win"),n.userAgent.detectedLinux_=n.string.contains(n.userAgent.PLATFORM,"Linux"),n.userAgent.detectedX11_=!!n.userAgent.getNavigator()&&n.string.contains(n.userAgent.getNavigator().appVersion||"","X11");var e=n.userAgent.getUserAgentString();n.userAgent.detectedAndroid_=!!e&&n.string.contains(e,"Android"),n.userAgent.detectedIPhone_=!!e&&n.string.contains(e,"iPhone"),n.userAgent.detectedIPad_=!!e&&n.string.contains(e,"iPad")},n.userAgent.PLATFORM_KNOWN_||n.userAgent.initPlatform_(),n.userAgent.MAC=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_MAC:n.userAgent.detectedMac_,n.userAgent.WINDOWS=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_WINDOWS:n.userAgent.detectedWindows_,n.userAgent.LINUX=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_LINUX:n.userAgent.detectedLinux_,n.userAgent.X11=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_X11:n.userAgent.detectedX11_,n.userAgent.ANDROID=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_ANDROID:n.userAgent.detectedAndroid_,n.userAgent.IPHONE=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_IPHONE:n.userAgent.detectedIPhone_,n.userAgent.IPAD=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_IPAD:n.userAgent.detectedIPad_,n.userAgent.determineVersion_=function(){var e,t="";return n.userAgent.OPERA&&n.global.opera?(t=n.global.opera.version,n.isFunction(t)?t():t):(n.userAgent.GECKO?e=/rv\:([^\);]+)(\)|;)/:n.userAgent.IE?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:n.userAgent.WEBKIT&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(n.userAgent.getUserAgentString()))?t[1]:""),n.userAgent.IE&&(e=n.userAgent.getDocumentMode_())>parseFloat(t)?String(e):t)},n.userAgent.getDocumentMode_=function(){var e=n.global.document;return e?e.documentMode:void 0},n.userAgent.VERSION=n.userAgent.determineVersion_(),n.userAgent.compare=function(e,t){return n.string.compareVersions(e,t)},n.userAgent.isVersionOrHigherCache_={},n.userAgent.isVersionOrHigher=function(e){return n.userAgent.ASSUME_ANY_VERSION||n.userAgent.isVersionOrHigherCache_[e]||(n.userAgent.isVersionOrHigherCache_[e]=0<=n.string.compareVersions(n.userAgent.VERSION,e))},n.userAgent.isVersion=n.userAgent.isVersionOrHigher,n.userAgent.isDocumentModeOrHigher=function(e){return n.userAgent.IE&&n.userAgent.DOCUMENT_MODE>=e},n.userAgent.isDocumentMode=n.userAgent.isDocumentModeOrHigher,n.userAgent.DOCUMENT_MODE=function(){var e=n.global.document;return e&&n.userAgent.IE?n.userAgent.getDocumentMode_()||("CSS1Compat"==e.compatMode?parseInt(n.userAgent.VERSION,10):5):void 0}(),r.engine=function(){},r.engine.CANVAS="canvas",r.engine.SVG="svg",r.engine.VML="vml",r.engine.hasDom=function(e){return e===r.engine.SVG||e===r.engine.VML},r.engine.isSupported=function(e){if(e===r.engine.CANVAS)return!!document.createElement("canvas").getContext;if(e===r.engine.SVG)return!!document.createElementNS&&!!document.createElementNS(r.svg.Namespace.svg,"svg").createSVGRect;if(e===r.engine.VML)return!!document.namespaces;throw Error("Unknown engine.")},r.shape=function(){},r.shape.EventType={SHAPE_BEFORE_DRAW:"eventShapeBeforeDraw"},n.disposable={},n.disposable.IDisposable=function(){},n.Disposable=function(){n.Disposable.MONITORING_MODE!=n.Disposable.MonitoringMode.OFF&&(n.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),n.Disposable.instances_[n.getUid(this)]=this)},n.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},n.Disposable.MONITORING_MODE=0,n.Disposable.INCLUDE_STACK_ON_CREATION=!0,n.Disposable.instances_={},n.Disposable.getUndisposedObjects=function(){var e,t=[];for(e in n.Disposable.instances_)n.Disposable.instances_.hasOwnProperty(e)&&t.push(n.Disposable.instances_[Number(e)]);return t},n.Disposable.clearUndisposedObjects=function(){n.Disposable.instances_={}},n.Disposable.prototype.disposed_=!1,n.Disposable.prototype.isDisposed=function(){return this.disposed_},n.Disposable.prototype.getDisposed=n.Disposable.prototype.isDisposed,n.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),n.Disposable.MONITORING_MODE!=n.Disposable.MonitoringMode.OFF)){var e=n.getUid(this);if(n.Disposable.MONITORING_MODE==n.Disposable.MonitoringMode.PERMANENT&&!n.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete n.Disposable.instances_[e]}},n.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(n.partial(n.dispose,e))},n.Disposable.prototype.addOnDisposeCallback=function(e,t){this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(n.isDef(t)?n.bind(e,t):e)},n.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},n.Disposable.isDisposed=function(e){return!(!e||"function"!=typeof e.isDisposed)&&e.isDisposed()},n.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},n.disposeAll=function(e){for(var t=0,r=arguments.length;t<r;++t){var i=arguments[t];n.isArrayLike(i)?n.disposeAll.apply(null,i):n.dispose(i)}},r.shape.Style=function(){n.Disposable.call(this),this.fill_={color:"",opacity:0},this.stroke_={color:"black",width:1}},n.inherits(r.shape.Style,n.Disposable),r.shape.Style.prototype.setStyle=function(e){this.stroke_.color=e.getStrokeColor(),this.stroke_.width=e.getStrokeWidth(),this.fill_.color=e.getFillColor(),this.fill_.opacity=e.getFillOpacity()},r.shape.Style.prototype.getStrokeWidth=function(){return this.stroke_.width},r.shape.Style.prototype.setStrokeWidth=function(e){void 0!==e&&(this.stroke_.width=e)},r.shape.Style.prototype.getStrokeColor=function(){return this.stroke_.color},r.shape.Style.prototype.setStrokeColor=function(e){void 0!==e&&(this.stroke_.color=e)},r.shape.Style.prototype.getFillColor=function(){return this.fill_.color},r.shape.Style.prototype.setFillColor=function(e){0===this.fill_.opacity&&(this.fill_.opacity=1),void 0!==e&&(this.fill_.color=e)},r.shape.Style.prototype.getFillOpacity=function(){return this.fill_.opacity},r.shape.Style.prototype.setFillOpacity=function(e){void 0!==e&&(this.fill_.opacity=e)},r.shape.Style.prototype.disposeInternal=function(){this.stroke_=this.fill_=null,r.shape.Style.superClass_.disposeInternal.call(this)},r.shape.RenderStylable=function(e){r.shape.Style.call(this),this.zoomFactor_=1,this.hasDom_=r.engine.hasDom(e.getEngine().getName()),this.fillChanged_={color:!0,opacity:!0},this.strokeChanged_={color:!0,width:!0}},n.inherits(r.shape.RenderStylable,r.shape.Style),r.shape.RenderStylable.prototype.getShapeGroup=function(){return this.shapeGroup_},r.shape.RenderStylable.prototype.setShapeGroup=function(e){this.shapeGroup_=e},r.shape.RenderStylable.prototype.getEngineElement=function(){return this.engineElement_},r.shape.RenderStylable.prototype.setZoomFactor=function(e){this.zoomFactor_=e},r.shape.RenderStylable.prototype.setStyles=function(e){this.setStyle(e),this.getHoverable().setStyle(e.getHoverable()),this.getModifiable().setStyle(e.getModifiable()),this.getSelectable().setStyle(e.getSelectable())},r.shape.RenderStylable.prototype.setStyle=function(e){r.shape.RenderStylable.superClass_.setStyle.call(this,e),this.fillChanged_.color=!0,this.fillChanged_.opacity=!0,this.strokeChanged_.color=!0,this.strokeChanged_.width=!0},r.shape.RenderStylable.prototype.setFillColor=function(e){r.shape.RenderStylable.superClass_.setFillColor.call(this,e),this.fillChanged_.color=!0},r.shape.RenderStylable.prototype.getRenderingFillColor=function(){var e=this.shapeGroup_?this.shapeGroup_.getFillColor():this.hasDom_&&!1===this.fillChanged_.color?void 0:this.fill_.color;return this.fillChanged_.color=!1,e},r.shape.RenderStylable.prototype.setFillOpacity=function(e){r.shape.RenderStylable.superClass_.setFillOpacity.call(this,e),this.fillChanged_.opacity=!0},r.shape.RenderStylable.prototype.getRenderingFillOpacity=function(){var e=this.shapeGroup_?this.shapeGroup_.getFillOpacity():this.hasDom_&&!1===this.fillChanged_.opacity?void 0:this.fill_.opacity;return this.fillChanged_.opacity=!1,e},r.shape.RenderStylable.prototype.setStrokeColor=function(e){r.shape.RenderStylable.superClass_.setStrokeColor.call(this,e),this.strokeChanged_.color=!0},r.shape.RenderStylable.prototype.getRenderingStrokeColor=function(){var e=this.shapeGroup_?this.shapeGroup_.getStrokeColor():this.hasDom_&&!1===this.strokeChanged_.color?void 0:this.stroke_.color;return this.strokeChanged_.color=!1,e},r.shape.RenderStylable.prototype.setStrokeWidth=function(e){r.shape.RenderStylable.superClass_.setStrokeWidth.call(this,e),this.strokeChanged_.width=!0},r.shape.RenderStylable.prototype.getRenderingStrokeWidth=function(){var e=this.shapeGroup_?this.shapeGroup_.getStrokeWidth()/this.zoomFactor_:this.hasDom_&&!1===this.strokeChanged_.width?void 0:this.stroke_.width/this.zoomFactor_;return this.strokeChanged_.width=!1,e},r.shape.RenderStylable.prototype.startDrawing_=function(){this.drawing_.eventBeforeRendering(this),this.engineElement_.applyTransform(this.ctm_),this.engineElement_.startDrawing()},r.shape.RenderStylable.prototype.finishDrawing_=function(){this.engineElement_.finishDrawing()},r.shape.RenderStylable.prototype.disposeInternal=function(){this.engineElement_.dispose(),this.engineElement_=null,n.dispose(this.shapeGroup_),this.shapeGroup_=null,r.shape.RenderStylable.superClass_.disposeInternal.call(this)},n.dom.classes={},n.dom.classes.set=function(e,t){e.className=t},n.dom.classes.get=function(e){return e=e.className,n.isString(e)&&e.match(/\S+/g)||[]},n.dom.classes.add=function(e,t){var r=n.dom.classes.get(e),i=n.array.slice(arguments,1),o=r.length+i.length;return n.dom.classes.add_(r,i),n.dom.classes.set(e,r.join(" ")),r.length==o},n.dom.classes.remove=function(e,t){var r=n.dom.classes.get(e),i=n.array.slice(arguments,1),o=n.dom.classes.getDifference_(r,i);return n.dom.classes.set(e,o.join(" ")),o.length==r.length-i.length},n.dom.classes.add_=function(e,t){for(var r=0;r<t.length;r++)n.array.contains(e,t[r])||e.push(t[r])},n.dom.classes.getDifference_=function(e,t){return n.array.filter(e,function(e){return!n.array.contains(t,e)})},n.dom.classes.swap=function(e,t,r){for(var i=n.dom.classes.get(e),o=!1,s=0;s<i.length;s++)i[s]==t&&(n.array.splice(i,s--,1),o=!0);return o&&(i.push(r),n.dom.classes.set(e,i.join(" "))),o},n.dom.classes.addRemove=function(e,t,r){var i=n.dom.classes.get(e);n.isString(t)?n.array.remove(i,t):n.isArray(t)&&(i=n.dom.classes.getDifference_(i,t)),n.isString(r)&&!n.array.contains(i,r)?i.push(r):n.isArray(r)&&n.dom.classes.add_(i,r),n.dom.classes.set(e,i.join(" "))},n.dom.classes.has=function(e,t){return n.array.contains(n.dom.classes.get(e),t)},n.dom.classes.enable=function(e,t,r){r?n.dom.classes.add(e,t):n.dom.classes.remove(e,t)},n.dom.classes.toggle=function(e,t){var r=!n.dom.classes.has(e,t);return n.dom.classes.enable(e,t,r),r},n.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"},n.math={},n.math.Size=function(e,t){this.width=e,this.height=t},n.math.Size.equals=function(e,t){return e==t||!(!e||!t)&&(e.width==t.width&&e.height==t.height)},n.math.Size.prototype.clone=function(){return new n.math.Size(this.width,this.height)},n.DEBUG&&(n.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),n.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},n.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},n.math.Size.prototype.area=function(){return this.width*this.height},n.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},n.math.Size.prototype.aspectRatio=function(){return this.width/this.height},n.math.Size.prototype.isEmpty=function(){return!this.area()},n.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},n.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},n.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},n.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},n.math.Size.prototype.scale=function(e,t){var r=n.isNumber(t)?t:e;return this.width*=e,this.height*=r,this},n.math.Size.prototype.scaleToFit=function(e){return e=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},n.functions={},n.functions.constant=function(e){return function(){return e}},n.functions.FALSE=n.functions.constant(!1),n.functions.TRUE=n.functions.constant(!0),n.functions.NULL=n.functions.constant(null),n.functions.identity=function(e,t){return e},n.functions.error=function(e){return function(){throw Error(e)}},n.functions.fail=function(e){return function(){throw e}},n.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},n.functions.nth=function(e){return function(){return arguments[e]}},n.functions.withReturnValue=function(e,t){return n.functions.sequence(e,n.functions.constant(t))},n.functions.compose=function(e,t){var n=arguments,r=n.length;return function(){var e;r&&(e=n[r-1].apply(this,arguments));for(var t=r-2;0<=t;t--)e=n[t].call(this,e);return e}},n.functions.sequence=function(e){var t=arguments,n=t.length;return function(){for(var e,r=0;r<n;r++)e=t[r].apply(this,arguments);return e}},n.functions.and=function(e){var t=arguments,n=t.length;return function(){for(var e=0;e<n;e++)if(!t[e].apply(this,arguments))return!1;return!0}},n.functions.or=function(e){var t=arguments,n=t.length;return function(){for(var e=0;e<n;e++)if(t[e].apply(this,arguments))return!0;return!1}},n.functions.not=function(e){return function(){return!e.apply(this,arguments)}},n.functions.create=function(e,t){var n=function(){};return n.prototype=e.prototype,n=new n,e.apply(n,Array.prototype.slice.call(arguments,1)),n},n.functions.CACHE_RETURN_VALUE=!0,n.functions.cacheReturnValue=function(e){var t,r=!1;return function(){return n.functions.CACHE_RETURN_VALUE?(r||(t=e(),r=!0),t):e()}},n.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!n.userAgent.GECKO&&!n.userAgent.IE||n.userAgent.IE&&n.userAgent.isDocumentModeOrHigher(9)||n.userAgent.GECKO&&n.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:n.userAgent.IE&&!n.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:n.userAgent.IE||n.userAgent.OPERA||n.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:n.userAgent.IE},n.math.randomInt=function(e){return Math.floor(Math.random()*e)},n.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)},n.math.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)};n.math.modulo=function(e,t){var n=e%t;return 0>n*t?n+t:n},n.math.lerp=function(e,t,n){return e+n*(t-e)},n.math.nearlyEquals=function(e,t,n){return Math.abs(e-t)<=(n||1e-6)},n.math.standardAngle=function(e){return n.math.modulo(e,360)},n.math.standardAngleInRadians=function(e){return n.math.modulo(e,2*Math.PI)},n.math.toRadians=function(e){return e*Math.PI/180},n.math.toDegrees=function(e){return 180*e/Math.PI},n.math.angleDx=function(e,t){return t*Math.cos(n.math.toRadians(e))},n.math.angleDy=function(e,t){return t*Math.sin(n.math.toRadians(e))},n.math.angle=function(e,t,r,i){return n.math.standardAngle(n.math.toDegrees(Math.atan2(i-t,r-e)))},n.math.angleDifference=function(e,t){var r=n.math.standardAngle(t)-n.math.standardAngle(e);return 180<r?r-=360:-180>=r&&(r=360+r),r},n.math.sign=function(e){return 0==e?0:0>e?-1:1},n.math.longestCommonSubsequence=function(e,t,n,r){n=n||function(e,t){return e==t},r=r||function(t,n){return e[t]};for(var i=e.length,o=t.length,s=[],a=0;a<i+1;a++)s[a]=[],s[a][0]=0;for(var l=0;l<o+1;l++)s[0][l]=0;for(a=1;a<=i;a++)for(l=1;l<=o;l++)n(e[a-1],t[l-1])?s[a][l]=s[a-1][l-1]+1:s[a][l]=Math.max(s[a-1][l],s[a][l-1]);for(var h=[],a=i,l=o;0<a&&0<l;)n(e[a-1],t[l-1])?(h.unshift(r(a-1,l-1)),a--,l--):s[a-1][l]>s[a][l-1]?a--:l--;return h},n.math.sum=function(e){return n.array.reduce(arguments,function(e,t){return e+t},0)},n.math.average=function(e){return n.math.sum.apply(null,arguments)/arguments.length},n.math.sampleVariance=function(e){var t=arguments.length;if(2>t)return 0;var r=n.math.average.apply(null,arguments);return n.math.sum.apply(null,n.array.map(arguments,function(e){return Math.pow(e-r,2)}))/(t-1)},n.math.standardDeviation=function(e){return Math.sqrt(n.math.sampleVariance.apply(null,arguments))},n.math.isInt=function(e){return isFinite(e)&&0==e%1},n.math.isFiniteNumber=function(e){return isFinite(e)&&!isNaN(e)},n.math.log10Floor=function(e){if(0<e){var t=Math.round(Math.log(e)*Math.LOG10E);return t-(parseFloat("1e"+t)>e)}return 0==e?-1/0:NaN},n.math.safeFloor=function(e,t){return n.asserts.assert(!n.isDef(t)||0<t),Math.floor(e+(t||2e-15))},n.math.safeCeil=function(e,t){return n.asserts.assert(!n.isDef(t)||0<t),Math.ceil(e-(t||2e-15))},n.math.Coordinate=function(e,t){this.x=n.isDef(e)?e:0,this.y=n.isDef(t)?t:0},n.math.Coordinate.prototype.clone=function(){return new n.math.Coordinate(this.x,this.y)},n.DEBUG&&(n.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),n.math.Coordinate.equals=function(e,t){return e==t||!(!e||!t)&&(e.x==t.x&&e.y==t.y)},n.math.Coordinate.distance=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},n.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.math.Coordinate.azimuth=function(e){return n.math.angle(0,0,e.x,e.y)},n.math.Coordinate.squaredDistance=function(e,t){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r},n.math.Coordinate.difference=function(e,t){return new n.math.Coordinate(e.x-t.x,e.y-t.y)},n.math.Coordinate.sum=function(e,t){return new n.math.Coordinate(e.x+t.x,e.y+t.y)},n.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},n.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},n.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},n.math.Coordinate.prototype.translate=function(e,t){return e instanceof n.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=e,n.isNumber(t)&&(this.y+=t)),this},n.math.Coordinate.prototype.scale=function(e,t){var r=n.isNumber(t)?t:e;return this.x*=e,this.y*=r,this},n.math.Coordinate.prototype.rotateRadians=function(e,t){var r=t||new n.math.Coordinate(0,0),i=this.x,o=this.y,s=Math.cos(e),a=Math.sin(e);this.x=(i-r.x)*s-(o-r.y)*a+r.x,this.y=(i-r.x)*a+(o-r.y)*s+r.y},n.math.Coordinate.prototype.rotateDegrees=function(e,t){this.rotateRadians(n.math.toRadians(e),t)},n.dom.ASSUME_QUIRKS_MODE=!1,n.dom.ASSUME_STANDARDS_MODE=!1,n.dom.COMPAT_MODE_KNOWN_=n.dom.ASSUME_QUIRKS_MODE||n.dom.ASSUME_STANDARDS_MODE,n.dom.getDomHelper=function(e){return e?new n.dom.DomHelper(n.dom.getOwnerDocument(e)):n.dom.defaultDomHelper_||(n.dom.defaultDomHelper_=new n.dom.DomHelper)},n.dom.getDocument=function(){return document},n.dom.getElement=function(e){return n.dom.getElementHelper_(document,e)},n.dom.getElementHelper_=function(e,t){return n.isString(t)?e.getElementById(t):t},n.dom.getRequiredElement=function(e){return n.dom.getRequiredElementHelper_(document,e)},n.dom.getRequiredElementHelper_=function(e,t){n.asserts.assertString(t);var r=n.dom.getElementHelper_(e,t);return r=n.asserts.assertElement(r,"No element found with id: "+t)},n.dom.$=n.dom.getElement,n.dom.getElementsByTagNameAndClass=function(e,t,r){return n.dom.getElementsByTagNameAndClass_(document,e,t,r)},n.dom.getElementsByClass=function(e,t){var r=t||document;return n.dom.canUseQuerySelector_(r)?r.querySelectorAll("."+e):n.dom.getElementsByTagNameAndClass_(document,"*",e,t)},n.dom.getElementByClass=function(e,t){var r=t||document;return(n.dom.canUseQuerySelector_(r)?r.querySelector("."+e):n.dom.getElementsByTagNameAndClass_(document,"*",e,t)[0])||null},n.dom.getRequiredElementByClass=function(e,t){var r=n.dom.getElementByClass(e,t);return n.asserts.assert(r,"No element found with className: "+e)},n.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},n.dom.getElementsByTagNameAndClass_=function(e,t,r,i){if(e=i||e,t=t&&"*"!=t?t.toUpperCase():"",n.dom.canUseQuerySelector_(e)&&(t||r))return e.querySelectorAll(t+(r?"."+r:""));if(r&&e.getElementsByClassName){if(e=e.getElementsByClassName(r),t){i={};for(var o,s=0,a=0;o=e[a];a++)t==o.nodeName&&(i[s++]=o);return i.length=s,i}return e}if(e=e.getElementsByTagName(t||"*"),r){for(i={},a=s=0;o=e[a];a++)t=o.className,"function"==typeof t.split&&n.array.contains(t.split(/\s+/),r)&&(i[s++]=o);return i.length=s,i}return e},n.dom.$$=n.dom.getElementsByTagNameAndClass,n.dom.setProperties=function(e,t){n.object.forEach(t,function(t,r){"style"==r?e.style.cssText=t:"class"==r?e.className=t:"for"==r?e.htmlFor=t:r in n.dom.DIRECT_ATTRIBUTE_MAP_?e.setAttribute(n.dom.DIRECT_ATTRIBUTE_MAP_[r],t):n.string.startsWith(r,"aria-")||n.string.startsWith(r,"data-")?e.setAttribute(r,t):e[r]=t})},n.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},n.dom.getViewportSize=function(e){return n.dom.getViewportSize_(e||window)},n.dom.getViewportSize_=function(e){return e=e.document,e=n.dom.isCss1CompatMode_(e)?e.documentElement:e.body,new n.math.Size(e.clientWidth,e.clientHeight)},n.dom.getDocumentHeight=function(){return n.dom.getDocumentHeight_(window)},n.dom.getDocumentHeight_=function(e){var t=e.document,r=0;if(t){var r=t.body,i=t.documentElement;if(!r&&!i)return 0;if(e=n.dom.getViewportSize_(e).height,n.dom.isCss1CompatMode_(t)&&i.scrollHeight)r=i.scrollHeight!=e?i.scrollHeight:i.offsetHeight;else{var t=i.scrollHeight,o=i.offsetHeight;i.clientHeight!=o&&(t=r.scrollHeight,o=r.offsetHeight),r=t>e?t>o?t:o:t<o?t:o}}return r},n.dom.getPageScroll=function(e){return n.dom.getDomHelper((e||n.global||window).document).getDocumentScroll()},n.dom.getDocumentScroll=function(){return n.dom.getDocumentScroll_(document)},n.dom.getDocumentScroll_=function(e){var t=n.dom.getDocumentScrollElement_(e);return e=n.dom.getWindow_(e),n.userAgent.IE&&n.userAgent.isVersionOrHigher("10")&&e.pageYOffset!=t.scrollTop?new n.math.Coordinate(t.scrollLeft,t.scrollTop):new n.math.Coordinate(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)},n.dom.getDocumentScrollElement=function(){return n.dom.getDocumentScrollElement_(document)},n.dom.getDocumentScrollElement_=function(e){return!n.userAgent.WEBKIT&&n.dom.isCss1CompatMode_(e)?e.documentElement:e.body||e.documentElement},n.dom.getWindow=function(e){return e?n.dom.getWindow_(e):window},n.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},n.dom.createDom=function(e,t,r){return n.dom.createDom_(document,arguments)},n.dom.createDom_=function(e,t){var r=t[0],i=t[1];if(!n.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&i&&(i.name||i.type)){if(r=["<",r],i.name&&r.push(' name="',n.string.htmlEscape(i.name),'"'),i.type){r.push(' type="',n.string.htmlEscape(i.type),'"');var o={};n.object.extend(o,i),delete o.type,i=o}r.push(">"),r=r.join("")}return r=e.createElement(r),i&&(n.isString(i)?r.className=i:n.isArray(i)?n.dom.classes.add.apply(null,[r].concat(i)):n.dom.setProperties(r,i)),2<t.length&&n.dom.append_(e,r,t,2),r},n.dom.append_=function(e,t,r,i){function o(r){r&&t.appendChild(n.isString(r)?e.createTextNode(r):r)}for(;i<r.length;i++){var s=r[i];n.isArrayLike(s)&&!n.dom.isNodeLike(s)?n.array.forEach(n.dom.isNodeList(s)?n.array.toArray(s):s,o):o(s)}},n.dom.$dom=n.dom.createDom,n.dom.createElement=function(e){return document.createElement(e)},n.dom.createTextNode=function(e){return document.createTextNode(String(e))},n.dom.createTable=function(e,t,r){return n.dom.createTable_(document,e,t,!!r)},n.dom.createTable_=function(e,t,r,i){for(var o=["<tr>"],s=0;s<r;s++)o.push(i?"<td>&nbsp;</td>":"<td></td>");for(o.push("</tr>"),o=o.join(""),r=["<table>"],s=0;s<t;s++)r.push(o);return r.push("</table>"),e=e.createElement(n.dom.TagName.DIV),e.innerHTML=r.join(""),e.removeChild(e.firstChild)},n.dom.htmlToDocumentFragment=function(e){return n.dom.htmlToDocumentFragment_(document,e)},n.dom.htmlToDocumentFragment_=function(e,t){var r=e.createElement("div");if(n.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(r.innerHTML="<br>"+t,r.removeChild(r.firstChild)):r.innerHTML=t,1==r.childNodes.length)return r.removeChild(r.firstChild);for(var i=e.createDocumentFragment();r.firstChild;)i.appendChild(r.firstChild);return i},n.dom.isCss1CompatMode=function(){return n.dom.isCss1CompatMode_(document)},n.dom.isCss1CompatMode_=function(e){return n.dom.COMPAT_MODE_KNOWN_?n.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},n.dom.canHaveChildren=function(e){if(e.nodeType!=n.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case n.dom.TagName.APPLET:case n.dom.TagName.AREA:case n.dom.TagName.BASE:case n.dom.TagName.BR:case n.dom.TagName.COL:case n.dom.TagName.COMMAND:case n.dom.TagName.EMBED:case n.dom.TagName.FRAME:case n.dom.TagName.HR:case n.dom.TagName.IMG:case n.dom.TagName.INPUT:case n.dom.TagName.IFRAME:case n.dom.TagName.ISINDEX:case n.dom.TagName.KEYGEN:case n.dom.TagName.LINK:case n.dom.TagName.NOFRAMES:case n.dom.TagName.NOSCRIPT:case n.dom.TagName.META:case n.dom.TagName.OBJECT:case n.dom.TagName.PARAM:case n.dom.TagName.SCRIPT:case n.dom.TagName.SOURCE:case n.dom.TagName.STYLE:case n.dom.TagName.TRACK:case n.dom.TagName.WBR:return!1}return!0},n.dom.appendChild=function(e,t){e.appendChild(t)},n.dom.append=function(e,t){n.dom.append_(n.dom.getOwnerDocument(e),e,arguments,1)},n.dom.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},n.dom.insertSiblingBefore=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)},n.dom.insertSiblingAfter=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},n.dom.insertChildAt=function(e,t,n){e.insertBefore(t,e.childNodes[n]||null)},n.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},n.dom.replaceNode=function(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)},n.dom.flattenElement=function(e){var t,r=e.parentNode;if(r&&r.nodeType!=n.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;t=e.firstChild;)r.insertBefore(t,e);return n.dom.removeNode(e)}},n.dom.getChildren=function(e){return n.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=e.children?e.children:n.array.filter(e.childNodes,function(e){return e.nodeType==n.dom.NodeType.ELEMENT})},n.dom.getFirstElementChild=function(e){return void 0!=e.firstElementChild?e.firstElementChild:n.dom.getNextElementNode_(e.firstChild,!0)},n.dom.getLastElementChild=function(e){return void 0!=e.lastElementChild?e.lastElementChild:n.dom.getNextElementNode_(e.lastChild,!1)},n.dom.getNextElementSibling=function(e){return void 0!=e.nextElementSibling?e.nextElementSibling:n.dom.getNextElementNode_(e.nextSibling,!0)},n.dom.getPreviousElementSibling=function(e){return void 0!=e.previousElementSibling?e.previousElementSibling:n.dom.getNextElementNode_(e.previousSibling,!1)},n.dom.getNextElementNode_=function(e,t){for(;e&&e.nodeType!=n.dom.NodeType.ELEMENT;)e=t?e.nextSibling:e.previousSibling;return e},n.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},n.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},n.dom.isNodeLike=function(e){return n.isObject(e)&&0<e.nodeType},n.dom.isElement=function(e){return n.isObject(e)&&e.nodeType==n.dom.NodeType.ELEMENT},n.dom.isWindow=function(e){return n.isObject(e)&&e.window==e},n.dom.getParentElement=function(e){var t;return!n.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY||n.userAgent.IE&&n.userAgent.isVersionOrHigher("9")&&!n.userAgent.isVersionOrHigher("10")&&n.global.SVGElement&&e instanceof n.global.SVGElement||!(t=e.parentElement)?(t=e.parentNode,n.dom.isElement(t)?t:null):t},n.dom.contains=function(e,t){if(e.contains&&t.nodeType==n.dom.NodeType.ELEMENT)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||Boolean(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e},n.dom.compareNodeOrder=function(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if(n.userAgent.IE&&!n.userAgent.isDocumentModeOrHigher(9)){if(e.nodeType==n.dom.NodeType.DOCUMENT)return-1;if(t.nodeType==n.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var r=e.nodeType==n.dom.NodeType.ELEMENT,i=t.nodeType==n.dom.NodeType.ELEMENT;if(r&&i)return e.sourceIndex-t.sourceIndex;var o=e.parentNode,s=t.parentNode;return o==s?n.dom.compareSiblingOrder_(e,t):!r&&n.dom.contains(o,t)?-1*n.dom.compareParentsDescendantNodeIe_(e,t):!i&&n.dom.contains(s,e)?n.dom.compareParentsDescendantNodeIe_(t,e):(r?e.sourceIndex:o.sourceIndex)-(i?t.sourceIndex:s.sourceIndex)}return i=n.dom.getOwnerDocument(e),r=i.createRange(),r.selectNode(e),r.collapse(!0),i=i.createRange(),i.selectNode(t),i.collapse(!0),r.compareBoundaryPoints(n.global.Range.START_TO_END,i)},n.dom.compareParentsDescendantNodeIe_=function(e,t){var r=e.parentNode;if(r==t)return-1;for(var i=t;i.parentNode!=r;)i=i.parentNode;return n.dom.compareSiblingOrder_(i,e)},n.dom.compareSiblingOrder_=function(e,t){for(var n=t;n=n.previousSibling;)if(n==e)return-1;return 1},n.dom.findCommonAncestor=function(e){var t,n=arguments.length;if(!n)return null;if(1==n)return arguments[0];var r=[],i=1/0;for(t=0;t<n;t++){for(var o=[],s=arguments[t];s;)o.unshift(s),s=s.parentNode;r.push(o),i=Math.min(i,o.length)}for(o=null,t=0;t<i;t++){for(var s=r[0][t],a=1;a<n;a++)if(s!=r[a][t])return o;o=s}return o},n.dom.getOwnerDocument=function(e){return n.asserts.assert(e,"Node cannot be null or undefined."),e.nodeType==n.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},n.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},n.dom.getFrameContentWindow=function(e){return e.contentWindow||n.dom.getWindow(n.dom.getFrameContentDocument(e))},n.dom.setTextContent=function(e,t){if(n.asserts.assert(null!=e,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in e)e.textContent=t;else if(e.nodeType==n.dom.NodeType.TEXT)e.data=t;else if(e.firstChild&&e.firstChild.nodeType==n.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=t}else{n.dom.removeChildren(e);var r=n.dom.getOwnerDocument(e);e.appendChild(r.createTextNode(String(t)))}},n.dom.getOuterHtml=function(e){if("outerHTML"in e)return e.outerHTML;var t=n.dom.getOwnerDocument(e).createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},n.dom.findNode=function(e,t){var r=[];return n.dom.findNodes_(e,t,r,!0)?r[0]:void 0},n.dom.findNodes=function(e,t){var r=[];return n.dom.findNodes_(e,t,r,!1),r},n.dom.findNodes_=function(e,t,r,i){if(null!=e)for(e=e.firstChild;e;){if(t(e)&&(r.push(e),i)||n.dom.findNodes_(e,t,r,i))return!0;e=e.nextSibling}return!1},n.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},n.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},n.dom.isFocusableTabIndex=function(e){return n.dom.hasSpecifiedTabIndex_(e)&&n.dom.isTabIndexFocusable_(e)},n.dom.setFocusableTabIndex=function(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},n.dom.isFocusable=function(e){var t;return(t=n.dom.nativelySupportsFocus_(e)?!e.disabled&&(!n.dom.hasSpecifiedTabIndex_(e)||n.dom.isTabIndexFocusable_(e)):n.dom.isFocusableTabIndex(e))&&n.userAgent.IE?n.dom.hasNonZeroBoundingRect_(e):t},n.dom.hasSpecifiedTabIndex_=function(e){return e=e.getAttributeNode("tabindex"),n.isDefAndNotNull(e)&&e.specified},n.dom.isTabIndexFocusable_=function(e){return e=e.tabIndex,n.isNumber(e)&&0<=e&&32768>e},n.dom.nativelySupportsFocus_=function(e){return e.tagName==n.dom.TagName.A||e.tagName==n.dom.TagName.INPUT||e.tagName==n.dom.TagName.TEXTAREA||e.tagName==n.dom.TagName.SELECT||e.tagName==n.dom.TagName.BUTTON},n.dom.hasNonZeroBoundingRect_=function(e){return e=n.isFunction(e.getBoundingClientRect)?e.getBoundingClientRect():{height:e.offsetHeight,width:e.offsetWidth},n.isDefAndNotNull(e)&&0<e.height&&0<e.width},n.dom.getTextContent=function(e){if(n.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in e)e=n.string.canonicalizeNewlines(e.innerText);else{var t=[];n.dom.getTextContent_(e,t,!0),e=t.join("")}return e=e.replace(/ \xAD /g," ").replace(/\xAD/g,""),e=e.replace(/\u200B/g,""),n.dom.BrowserFeature.CAN_USE_INNER_TEXT||(e=e.replace(/ +/g," "))," "!=e&&(e=e.replace(/^\s*/,"")),e},n.dom.getRawTextContent=function(e){var t=[];return n.dom.getTextContent_(e,t,!1),t.join("")},n.dom.getTextContent_=function(e,t,r){if(!(e.nodeName in n.dom.TAGS_TO_IGNORE_))if(e.nodeType==n.dom.NodeType.TEXT)r?t.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in n.dom.PREDEFINED_TAG_VALUES_)t.push(n.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(e=e.firstChild;e;)n.dom.getTextContent_(e,t,r),e=e.nextSibling},n.dom.getNodeTextLength=function(e){return n.dom.getTextContent(e).length},n.dom.getNodeTextOffset=function(e,t){for(var r=t||n.dom.getOwnerDocument(e).body,i=[];e&&e!=r;){for(var o=e;o=o.previousSibling;)i.unshift(n.dom.getTextContent(o));e=e.parentNode}return n.string.trimLeft(i.join("")).replace(/ +/g," ").length},n.dom.getNodeAtOffset=function(e,t,r){e=[e];for(var i=0,o=null;0<e.length&&i<t;)if(o=e.pop(),!(o.nodeName in n.dom.TAGS_TO_IGNORE_))if(o.nodeType==n.dom.NodeType.TEXT)var s=o.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," "),i=i+s.length;else if(o.nodeName in n.dom.PREDEFINED_TAG_VALUES_)i+=n.dom.PREDEFINED_TAG_VALUES_[o.nodeName].length;else for(s=o.childNodes.length-1;0<=s;s--)e.push(o.childNodes[s]);return n.isObject(r)&&(r.remainder=o?o.nodeValue.length+t-i-1:0,r.node=o),o},n.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(n.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(n.isFunction(e))return"function"==typeof e.item}return!1},n.dom.getAncestorByTagNameAndClass=function(e,t,r){if(!t&&!r)return null;var i=t?t.toUpperCase():null;return n.dom.getAncestor(e,function(e){return(!i||e.nodeName==i)&&(!r||n.dom.classes.has(e,r))},!0)},n.dom.getAncestorByClass=function(e,t){return n.dom.getAncestorByTagNameAndClass(e,null,t)},n.dom.getAncestor=function(e,t,n,r){n||(e=e.parentNode),n=null==r;for(var i=0;e&&(n||i<=r);){if(t(e))return e;e=e.parentNode,i++}return null},n.dom.getActiveElement=function(e){try{return e&&e.activeElement}catch(e){}return null},n.dom.getPixelRatio=n.functions.cacheReturnValue(function(){var e=n.dom.getWindow(),t=n.userAgent.GECKO&&n.userAgent.MOBILE;return n.isDef(e.devicePixelRatio)&&!t?e.devicePixelRatio:e.matchMedia?n.dom.matchesPixelRatio_(.75)||n.dom.matchesPixelRatio_(1.5)||n.dom.matchesPixelRatio_(2)||n.dom.matchesPixelRatio_(3)||1:1}),n.dom.matchesPixelRatio_=function(e){return n.dom.getWindow().matchMedia("(-webkit-min-device-pixel-ratio: "+e+"),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+e+"dppx)").matches?e:0},n.dom.DomHelper=function(e){this.document_=e||n.global.document||document},n.dom.DomHelper.prototype.getDomHelper=n.dom.getDomHelper,n.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},n.dom.DomHelper.prototype.getDocument=function(){return this.document_},n.dom.DomHelper.prototype.getElement=function(e){return n.dom.getElementHelper_(this.document_,e)},n.dom.DomHelper.prototype.getRequiredElement=function(e){return n.dom.getRequiredElementHelper_(this.document_,e)},n.dom.DomHelper.prototype.$=n.dom.DomHelper.prototype.getElement,n.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,t,r){return n.dom.getElementsByTagNameAndClass_(this.document_,e,t,r)},n.dom.DomHelper.prototype.getElementsByClass=function(e,t){return n.dom.getElementsByClass(e,t||this.document_)},n.dom.DomHelper.prototype.getElementByClass=function(e,t){return n.dom.getElementByClass(e,t||this.document_)},n.dom.DomHelper.prototype.getRequiredElementByClass=function(e,t){return n.dom.getRequiredElementByClass(e,t||this.document_)},n.dom.DomHelper.prototype.$$=n.dom.DomHelper.prototype.getElementsByTagNameAndClass,n.dom.DomHelper.prototype.setProperties=n.dom.setProperties,n.dom.DomHelper.prototype.getViewportSize=function(e){return n.dom.getViewportSize(e||this.getWindow())},n.dom.DomHelper.prototype.getDocumentHeight=function(){return n.dom.getDocumentHeight_(this.getWindow())},n.dom.DomHelper.prototype.createDom=function(e,t,r){return n.dom.createDom_(this.document_,arguments)},n.dom.DomHelper.prototype.$dom=n.dom.DomHelper.prototype.createDom,n.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},n.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(String(e))},n.dom.DomHelper.prototype.createTable=function(e,t,r){return n.dom.createTable_(this.document_,e,t,!!r)},n.dom.DomHelper.prototype.htmlToDocumentFragment=function(e){return n.dom.htmlToDocumentFragment_(this.document_,e)},n.dom.DomHelper.prototype.isCss1CompatMode=function(){return n.dom.isCss1CompatMode_(this.document_)},n.dom.DomHelper.prototype.getWindow=function(){return n.dom.getWindow_(this.document_)},n.dom.DomHelper.prototype.getDocumentScrollElement=function(){return n.dom.getDocumentScrollElement_(this.document_)},n.dom.DomHelper.prototype.getDocumentScroll=function(){return n.dom.getDocumentScroll_(this.document_)},n.dom.DomHelper.prototype.getActiveElement=function(e){return n.dom.getActiveElement(e||this.document_)},n.dom.DomHelper.prototype.appendChild=n.dom.appendChild,n.dom.DomHelper.prototype.append=n.dom.append,n.dom.DomHelper.prototype.canHaveChildren=n.dom.canHaveChildren,n.dom.DomHelper.prototype.removeChildren=n.dom.removeChildren,n.dom.DomHelper.prototype.insertSiblingBefore=n.dom.insertSiblingBefore,n.dom.DomHelper.prototype.insertSiblingAfter=n.dom.insertSiblingAfter,n.dom.DomHelper.prototype.insertChildAt=n.dom.insertChildAt,n.dom.DomHelper.prototype.removeNode=n.dom.removeNode,n.dom.DomHelper.prototype.replaceNode=n.dom.replaceNode,n.dom.DomHelper.prototype.flattenElement=n.dom.flattenElement,n.dom.DomHelper.prototype.getChildren=n.dom.getChildren,n.dom.DomHelper.prototype.getFirstElementChild=n.dom.getFirstElementChild,n.dom.DomHelper.prototype.getLastElementChild=n.dom.getLastElementChild,n.dom.DomHelper.prototype.getNextElementSibling=n.dom.getNextElementSibling,n.dom.DomHelper.prototype.getPreviousElementSibling=n.dom.getPreviousElementSibling,n.dom.DomHelper.prototype.getNextNode=n.dom.getNextNode,n.dom.DomHelper.prototype.getPreviousNode=n.dom.getPreviousNode,n.dom.DomHelper.prototype.isNodeLike=n.dom.isNodeLike,n.dom.DomHelper.prototype.isElement=n.dom.isElement,n.dom.DomHelper.prototype.isWindow=n.dom.isWindow,n.dom.DomHelper.prototype.getParentElement=n.dom.getParentElement,n.dom.DomHelper.prototype.contains=n.dom.contains,n.dom.DomHelper.prototype.compareNodeOrder=n.dom.compareNodeOrder,n.dom.DomHelper.prototype.findCommonAncestor=n.dom.findCommonAncestor,n.dom.DomHelper.prototype.getOwnerDocument=n.dom.getOwnerDocument,n.dom.DomHelper.prototype.getFrameContentDocument=n.dom.getFrameContentDocument,n.dom.DomHelper.prototype.getFrameContentWindow=n.dom.getFrameContentWindow,n.dom.DomHelper.prototype.setTextContent=n.dom.setTextContent,n.dom.DomHelper.prototype.getOuterHtml=n.dom.getOuterHtml,n.dom.DomHelper.prototype.findNode=n.dom.findNode,n.dom.DomHelper.prototype.findNodes=n.dom.findNodes,n.dom.DomHelper.prototype.isFocusableTabIndex=n.dom.isFocusableTabIndex,n.dom.DomHelper.prototype.setFocusableTabIndex=n.dom.setFocusableTabIndex,n.dom.DomHelper.prototype.isFocusable=n.dom.isFocusable,n.dom.DomHelper.prototype.getTextContent=n.dom.getTextContent,n.dom.DomHelper.prototype.getNodeTextLength=n.dom.getNodeTextLength;n.dom.DomHelper.prototype.getNodeTextOffset=n.dom.getNodeTextOffset,n.dom.DomHelper.prototype.getNodeAtOffset=n.dom.getNodeAtOffset,n.dom.DomHelper.prototype.isNodeList=n.dom.isNodeList,n.dom.DomHelper.prototype.getAncestorByTagNameAndClass=n.dom.getAncestorByTagNameAndClass,n.dom.DomHelper.prototype.getAncestorByClass=n.dom.getAncestorByClass,n.dom.DomHelper.prototype.getAncestor=n.dom.getAncestor,n.math.Box=function(e,t,n,r){this.top=e,this.right=t,this.bottom=n,this.left=r},n.math.Box.boundingBox=function(e){for(var t=new n.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),r=1;r<arguments.length;r++){var i=arguments[r];t.top=Math.min(t.top,i.y),t.right=Math.max(t.right,i.x),t.bottom=Math.max(t.bottom,i.y),t.left=Math.min(t.left,i.x)}return t},n.math.Box.prototype.clone=function(){return new n.math.Box(this.top,this.right,this.bottom,this.left)},n.DEBUG&&(n.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),n.math.Box.prototype.contains=function(e){return n.math.Box.contains(this,e)},n.math.Box.prototype.expand=function(e,t,r,i){return n.isObject(e)?(this.top-=e.top,this.right+=e.right,this.bottom+=e.bottom,this.left-=e.left):(this.top-=e,this.right+=t,this.bottom+=r,this.left-=i),this},n.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},n.math.Box.equals=function(e,t){return e==t||!(!e||!t)&&(e.top==t.top&&e.right==t.right&&e.bottom==t.bottom&&e.left==t.left)},n.math.Box.contains=function(e,t){return!(!e||!t)&&(t instanceof n.math.Box?t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom:t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom)},n.math.Box.relativePositionX=function(e,t){return t.x<e.left?t.x-e.left:t.x>e.right?t.x-e.right:0},n.math.Box.relativePositionY=function(e,t){return t.y<e.top?t.y-e.top:t.y>e.bottom?t.y-e.bottom:0},n.math.Box.distance=function(e,t){var r=n.math.Box.relativePositionX(e,t),i=n.math.Box.relativePositionY(e,t);return Math.sqrt(r*r+i*i)},n.math.Box.intersects=function(e,t){return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom},n.math.Box.intersectsWithPadding=function(e,t,n){return e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},n.math.Box.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},n.math.Box.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},n.math.Box.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},n.math.Box.prototype.translate=function(e,t){return e instanceof n.math.Coordinate?(this.left+=e.x,this.right+=e.x,this.top+=e.y,this.bottom+=e.y):(this.left+=e,this.right+=e,n.isNumber(t)&&(this.top+=t,this.bottom+=t)),this},n.math.Box.prototype.scale=function(e,t){var r=n.isNumber(t)?t:e;return this.left*=e,this.right*=e,this.top*=r,this.bottom*=r,this},n.math.Rect=function(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r},n.math.Rect.prototype.clone=function(){return new n.math.Rect(this.left,this.top,this.width,this.height)},n.math.Rect.prototype.toBox=function(){return new n.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)},n.math.Rect.createFromBox=function(e){return new n.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},n.DEBUG&&(n.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),n.math.Rect.equals=function(e,t){return e==t||!(!e||!t)&&(e.left==t.left&&e.width==t.width&&e.top==t.top&&e.height==t.height)},n.math.Rect.prototype.intersection=function(e){var t=Math.max(this.left,e.left),n=Math.min(this.left+this.width,e.left+e.width);if(t<=n){var r=Math.max(this.top,e.top);if(e=Math.min(this.top+this.height,e.top+e.height),r<=e)return this.left=t,this.top=r,this.width=n-t,this.height=e-r,!0}return!1},n.math.Rect.intersection=function(e,t){var r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width);if(r<=i){var o=Math.max(e.top,t.top),s=Math.min(e.top+e.height,t.top+t.height);if(o<=s)return new n.math.Rect(r,o,i-r,s-o)}return null},n.math.Rect.intersects=function(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height},n.math.Rect.prototype.intersects=function(e){return n.math.Rect.intersects(this,e)},n.math.Rect.difference=function(e,t){var r=n.math.Rect.intersection(e,t);if(!r||!r.height||!r.width)return[e.clone()];var r=[],i=e.top,o=e.height,s=e.left+e.width,a=e.top+e.height,l=t.left+t.width,h=t.top+t.height;return t.top>e.top&&(r.push(new n.math.Rect(e.left,e.top,e.width,t.top-e.top)),i=t.top,o-=t.top-e.top),h<a&&(r.push(new n.math.Rect(e.left,h,e.width,a-h)),o=h-i),t.left>e.left&&r.push(new n.math.Rect(e.left,i,t.left-e.left,o)),l<s&&r.push(new n.math.Rect(l,i,s-l,o)),r},n.math.Rect.prototype.difference=function(e){return n.math.Rect.difference(this,e)},n.math.Rect.prototype.boundingRect=function(e){var t=Math.max(this.left+this.width,e.left+e.width),n=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=t-this.left,this.height=n-this.top},n.math.Rect.boundingRect=function(e,t){if(!e||!t)return null;var n=e.clone();return n.boundingRect(t),n},n.math.Rect.prototype.contains=function(e){return e instanceof n.math.Rect?this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height:e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height},n.math.Rect.prototype.squaredDistance=function(e){var t=e.x<this.left?this.left-e.x:Math.max(e.x-(this.left+this.width),0);return e=e.y<this.top?this.top-e.y:Math.max(e.y-(this.top+this.height),0),t*t+e*e},n.math.Rect.prototype.distance=function(e){return Math.sqrt(this.squaredDistance(e))},n.math.Rect.prototype.getSize=function(){return new n.math.Size(this.width,this.height)},n.math.Rect.prototype.getTopLeft=function(){return new n.math.Coordinate(this.left,this.top)},n.math.Rect.prototype.getCenter=function(){return new n.math.Coordinate(this.left+this.width/2,this.top+this.height/2)},n.math.Rect.prototype.getBottomRight=function(){return new n.math.Coordinate(this.left+this.width,this.top+this.height)},n.math.Rect.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},n.math.Rect.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},n.math.Rect.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},n.math.Rect.prototype.translate=function(e,t){return e instanceof n.math.Coordinate?(this.left+=e.x,this.top+=e.y):(this.left+=e,n.isNumber(t)&&(this.top+=t)),this},n.math.Rect.prototype.scale=function(e,t){var r=n.isNumber(t)?t:e;return this.left*=e,this.width*=e,this.top*=r,this.height*=r,this},n.dom.vendor={},n.dom.vendor.getVendorJsPrefix=function(){return n.userAgent.WEBKIT?"Webkit":n.userAgent.GECKO?"Moz":n.userAgent.IE?"ms":n.userAgent.OPERA?"O":null},n.dom.vendor.getVendorPrefix=function(){return n.userAgent.WEBKIT?"-webkit":n.userAgent.GECKO?"-moz":n.userAgent.IE?"-ms":n.userAgent.OPERA?"-o":null},n.dom.vendor.getPrefixedPropertyName=function(e,t){if(t&&e in t)return e;var r=n.dom.vendor.getVendorJsPrefix();return r?(r=r.toLowerCase(),r+=n.string.toTitleCase(e),!n.isDef(t)||r in t?r:null):null},n.dom.vendor.getPrefixedEventType=function(e){return((n.dom.vendor.getVendorJsPrefix()||"")+e).toLowerCase()},n.style={},n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS=!1,n.style.setStyle=function(e,t,r){n.isString(t)?n.style.setStyle_(e,r,t):n.object.forEach(t,n.partial(n.style.setStyle_,e))},n.style.setStyle_=function(e,t,r){(r=n.style.getVendorJsStyleName_(e,r))&&(e.style[r]=t)},n.style.getVendorJsStyleName_=function(e,t){var r=n.string.toCamelCase(t);if(void 0===e.style[r]){var i=n.dom.vendor.getVendorJsPrefix()+n.string.toTitleCase(r);if(void 0!==e.style[i])return i}return r},n.style.getVendorStyleName_=function(e,t){var r=n.string.toCamelCase(t);return void 0===e.style[r]&&(r=n.dom.vendor.getVendorJsPrefix()+n.string.toTitleCase(r),void 0!==e.style[r])?n.dom.vendor.getVendorPrefix()+"-"+t:t},n.style.getStyle=function(e,t){var r=e.style[n.string.toCamelCase(t)];return void 0!==r?r:e.style[n.style.getVendorJsStyleName_(e,t)]||""},n.style.getComputedStyle=function(e,t){var r=n.dom.getOwnerDocument(e);return r.defaultView&&r.defaultView.getComputedStyle&&(r=r.defaultView.getComputedStyle(e,null))?r[t]||r.getPropertyValue(t)||"":""},n.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},n.style.getStyle_=function(e,t){return n.style.getComputedStyle(e,t)||n.style.getCascadedStyle(e,t)||e.style&&e.style[t]},n.style.getComputedBoxSizing=function(e){return n.style.getStyle_(e,"boxSizing")||n.style.getStyle_(e,"MozBoxSizing")||n.style.getStyle_(e,"WebkitBoxSizing")||null},n.style.getComputedPosition=function(e){return n.style.getStyle_(e,"position")},n.style.getBackgroundColor=function(e){return n.style.getStyle_(e,"backgroundColor")},n.style.getComputedOverflowX=function(e){return n.style.getStyle_(e,"overflowX")},n.style.getComputedOverflowY=function(e){return n.style.getStyle_(e,"overflowY")},n.style.getComputedZIndex=function(e){return n.style.getStyle_(e,"zIndex")},n.style.getComputedTextAlign=function(e){return n.style.getStyle_(e,"textAlign")},n.style.getComputedCursor=function(e){return n.style.getStyle_(e,"cursor")},n.style.getComputedTransform=function(e){var t=n.style.getVendorStyleName_(e,"transform");return n.style.getStyle_(e,t)||n.style.getStyle_(e,"transform")},n.style.setPosition=function(e,t,r){var i,o=n.userAgent.GECKO&&(n.userAgent.MAC||n.userAgent.X11)&&n.userAgent.isVersionOrHigher("1.9");t instanceof n.math.Coordinate?(i=t.x,t=t.y):(i=t,t=r),e.style.left=n.style.getPixelStyleValue_(i,o),e.style.top=n.style.getPixelStyleValue_(t,o)},n.style.getPosition=function(e){return new n.math.Coordinate(e.offsetLeft,e.offsetTop)},n.style.getClientViewportElement=function(e){return e=e?n.dom.getOwnerDocument(e):n.dom.getDocument(),!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9)||n.dom.getDomHelper(e).isCss1CompatMode()?e.documentElement:e.body},n.style.getViewportPageOffset=function(e){var t=e.body;return e=e.documentElement,new n.math.Coordinate(t.scrollLeft||e.scrollLeft,t.scrollTop||e.scrollTop)},n.style.getBoundingClientRect_=function(e){var t;try{t=e.getBoundingClientRect()}catch(e){return{left:0,top:0,right:0,bottom:0}}return n.userAgent.IE&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t},n.style.getOffsetParent=function(e){if(n.userAgent.IE&&!n.userAgent.isDocumentModeOrHigher(8))return e.offsetParent;var t=n.dom.getOwnerDocument(e),r=n.style.getStyle_(e,"position"),i="fixed"==r||"absolute"==r;for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(r=n.style.getStyle_(e,"position"),!(i=i&&"static"==r&&e!=t.documentElement&&e!=t.body)&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight||"fixed"==r||"absolute"==r||"relative"==r))return e;return null},n.style.getVisibleRectForElement=function(e){for(var t=new n.math.Box(0,1/0,1/0,0),r=n.dom.getDomHelper(e),i=r.getDocument().body,o=r.getDocument().documentElement,s=r.getDocumentScrollElement();e=n.style.getOffsetParent(e);)if(!(n.userAgent.IE&&0==e.clientWidth||n.userAgent.WEBKIT&&0==e.clientHeight&&e==i)&&e!=i&&e!=o&&"visible"!=n.style.getStyle_(e,"overflow")){var a=n.style.getPageOffset(e),l=n.style.getClientLeftTop(e);a.x+=l.x,a.y+=l.y,t.top=Math.max(t.top,a.y),t.right=Math.min(t.right,a.x+e.clientWidth),t.bottom=Math.min(t.bottom,a.y+e.clientHeight),t.left=Math.max(t.left,a.x)}return i=s.scrollLeft,s=s.scrollTop,t.left=Math.max(t.left,i),t.top=Math.max(t.top,s),r=r.getViewportSize(),t.right=Math.min(t.right,i+r.width),t.bottom=Math.min(t.bottom,s+r.height),0<=t.top&&0<=t.left&&t.bottom>t.top&&t.right>t.left?t:null},n.style.getContainerOffsetToScrollInto=function(e,t,r){var i=n.style.getPageOffset(e),o=n.style.getPageOffset(t),s=n.style.getBorderBox(t),a=i.x-o.x-s.left,i=i.y-o.y-s.top,o=t.clientWidth-e.offsetWidth;return e=t.clientHeight-e.offsetHeight,s=t.scrollLeft,t=t.scrollTop,r?(s+=a-o/2,t+=i-e/2):(s+=Math.min(a,Math.max(a-o,0)),t+=Math.min(i,Math.max(i-e,0))),new n.math.Coordinate(s,t)},n.style.scrollIntoContainerView=function(e,t,r){e=n.style.getContainerOffsetToScrollInto(e,t,r),t.scrollLeft=e.x,t.scrollTop=e.y},n.style.getClientLeftTop=function(e){if(n.userAgent.GECKO&&!n.userAgent.isVersionOrHigher("1.9")){var t=parseFloat(n.style.getComputedStyle(e,"borderLeftWidth"));if(n.style.isRightToLeft(e))var r=e.offsetWidth-e.clientWidth-t-parseFloat(n.style.getComputedStyle(e,"borderRightWidth")),t=t+r;return new n.math.Coordinate(t,parseFloat(n.style.getComputedStyle(e,"borderTopWidth")))}return new n.math.Coordinate(e.clientLeft,e.clientTop)},n.style.getPageOffset=function(e){var t,r=n.dom.getOwnerDocument(e),i=n.style.getStyle_(e,"position");n.asserts.assertObject(e,"Parameter is required");var o=!n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS&&n.userAgent.GECKO&&r.getBoxObjectFor&&!e.getBoundingClientRect&&"absolute"==i&&(t=r.getBoxObjectFor(e))&&(0>t.screenX||0>t.screenY),s=new n.math.Coordinate(0,0),a=n.style.getClientViewportElement(r);if(e==a)return s;if(n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS||e.getBoundingClientRect)t=n.style.getBoundingClientRect_(e),e=n.dom.getDomHelper(r).getDocumentScroll(),s.x=t.left+e.x,s.y=t.top+e.y;else if(r.getBoxObjectFor&&!o)t=r.getBoxObjectFor(e),e=r.getBoxObjectFor(a),s.x=t.screenX-e.screenX,s.y=t.screenY-e.screenY;else{t=e;do{if(s.x+=t.offsetLeft,s.y+=t.offsetTop,t!=e&&(s.x+=t.clientLeft||0,s.y+=t.clientTop||0),n.userAgent.WEBKIT&&"fixed"==n.style.getComputedPosition(t)){s.x+=r.body.scrollLeft,s.y+=r.body.scrollTop;break}t=t.offsetParent}while(t&&t!=e);for((n.userAgent.OPERA||n.userAgent.WEBKIT&&"absolute"==i)&&(s.y-=r.body.offsetTop),t=e;(t=n.style.getOffsetParent(t))&&t!=r.body&&t!=a;)s.x-=t.scrollLeft,n.userAgent.OPERA&&"TR"==t.tagName||(s.y-=t.scrollTop)}return s},n.style.getPageOffsetLeft=function(e){return n.style.getPageOffset(e).x},n.style.getPageOffsetTop=function(e){return n.style.getPageOffset(e).y},n.style.getFramedPageOffset=function(e,t){var r=new n.math.Coordinate(0,0),i=n.dom.getWindow(n.dom.getOwnerDocument(e)),o=e;do{var s=i==t?n.style.getPageOffset(o):n.style.getClientPositionForElement_(n.asserts.assert(o));r.x+=s.x,r.y+=s.y}while(i&&i!=t&&(o=i.frameElement)&&(i=i.parent));return r},n.style.translateRectForAnotherFrame=function(e,t,r){if(t.getDocument()!=r.getDocument()){var i=t.getDocument().body;r=n.style.getFramedPageOffset(i,r.getWindow()),r=n.math.Coordinate.difference(r,n.style.getPageOffset(i)),n.userAgent.IE&&!t.isCss1CompatMode()&&(r=n.math.Coordinate.difference(r,t.getDocumentScroll())),e.left+=r.x,e.top+=r.y}},n.style.getRelativePosition=function(e,t){var r=n.style.getClientPosition(e),i=n.style.getClientPosition(t);return new n.math.Coordinate(r.x-i.x,r.y-i.y)},n.style.getClientPositionForElement_=function(e){var t;if(n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS||e.getBoundingClientRect)t=n.style.getBoundingClientRect_(e),t=new n.math.Coordinate(t.left,t.top);else{t=n.dom.getDomHelper(e).getDocumentScroll();var r=n.style.getPageOffset(e);t=new n.math.Coordinate(r.x-t.x,r.y-t.y)}return n.userAgent.GECKO&&!n.userAgent.isVersionOrHigher(12)?n.math.Coordinate.sum(t,n.style.getCssTranslation(e)):t},n.style.getClientPosition=function(e){if(n.asserts.assert(e),e.nodeType==n.dom.NodeType.ELEMENT)return n.style.getClientPositionForElement_(e);var t=n.isFunction(e.getBrowserEvent),r=e;return e.targetTouches?r=e.targetTouches[0]:t&&e.getBrowserEvent().targetTouches&&(r=e.getBrowserEvent().targetTouches[0]),new n.math.Coordinate(r.clientX,r.clientY)},n.style.setPageOffset=function(e,t,r){var i=n.style.getPageOffset(e);t instanceof n.math.Coordinate&&(r=t.y,t=t.x),n.style.setPosition(e,e.offsetLeft+(t-i.x),e.offsetTop+(r-i.y))},n.style.setSize=function(e,t,r){if(t instanceof n.math.Size)r=t.height,t=t.width;else if(void 0==r)throw Error("missing height argument");n.style.setWidth(e,t),n.style.setHeight(e,r)},n.style.getPixelStyleValue_=function(e,t){return"number"==typeof e&&(e=(t?Math.round(e):e)+"px"),e},n.style.setHeight=function(e,t){e.style.height=n.style.getPixelStyleValue_(t,!0)},n.style.setWidth=function(e,t){e.style.width=n.style.getPixelStyleValue_(t,!0)},n.style.getSize=function(e){return n.style.evaluateWithTemporaryDisplay_(n.style.getSizeWithDisplay_,e)},n.style.evaluateWithTemporaryDisplay_=function(e,t){if("none"!=n.style.getStyle_(t,"display"))return e(t);var r=t.style,i=r.display,o=r.visibility,s=r.position;r.visibility="hidden",r.position="absolute",r.display="inline";var a=e(t);return r.display=i,r.position=s,r.visibility=o,a},n.style.getSizeWithDisplay_=function(e){var t=e.offsetWidth,r=e.offsetHeight,i=n.userAgent.WEBKIT&&!t&&!r;return n.isDef(t)&&!i||!e.getBoundingClientRect?new n.math.Size(t,r):(e=n.style.getBoundingClientRect_(e),new n.math.Size(e.right-e.left,e.bottom-e.top))},n.style.getTransformedSize=function(e){return e.getBoundingClientRect?(e=n.style.evaluateWithTemporaryDisplay_(n.style.getBoundingClientRect_,e),new n.math.Size(e.right-e.left,e.bottom-e.top)):null},n.style.getBounds=function(e){var t=n.style.getPageOffset(e);return e=n.style.getSize(e),new n.math.Rect(t.x,t.y,e.width,e.height)},n.style.toCamelCase=function(e){return n.string.toCamelCase(String(e))},n.style.toSelectorCase=function(e){return n.string.toSelectorCase(e)},n.style.getOpacity=function(e){var t=e.style;return e="","opacity"in t?e=t.opacity:"MozOpacity"in t?e=t.MozOpacity:"filter"in t&&(t=t.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(e=String(t[1]/100)),""==e?e:Number(e)},n.style.setOpacity=function(e,t){var n=e.style;"opacity"in n?n.opacity=t:"MozOpacity"in n?n.MozOpacity=t:"filter"in n&&(n.filter=""===t?"":"alpha(opacity="+100*t+")")},n.style.setTransparentBackgroundImage=function(e,t){var r=e.style;n.userAgent.IE&&!n.userAgent.isVersionOrHigher("8")?r.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+t+'", sizingMethod="crop")':(r.backgroundImage="url("+t+")",r.backgroundPosition="top left",r.backgroundRepeat="no-repeat")},n.style.clearTransparentBackgroundImage=function(e){e=e.style,"filter"in e?e.filter="":e.backgroundImage="none"},n.style.showElement=function(e,t){n.style.setElementShown(e,t)},n.style.setElementShown=function(e,t){e.style.display=t?"":"none"},n.style.isElementShown=function(e){return"none"!=e.style.display},n.style.installStyles=function(e,t){var r=n.dom.getDomHelper(t),i=null,o=r.getDocument();return n.userAgent.IE&&o.createStyleSheet?(i=o.createStyleSheet(),n.style.setStyles(i,e)):(o=r.getElementsByTagNameAndClass("head")[0],o||(i=r.getElementsByTagNameAndClass("body")[0],o=r.createDom("head"),i.parentNode.insertBefore(o,i)),i=r.createDom("style"),n.style.setStyles(i,e),r.appendChild(o,i)),i},n.style.uninstallStyles=function(e){n.dom.removeNode(e.ownerNode||e.owningElement||e)},n.style.setStyles=function(e,t){n.userAgent.IE&&n.isDef(e.cssText)?e.cssText=t:e.innerHTML=t},n.style.setPreWrap=function(e){e=e.style,n.userAgent.IE&&!n.userAgent.isVersionOrHigher("8")?(e.whiteSpace="pre",e.wordWrap="break-word"):e.whiteSpace=n.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},n.style.setInlineBlock=function(e){e=e.style,e.position="relative",n.userAgent.IE&&!n.userAgent.isVersionOrHigher("8")?(e.zoom="1",e.display="inline"):e.display=n.userAgent.GECKO?n.userAgent.isVersionOrHigher("1.9a")?"inline-block":"-moz-inline-box":"inline-block"},n.style.isRightToLeft=function(e){return"rtl"==n.style.getStyle_(e,"direction")},n.style.unselectableStyle_=n.userAgent.GECKO?"MozUserSelect":n.userAgent.WEBKIT?"WebkitUserSelect":null,n.style.isUnselectable=function(e){return n.style.unselectableStyle_?"none"==e.style[n.style.unselectableStyle_].toLowerCase():!(!n.userAgent.IE&&!n.userAgent.OPERA)&&"on"==e.getAttribute("unselectable")},n.style.setUnselectable=function(e,t,r){r=r?null:e.getElementsByTagName("*");var i=n.style.unselectableStyle_;if(i){if(t=t?"none":"",e.style[i]=t,r){e=0;for(var o;o=r[e];e++)o.style[i]=t}}else if((n.userAgent.IE||n.userAgent.OPERA)&&(t=t?"on":"",e.setAttribute("unselectable",t),r))for(e=0;o=r[e];e++)o.setAttribute("unselectable",t)},n.style.getBorderBoxSize=function(e){return new n.math.Size(e.offsetWidth,e.offsetHeight)},n.style.setBorderBoxSize=function(e,t){var r=n.dom.getOwnerDocument(e),i=n.dom.getDomHelper(r).isCss1CompatMode();if(!n.userAgent.IE||i&&n.userAgent.isVersionOrHigher("8"))n.style.setBoxSizingSize_(e,t,"border-box");else if(r=e.style,i){var i=n.style.getPaddingBox(e),o=n.style.getBorderBox(e);r.pixelWidth=t.width-o.left-i.left-i.right-o.right,r.pixelHeight=t.height-o.top-i.top-i.bottom-o.bottom}else r.pixelWidth=t.width,r.pixelHeight=t.height},n.style.getContentBoxSize=function(e){var t=n.dom.getOwnerDocument(e),r=n.userAgent.IE&&e.currentStyle;return r&&n.dom.getDomHelper(t).isCss1CompatMode()&&"auto"!=r.width&&"auto"!=r.height&&!r.boxSizing?(t=n.style.getIePixelValue_(e,r.width,"width","pixelWidth"),e=n.style.getIePixelValue_(e,r.height,"height","pixelHeight"),new n.math.Size(t,e)):(r=n.style.getBorderBoxSize(e),t=n.style.getPaddingBox(e),e=n.style.getBorderBox(e),new n.math.Size(r.width-e.left-t.left-t.right-e.right,r.height-e.top-t.top-t.bottom-e.bottom))},n.style.setContentBoxSize=function(e,t){var r=n.dom.getOwnerDocument(e),i=n.dom.getDomHelper(r).isCss1CompatMode();if(!n.userAgent.IE||i&&n.userAgent.isVersionOrHigher("8"))n.style.setBoxSizingSize_(e,t,"content-box");else if(r=e.style,i)r.pixelWidth=t.width,r.pixelHeight=t.height;else{var i=n.style.getPaddingBox(e),o=n.style.getBorderBox(e);r.pixelWidth=t.width+o.left+i.left+i.right+o.right,r.pixelHeight=t.height+o.top+i.top+i.bottom+o.bottom}},n.style.setBoxSizingSize_=function(e,t,r){e=e.style,n.userAgent.GECKO?e.MozBoxSizing=r:n.userAgent.WEBKIT?e.WebkitBoxSizing=r:e.boxSizing=r,e.width=Math.max(t.width,0)+"px",e.height=Math.max(t.height,0)+"px"},n.style.getIePixelValue_=function(e,t,n,r){if(/^\d+px?$/.test(t))return parseInt(t,10);var i=e.style[n],o=e.runtimeStyle[n];return e.runtimeStyle[n]=e.currentStyle[n],e.style[n]=t,t=e.style[r],e.style[n]=i,e.runtimeStyle[n]=o,t},n.style.getIePixelDistance_=function(e,t){var r=n.style.getCascadedStyle(e,t);return r?n.style.getIePixelValue_(e,r,"left","pixelLeft"):0},n.style.getBox_=function(e,t){if(n.userAgent.IE){var r=n.style.getIePixelDistance_(e,t+"Left"),i=n.style.getIePixelDistance_(e,t+"Right"),o=n.style.getIePixelDistance_(e,t+"Top"),s=n.style.getIePixelDistance_(e,t+"Bottom");return new n.math.Box(o,i,s,r)}return r=n.style.getComputedStyle(e,t+"Left"),i=n.style.getComputedStyle(e,t+"Right"),o=n.style.getComputedStyle(e,t+"Top"),s=n.style.getComputedStyle(e,t+"Bottom"),new n.math.Box(parseFloat(o),parseFloat(i),parseFloat(s),parseFloat(r))},n.style.getPaddingBox=function(e){return n.style.getBox_(e,"padding")},n.style.getMarginBox=function(e){return n.style.getBox_(e,"margin")},n.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},n.style.getIePixelBorder_=function(e,t){if("none"==n.style.getCascadedStyle(e,t+"Style"))return 0;var r=n.style.getCascadedStyle(e,t+"Width");return r in n.style.ieBorderWidthKeywords_?n.style.ieBorderWidthKeywords_[r]:n.style.getIePixelValue_(e,r,"left","pixelLeft")},n.style.getBorderBox=function(e){if(n.userAgent.IE&&!n.userAgent.isDocumentModeOrHigher(9)){var t=n.style.getIePixelBorder_(e,"borderLeft"),r=n.style.getIePixelBorder_(e,"borderRight"),i=n.style.getIePixelBorder_(e,"borderTop");return e=n.style.getIePixelBorder_(e,"borderBottom"),new n.math.Box(i,r,e,t)}return t=n.style.getComputedStyle(e,"borderLeftWidth"),r=n.style.getComputedStyle(e,"borderRightWidth"),i=n.style.getComputedStyle(e,"borderTopWidth"),e=n.style.getComputedStyle(e,"borderBottomWidth"),new n.math.Box(parseFloat(i),parseFloat(r),parseFloat(e),parseFloat(t))},n.style.getFontFamily=function(e){var t=n.dom.getOwnerDocument(e),r="";if(t.body.createTextRange&&n.dom.contains(t,e)){t=t.body.createTextRange(),t.moveToElementText(e);try{r=t.queryCommandValue("FontName")}catch(e){r=""}}return r||(r=n.style.getStyle_(e,"fontFamily")),e=r.split(","),1<e.length&&(r=e[0]),n.string.stripQuotes(r,"\"'")},n.style.lengthUnitRegex_=/[^\d]+$/,n.style.getLengthUnits=function(e){return(e=e.match(n.style.lengthUnitRegex_))&&e[0]||null},n.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,in:1,mm:1,pc:1,pt:1},n.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},n.style.getFontSize=function(e){var t=n.style.getStyle_(e,"fontSize"),r=n.style.getLengthUnits(t);if(t&&"px"==r)return parseInt(t,10);if(n.userAgent.IE){if(r in n.style.ABSOLUTE_CSS_LENGTH_UNITS_)return n.style.getIePixelValue_(e,t,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==n.dom.NodeType.ELEMENT&&r in n.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return e=e.parentNode,r=n.style.getStyle_(e,"fontSize"),n.style.getIePixelValue_(e,t==r?"1em":t,"left","pixelLeft")}return r=n.dom.createDom("span",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"}),n.dom.appendChild(e,r),t=r.offsetHeight,n.dom.removeNode(r),t},n.style.parseStyleAttribute=function(e){var t={};return n.array.forEach(e.split(/\s*;\s*/),function(e){e=e.split(/\s*:\s*/),2==e.length&&(t[n.string.toCamelCase(e[0].toLowerCase())]=e[1])}),t},n.style.toStyleAttribute=function(e){var t=[];return n.object.forEach(e,function(e,r){t.push(n.string.toSelectorCase(r),":",e,";")}),t.join("")},n.style.setFloat=function(e,t){e.style[n.userAgent.IE?"styleFloat":"cssFloat"]=t},n.style.getFloat=function(e){return e.style[n.userAgent.IE?"styleFloat":"cssFloat"]||""},n.style.getScrollbarWidth=function(e){var t=n.dom.createElement("div");return e&&(t.className=e),t.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px",e=n.dom.createElement("div"),n.style.setSize(e,"200px","200px"),t.appendChild(e),n.dom.appendChild(n.dom.getDocument().body,t),e=t.offsetWidth-t.clientWidth,n.dom.removeNode(t),e},n.style.MATRIX_TRANSLATION_REGEX_=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/,n.style.getCssTranslation=function(e){return e=n.style.getComputedTransform(e),e&&(e=e.match(n.style.MATRIX_TRANSLATION_REGEX_))?new n.math.Coordinate(parseFloat(e[1]),parseFloat(e[2])):new n.math.Coordinate(0,0)},r.vml=function(){},r.vml.browserEnabled=!1,r.vml.initVmlRendering=function(){r.vml.browserEnabled||(n.style.installStyles(".xrx-vml{behavior:url(#default#VML);display:inline-block}"),r.vml.browserEnabled=!0)},r.vml.createFillAndCo=function(e){var t=document.createElement("xrxvml:fill"),r=document.createElement("xrxvml:stroke"),i=document.createElement("xrxvml:skew");t.setAttribute("class","xrx-vml"),r.setAttribute("class","xrx-vml"),i.setAttribute("class","xrx-vml"),n.dom.appendChild(e,t),n.dom.appendChild(e,r),n.dom.appendChild(e,i)},r.vml.createElement=function(e,t){var n;return!document.namespaces.xrxvml&&document.namespaces.add("xrxvml","urn:schemas-microsoft-com:vml"),n=document.createElement("xrxvml:"+e),n.setAttribute("class","xrx-vml"),!1!==t&&r.vml.createFillAndCo(n),n},r.vml.setPath=function(e,t,n){for(var r="m ",i=0,o=t.length;i<o;i++)r+=t[i][0]+","+t[i][1],0!==i&&i!==o-1&&(r+=", "),0===i&&(r+=" l ");n&&(r+=" x "),e.path=r+" e"},r.engine.Element=function(){n.Disposable.call(this)},n.inherits(r.engine.Element,n.Disposable),r.engine.Element.prototype.startDrawing=function(){},r.engine.Element.prototype.finishDrawing=function(){},r.engine.Element.prototype.disposeInternal=function(){r.engine.Element.superClass_.disposeInternal.call(this)},r.vml.Element=function(e){r.engine.Element.call(this),this.element_=e},n.inherits(r.vml.Element,r.engine.Element),r.vml.Element.prototype.getElement=function(){return this.element_},r.vml.Element.prototype.applyTransform=function(e){e&&(e=e.m00_+","+e.m10_+","+e.m01_+","+e.m11_+","+e.m02_+","+e.m12_,console.log(e),this.element_.setAttribute("matrix",e))},r.vml.Stylable=function(e){r.vml.Element.call(this,e),e=n.dom.getChildren(e),this.fill_=e[0],this.stroke_=e[1],this.skew_=e[2]},n.inherits(r.vml.Stylable,r.vml.Element),r.vml.Stylable.prototype.strokeAndFill_=function(e,t,n,r){void 0!==e&&this.setFillColor(e),void 0!==t&&this.setFillOpacity(t),void 0!==n&&this.setStrokeColor(n),void 0!==r&&this.setStrokeWidth(r)},r.vml.Stylable.prototype.setStrokeWidth=function(e){this.stroke_.weight=""+e},r.vml.Stylable.prototype.setStrokeColor=function(e){this.stroke_.color=""+e},r.vml.Stylable.prototype.setFillColor=function(e){this.fill_.color=""+e},r.vml.Stylable.prototype.setFillOpacity=function(e){this.fill_.opacity=""+e},r.vml.Rect=function(e){r.vml.Stylable.call(this,e)},n.inherits(r.vml.Rect,r.vml.Stylable),r.vml.Rect.prototype.setX=function(e){this.element_.style.left=e+"px"},r.vml.Rect.prototype.setY=function(e){this.element_.style.top=e+"px"},r.vml.Rect.prototype.setWidth=function(e){this.element_.style.width=e+"px"},r.vml.Rect.prototype.setHeight=function(e){this.element_.style.height=e+"px"},r.vml.Rect.prototype.draw=function(e,t,n,r,i,o,s,a){void 0!==e&&this.setX(e),void 0!==t&&this.setY(t),void 0!==n&&this.setWidth(n),void 0!==r&&this.setHeight(r),this.strokeAndFill_(i,o,s,a)},r.vml.Rect.create=function(e){return e=r.vml.createElement("rect"),e.style.position="absolute",new r.vml.Rect(e)},r.canvas=function(){},r.canvas.Element=function(e){r.engine.Element.call(this),this.canvas_=e,this.context_=this.canvas_.getElement().getContext("2d")},n.inherits(r.canvas.Element,r.engine.Element),r.canvas.Element.prototype.getCanvas=function(){return this.canvas_},r.canvas.Element.prototype.getContext=function(){return this.context_},r.canvas.Element.prototype.applyTransform=function(e){e&&this.context_.setTransform(e.m00_,e.m10_,e.m01_,e.m11_,e.m02_,e.m12_)},r.canvas.Element.prototype.disposeInternal=function(){this.canvas_.dispose(),this.context_=null,r.canvas.Element.superClass_.disposeInternal.call(this)},r.canvas.Stylable=function(e){r.canvas.Element.call(this,e)},n.inherits(r.canvas.Stylable,r.canvas.Element),r.canvas.Stylable.prototype.strokeAndFill_=function(e,t,n,r){this.context_.fillStyle=e,this.context_.globalAlpha=t,this.context_.fill(),this.context_.globalAlpha=1,this.context_.strokeStyle=n,this.context_.lineWidth=r,0<r&&this.context_.stroke()},r.canvas.Stylable.prototype.disposeInternal=function(){r.canvas.Stylable.superClass_.disposeInternal.call(this)},r.canvas.Image=function(e){r.canvas.Stylable.call(this,e)},n.inherits(r.canvas.Image,r.canvas.Stylable),r.canvas.Image.prototype.draw=function(e){e&&this.context_.drawImage(e,0,0,e.width,e.height)},r.canvas.Image.create=function(e){return new r.canvas.Image(e)},r.canvas.Image.prototype.disposeInternal=function(){r.canvas.Image.superClass_.disposeInternal.call(this)},r.canvas.Circle=function(e){r.canvas.Stylable.call(this,e)},n.inherits(r.canvas.Circle,r.canvas.Stylable),r.canvas.Circle.prototype.draw=function(e,t,n,r,i,o,s){this.context_.beginPath(),this.context_.arc(e,t,n,0,2*Math.PI),this.strokeAndFill_(r,i,o,s)},r.canvas.Circle.create=function(e){return new r.canvas.Circle(e)},r.canvas.Circle.prototype.disposeInternal=function(){r.canvas.Circle.superClass_.disposeInternal.call(this)},r.vml.Polyline=function(e){r.vml.Stylable.call(this,e)},n.inherits(r.vml.Polyline,r.vml.Stylable);r.vml.Polyline.prototype.setCoords=function(e){r.vml.setPath(this.element_,e)},r.vml.Polyline.prototype.draw=function(e,t,n,r,i){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,r,i)},r.vml.Polyline.create=function(e){var t=r.vml.createElement("shape");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new r.vml.Polyline(t)},r.vml.Ellipse=function(e){r.vml.Stylable.call(this,e),this.rx_,this.ry_},n.inherits(r.vml.Ellipse,r.vml.Stylable),r.vml.Ellipse.prototype.setCenter=function(e,t){var n=e-this.rx_,r=t-this.ry_;void 0!==e&&(this.element_.style.left=n+"px"),void 0!==t&&(this.element_.style.top=r+"px")},r.vml.Ellipse.prototype.setRadiusX=function(e){this.rx_=e,this.element_.style.width=2*this.rx_+"px"},r.vml.Ellipse.prototype.setRadiusY=function(e){this.ry_=e,this.element_.style.height=2*this.ry_+"px"},r.vml.Ellipse.prototype.draw=function(e,t,n,r,i,o,s,a){void 0!==n&&this.setRadiusX(n),void 0!==r&&this.setRadiusY(r),this.setCenter(e,t),this.strokeAndFill_(i,o,s,a)},r.vml.Ellipse.create=function(e){return e=r.vml.createElement("oval"),e.style.position="absolute",new r.vml.Ellipse(e)},r.canvas.Polygon=function(e){r.canvas.Stylable.call(this,e)},n.inherits(r.canvas.Polygon,r.canvas.Stylable),r.canvas.Polygon.prototype.drawPath_=function(e){if(e[0]){this.context_.beginPath(),this.context_.moveTo(e[0][0],e[0][1]);for(var t=1,n=e.length;t<n;t++)this.context_.lineTo(e[t][0],e[t][1]);this.context_.lineTo(e[0][0],e[0][1]),this.context_.closePath()}},r.canvas.Polygon.prototype.draw=function(e,t,n,r,i){this.drawPath_(e),this.strokeAndFill_(t,n,r,i)},r.canvas.Polygon.create=function(e){return new r.canvas.Polygon(e)},r.canvas.Polygon.prototype.disposeInternal=function(){r.canvas.Polygon.superClass_.disposeInternal.call(this)},r.canvas.Container=function(e){r.canvas.Element.call(this,e),this.childs_=[]},n.inherits(r.canvas.Container,r.canvas.Element),r.canvas.Container.prototype.addChild=function(e){this.childs_.push(e)},r.canvas.Container.prototype.getChildren=function(){return this.childs_},r.canvas.Container.prototype.removeChildren=function(){this.childs_=[]},r.canvas.Container.prototype.removeChildAt=function(e){this.childs_.splice(e,1)},r.canvas.Container.prototype.disposeInternal=function(){for(var e;e=this.childs_.pop();)e.dispose();this.childs_=null,r.canvas.Container.superClass_.disposeInternal.call(this)},r.canvas.Canvas=function(e){this.element_=e,this.height_=this.width_=0,r.canvas.Container.call(this,this)},n.inherits(r.canvas.Canvas,r.canvas.Container),r.canvas.Canvas.prototype.getElement=function(){return this.element_},r.canvas.Canvas.prototype.getEventTarget=function(){return this.element_},r.canvas.Canvas.prototype.getWidth=function(){return this.width_},r.canvas.Canvas.prototype.setWidth=function(e){this.width_=e,this.element_.setAttribute("width",e)},r.canvas.Canvas.prototype.getHeight=function(){return this.height_},r.canvas.Canvas.prototype.setHeight=function(e){this.height_=e,this.element_.setAttribute("height",e)},r.canvas.Canvas.prototype.startDrawing=function(){this.context_.save(),this.context_.clearRect(0,0,this.width_,this.height_),this.context_.beginPath()},r.canvas.Canvas.prototype.finishDrawing=function(){this.context_.closePath(),this.context_.restore()},r.canvas.Canvas.create=function(e){return e=n.dom.createElement("canvas"),new r.canvas.Canvas(e)},r.canvas.Canvas.prototype.disposeInternal=function(){n.dom.removeNode(this.element_),this.element_=null,r.canvas.Canvas.superClass_.disposeInternal.call(this)},r.canvas.Group=function(e){r.canvas.Container.call(this,e)},n.inherits(r.canvas.Group,r.canvas.Container),r.canvas.Group.create=function(e){return new r.canvas.Group(e)},r.canvas.Group.prototype.disposeInternal=function(){r.canvas.Group.superClass_.disposeInternal.call(this)},r.svg=function(){},r.svg.Namespace={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},r.svg.isSupported=function(){return!!document.createElementNS&&!!document.createElementNS(r.svg.Namespace.svg,"svg").createSVGRect},r.svg.setCoords=function(e,t){for(var n="",r=0,i=t.length;r<i;r++)n+=Math.round(t[r][0])+","+Math.round(t[r][1])+" ";e.setAttribute("points",n)},r.svg.Element=function(e){r.engine.Element.call(this),this.element_=e},n.inherits(r.svg.Element,r.engine.Element),r.svg.Element.prototype.getElement=function(){return this.element_},r.svg.Element.prototype.applyTransform=function(e){e&&this.element_.setAttribute("transform","matrix("+e.m00_+","+e.m10_+","+e.m01_+","+e.m11_+","+e.m02_+","+e.m12_+")")},r.svg.Element.prototype.disposeInternal=function(){n.dom.removeNode(this.element_),this.element_=this.element_.style=null,r.svg.Element.superClass_.disposeInternal.call(this)},r.svg.Stylable=function(e){r.svg.Element.call(this,e)},n.inherits(r.svg.Stylable,r.svg.Element),r.svg.Stylable.prototype.strokeAndFill_=function(e,t,n,r){void 0!==e&&this.setFillColor(e),void 0!==t&&this.setFillOpacity(t),void 0!==n&&this.setStrokeColor(n),void 0!==r&&this.setStrokeWidth(r)},r.svg.Stylable.prototype.setStrokeWidth=function(e){this.element_.setAttribute("stroke-width",Math.round(e))},r.svg.Stylable.prototype.setStrokeColor=function(e){this.element_.setAttribute("stroke",e),this.element_.setAttribute("stroke-color",e)},r.svg.Stylable.prototype.setFillColor=function(e){this.element_.setAttribute("fill",e)},r.svg.Stylable.prototype.setFillOpacity=function(e){this.element_.setAttribute("fill-opacity",e)},r.svg.Stylable.prototype.disposeInternal=function(){r.svg.Stylable.superClass_.disposeInternal.call(this)},r.svg.Line=function(e){r.svg.Stylable.call(this,e)},n.inherits(r.svg.Line,r.svg.Stylable),r.svg.Line.prototype.setCoords=function(e,t,n,r){void 0!==e&&this.element_.setAttribute("x1",e),void 0!==t&&this.element_.setAttribute("y1",t),void 0!==n&&this.element_.setAttribute("x2",n),void 0!==r&&this.element_.setAttribute("y2",r)},r.svg.Line.prototype.draw=function(e,t,n,r,i,o){this.setCoords(e,t,n,r),this.strokeAndFill_(void 0,void 0,i,o)},r.svg.Line.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"line"),new r.svg.Line(e)},r.svg.Line.prototype.disposeInternal=function(){r.svg.Line.superClass_.disposeInternal.call(this)},r.canvas.Rect=function(e){r.canvas.Stylable.call(this,e)},n.inherits(r.canvas.Rect,r.canvas.Stylable),r.canvas.Rect.prototype.drawPath_=function(e,t,n,r){this.context_.beginPath(),this.context_.moveTo(e,t),this.context_.lineTo(e+n,t),this.context_.lineTo(e+n,t+r),this.context_.lineTo(e,t+r),this.context_.closePath()},r.canvas.Rect.prototype.draw=function(e,t,n,r,i,o,s,a){this.drawPath_(e,t,n,r),this.strokeAndFill_(i,o,s,a)},r.canvas.Rect.create=function(e){return new r.canvas.Rect(e)},r.canvas.Rect.prototype.disposeInternal=function(){r.canvas.Rect.superClass_.disposeInternal.call(this)},r.canvas.Polyline=function(e){r.canvas.Stylable.call(this,e)},n.inherits(r.canvas.Polyline,r.canvas.Stylable),r.canvas.Polyline.prototype.drawPath_=function(e){this.context_.beginPath(),this.context_.moveTo(e[0][0],e[0][1]);for(var t=1,n=e.length;t<n;t++)this.context_.lineTo(e[t][0],e[t][1])},r.canvas.Polyline.prototype.draw=function(e,t,n,r,i){this.drawPath_(e),this.strokeAndFill_(t,n,r,i)},r.canvas.Polyline.create=function(e){return new r.canvas.Polyline(e)},r.canvas.Polyline.prototype.disposeInternal=function(){r.canvas.Polyline.superClass_.disposeInternal.call(this)},r.vml.Image=function(e){r.vml.Stylable.call(this,e)},n.inherits(r.vml.Image,r.vml.Stylable),r.vml.Image.prototype.setImage=function(e){var t=n.style.getSize(e);this.element_.src=e.src,this.element_.style.width=t.width+"px",this.element_.style.height=t.height+"px"},r.vml.Image.prototype.draw=function(e){void 0!==e&&this.setImage(e)},r.vml.Image.create=function(e){return e=r.vml.createElement("image",!1),e.setAttribute("class","xrx-vml"),e.setAttribute("src","about:blank"),e.style.position="absolute",e.style.left="0px",e.style.top="0px",new r.vml.Image(e)},r.svg.Container=function(e){r.svg.Element.call(this,e),this.childs_=[]},n.inherits(r.svg.Container,r.svg.Element),r.svg.Container.prototype.addChild=function(e){this.childs_.push(e),n.dom.append(this.element_,e.getElement())},r.svg.Container.prototype.getChildren=function(){return this.childs_},r.svg.Container.prototype.removeChildren=function(){n.dom.removeChildren(this.element_),this.childs_=[]},r.svg.Container.prototype.removeChildAt=function(e){n.dom.removeNode(this.childs_[e].getElement()),this.childs_.splice(e,1)},r.svg.Container.prototype.disposeInternal=function(){for(var e;e=this.childs_.pop();)e.dispose();this.childs_=null,r.svg.Container.superClass_.disposeInternal.call(this)},r.svg.Canvas=function(e){r.svg.Container.call(this,e),this.height_=this.width_=0},n.inherits(r.svg.Canvas,r.svg.Container),r.svg.Canvas.prototype.getEventTarget=function(){return this.element_},r.svg.Canvas.prototype.getWidth=function(){return this.width_},r.svg.Canvas.prototype.setWidth=function(e){this.width_=e,this.element_.setAttribute("width",e)},r.svg.Canvas.prototype.getHeight=function(){return this.height_},r.svg.Canvas.prototype.setHeight=function(e){this.height_=e,this.element_.setAttribute("height",e)},r.svg.Canvas.prototype.startDrawing=function(){},r.svg.Canvas.prototype.finishDrawing=function(){},r.svg.Canvas.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"svg"),n.style.setStyle(e,"overflow","hidden"),new r.svg.Canvas(e)},r.svg.Canvas.prototype.disposeInternal=function(){r.svg.Canvas.superClass_.disposeInternal.call(this)},r.canvas.Line=function(e){r.canvas.Stylable.call(this,e)},n.inherits(r.canvas.Line,r.canvas.Stylable),r.canvas.Line.prototype.drawPath_=function(e,t,n,r){this.context_.beginPath(),this.context_.moveTo(e,t),this.context_.lineTo(n,r)},r.canvas.Line.prototype.draw=function(e,t,n,r,i,o){this.drawPath_(e,t,n,r),this.strokeAndFill_(void 0,void 0,i,o)},r.canvas.Line.create=function(e){return new r.canvas.Line(e)},r.canvas.Line.prototype.disposeInternal=function(){r.canvas.Line.superClass_.disposeInternal.call(this)},r.svg.Polygon=function(e){r.svg.Stylable.call(this,e)},n.inherits(r.svg.Polygon,r.svg.Stylable),r.svg.Polygon.prototype.setCoords=function(e){r.svg.setCoords(this.element_,e)},r.svg.Polygon.prototype.draw=function(e,t,n,r,i){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,r,i)},r.svg.Polygon.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"polygon"),new r.svg.Polygon(e)},r.svg.Polygon.prototype.disposeInternal=function(){r.svg.Polygon.superClass_.disposeInternal.call(this)},r.svg.Circle=function(e){r.svg.Stylable.call(this,e)},n.inherits(r.svg.Circle,r.svg.Stylable),r.svg.Circle.prototype.setCenter=function(e,t){void 0!==e&&this.element_.setAttribute("cx",e),void 0!==t&&this.element_.setAttribute("cy",t)},r.svg.Circle.prototype.setRadius=function(e){this.element_.setAttribute("r",e)},r.svg.Circle.prototype.draw=function(e,t,n,r,i,o,s){this.setCenter(e,t),void 0!==n&&this.setRadius(n),this.strokeAndFill_(r,i,o,s)},r.svg.Circle.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"circle"),new r.svg.Circle(e)},r.svg.Circle.prototype.disposeInternal=function(){r.svg.Circle.superClass_.disposeInternal.call(this)},r.canvas.Ellipse=function(e){r.canvas.Stylable.call(this,e)},n.inherits(r.canvas.Ellipse,r.canvas.Stylable),r.canvas.Ellipse.prototype.draw=function(e,t,n,r,i,o,s,a){if(this.context_.ellipse)this.context_.beginPath(),this.context_.ellipse(e,t,n,r,0,0,2*Math.PI,!0),this.context_.closePath();else for(var l,h,c=0;c<=2*Math.PI;c+=.01)l=e+n*Math.sin(c),h=t-r*Math.cos(c),0===c?this.context_.moveTo(l,h):this.context_.lineTo(l,h);this.strokeAndFill_(i,o,s,a)},r.canvas.Ellipse.create=function(e){return new r.canvas.Ellipse(e)},r.canvas.Ellipse.prototype.disposeInternal=function(){r.canvas.Ellipse.superClass_.disposeInternal.call(this)},r.svg.Ellipse=function(e){r.svg.Stylable.call(this,e)},n.inherits(r.svg.Ellipse,r.svg.Stylable),r.svg.Ellipse.prototype.setCenter=function(e,t){void 0!==e&&this.element_.setAttribute("cx",e),void 0!==t&&this.element_.setAttribute("cy",t)},r.svg.Ellipse.prototype.setRadiusX=function(e){this.element_.setAttribute("rx",e)},r.svg.Ellipse.prototype.setRadiusY=function(e){this.element_.setAttribute("ry",e)},r.svg.Ellipse.prototype.draw=function(e,t,n,r,i,o,s,a){this.setCenter(e,t),void 0!==n&&this.setRadiusX(n),void 0!==r&&this.setRadiusY(r),this.strokeAndFill_(i,o,s,a)},r.svg.Ellipse.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"ellipse"),new r.svg.Ellipse(e)},r.svg.Ellipse.prototype.disposeInternal=function(){r.svg.Ellipse.superClass_.disposeInternal.call(this)},r.vml.Container=function(e){r.vml.Element.call(this,e),this.childs_=[]},n.inherits(r.vml.Container,r.vml.Element),r.vml.Container.prototype.addChild=function(e){this.childs_.push(e),this.element_.appendChild(e.getElement())},r.vml.Container.prototype.getChildren=function(){return this.childs_},r.vml.Container.prototype.removeChildren=function(){n.dom.removeChildren(this.element_),this.childs_=[]},r.vml.Container.prototype.removeChildAt=function(e){n.dom.removeNode(this.childs_[e].getElement()),this.childs_.splice(e,1)},r.vml.Canvas=function(e){r.vml.Container.call(this,e),this.height_=this.width_=0},n.inherits(r.vml.Canvas,r.vml.Container),r.vml.Canvas.prototype.getEventTarget=function(){return this.element_},r.vml.Canvas.prototype.getWidth=function(){return this.width_},r.vml.Canvas.prototype.setWidth=function(e){this.width_=e,this.element_.parentElement.style.width=e+"px",this.element_.style.width=e+"px",this.element_.coordorigin="0, 0",this.element_.coordsize=this.width_+", "+this.height_},r.vml.Canvas.prototype.getHeight=function(){return this.height_},r.vml.Canvas.prototype.setHeight=function(e){this.height_=e,this.element_.parentElement.style.height=e+"px",this.element_.style.height=e+"px",this.element_.coordorigin="0, 0",this.element_.coordsize=this.width_+", "+this.height_},r.vml.Canvas.prototype.startDrawing=function(){},r.vml.Canvas.prototype.finishDrawing=function(){},r.vml.Canvas.create=function(e){r.vml.initVmlRendering();var t=n.dom.createElement("div");t.style.display="inline-block",t.style.position="relative",t.style.overflow="hidden",t.style.width="100px",t.style.height="100px";var i=r.vml.createElement("group",!1);return n.dom.appendChild(t,i),n.dom.appendChild(e,t),i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.width="100px",i.style.height="100px",new r.vml.Canvas(i)},r.vml.Polygon=function(e){r.vml.Stylable.call(this,e)},n.inherits(r.vml.Polygon,r.vml.Stylable),r.vml.Polygon.prototype.setCoords=function(e){r.vml.setPath(this.element_,e,!0)},r.vml.Polygon.prototype.draw=function(e,t,n,r,i){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,r,i)},r.vml.Polygon.create=function(e){var t=r.vml.createElement("shape");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new r.vml.Polygon(t)},r.svg.Group=function(e){r.svg.Container.call(this,e)},n.inherits(r.svg.Group,r.svg.Container),r.svg.Group.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"g"),new r.svg.Group(e)},r.svg.Group.prototype.disposeInternal=function(){r.svg.Group.superClass_.disposeInternal.call(this)},r.vml.Group=function(e){r.vml.Container.call(this,e)},n.inherits(r.vml.Group,r.vml.Container),r.vml.Group.create=function(e){var t=r.vml.createElement("group",!1);return t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new r.vml.Group(t)},r.svg.Image=function(e){r.svg.Stylable.call(this,e)},n.inherits(r.svg.Image,r.svg.Stylable),r.svg.Image.prototype.setWidth=function(e){this.element_.setAttribute("width",e)},r.svg.Image.prototype.setHeight=function(e){this.element_.setAttribute("height",e)},r.svg.Image.prototype.setImage=function(e){this.element_.setAttributeNS(r.svg.Namespace.xlink,"xlink:href",e.src)},r.svg.Image.prototype.draw=function(e){void 0!==e&&this.setImage(e)},r.svg.Image.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"image"),new r.svg.Image(e)},r.svg.Image.prototype.disposeInternal=function(){r.svg.Image.superClass_.disposeInternal.call(this)},r.vml.Circle=function(e){r.vml.Stylable.call(this,e),this.r_},n.inherits(r.vml.Circle,r.vml.Stylable),r.vml.Circle.prototype.setCenter=function(e,t,n){n=e-this.r_;var r=t-this.r_;void 0!==e&&(this.element_.style.left=n+"px"),void 0!==t&&(this.element_.style.top=r+"px")},r.vml.Circle.prototype.setRadius=function(e){this.r_=e,e=2*this.r_,this.element_.style.width=e+"px",this.element_.style.height=e+"px"},r.vml.Circle.prototype.draw=function(e,t,n,r,i,o,s){void 0!==n&&this.setRadius(n),this.setCenter(e,t,n),this.strokeAndFill_(r,i,o,s)},r.vml.Circle.create=function(e){return e=r.vml.createElement("oval"),e.style.position="absolute",new r.vml.Circle(e)},r.svg.Rect=function(e){r.svg.Stylable.call(this,e)},n.inherits(r.svg.Rect,r.svg.Stylable),r.svg.Rect.prototype.setX=function(e){this.element_.setAttribute("x",e)},r.svg.Rect.prototype.setY=function(e){this.element_.setAttribute("y",e)},r.svg.Rect.prototype.setWidth=function(e){this.element_.setAttribute("width",e)},r.svg.Rect.prototype.setHeight=function(e){this.element_.setAttribute("height",e)},r.svg.Rect.prototype.draw=function(e,t,n,r,i,o,s,a){void 0!==e&&this.setX(e),void 0!==t&&this.setY(t),void 0!==n&&this.setWidth(n),void 0!==r&&this.setHeight(r),this.strokeAndFill_(i,o,s,a)},r.svg.Rect.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"rect"),new r.svg.Rect(e)},r.svg.Rect.prototype.disposeInternal=function(){r.svg.Rect.superClass_.disposeInternal.call(this)},r.svg.Polyline=function(e){r.svg.Stylable.call(this,e)},n.inherits(r.svg.Polyline,r.svg.Stylable),r.svg.Polyline.prototype.setCoords=function(e){r.svg.setCoords(this.element_,e)},r.svg.Polyline.prototype.draw=function(e,t,n,r,i){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,r,i)},r.svg.Polyline.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"polyline"),new r.svg.Polyline(e)},r.svg.Polyline.prototype.disposeInternal=function(){r.svg.Polyline.superClass_.disposeInternal.call(this)},r.vml.Line=function(e){r.vml.Stylable.call(this,e)},n.inherits(r.vml.Line,r.vml.Stylable),r.vml.Line.prototype.setCoords=function(e){r.vml.setPath(this.element_,e,!1)},r.vml.Line.prototype.draw=function(e,t,n,r,i,o){this.setCoords([[e,t],[n,r]]),this.strokeAndFill_(void 0,void 0,i,o)},r.vml.Line.create=function(e){var t=r.vml.createElement("shape");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new r.vml.Line(t)},r.engine.Engines=function(){},r.shape.Shape=function(e){r.shape.RenderStylable.call(this,e),this.drawing_=e,this.isModifiable_=!0},n.inherits(r.shape.Shape,r.shape.RenderStylable),r.shape.Shape.prototype.getDrawing=function(){return this.drawing_},r.shape.Shape.prototype.setModifiable=function(e){this.isModifiable_=!1!==e},r.shape.Shape.prototype.isModifiable=function(){return this.isModifiable_},r.shape.Shape.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,n.dispose(this.hoverable_),this.hoverable_=null,n.dispose(this.selectable_),this.selectable_=null,n.dispose(this.modifiable_),this.modifiable_=null,n.dispose(this.creatable_),this.creatable_=null,r.shape.Shape.superClass_.disposeInternal.call(this)},r.shape.Geometry=function(e,t){r.shape.Shape.call(this,e),this.geometry_=t,this.zoomFactor_=1},n.inherits(r.shape.Geometry,r.shape.Shape);r.shape.Geometry.prototype.setZoomFactor=function(e){this.zoomFactor_=e},r.shape.Geometry.prototype.getGeometry=function(){return this.geometry_},r.shape.Geometry.prototype.setCTM=function(e){this.ctm_=e},r.shape.Geometry.prototype.getCoordsCopy=function(){for(var e=this.getCoords(),t=e.length,n=Array(t),r=0;r<t;r++)n[r]=Array(2),n[r][0]=e[r][0],n[r][1]=e[r][1];return n},r.shape.Geometry.prototype.disposeInternal=function(){n.dispose(this.geometry_),this.geometry_=null,n.dispose(this.ctm_),this.ctm_=null,r.shape.Geometry.superClass_.disposeInternal.call(this)},r.geometry=function(){},r.geometry.addCoordsX=function(e,t){for(var n=0,r=e.length;n<r;n++)e[n][0]+=t},r.geometry.addCoordsY=function(e,t){for(var n=0,r=e.length;n<r;n++)e[n][1]+=t},r.geometry.getBBox=function(e){for(var t,n,r={x:e[0][0],y:e[0][1],x2:e[0][0],y2:e[0][1],width:0,height:0},i=1,o=e.length;i<o;i++)t=e[i][0],n=e[i][1],t<r.x&&(r.x=t),n<r.y&&(r.y=n),t>r.x2&&(r.x2=t),n>r.y2&&(r.y2=n);return r.width=r.x2-r.x,r.height=r.y2-r.y,r},r.geometry.Geometry=function(){n.Disposable.call(this)},n.inherits(r.geometry.Geometry,n.Disposable),r.geometry.Geometry.prototype.disposeInternal=function(){r.geometry.Geometry.superClass_.disposeInternal.call(this)},r.geometry.Group=function(){r.geometry.Geometry.call(this),this.childs_=[]},n.inherits(r.geometry.Group,r.geometry.Geometry),r.geometry.Group.prototype.addChild=function(e){this.childs_.push(e)},r.geometry.Group.prototype.containsPoint=function(e){for(var t=0,n=this.childs_.length;t<n;t++)if(this.childs_[t].containsPoint(e))return!0;return!1},r.shape.Container=function(e){r.shape.Geometry.call(this,e,new r.geometry.Group),this.childs_=[]},n.inherits(r.shape.Container,r.shape.Geometry),r.shape.Container.prototype.getChildren=function(){return this.childs_},r.shape.Container.prototype.getChild=function(e){return this.childs_[e]},r.shape.Container.prototype.addChildren=function(e){n.isArray(e)||(e=[e]);for(var t=0,r=e.length;t<r;t++)this.childs_.push(e[t]),this.engineElement_.addChild(e[t].getEngineElement())},r.shape.Container.prototype.removeChildren=function(){this.childs_=[],this.engineElement_.removeChildren()},r.shape.Container.prototype.removeChildAt=function(e){this.childs_.splice(e,1),this.engineElement_.removeChildAt(e)},r.shape.Container.prototype.disposeInternal=function(){for(var e;e=this.childs_.pop();)e.dispose();this.childs_=null,r.shape.Container.superClass_.disposeInternal.call(this)},r.shape.Group=function(e){r.shape.Container.call(this,e),this.engineElement_=this.drawing_.getEngine().createGroup()},n.inherits(r.shape.Group,r.shape.Container),r.shape.Group.prototype.draw=function(){this.startDrawing_();for(var e=this.getChildren(),t=0,n=e.length;t<n;t++)e[t].draw();this.finishDrawing_()},r.shape.Group.prototype.disposeInternal=function(){r.shape.Group.superClass_.disposeInternal.call(this)},r.drawing.Layer=function(e){n.Disposable.call(this),this.drawing_=e,this.locked_=!1,this.shapes_=[],this.create_()},n.inherits(r.drawing.Layer,n.Disposable),r.drawing.Layer.prototype.getDrawing=function(){return this.drawing_},r.drawing.Layer.prototype.setLocked=function(e){this.locked_=!0===e},r.drawing.Layer.prototype.isLocked=function(){return this.locked_},r.drawing.Layer.prototype.getGroup=function(){return this.group_},r.drawing.Layer.prototype.getShapes=function(){return this.shapes_},r.drawing.Layer.prototype.draw=function(){for(var e=0,t=this.shapes_.length;e<t;e++)this.shapes_[e].draw(this.drawing_.getViewbox().getZoomValue())},r.drawing.Layer.prototype.addShapes=function(e){n.isArray(e)||(e=[e]);for(var t=0,r=e.length;t<r;t++)this.shapes_.push(e[t]);this.group_.addChildren(e)},r.drawing.Layer.prototype.removeShapes=function(){this.shapes_=[],this.group_.removeChildren()},r.drawing.Layer.prototype.removeShape=function(e){for(var t=0,n=this.shapes_.length;t<n;t++)if(this.shapes_[t]===e){this.group_.removeChildAt(t),this.shapes_.splice(t,1);break}},r.drawing.Layer.prototype.create_=function(){this.group_=new r.shape.Group(this.drawing_)},r.drawing.Layer.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,this.group_.dispose(),this.group_=null;for(var e;e=this.shapes_.pop();)e.dispose();this.shapes_=null,r.drawing.Layer.superClass_.disposeInternal.call(this)},r.drawing.LayerShapeCreate=function(e){r.drawing.Layer.call(this,e)},n.inherits(r.drawing.LayerShapeCreate,r.drawing.Layer),r.drawing.LayerShapeCreate.prototype.disposeInternal=function(){r.drawing.LayerShapeCreate.superClass_.disposeInternal.call(this)},r.drawing.LayerShape=function(e){r.drawing.Layer.call(this,e)},n.inherits(r.drawing.LayerShape,r.drawing.Layer),r.drawing.LayerShape.prototype.disposeInternal=function(){r.drawing.LayerShape.superClass_.disposeInternal.call(this)},n.events={},n.events.EventId=function(e){this.id=e},n.events.EventId.prototype.toString=function(){return this.id},n.events.Listenable=function(){},n.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),n.events.Listenable.addImplementation=function(e){e.prototype[n.events.Listenable.IMPLEMENTED_BY_PROP]=!0},n.events.Listenable.isImplementedBy=function(e){return!(!e||!e[n.events.Listenable.IMPLEMENTED_BY_PROP])},n.events.ListenableKey=function(){},n.events.ListenableKey.counter_=0,n.events.ListenableKey.reserveKey=function(){return++n.events.ListenableKey.counter_},n.events.Listener=function(e,t,r,i,o,s){n.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack),this.listener=e,this.proxy=t,this.src=r,this.type=i,this.capture=!!o,this.handler=s,this.key=n.events.ListenableKey.reserveKey(),this.removed=this.callOnce=!1},n.events.Listener.ENABLE_MONITORING=!1,n.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.handler=this.src=this.proxy=this.listener=null},n.events.ListenerMap=function(e){this.src=e,this.listeners={},this.typeCount_=0},n.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},n.events.ListenerMap.prototype.getListenerCount=function(){var e,t=0;for(e in this.listeners)t+=this.listeners[e].length;return t},n.events.ListenerMap.prototype.add=function(e,t,r,i,o){var s=e.toString();(e=this.listeners[s])||(e=this.listeners[s]=[],this.typeCount_++);var a=n.events.ListenerMap.findListenerIndex_(e,t,i,o);return-1<a?(t=e[a],r||(t.callOnce=!1)):(t=new n.events.Listener(t,null,this.src,s,!!i,o),t.callOnce=r,e.push(t)),t},n.events.ListenerMap.prototype.remove=function(e,t,r,i){if(!((e=e.toString())in this.listeners))return!1;var o=this.listeners[e];return-1<(t=n.events.ListenerMap.findListenerIndex_(o,t,r,i))&&(o[t].markAsRemoved(),n.array.removeAt(o,t),0==o.length&&(delete this.listeners[e],this.typeCount_--),!0)},n.events.ListenerMap.prototype.removeByKey=function(e){var t=e.type;if(!(t in this.listeners))return!1;var r=n.array.remove(this.listeners[t],e);return r&&(e.markAsRemoved(),0==this.listeners[t].length&&(delete this.listeners[t],this.typeCount_--)),r},n.events.ListenerMap.prototype.removeAll=function(e){e=e&&e.toString();var t,n=0;for(t in this.listeners)if(!e||t==e){for(var r=this.listeners[t],i=0;i<r.length;i++)++n,r[i].markAsRemoved();delete this.listeners[t],this.typeCount_--}return n},n.events.ListenerMap.prototype.getListeners=function(e,t){var n=this.listeners[e.toString()],r=[];if(n)for(var i=0;i<n.length;++i){var o=n[i];o.capture==t&&r.push(o)}return r},n.events.ListenerMap.prototype.getListener=function(e,t,r,i){e=this.listeners[e.toString()];var o=-1;return e&&(o=n.events.ListenerMap.findListenerIndex_(e,t,r,i)),-1<o?e[o]:null},n.events.ListenerMap.prototype.hasListener=function(e,t){var r=n.isDef(e),i=r?e.toString():"",o=n.isDef(t);return n.object.some(this.listeners,function(e,n){for(var s=0;s<e.length;++s)if(!(r&&e[s].type!=i||o&&e[s].capture!=t))return!0;return!1})},n.events.ListenerMap.findListenerIndex_=function(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.removed&&o.listener==t&&o.capture==!!n&&o.handler==r)return i}return-1},n.events.BrowserFeature={HAS_W3C_BUTTON:!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:n.userAgent.IE&&!n.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!n.userAgent.WEBKIT||n.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:n.userAgent.GECKO&&n.userAgent.isVersionOrHigher("1.9b")||n.userAgent.IE&&n.userAgent.isVersionOrHigher("8")||n.userAgent.OPERA&&n.userAgent.isVersionOrHigher("9.5")||n.userAgent.WEBKIT&&n.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:n.userAgent.GECKO&&!n.userAgent.isVersionOrHigher("8")||n.userAgent.IE&&!n.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in n.global||!!(n.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!n.global.navigator||!n.global.navigator.msMaxTouchPoints)},n.debug.entryPointRegistry={},n.debug.EntryPointMonitor=function(){},n.debug.entryPointRegistry.refList_=[],n.debug.entryPointRegistry.monitors_=[],n.debug.entryPointRegistry.monitorsMayExist_=!1,n.debug.entryPointRegistry.register=function(e){if(n.debug.entryPointRegistry.refList_[n.debug.entryPointRegistry.refList_.length]=e,n.debug.entryPointRegistry.monitorsMayExist_)for(var t=n.debug.entryPointRegistry.monitors_,r=0;r<t.length;r++)e(n.bind(t[r].wrap,t[r]))},n.debug.entryPointRegistry.monitorAll=function(e){n.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=n.bind(e.wrap,e),r=0;r<n.debug.entryPointRegistry.refList_.length;r++)n.debug.entryPointRegistry.refList_[r](t);n.debug.entryPointRegistry.monitors_.push(e)},n.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=n.debug.entryPointRegistry.monitors_;n.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped."),e=n.bind(e.unwrap,e);for(var r=0;r<n.debug.entryPointRegistry.refList_.length;r++)n.debug.entryPointRegistry.refList_[r](e);t.length--},n.events.getVendorPrefixedName_=function(e){return n.userAgent.WEBKIT?"webkit"+e:n.userAgent.OPERA?"o"+e.toLowerCase():e.toLowerCase()},n.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:n.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:n.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",ANIMATIONSTART:n.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:n.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:n.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:n.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXTINPUT:"textinput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified"},n.events.Event=function(e,t){this.type=e instanceof n.events.EventId?String(e):e,this.currentTarget=this.target=t,this.defaultPrevented=this.propagationStopped_=!1,this.returnValue_=!0},n.events.Event.prototype.disposeInternal=function(){},n.events.Event.prototype.dispose=function(){},n.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},n.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},n.events.Event.stopPropagation=function(e){e.stopPropagation()},n.events.Event.preventDefault=function(e){e.preventDefault()},n.reflect={},n.reflect.object=function(e,t){return t},n.reflect.sinkValue=function(e){return n.reflect.sinkValue[" "](e),e},n.reflect.sinkValue[" "]=n.nullFunction,n.reflect.canAccessProperty=function(e,t){try{return n.reflect.sinkValue(e[t]),!0}catch(e){}return!1},n.events.BrowserEvent=function(e,t){n.events.Event.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.platformModifierKey=!1,this.event_=null,e&&this.init(e,t)},n.inherits(n.events.BrowserEvent,n.events.Event),n.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},n.events.BrowserEvent.IEButtonMap=[1,4,2],n.events.BrowserEvent.prototype.init=function(e,t){var r=this.type=e.type;this.target=e.target||e.srcElement,this.currentTarget=t;var i=e.relatedTarget;i?n.userAgent.GECKO&&(n.reflect.canAccessProperty(i,"nodeName")||(i=null)):r==n.events.EventType.MOUSEOVER?i=e.fromElement:r==n.events.EventType.MOUSEOUT&&(i=e.toElement),this.relatedTarget=i,this.offsetX=n.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=n.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0,this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==r?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=n.userAgent.MAC?e.metaKey:e.ctrlKey,this.state=e.state,this.event_=e,e.defaultPrevented&&this.preventDefault()},n.events.BrowserEvent.prototype.isButton=function(e){return n.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==n.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&n.events.BrowserEvent.IEButtonMap[e])},n.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(n.events.BrowserEvent.MouseButton.LEFT)&&!(n.userAgent.WEBKIT&&n.userAgent.MAC&&this.ctrlKey)},n.events.BrowserEvent.prototype.stopPropagation=function(){n.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},n.events.BrowserEvent.prototype.preventDefault=function(){n.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,n.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},n.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},n.events.BrowserEvent.prototype.disposeInternal=function(){},n.events.listeners_={},n.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),n.events.onString_="on",n.events.onStringMap_={},n.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},n.events.CAPTURE_SIMULATION_MODE=2,n.events.listenerCountEstimate_=0,n.events.listen=function(e,t,r,i,o){if(n.isArray(t)){for(var s=0;s<t.length;s++)n.events.listen(e,t[s],r,i,o);return null}return r=n.events.wrapListener(r),n.events.Listenable.isImplementedBy(e)?e.listen(t,r,i,o):n.events.listen_(e,t,r,!1,i,o)},n.events.listen_=function(e,t,r,i,o,s){if(!t)throw Error("Invalid event type");var a=!!o;if(a&&!n.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(n.events.CAPTURE_SIMULATION_MODE==n.events.CaptureSimulationMode.OFF_AND_FAIL)return n.asserts.fail("Can not register capture listener in IE8-."),null;if(n.events.CAPTURE_SIMULATION_MODE==n.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var l=n.events.getListenerMap_(e);return l||(e[n.events.LISTENER_MAP_PROP_]=l=new n.events.ListenerMap(e)),r=l.add(t,r,i,o,s),r.proxy?r:(i=n.events.getProxy(),r.proxy=i,i.src=e,i.listener=r,e.addEventListener?e.addEventListener(t.toString(),i,a):e.attachEvent(n.events.getOnString_(t.toString()),i),n.events.listenerCountEstimate_++,r)},n.events.getProxy=function(){var e=n.events.handleBrowserEvent_,t=n.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t},n.events.listenOnce=function(e,t,r,i,o){if(n.isArray(t)){for(var s=0;s<t.length;s++)n.events.listenOnce(e,t[s],r,i,o);return null}return r=n.events.wrapListener(r),n.events.Listenable.isImplementedBy(e)?e.listenOnce(t,r,i,o):n.events.listen_(e,t,r,!0,i,o)},n.events.listenWithWrapper=function(e,t,n,r,i){t.listen(e,n,r,i)},n.events.unlisten=function(e,t,r,i,o){if(n.isArray(t)){for(var s=0;s<t.length;s++)n.events.unlisten(e,t[s],r,i,o);return null}return r=n.events.wrapListener(r),n.events.Listenable.isImplementedBy(e)?e.unlisten(t,r,i,o):!!e&&(i=!!i,!(!(e=n.events.getListenerMap_(e))||!(t=e.getListener(t,r,i,o)))&&n.events.unlistenByKey(t))},n.events.unlistenByKey=function(e){if(n.isNumber(e)||!e||e.removed)return!1;var t=e.src;if(n.events.Listenable.isImplementedBy(t))return t.unlistenByKey(e);var r=e.type,i=e.proxy;return t.removeEventListener?t.removeEventListener(r,i,e.capture):t.detachEvent&&t.detachEvent(n.events.getOnString_(r),i),n.events.listenerCountEstimate_--,(r=n.events.getListenerMap_(t))?(r.removeByKey(e),0==r.getTypeCount()&&(r.src=null,t[n.events.LISTENER_MAP_PROP_]=null)):e.markAsRemoved(),!0},n.events.unlistenWithWrapper=function(e,t,n,r,i){t.unlisten(e,n,r,i)},n.events.removeAll=function(e,t){if(!e)return 0;if(n.events.Listenable.isImplementedBy(e))return e.removeAllListeners(t);var r=n.events.getListenerMap_(e);if(!r)return 0;var i,o=0,s=t&&t.toString();for(i in r.listeners)if(!s||i==s)for(var a=r.listeners[i].concat(),l=0;l<a.length;++l)n.events.unlistenByKey(a[l])&&++o;return o},n.events.removeAllNativeListeners=function(){return n.events.listenerCountEstimate_=0},n.events.getListeners=function(e,t,r){return n.events.Listenable.isImplementedBy(e)?e.getListeners(t,r):e&&(e=n.events.getListenerMap_(e))?e.getListeners(t,r):[]},n.events.getListener=function(e,t,r,i,o){return r=n.events.wrapListener(r),i=!!i,n.events.Listenable.isImplementedBy(e)?e.getListener(t,r,i,o):e&&(e=n.events.getListenerMap_(e))?e.getListener(t,r,i,o):null},n.events.hasListener=function(e,t,r){return n.events.Listenable.isImplementedBy(e)?e.hasListener(t,r):!!(e=n.events.getListenerMap_(e))&&e.hasListener(t,r)},n.events.expose=function(e){var t,n=[];for(t in e)e[t]&&e[t].id?n.push(t+" = "+e[t]+" ("+e[t].id+")"):n.push(t+" = "+e[t]);return n.join("\n")},n.events.getOnString_=function(e){return e in n.events.onStringMap_?n.events.onStringMap_[e]:n.events.onStringMap_[e]=n.events.onString_+e},n.events.fireListeners=function(e,t,r,i){return n.events.Listenable.isImplementedBy(e)?e.fireListeners(t,r,i):n.events.fireListeners_(e,t,r,i)},n.events.fireListeners_=function(e,t,r,i){var o=1;if((e=n.events.getListenerMap_(e))&&(t=e.listeners[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var s=t[e];s&&s.capture==r&&!s.removed&&(o&=!1!==n.events.fireListener(s,i))}return Boolean(o)},n.events.fireListener=function(e,t){var r=e.listener,i=e.handler||e.src;return e.callOnce&&n.events.unlistenByKey(e),r.call(i,t)},n.events.getTotalListenerCount=function(){return n.events.listenerCountEstimate_},n.events.dispatchEvent=function(e,t){return n.asserts.assert(n.events.Listenable.isImplementedBy(e),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),e.dispatchEvent(t)},n.events.protectBrowserEventEntryPoint=function(e){n.events.handleBrowserEvent_=e.protectEntryPoint(n.events.handleBrowserEvent_)},n.events.handleBrowserEvent_=function(e,t){if(e.removed)return!0;if(!n.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var r=t||n.getObjectByName("window.event"),i=new n.events.BrowserEvent(r,this),o=!0;if(n.events.CAPTURE_SIMULATION_MODE==n.events.CaptureSimulationMode.ON){if(!n.events.isMarkedIeEvent_(r)){n.events.markIeEvent_(r);for(var r=[],s=i.currentTarget;s;s=s.parentNode)r.push(s);for(var s=e.type,a=r.length-1;!i.propagationStopped_&&0<=a;a--)i.currentTarget=r[a],o&=n.events.fireListeners_(r[a],s,!0,i);for(a=0;!i.propagationStopped_&&a<r.length;a++)i.currentTarget=r[a],o&=n.events.fireListeners_(r[a],s,!1,i)}}else o=n.events.fireListener(e,i);return o}return n.events.fireListener(e,new n.events.BrowserEvent(t,this))},n.events.markIeEvent_=function(e){var t=!1;if(0==e.keyCode)try{return void(e.keyCode=-1)}catch(e){t=!0}(t||void 0==e.returnValue)&&(e.returnValue=!0)},n.events.isMarkedIeEvent_=function(e){return 0>e.keyCode||void 0!=e.returnValue},n.events.uniqueIdCounter_=0,n.events.getUniqueId=function(e){return e+"_"+n.events.uniqueIdCounter_++},n.events.getListenerMap_=function(e){return e=e[n.events.LISTENER_MAP_PROP_],e instanceof n.events.ListenerMap?e:null},n.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),n.events.wrapListener=function(e){return n.asserts.assert(e,"Listener can not be null."),n.isFunction(e)?e:(n.asserts.assert(e.handleEvent,"An object listener must have handleEvent method."),e[n.events.LISTENER_WRAPPER_PROP_]||(e[n.events.LISTENER_WRAPPER_PROP_]=function(t){return e.handleEvent(t)}))},n.debug.entryPointRegistry.register(function(e){n.events.handleBrowserEvent_=e(n.events.handleBrowserEvent_)}),n.events.EventHandler=function(e){n.Disposable.call(this),this.handler_=e,this.keys_={}},n.inherits(n.events.EventHandler,n.Disposable),n.events.EventHandler.typeArray_=[],n.events.EventHandler.prototype.listen=function(e,t,n,r){return this.listen_(e,t,n,r)},n.events.EventHandler.prototype.listenWithScope=function(e,t,n,r,i){return this.listen_(e,t,n,r,i)},n.events.EventHandler.prototype.listen_=function(e,t,r,i,o){n.isArray(t)||(t&&(n.events.EventHandler.typeArray_[0]=t.toString()),t=n.events.EventHandler.typeArray_);for(var s=0;s<t.length;s++){var a=n.events.listen(e,t[s],r||this.handleEvent,i||!1,o||this.handler_||this);if(!a)break;this.keys_[a.key]=a}return this},n.events.EventHandler.prototype.listenOnce=function(e,t,n,r){return this.listenOnce_(e,t,n,r)},n.events.EventHandler.prototype.listenOnceWithScope=function(e,t,n,r,i){return this.listenOnce_(e,t,n,r,i)},n.events.EventHandler.prototype.listenOnce_=function(e,t,r,i,o){if(n.isArray(t))for(var s=0;s<t.length;s++)this.listenOnce_(e,t[s],r,i,o);else{if(!(e=n.events.listenOnce(e,t,r||this.handleEvent,i,o||this.handler_||this)))return this;this.keys_[e.key]=e}return this},n.events.EventHandler.prototype.listenWithWrapper=function(e,t,n,r){return this.listenWithWrapper_(e,t,n,r)},n.events.EventHandler.prototype.listenWithWrapperAndScope=function(e,t,n,r,i){return this.listenWithWrapper_(e,t,n,r,i)},n.events.EventHandler.prototype.listenWithWrapper_=function(e,t,n,r,i){return t.listen(e,n,r,i||this.handler_||this,this),this},n.events.EventHandler.prototype.getListenerCount=function(){var e,t=0;for(e in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,e)&&t++;return t},n.events.EventHandler.prototype.unlisten=function(e,t,r,i,o){if(n.isArray(t))for(var s=0;s<t.length;s++)this.unlisten(e,t[s],r,i,o);else(e=n.events.getListener(e,t,r||this.handleEvent,i,o||this.handler_||this))&&(n.events.unlistenByKey(e),delete this.keys_[e.key]);return this},n.events.EventHandler.prototype.unlistenWithWrapper=function(e,t,n,r,i){return t.unlisten(e,n,r,i||this.handler_||this,this),this},n.events.EventHandler.prototype.removeAll=function(){n.object.forEach(this.keys_,n.events.unlistenByKey),this.keys_={}},n.events.EventHandler.prototype.disposeInternal=function(){n.events.EventHandler.superClass_.disposeInternal.call(this),this.removeAll()},n.events.EventHandler.prototype.handleEvent=function(e){throw Error("EventHandler.handleEvent not implemented")},n.style.bidi={},n.style.bidi.getScrollLeft=function(e){var t=n.style.isRightToLeft(e);return t&&n.userAgent.GECKO?-e.scrollLeft:!t||n.userAgent.IE&&n.userAgent.isVersionOrHigher("8")||"visible"==n.style.getComputedOverflowX(e)?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft},n.style.bidi.getOffsetStart=function(e){var t=e.offsetLeft,r=e.offsetParent;if(r||"fixed"!=n.style.getComputedPosition(e)||(r=n.dom.getOwnerDocument(e).documentElement),!r)return t;if(n.userAgent.GECKO)var i=n.style.getBorderBox(r),t=t+i.left;else n.userAgent.isDocumentModeOrHigher(8)&&(i=n.style.getBorderBox(r),t-=i.left);return n.style.isRightToLeft(r)?r.clientWidth-(t+e.offsetWidth):t},n.style.bidi.setScrollOffset=function(e,t){t=Math.max(t,0),n.style.isRightToLeft(e)?n.userAgent.GECKO?e.scrollLeft=-t:n.userAgent.IE&&n.userAgent.isVersionOrHigher("8")?e.scrollLeft=t:e.scrollLeft=e.scrollWidth-t-e.clientWidth:e.scrollLeft=t},n.style.bidi.setPosition=function(e,t,r,i){n.isNull(r)||(e.style.top=r+"px"),i?(e.style.right=t+"px",e.style.left=""):(e.style.left=t+"px",e.style.right="")},n.events.EventTarget=function(){n.Disposable.call(this),this.eventTargetListeners_=new n.events.ListenerMap(this),this.actualEventTarget_=this},n.inherits(n.events.EventTarget,n.Disposable),n.events.Listenable.addImplementation(n.events.EventTarget),n.events.EventTarget.MAX_ANCESTORS_=1e3,n.events.EventTarget.prototype.parentEventTarget_=null,n.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},n.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},n.events.EventTarget.prototype.addEventListener=function(e,t,r,i){n.events.listen(this,e,t,r,i)},n.events.EventTarget.prototype.removeEventListener=function(e,t,r,i){n.events.unlisten(this,e,t,r,i)},n.events.EventTarget.prototype.dispatchEvent=function(e){this.assertInitialized_();var t,r=this.getParentEventTarget();if(r){t=[];for(var i=1;r;r=r.getParentEventTarget())t.push(r),n.asserts.assert(++i<n.events.EventTarget.MAX_ANCESTORS_,"infinite loop")}return n.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,t)},n.events.EventTarget.prototype.disposeInternal=function(){n.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},n.events.EventTarget.prototype.listen=function(e,t,n,r){return this.assertInitialized_(),this.eventTargetListeners_.add(String(e),t,!1,n,r)},n.events.EventTarget.prototype.listenOnce=function(e,t,n,r){return this.eventTargetListeners_.add(String(e),t,!0,n,r)},n.events.EventTarget.prototype.unlisten=function(e,t,n,r){return this.eventTargetListeners_.remove(String(e),t,n,r)},n.events.EventTarget.prototype.unlistenByKey=function(e){return this.eventTargetListeners_.removeByKey(e)},n.events.EventTarget.prototype.removeAllListeners=function(e){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(e):0},n.events.EventTarget.prototype.fireListeners=function(e,t,n){if(!(e=this.eventTargetListeners_.listeners[String(e)]))return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.removed&&o.capture==t){var s=o.listener,a=o.handler||o.src;o.callOnce&&this.unlistenByKey(o),r=!1!==s.call(a,n)&&r}}return r&&0!=n.returnValue_},n.events.EventTarget.prototype.getListeners=function(e,t){return this.eventTargetListeners_.getListeners(String(e),t)},n.events.EventTarget.prototype.getListener=function(e,t,n,r){return this.eventTargetListeners_.getListener(String(e),t,n,r)},n.events.EventTarget.prototype.hasListener=function(e,t){var r=n.isDef(e)?String(e):void 0;return this.eventTargetListeners_.hasListener(r,t)},n.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},n.events.EventTarget.prototype.assertInitialized_=function(){n.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},n.events.EventTarget.dispatchEventInternal_=function(e,t,r){var i=t.type||t;if(n.isString(t))t=new n.events.Event(t,e);else if(t instanceof n.events.Event)t.target=t.target||e;else{var o=t;t=new n.events.Event(i,e),n.object.extend(t,o)}var s,o=!0;if(r)for(var a=r.length-1;!t.propagationStopped_&&0<=a;a--)s=t.currentTarget=r[a],o=s.fireListeners(i,!0,t)&&o;if(t.propagationStopped_||(s=t.currentTarget=e,o=s.fireListeners(i,!0,t)&&o,t.propagationStopped_||(o=s.fireListeners(i,!1,t)&&o)),r)for(a=0;!t.propagationStopped_&&a<r.length;a++)s=t.currentTarget=r[a],o=s.fireListeners(i,!1,t)&&o;return o},n.fx={},n.fx.Dragger=function(e,t,r){n.events.EventTarget.call(this),this.target=e,this.handle=t||e,this.limits=r||new n.math.Rect(NaN,NaN,NaN,NaN),this.document_=n.dom.getOwnerDocument(e),this.eventHandler_=new n.events.EventHandler(this),this.registerDisposable(this.eventHandler_),n.events.listen(this.handle,[n.events.EventType.TOUCHSTART,n.events.EventType.MOUSEDOWN],this.startDrag,!1,this)},n.inherits(n.fx.Dragger,n.events.EventTarget),n.fx.Dragger.HAS_SET_CAPTURE_=n.userAgent.IE||n.userAgent.GECKO&&n.userAgent.isVersionOrHigher("1.9.3"),n.fx.Dragger.cloneNode=function(e){for(var t=e.cloneNode(!0),r=e.getElementsByTagName("textarea"),i=t.getElementsByTagName("textarea"),o=0;o<r.length;o++)i[o].value=r[o].value;switch(e.tagName.toLowerCase()){case"tr":return n.dom.createDom("table",null,n.dom.createDom("tbody",null,t));case"td":case"th":return n.dom.createDom("table",null,n.dom.createDom("tbody",null,n.dom.createDom("tr",null,t)));case"textarea":t.value=e.value;default:return t}},n.fx.Dragger.EventType={EARLY_CANCEL:"earlycancel",START:"start",BEFOREDRAG:"beforedrag",DRAG:"drag",END:"end"},n.fx.Dragger.prototype.clientX=0,n.fx.Dragger.prototype.clientY=0,n.fx.Dragger.prototype.screenX=0,n.fx.Dragger.prototype.screenY=0,n.fx.Dragger.prototype.startX=0,n.fx.Dragger.prototype.startY=0;n.fx.Dragger.prototype.deltaX=0,n.fx.Dragger.prototype.deltaY=0,n.fx.Dragger.prototype.enabled_=!0,n.fx.Dragger.prototype.dragging_=!1,n.fx.Dragger.prototype.hysteresisDistanceSquared_=0,n.fx.Dragger.prototype.mouseDownTime_=0,n.fx.Dragger.prototype.ieDragStartCancellingOn_=!1,n.fx.Dragger.prototype.useRightPositioningForRtl_=!1,n.fx.Dragger.prototype.enableRightPositioningForRtl=function(e){this.useRightPositioningForRtl_=e},n.fx.Dragger.prototype.getHandler=function(){return this.eventHandler_},n.fx.Dragger.prototype.setLimits=function(e){this.limits=e||new n.math.Rect(NaN,NaN,NaN,NaN)},n.fx.Dragger.prototype.setHysteresis=function(e){this.hysteresisDistanceSquared_=Math.pow(e,2)},n.fx.Dragger.prototype.getHysteresis=function(){return Math.sqrt(this.hysteresisDistanceSquared_)},n.fx.Dragger.prototype.setScrollTarget=function(e){this.scrollTarget_=e},n.fx.Dragger.prototype.setCancelIeDragStart=function(e){this.ieDragStartCancellingOn_=e},n.fx.Dragger.prototype.getEnabled=function(){return this.enabled_},n.fx.Dragger.prototype.setEnabled=function(e){this.enabled_=e},n.fx.Dragger.prototype.disposeInternal=function(){n.fx.Dragger.superClass_.disposeInternal.call(this),n.events.unlisten(this.handle,[n.events.EventType.TOUCHSTART,n.events.EventType.MOUSEDOWN],this.startDrag,!1,this),this.cleanUpAfterDragging_(),this.handle=this.target=null},n.fx.Dragger.prototype.isRightToLeft_=function(){return n.isDef(this.rightToLeft_)||(this.rightToLeft_=n.style.isRightToLeft(this.target)),this.rightToLeft_},n.fx.Dragger.prototype.startDrag=function(e){var t=e.type==n.events.EventType.MOUSEDOWN;if(!this.enabled_||this.dragging_||t&&!e.isMouseActionButton())this.dispatchEvent(n.fx.Dragger.EventType.EARLY_CANCEL);else{if(this.maybeReinitTouchEvent_(e),0==this.hysteresisDistanceSquared_){if(!this.fireDragStart_(e))return;this.dragging_=!0,e.preventDefault()}else e.preventDefault();this.setupDragHandlers(),this.clientX=this.startX=e.clientX,this.clientY=this.startY=e.clientY,this.screenX=e.screenX,this.screenY=e.screenY,this.computeInitialPosition(),this.pageScroll=n.dom.getDomHelper(this.document_).getDocumentScroll(),this.mouseDownTime_=n.now()}},n.fx.Dragger.prototype.setupDragHandlers=function(){var e=this.document_,t=e.documentElement,r=!n.fx.Dragger.HAS_SET_CAPTURE_;this.eventHandler_.listen(e,[n.events.EventType.TOUCHMOVE,n.events.EventType.MOUSEMOVE],this.handleMove_,r),this.eventHandler_.listen(e,[n.events.EventType.TOUCHEND,n.events.EventType.MOUSEUP],this.endDrag,r),n.fx.Dragger.HAS_SET_CAPTURE_?(t.setCapture(!1),this.eventHandler_.listen(t,n.events.EventType.LOSECAPTURE,this.endDrag)):this.eventHandler_.listen(n.dom.getWindow(e),n.events.EventType.BLUR,this.endDrag),n.userAgent.IE&&this.ieDragStartCancellingOn_&&this.eventHandler_.listen(e,n.events.EventType.DRAGSTART,n.events.Event.preventDefault),this.scrollTarget_&&this.eventHandler_.listen(this.scrollTarget_,n.events.EventType.SCROLL,this.onScroll_,r)},n.fx.Dragger.prototype.fireDragStart_=function(e){return this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.START,this,e.clientX,e.clientY,e))},n.fx.Dragger.prototype.cleanUpAfterDragging_=function(){this.eventHandler_.removeAll(),n.fx.Dragger.HAS_SET_CAPTURE_&&this.document_.releaseCapture()},n.fx.Dragger.prototype.endDrag=function(e,t){if(this.cleanUpAfterDragging_(),this.dragging_){this.maybeReinitTouchEvent_(e),this.dragging_=!1;var r=this.limitX(this.deltaX),i=this.limitY(this.deltaY);this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.END,this,e.clientX,e.clientY,e,r,i,t||e.type==n.events.EventType.TOUCHCANCEL))}else this.dispatchEvent(n.fx.Dragger.EventType.EARLY_CANCEL)},n.fx.Dragger.prototype.endDragCancel=function(e){this.endDrag(e,!0)},n.fx.Dragger.prototype.maybeReinitTouchEvent_=function(e){var t=e.type;t==n.events.EventType.TOUCHSTART||t==n.events.EventType.TOUCHMOVE?e.init(e.getBrowserEvent().targetTouches[0],e.currentTarget):t!=n.events.EventType.TOUCHEND&&t!=n.events.EventType.TOUCHCANCEL||e.init(e.getBrowserEvent().changedTouches[0],e.currentTarget)},n.fx.Dragger.prototype.handleMove_=function(e){if(this.enabled_){this.maybeReinitTouchEvent_(e);var t=(this.useRightPositioningForRtl_&&this.isRightToLeft_()?-1:1)*(e.clientX-this.clientX),r=e.clientY-this.clientY;if(this.clientX=e.clientX,this.clientY=e.clientY,this.screenX=e.screenX,this.screenY=e.screenY,!this.dragging_){var i=this.startX-this.clientX,o=this.startY-this.clientY;if(i*i+o*o>this.hysteresisDistanceSquared_){if(!this.fireDragStart_(e))return void(this.isDisposed()||this.endDrag(e));this.dragging_=!0}}r=this.calculatePosition_(t,r),t=r.x,r=r.y,this.dragging_&&this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.BEFOREDRAG,this,e.clientX,e.clientY,e,t,r))&&(this.doDrag(e,t,r,!1),e.preventDefault())}},n.fx.Dragger.prototype.calculatePosition_=function(e,t){var r=n.dom.getDomHelper(this.document_).getDocumentScroll();e+=r.x-this.pageScroll.x,t+=r.y-this.pageScroll.y,this.pageScroll=r,this.deltaX+=e,this.deltaY+=t;var r=this.limitX(this.deltaX),i=this.limitY(this.deltaY);return new n.math.Coordinate(r,i)},n.fx.Dragger.prototype.onScroll_=function(e){var t=this.calculatePosition_(0,0);e.clientX=this.clientX,e.clientY=this.clientY,this.doDrag(e,t.x,t.y,!0)},n.fx.Dragger.prototype.doDrag=function(e,t,r,i){this.defaultAction(t,r),this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.DRAG,this,e.clientX,e.clientY,e,t,r))},n.fx.Dragger.prototype.limitX=function(e){var t=this.limits,n=isNaN(t.left)?null:t.left,t=isNaN(t.width)?0:t.width;return Math.min(null!=n?n+t:1/0,Math.max(null!=n?n:-1/0,e))},n.fx.Dragger.prototype.limitY=function(e){var t=this.limits,n=isNaN(t.top)?null:t.top,t=isNaN(t.height)?0:t.height;return Math.min(null!=n?n+t:1/0,Math.max(null!=n?n:-1/0,e))},n.fx.Dragger.prototype.computeInitialPosition=function(){this.deltaX=this.useRightPositioningForRtl_?n.style.bidi.getOffsetStart(this.target):this.target.offsetLeft,this.deltaY=this.target.offsetTop},n.fx.Dragger.prototype.defaultAction=function(e,t){this.useRightPositioningForRtl_&&this.isRightToLeft_()?this.target.style.right=e+"px":this.target.style.left=e+"px",this.target.style.top=t+"px"},n.fx.Dragger.prototype.isDragging=function(){return this.dragging_},n.fx.DragEvent=function(e,t,r,i,o,s,a,l){n.events.Event.call(this,e),this.clientX=r,this.clientY=i,this.browserEvent=o,this.left=n.isDef(s)?s:t.deltaX,this.top=n.isDef(a)?a:t.deltaY,this.dragger=t,this.dragCanceled=!!l},n.inherits(n.fx.DragEvent,n.events.Event),n.math.AffineTransform=function(e,t,n,r,i,o){if(6==arguments.length)this.setTransform(e,t,n,r,i,o);else{if(0!=arguments.length)throw Error("Insufficient matrix parameters");this.m00_=this.m11_=1,this.m10_=this.m01_=this.m02_=this.m12_=0}},n.math.AffineTransform.prototype.isIdentity=function(){return 1==this.m00_&&0==this.m10_&&0==this.m01_&&1==this.m11_&&0==this.m02_&&0==this.m12_},n.math.AffineTransform.prototype.clone=function(){return new n.math.AffineTransform(this.m00_,this.m10_,this.m01_,this.m11_,this.m02_,this.m12_)},n.math.AffineTransform.prototype.setTransform=function(e,t,r,i,o,s){if(!(n.isNumber(e)&&n.isNumber(t)&&n.isNumber(r)&&n.isNumber(i)&&n.isNumber(o)&&n.isNumber(s)))throw Error("Invalid transform parameters");return this.m00_=e,this.m10_=t,this.m01_=r,this.m11_=i,this.m02_=o,this.m12_=s,this},n.math.AffineTransform.prototype.copyFrom=function(e){return this.m00_=e.m00_,this.m10_=e.m10_,this.m01_=e.m01_,this.m11_=e.m11_,this.m02_=e.m02_,this.m12_=e.m12_,this},n.math.AffineTransform.prototype.scale=function(e,t){return this.m00_*=e,this.m10_*=e,this.m01_*=t,this.m11_*=t,this},n.math.AffineTransform.prototype.preScale=function(e,t){return this.m00_*=e,this.m01_*=e,this.m02_*=e,this.m10_*=t,this.m11_*=t,this.m12_*=t,this},n.math.AffineTransform.prototype.translate=function(e,t){return this.m02_+=e*this.m00_+t*this.m01_,this.m12_+=e*this.m10_+t*this.m11_,this},n.math.AffineTransform.prototype.preTranslate=function(e,t){return this.m02_+=e,this.m12_+=t,this},n.math.AffineTransform.prototype.rotate=function(e,t,r){return this.concatenate(n.math.AffineTransform.getRotateInstance(e,t,r))},n.math.AffineTransform.prototype.preRotate=function(e,t,r){return this.preConcatenate(n.math.AffineTransform.getRotateInstance(e,t,r))},n.math.AffineTransform.prototype.shear=function(e,t){var n=this.m00_,r=this.m10_;return this.m00_+=t*this.m01_,this.m10_+=t*this.m11_,this.m01_+=e*n,this.m11_+=e*r,this},n.math.AffineTransform.prototype.preShear=function(e,t){var n=this.m00_,r=this.m01_,i=this.m02_;return this.m00_+=e*this.m10_,this.m01_+=e*this.m11_,this.m02_+=e*this.m12_,this.m10_+=t*n,this.m11_+=t*r,this.m12_+=t*i,this},n.math.AffineTransform.prototype.toString=function(){return"matrix("+[this.m00_,this.m10_,this.m01_,this.m11_,this.m02_,this.m12_].join()+")"},n.math.AffineTransform.prototype.getScaleX=function(){return this.m00_},n.math.AffineTransform.prototype.getScaleY=function(){return this.m11_},n.math.AffineTransform.prototype.getTranslateX=function(){return this.m02_},n.math.AffineTransform.prototype.getTranslateY=function(){return this.m12_},n.math.AffineTransform.prototype.getShearX=function(){return this.m01_},n.math.AffineTransform.prototype.getShearY=function(){return this.m10_},n.math.AffineTransform.prototype.concatenate=function(e){var t=this.m00_,n=this.m01_;return this.m00_=e.m00_*t+e.m10_*n,this.m01_=e.m01_*t+e.m11_*n,this.m02_+=e.m02_*t+e.m12_*n,t=this.m10_,n=this.m11_,this.m10_=e.m00_*t+e.m10_*n,this.m11_=e.m01_*t+e.m11_*n,this.m12_+=e.m02_*t+e.m12_*n,this},n.math.AffineTransform.prototype.preConcatenate=function(e){var t=this.m00_,n=this.m10_;return this.m00_=e.m00_*t+e.m01_*n,this.m10_=e.m10_*t+e.m11_*n,t=this.m01_,n=this.m11_,this.m01_=e.m00_*t+e.m01_*n,this.m11_=e.m10_*t+e.m11_*n,t=this.m02_,n=this.m12_,this.m02_=e.m00_*t+e.m01_*n+e.m02_,this.m12_=e.m10_*t+e.m11_*n+e.m12_,this},n.math.AffineTransform.prototype.transform=function(e,t,n,r,i){var o=t;for(t+=2*i;o<t;){i=e[o++];var s=e[o++];n[r++]=i*this.m00_+s*this.m01_+this.m02_,n[r++]=i*this.m10_+s*this.m11_+this.m12_}},n.math.AffineTransform.prototype.getDeterminant=function(){return this.m00_*this.m11_-this.m01_*this.m10_},n.math.AffineTransform.prototype.isInvertible=function(){var e=this.getDeterminant();return n.math.isFiniteNumber(e)&&n.math.isFiniteNumber(this.m02_)&&n.math.isFiniteNumber(this.m12_)&&0!=e},n.math.AffineTransform.prototype.createInverse=function(){var e=this.getDeterminant();return new n.math.AffineTransform(this.m11_/e,-this.m10_/e,-this.m01_/e,this.m00_/e,(this.m01_*this.m12_-this.m11_*this.m02_)/e,(this.m10_*this.m02_-this.m00_*this.m12_)/e)},n.math.AffineTransform.getScaleInstance=function(e,t){return(new n.math.AffineTransform).setToScale(e,t)},n.math.AffineTransform.getTranslateInstance=function(e,t){return(new n.math.AffineTransform).setToTranslation(e,t)},n.math.AffineTransform.getShearInstance=function(e,t){return(new n.math.AffineTransform).setToShear(e,t)},n.math.AffineTransform.getRotateInstance=function(e,t,r){return(new n.math.AffineTransform).setToRotation(e,t,r)},n.math.AffineTransform.prototype.setToScale=function(e,t){return this.setTransform(e,0,0,t,0,0)},n.math.AffineTransform.prototype.setToTranslation=function(e,t){return this.setTransform(1,0,0,1,e,t)},n.math.AffineTransform.prototype.setToShear=function(e,t){return this.setTransform(1,t,e,1,0,0)},n.math.AffineTransform.prototype.setToRotation=function(e,t,n){var r=Math.cos(e);return e=Math.sin(e),this.setTransform(r,e,-e,r,t-t*r+n*e,n-t*e-n*r)},n.math.AffineTransform.prototype.equals=function(e){return this==e||!!e&&(this.m00_==e.m00_&&this.m01_==e.m01_&&this.m02_==e.m02_&&this.m10_==e.m10_&&this.m11_==e.m11_&&this.m12_==e.m12_)},r.drawing.tool={},r.drawing.tool.Tool=function(e,t,n){this.drawing_=e,this.isActive_=!1,this.element_=t,this.canvas_=n},r.drawing.tool.Tool.prototype.isActive=function(){return this.isActive_},r.drawing.tool.Tool.prototype.getCanvas=function(){return this.canvas_},r.drawing.tool.Magnifier=function(e,t,i,o,s){r.drawing.tool.Tool.call(this,e,t,i),this.group_=o,this.image_=s,this.width_=110,this.height_=100,this.ctm_=new n.math.AffineTransform},n.inherits(r.drawing.tool.Magnifier,r.drawing.tool.Tool),r.drawing.tool.Magnifier.prototype.hide=function(){n.style.setStyle(this.element_,"display","none"),this.isActive_=!1},r.drawing.tool.Magnifier.prototype.show=function(){n.style.setStyle(this.element_,"display","block"),this.isActive_=!0},r.drawing.tool.Magnifier.prototype.reset=function(){var e=this.canvas_;e.setWidth(this.width_),e.setHeight(this.height_),n.style.setStyle(this.element_,"position","absolute"),n.style.setStyle(this.element_,"display","block"),n.style.setStyle(this.element_,"z-index","1001"),n.style.setStyle(this.element_,"left","50px"),n.style.setStyle(this.element_,"top","50px"),n.style.setStyle(this.element_,"border","solid black 4px"),this.group_.draw()},r.drawing.tool.Magnifier.prototype.handleDrag_=function(e,t){var n;n=[t.deltaX+this.width_/2,t.deltaY];var i=Array(2),o=this.drawing_.getViewbox().getCTM(),s=this.drawing_.getEngine();if(o.createInverse().transform(n,0,i,0,1),n=this.ctm_.createInverse().translate(-i[0],-i[1]),s.typeOf(r.engine.CANVAS))s=this.canvas_.getElement(),i=s.getContext("2d"),i.save(),i.fillStyle="white",i.fillRect(0,0,s.width,s.height),i.beginPath(),r.canvas.setTransform_(i,n),this.group_.draw(),i.closePath(),i.restore();else if(s.typeOf(r.engine.SVG))r.svg.render(this.group_.getElement(),n);else{if(!s.typeOf(r.engine.VML))throw Error("Unknown engine.");r.vml.render(this.group_.getRaphael(),n)}},r.drawing.tool.Magnifier.prototype.registerDrag_=function(){var e=n.style.getSize(this.drawing_.getElement()),e=new n.math.Rect(0,0,e.width,e.height),t=new n.fx.Dragger(this.element_,this.element_,e);n.events.listen(t,n.events.EventType.DRAG,function(e){this.handleDrag_(e,t)},!1,this)},r.drawing.tool.Magnifier.create=function(e){var t=e.getGraphics(),i=e.getLayerBackground().getImage(),o=n.dom.createElement("div"),s=t.Canvas.create(e.getElement()),a=t.Group.create(s),t=t.Image.create(i.getImage(),s),i=new r.drawing.tool.Magnifier(e,o,s,a,t);return n.dom.appendChild(o,s.getElement()),s.addChild(a),a.addChildren(t),n.dom.appendChild(e.getElement(),o),i.reset(),i.registerDrag_(),i},r.drawing.LayerTool=function(e){r.drawing.Layer.call(this,e),this.magnifier_},n.inherits(r.drawing.LayerTool,r.drawing.Layer),r.drawing.LayerTool.prototype.toggleMagnifier=function(){this.magnifier_||(this.magnifier_=r.drawing.tool.Magnifier.create(this.drawing_)),this.magnifier_.isActive()?this.magnifier_.hide():this.magnifier_.show()},r.drawing.LayerTool.prototype.disposeInternal=function(){this.magnifier_=null,r.drawing.LayerTool.superClass_.disposeInternal.call(this)},n.events.MouseWheelHandler=function(e,t){n.events.EventTarget.call(this),this.element_=e;var r=n.dom.isElement(this.element_)?this.element_:this.element_?this.element_.body:null;this.isRtl_=!!r&&n.style.isRightToLeft(r),this.listenKey_=n.events.listen(this.element_,n.userAgent.GECKO?"DOMMouseScroll":"mousewheel",this,t)},n.inherits(n.events.MouseWheelHandler,n.events.EventTarget),n.events.MouseWheelHandler.EventType={MOUSEWHEEL:"mousewheel"},n.events.MouseWheelHandler.prototype.setMaxDeltaX=function(e){this.maxDeltaX_=e},n.events.MouseWheelHandler.prototype.setMaxDeltaY=function(e){this.maxDeltaY_=e},n.events.MouseWheelHandler.prototype.handleEvent=function(e){var t=0,r=0,i=0;e=e.getBrowserEvent(),"mousewheel"==e.type?(r=1,(n.userAgent.IE||n.userAgent.WEBKIT&&(n.userAgent.WINDOWS||n.userAgent.isVersionOrHigher("532.0")))&&(r=40),i=n.events.MouseWheelHandler.smartScale_(-e.wheelDelta,r),n.isDef(e.wheelDeltaX)?(t=n.events.MouseWheelHandler.smartScale_(-e.wheelDeltaX,r),r=n.events.MouseWheelHandler.smartScale_(-e.wheelDeltaY,r)):r=i):(i=e.detail,100<i?i=3:-100>i&&(i=-3),n.isDef(e.axis)&&e.axis===e.HORIZONTAL_AXIS?t=i:r=i),n.isNumber(this.maxDeltaX_)&&(t=n.math.clamp(t,-this.maxDeltaX_,this.maxDeltaX_)),n.isNumber(this.maxDeltaY_)&&(r=n.math.clamp(r,-this.maxDeltaY_,this.maxDeltaY_)),this.isRtl_&&(t=-t),t=new n.events.MouseWheelEvent(i,e,t,r),this.dispatchEvent(t)},n.events.MouseWheelHandler.smartScale_=function(e,t){return n.userAgent.WEBKIT&&(n.userAgent.MAC||n.userAgent.LINUX)&&0!=e%t?e:e/t},n.events.MouseWheelHandler.prototype.disposeInternal=function(){n.events.MouseWheelHandler.superClass_.disposeInternal.call(this),n.events.unlistenByKey(this.listenKey_),this.listenKey_=null},n.events.MouseWheelEvent=function(e,t,r,i){n.events.BrowserEvent.call(this,t),this.type=n.events.MouseWheelHandler.EventType.MOUSEWHEEL,this.detail=e,this.deltaX=r,this.deltaY=i},n.inherits(n.events.MouseWheelEvent,n.events.BrowserEvent),n.Timer=function(e,t){n.events.EventTarget.call(this),this.interval_=e||1,this.timerObject_=t||n.Timer.defaultTimerObject,this.boundTick_=n.bind(this.tick_,this),this.last_=n.now()},n.inherits(n.Timer,n.events.EventTarget),n.Timer.MAX_TIMEOUT_=2147483647,n.Timer.prototype.enabled=!1,n.Timer.defaultTimerObject=n.global,n.Timer.intervalScale=.8,n.Timer.prototype.timer_=null,n.Timer.prototype.getInterval=function(){return this.interval_},n.Timer.prototype.setInterval=function(e){this.interval_=e,this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()},n.Timer.prototype.tick_=function(){if(this.enabled){var e=n.now()-this.last_;0<e&&e<this.interval_*n.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-e):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=n.now()))}},n.Timer.prototype.dispatchTick=function(){this.dispatchEvent(n.Timer.TICK)},n.Timer.prototype.start=function(){this.enabled=!0,this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=n.now())},n.Timer.prototype.stop=function(){this.enabled=!1,this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)},n.Timer.prototype.disposeInternal=function(){n.Timer.superClass_.disposeInternal.call(this),this.stop(),delete this.timerObject_},n.Timer.TICK="tick",n.Timer.callOnce=function(e,t,r){if(n.isFunction(e))r&&(e=n.bind(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=n.bind(e.handleEvent,e)}return t>n.Timer.MAX_TIMEOUT_?-1:n.Timer.defaultTimerObject.setTimeout(e,t||0)},n.Timer.clear=function(e){n.Timer.defaultTimerObject.clearTimeout(e)},r.event={},r.event.Type=function(){},r.event.Type.CLICK=n.userAgent.MOBILE?n.events.EventType.TOUCHSTART:n.events.EventType.CLICK,r.event.Type.DBLCLICK=n.events.EventType.DBLCLICK,r.event.Type.DOWN=n.userAgent.MOBILE?n.events.EventType.TOUCHSTART:n.events.EventType.MOUSEDOWN,r.event.Type.IN=n.events.EventType.MOUSEOVER,r.event.Type.INPUT=function(){return n.userAgent.IE&&!n.userAgent.isVersionOrHigher(9)?n.events.EventType.PROPERTYCHANGE:n.userAgent.IE&&n.userAgent.isVersionOrHigher(9)&&!n.userAgent.isVersionOrHigher(10)?n.events.EventType.KEYUP:n.events.EventType.INPUT}(),r.event.Type.MOVE=n.userAgent.MOBILE?n.events.EventType.TOUCHMOVE:n.events.EventType.MOUSEMOVE,r.event.Type.OUT=n.events.EventType.MOUSEOUT,r.event.Type.UP=n.userAgent.MOBILE?n.events.EventType.TOUCHEND:n.events.EventType.MOUSEUP,r.event.Type.WHEEL=n.events.MouseWheelHandler.EventType.MOUSEWHEEL,r.drawing.Cursor=function(e){n.Disposable.call(this),this.drawing_=e,this.event_=this.shapes_=this.shape_=this.pointTransformed_=this.point=null},n.inherits(r.drawing.Cursor,n.Disposable),r.drawing.Cursor.prototype.getPoint=function(){return null===this.point_&&this.calculatePoint_(),this.point_},r.drawing.Cursor.prototype.getPointTransformed=function(){return null===this.pointTransformed_&&this.calculatePointTransformed_(),this.pointTransformed_},r.drawing.Cursor.prototype.getShape=function(){return null===this.shape_&&this.calculateShape_(),this.shape_},r.drawing.Cursor.prototype.getShapes=function(){return null===this.shapes_&&this.calculateShapes_(),this.shapes_},r.drawing.Cursor.prototype.calculatePoint_=function(){this.point_=this.drawing_.getOffsetPoint(this.event_)},r.drawing.Cursor.prototype.calculatePointTransformed_=function(){null===this.point_&&this.calculatePoint_(),this.pointTransformed_=this.drawing_.getViewbox().getCTM().transformPoint(this.point_)},r.drawing.Cursor.prototype.calculateShape_=function(){null===this.pointTransformed_&&this.calculatePointTransformed_(),this.shape_=this.drawing_.getShapeSelected(this.pointTransformed_)},r.drawing.Cursor.prototype.calculateShapes_=function(){null===this.pointTransformed_&&this.calculatePointTransformed_(),this.shapes_=this.drawing_.getShapesSelected(this.pointTransformed_)},r.drawing.Cursor.prototype.init=function(e){this.shapes_=this.shape_=this.pointTransformed_=this.point_=null,this.event_=e},r.event.Handler={CLICK:"handleClick",DBLCLICK:"handleDblClick",DOWN:"handleDown",IN:"handleIn",INPUT:"handleInput",MOVE:"handleMove",OUT:"handleOut",UP:"handleUp",WHEEL:"handleWheel"},r.geometry.Rect=function(){r.geometry.Geometry.call(this),this.height=this.width=this.y=this.x=0},n.inherits(r.geometry.Rect,r.geometry.Geometry),r.geometry.Rect.prototype.getBox=function(){return new n.math.Box(this.y,this.x+this.width,this.y+this.height,this.x)},r.geometry.Rect.prototype.containsPoint=function(e){return e[0]>=this.x&&e[1]>=this.y&&e[0]<=this.x+this.width&&e[1]<=this.y+this.height},r.geometry.Rect.prototype.disposeInternal=function(){r.geometry.Rect.superClass_.disposeInternal.call(this)},r.shape.Image=function(e){r.shape.Geometry.call(this,e,new r.geometry.Rect),this.engineElement_=this.drawing_.getEngine().createImage()},n.inherits(r.shape.Image,r.shape.Geometry),r.shape.Image.prototype.getImage=function(){return this.image_},r.shape.Image.prototype.setImage=function(e){this.image_=e,this.geometry_.width=e.naturalWidth,this.geometry_.height=e.naturalHeight},r.shape.Image.prototype.getHeight=function(){return this.geometry_.height},r.shape.Image.prototype.getWidth=function(){return this.geometry_.width},r.shape.Image.prototype.draw=function(){this.startDrawing_(),this.image_&&this.engineElement_.draw(this.image_),this.finishDrawing_()},r.shape.Image.prototype.disposeInternal=function(){this.image_=null,r.shape.Image.superClass_.disposeInternal.call(this)},r.shape.Modifiable=function(e){r.shape.Style.call(this),this.shape_=e,this.dragger_=[],this.store_=new r.shape.Style,this.store_.setStyle(this.shape_),this.setStyle(this.shape_)},n.inherits(r.shape.Modifiable,r.shape.Style),r.shape.Modifiable.prototype.selectOn=function(){this.store_.setStyle(this.shape_),this.shape_.setStyle(this)},r.shape.Modifiable.prototype.selectOff=function(){this.shape_.setStyle(this.store_)},r.shape.Modifiable.prototype.getShape=function(){return this.shape_},r.shape.Modifiable.prototype.getDragger=function(){return this.dragger_},r.shape.Modifiable.prototype.setDragger=function(e){this.dragger_=e},r.shape.Modifiable.prototype.disposeInternal=function(){var e;for(this.shape_.dispose(),this.shape_=null;e=this.dragger_.pop();)e.dispose();this.dragger_=null,r.shape.Modifiable.superClass_.disposeInternal.call(this)},r.shape.Hoverable=function(e){r.shape.Style.call(this),this.shape_=e,this.store_=new r.shape.Style},n.inherits(r.shape.Hoverable,r.shape.Style),r.shape.Hoverable.prototype.hoverOn=function(){this.store_.setStyle(this.shape_),this.shape_.setStyle(this)},r.shape.Hoverable.prototype.hoverOff=function(){this.shape_.setStyle(this.store_)},r.shape.Hoverable.prototype.disposeInternal=function(){this.shape_.dispose(),this.shape_=null,this.store_.dispose(),this.store_=null,r.shape.Hoverable.superClass_.disposeInternal.call(this)},r.geometry.Ellipse=function(){r.geometry.Geometry.call(this),this.ry=this.rx=this.cy=this.cx=0},n.inherits(r.geometry.Ellipse,r.geometry.Geometry),r.geometry.Ellipse.prototype.containsPoint=function(e){return 1>=(e[0]-this.cx)*(e[0]-this.cx)/(this.rx*this.rx)+(e[1]-this.cy)*(e[1]-this.cy)/(this.ry*this.ry)},r.geometry.Ellipse.prototype.disposeInternal=function(){r.geometry.Ellipse.superClass_.disposeInternal.call(this)},r.shape.Creatable=function(e,t){this.target_=e,this.preview_=t},r.shape.Creatable.prototype.getTarget=function(){return this.target_},r.shape.Creatable.prototype.getPreview=function(){return this.preview_},r.shape.Creatable.prototype.setStyle=function(e){this.preview_.setStyle(e)},r.shape.Creatable.prototype.setFillColor=function(e){this.preview_.setFillColor(e)},r.shape.Creatable.prototype.setFillOpacity=function(e){this.preview_.setFillOpacity(e)},r.shape.Creatable.prototype.setStrokeColor=function(e){this.preview_.setStrokeColor(e)},r.shape.Creatable.prototype.setStrokeWidth=function(e){this.preview_.setStrokeWidth(e)},r.shape.Selectable=function(e){r.shape.Style.call(this),this.shape_=e,this.store_=new r.shape.Style},n.inherits(r.shape.Selectable,r.shape.Style),r.shape.Selectable.prototype.selectOn=function(){this.store_.setStyle(this.shape_),this.shape_.setStyle(this)},r.shape.Selectable.prototype.selectOff=function(){this.shape_.setStyle(this.store_)},r.shape.Selectable.prototype.disposeInternal=function(){this.shape_.dispose(),this.shape_=null,this.store_.dispose(),this.store_=null,r.shape.Selectable.superClass_.disposeInternal.call(this)},r.shape.Ellipse=function(e){r.shape.Geometry.call(this,e,new r.geometry.Ellipse),this.engineElement_=this.drawing_.getEngine().createEllipse()},n.inherits(r.shape.Ellipse,r.shape.Geometry),r.shape.Ellipse.prototype.getCenter=function(){return[this.geometry_.cx,this.geometry_.cy]},r.shape.Ellipse.prototype.setCenter=function(e,t){this.geometry_.cx=e,this.geometry_.cy=t},r.shape.Ellipse.prototype.getRadiusX=function(){return this.geometry_.rx},r.shape.Ellipse.prototype.setRadiusX=function(e){this.geometry_.rx=e},r.shape.Ellipse.prototype.getRadiusY=function(){return this.geometry_.ry},r.shape.Ellipse.prototype.setRadiusY=function(e){this.geometry_.ry=e},r.shape.Ellipse.prototype.getCoords=function(){return[this.getCenter()]},r.shape.Ellipse.prototype.setCoords=function(e){this.setCenter(e[0][0],e[0][1])},r.shape.Ellipse.prototype.draw=function(){this.startDrawing_();var e=this.getCenter();this.engineElement_.draw(e[0],e[1],this.getRadiusX(),this.getRadiusY(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},r.shape.Ellipse.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new r.shape.EllipseHoverable(this)),this.hoverable_},r.shape.Ellipse.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new r.shape.EllipseSelectable(this)),this.selectable_},r.shape.Ellipse.prototype.getModifiable=function(){return this.modifiable_||(this.modifiable_=new r.shape.EllipseModifiable(this)),this.modifiable_},r.shape.Ellipse.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new r.shape.EllipseCreatable(this)),this.creatable_},r.shape.Ellipse.prototype.disposeInternal=function(){r.shape.Ellipse.superClass_.disposeInternal.call(this)},r.shape.EllipseHoverable=function(e){r.shape.Hoverable.call(this,e)},n.inherits(r.shape.EllipseHoverable,r.shape.Hoverable),r.shape.EllipseHoverable.prototype.disposeInternal=function(){r.shape.EllipseHoverable.superClass_.disposeInternal.call(this)};r.shape.EllipseSelectable=function(e){r.shape.Selectable.call(this,e)},n.inherits(r.shape.EllipseSelectable,r.shape.Selectable),r.shape.EllipseSelectable.prototype.disposeInternal=function(){r.shape.EllipseSelectable.superClass_.disposeInternal.call(this)},r.shape.EllipseModifiable=function(e){r.shape.Modifiable.call(this,e),this.init_()},n.inherits(r.shape.EllipseModifiable,r.shape.Modifiable),r.shape.EllipseModifiable.prototype.setCoords=function(e){this.shape_.setCoords(e),this.dragger_[0].setCoordX(e[0][0]+this.shape_.getRadiusX()),this.dragger_[0].setCoordY(e[0][1]),this.dragger_[1].setCoordX(e[0][0]),this.dragger_[1].setCoordY(e[0][1]+this.shape_.getRadiusY())},r.shape.EllipseModifiable.prototype.setCoordAt=function(e,t){0===e?(this.dragger_[0].setCoordX(t[0]),this.shape_.setRadiusX(Math.abs(t[0]-this.shape_.getCenter()[0]))):(this.dragger_[1].setCoordY(t[1]),this.shape_.setRadiusY(Math.abs(t[1]-this.shape_.getCenter()[1])))},r.shape.EllipseModifiable.prototype.move=function(e,t){var n=this.shape_.getCoordsCopy();n[0][0]+=e,n[0][1]+=t,this.setCoords(n)},r.shape.EllipseModifiable.prototype.init_=function(){var e=this.shape_.getCenter(),t=this.shape_.getRadiusX(),n=this.shape_.getRadiusY(),i=new r.shape.Dragger(this,0);i.setCoords([[e[0]+t,e[1]]]),t=new r.shape.Dragger(this,1),t.setCoords([[e[0],e[1]+n]]),this.setDragger([i,t])},r.shape.EllipseModifiable.prototype.disposeInternal=function(){r.shape.EllipseModifiable.superClass_.disposeInternal.call(this)},r.shape.EllipseCreatable=function(e){r.shape.Creatable.call(this,e,new r.shape.Ellipse(e.getDrawing())),this.point_=Array(2)},n.inherits(r.shape.EllipseCreatable,r.shape.Creatable),r.shape.EllipseCreatable.prototype.getCoords=function(){return this.helper_.getCoords()},r.shape.EllipseCreatable.prototype.handleDown=function(e,t){var n=t.getPointTransformed();this.point_[0]=n[0],this.point_[1]=n[1],this.preview_.setCenter(n[0],n[1]),this.preview_.setRadiusX(0),this.preview_.setRadiusY(0),this.target_.getDrawing().handleShapeCreate([this.preview_])},r.shape.EllipseCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed(),r=n[0]-this.point_[0],i=n[1]-this.point_[1];this.preview_.setCenter(n[0]-r/2,n[1]-i/2),this.preview_.setRadiusX(Math.abs(r/2)),this.preview_.setRadiusY(Math.abs(i/2))},r.shape.EllipseCreatable.prototype.handleUp=function(e,t){var n=new r.shape.Ellipse(this.target_.getDrawing()),i=this.preview_.getCenter();n.setStyle(this.target_),n.setCenter(i[0],i[1]),n.setRadiusX(this.preview_.getRadiusX()),n.setRadiusY(this.preview_.getRadiusY()),this.target_.getDrawing().handleShapeCreated(n)},r.shape.EllipseCreatable.prototype.disposeInternal=function(){this.point_=null,r.shape.EllipseCreatable.superClass_.disposeInternal.call(this)},r.geometry.Line=function(){r.geometry.Geometry.call(this),this.y2=this.x2=this.y1=this.x1=0,this.arr_=[[this.x1,this.y1],[this.x2,this.y2]]},n.inherits(r.geometry.Line,r.geometry.Geometry),r.geometry.Line.containsPoint=function(e,t){var n,r,i,o,s=e[0][0],a=e[0][1],l=e[1][0],h=e[1][1];return s<l?(n=s,r=l):(n=l,r=s),a<h?(i=a,o=h):(i=h,o=a),!(t[0]<n-7||t[0]>r+7||t[1]<i-7||t[1]>o+7)&&(7>Math.abs(s-l)?7>Math.abs(t[0]-s):7>Math.abs(a-h)?7>Math.abs(t[1]-a):(n=(h-a)/(l-s),7>Math.abs(t[1]-(n*t[0]+(a-n*s)))))},r.geometry.Line.prototype.containsPoint=function(e){return this.arr_[0][0]=this.x1,this.arr_[0][1]=this.y1,this.arr_[1][0]=this.x2,this.arr_[1][1]=this.y2,r.geometry.Line.containsPoint(this.arr_,e)},r.geometry.Line.prototype.disposeInternal=function(){this.arr_=null,r.geometry.Line.superClass_.disposeInternal.call(this)},r.geometry.Polyline=function(e){if(r.geometry.Geometry.call(this),this.coords=void 0===e?[]:Array(e),void 0!==e)for(var t=0;t<e;t++)this.coords[t]=Array(2)},n.inherits(r.geometry.Polyline,r.geometry.Geometry),r.geometry.Polyline.prototype.containsPoint=function(e){for(var t=!1,n=0,i=this.coords.length-1;n<i&&!0!==(t=r.geometry.Line.containsPoint([this.coords[n],this.coords[n+1]],e));n++);return t},r.geometry.Polyline.prototype.disposeInternal=function(){this.coords=null,r.geometry.Polyline.superClass_.disposeInternal.call(this)},r.shape.PathLike=function(e,t){r.shape.Geometry.call(this,e,t)},n.inherits(r.shape.PathLike,r.shape.Geometry),r.shape.PathLike.prototype.setCoords=function(e){this.geometry_.coords=e},r.shape.PathLike.prototype.getCoords=function(e){return this.geometry_.coords},r.shape.PathLike.prototype.setCoordAt=function(e,t){this.geometry_.coords[e][0]=t[0],this.geometry_.coords[e][1]=t[1]},r.shape.PathLike.prototype.setCoordXAt=function(e,t){this.geometry_.coords[e][0]=t},r.shape.PathLike.prototype.setCoordYAt=function(e,t){this.geometry_.coords[e][1]=t},r.shape.PathLike.prototype.setLastCoord=function(e){var t=this.geometry_.coords.length-1;this.geometry_.coords[t][0]=e[0],this.geometry_.coords[t][1]=e[1]},r.shape.PathLike.prototype.appendCoord=function(e){this.geometry_.coords.push(e)},r.shape.PathLike.prototype.disposeInternal=function(){r.shape.PathLike.superClass_.disposeInternal.call(this)},r.shape.Polyline=function(e){r.shape.PathLike.call(this,e,new r.geometry.Polyline),this.engineElement_=this.drawing_.getEngine().createPolyline()},n.inherits(r.shape.Polyline,r.shape.PathLike),r.shape.Polyline.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.getCoords(),this.getRenderingFillColor(),0,this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},r.shape.Polyline.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new r.shape.PolylineHoverable(this)),this.hoverable_},r.shape.Polyline.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new r.shape.PolylineSelectable(this)),this.selectable_},r.shape.Polyline.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new r.shape.PolylineModifiable(this)),this.modifiable_},r.shape.Polyline.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new r.shape.PolylineCreatable(this)),this.creatable_},r.shape.Polyline.prototype.disposeInternal=function(){r.shape.Polyline.superClass_.disposeInternal.call(this)},r.shape.PolylineHoverable=function(e){r.shape.Hoverable.call(this,e)},n.inherits(r.shape.PolylineHoverable,r.shape.Hoverable),r.shape.PolylineHoverable.prototype.disposeInternal=function(){r.shape.PolylineHoverable.superClass_.disposeInternal.call(this)},r.shape.PolylineSelectable=function(e){r.shape.Selectable.call(this,e)},n.inherits(r.shape.PolylineSelectable,r.shape.Selectable),r.shape.PolylineSelectable.prototype.disposeInternal=function(){r.shape.PolylineSelectable.superClass_.disposeInternal.call(this)},r.shape.PolylineModifiable=function(e,t){r.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(r.shape.PolylineModifiable,r.shape.Modifiable),r.shape.PolylineModifiable.prototype.setCoords=function(e,t){for(var n=0,r=this.dragger_.length;n<r;n++)n!==t&&(this.dragger_[n].setCoordX(e[n][0]),this.dragger_[n].setCoordY(e[n][1]));this.shape_.setCoords(e)},r.shape.PolylineModifiable.prototype.setCoordAt=function(e,t){this.dragger_[e].setCoordX(t[0]),this.dragger_[e].setCoordY(t[1]),this.shape_.setCoordXAt(e,t[0]),this.shape_.setCoordYAt(e,t[1])},r.shape.PolylineModifiable.prototype.init_=function(){for(var e,t=this.shape_.getCoords(),n=[],i=0,o=t.length;i<o;i++)e=new r.shape.Dragger(this,i),e.setCoords([t[i]]),n.push(e);this.setDragger(n)},r.shape.PolylineModifiable.prototype.disposeInternal=function(){r.shape.PolylineModifiable.superClass_.disposeInternal.call(this)},r.shape.PolylineModifiable.prototype.move=function(e,t){for(var n=this.shape_.getCoordsCopy(),r=0,i=n.length;r<i;r++)n[r][0]+=e,n[r][1]+=t;this.setCoords(n)},r.shape.PolylineCreatable=function(e){r.shape.Creatable.call(this,e,new r.shape.Polyline(e.getDrawing())),this.count_=0},n.inherits(r.shape.PolylineCreatable,r.shape.Creatable),r.shape.PolylineCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},r.shape.PolylineCreatable.prototype.handleDown=function(e,t){var r=t.getShape(),i=t.getPointTransformed();0===this.count_?(this.preview_.setCoords([i,n.array.clone(i)]),this.count_+=1,this.target_.getDrawing().handleShapeCreate([this.preview_])):this.close_&&r===this.close_&&1===this.count_||this.preview_.setLastCoord(i)},r.shape.PolylineCreatable.prototype.handleMove=function(e,t){var n=t.getShape(),r=t.getPointTransformed();0!==this.count_&&(this.preview_.setLastCoord(r),this.close_&&n===this.close_?(this.close_.setStrokeColor("red"),this.close_.setStrokeWidth(3)):this.close_&&(this.close_.setStrokeColor("black"),this.close_.setStrokeWidth(1)))},r.shape.PolylineCreatable.prototype.handleUp=function(e,t){var n=t.getShape(),i=t.getPointTransformed();this.close_&&n===this.close_?(n=new r.shape.Polyline(this.target_.getDrawing()),n.setStyle(this.target_),n.setCoords(this.preview_.getCoordsCopy().splice(0,this.count_)),this.target_.getDrawing().handleShapeCreated(n),this.close_=null,this.count_=0):(this.preview_.appendCoord(i),1===this.count_&&(this.close_=new r.shape.Dragger(this.target_.getModifiable(),0),this.target_.getDrawing().handleShapeCreate([this.close_])),this.close_.setCoords([i]),this.count_+=1)},r.shape.PolylineCreatable.prototype.disposeInternal=function(){this.close_.dispose(),this.close_=null,r.shape.PolylineCreatable.superClass_.disposeInternal.call(this)},r.geometry.Path=function(e){if(r.geometry.Geometry.call(this),this.coords=void 0===e?[]:Array(e),void 0!==e)for(var t=0;t<e;t++)this.coords[t]=Array(2)},n.inherits(r.geometry.Path,r.geometry.Geometry),r.geometry.Path.prototype.containsPoint=function(e){var t=e[0];e=e[1];for(var n,r,i=this.coords,o=!1,s=0,a=i.length-1;s<i.length;a=s++)n=i[s][0],yi=i[s][1],r=i[a][0],yj=i[a][1],(n=yi>e!=yj>e&&t<(r-n)*(e-yi)/(yj-yi)+n)&&(o=!o);return o},r.geometry.Path.prototype.disposeInternal=function(){this.coords=null,r.geometry.Path.superClass_.disposeInternal.call(this)},r.geometry.Circle=function(){r.geometry.Geometry.call(this),this.r=this.cy=this.cx=0},n.inherits(r.geometry.Circle,r.geometry.Geometry),r.geometry.Circle.prototype.containsPoint=function(e){return(this.cx-e[0])*(this.cx-e[0])+(this.cy-e[1])*(this.cy-e[1])<=this.r*this.r},r.geometry.Circle.prototype.disposeInternal=function(){r.geometry.Circle.superClass_.disposeInternal.call(this)},r.shape.Circle=function(e){r.shape.Geometry.call(this,e,new r.geometry.Circle),this.engineElement_=this.drawing_.getEngine().createCircle()},n.inherits(r.shape.Circle,r.shape.Geometry),r.shape.Circle.prototype.getCenter=function(){return[this.geometry_.cx,this.geometry_.cy]},r.shape.Circle.prototype.setCenter=function(e,t){this.geometry_.cx=e,this.geometry_.cy=t},r.shape.Circle.prototype.getRadius=function(){return this.geometry_.r},r.shape.Circle.prototype.setRadius=function(e){this.geometry_.r=e},r.shape.Circle.prototype.getCoords=function(){return[this.getCenter()]},r.shape.Circle.prototype.setCoords=function(e){this.setCenter(e[0][0],e[0][1])},r.shape.Circle.prototype.setCoordX=function(e){this.geometry_.cx=e},r.shape.Circle.prototype.setCoordY=function(e){this.geometry_.cy=e},r.shape.Circle.prototype.draw=function(){this.startDrawing_();var e=this.getCenter();this.engineElement_.draw(e[0],e[1],this.getRadius(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},r.shape.Circle.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new r.shape.CircleHoverable(this)),this.hoverable_},r.shape.Circle.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new r.shape.CircleSelectable(this)),this.selectable_},r.shape.Circle.prototype.getModifiable=function(){return this.modifiable_||(this.modifiable_=new r.shape.CircleModifiable(this)),this.modifiable_},r.shape.Circle.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new r.shape.CircleCreatable(this)),this.creatable_},r.shape.Circle.prototype.disposeInternal=function(){r.shape.Circle.superClass_.disposeInternal.call(this)},r.shape.CircleHoverable=function(e){r.shape.Hoverable.call(this,e)},n.inherits(r.shape.CircleHoverable,r.shape.Hoverable),r.shape.CircleHoverable.prototype.disposeInternal=function(){r.shape.CircleHoverable.superClass_.disposeInternal.call(this)},r.shape.CircleSelectable=function(e){r.shape.Selectable.call(this,e)},n.inherits(r.shape.CircleSelectable,r.shape.Selectable),r.shape.CircleSelectable.prototype.disposeInternal=function(){r.shape.CircleSelectable.superClass_.disposeInternal.call(this)},r.shape.CircleModifiable=function(e){r.shape.Modifiable.call(this,e),this.init_()},n.inherits(r.shape.CircleModifiable,r.shape.Modifiable),r.shape.CircleModifiable.prototype.setCoords=function(e){this.shape_.setCoords(e),this.dragger_[0].setCoordX(e[0][0]+this.shape_.getRadius()),this.dragger_[0].setCoordY(e[0][1])},r.shape.CircleModifiable.prototype.setCoordAt=function(e,t){this.shape_.setRadius(Math.abs(t[0]-this.shape_.getCenter()[0])),this.dragger_[0].setCoordX(t[0])},r.shape.CircleModifiable.prototype.move=function(e,t){var n=this.shape_.getCoordsCopy();n[0][0]+=e,n[0][1]+=t,this.setCoords(n)},r.shape.CircleModifiable.prototype.init_=function(){var e=this.shape_.getCenter(),t=this.shape_.getRadius(),n=new r.shape.Dragger(this,0);n.setCoords([[e[0]+t,e[1]]]),this.setDragger([n])},r.shape.CircleModifiable.prototype.disposeInternal=function(){r.shape.CircleModifiable.superClass_.disposeInternal.call(this)},r.shape.CircleCreatable=function(e){r.shape.Creatable.call(this,e,new r.shape.Circle(e.getDrawing())),this.point_=Array(2)},n.inherits(r.shape.CircleCreatable,r.shape.Creatable),r.shape.CircleCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},r.shape.CircleCreatable.prototype.handleDown=function(e,t){var n=t.getPointTransformed();this.point_[0]=n[0],this.point_[1]=n[1],this.preview_.setCenter(n[0],n[1]),this.preview_.setRadius(0),this.target_.getDrawing().handleShapeCreate([this.preview_])},r.shape.CircleCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed(),r=n[0]-this.point_[0],i=n[1]-this.point_[1];this.preview_.setCenter(n[0]-r/2,n[1]-i/2),this.preview_.setRadius(Math.sqrt(r*r+i*i)/2)},r.shape.CircleCreatable.prototype.handleUp=function(e,t){t.getPointTransformed();var n=new r.shape.Circle(this.target_.getDrawing()),i=this.preview_.getCenter();n.setStyle(this.target_),n.setCenter(i[0],i[1]),n.setRadius(this.preview_.getRadius()),this.target_.getDrawing().handleShapeCreated(n)},r.shape.CircleCreatable.prototype.disposeInternal=function(){this.point_=null,r.shape.CircleCreatable.superClass_.disposeInternal.call(this)},r.shape.Dragger=function(e,t){var n=e.getShape().getDrawing();r.shape.Circle.call(this,n,n.getEngine().createCircle(n.getCanvas().getEngineElement())),this.modifiable_=e,this.pos_=t,this.init_()},n.inherits(r.shape.Dragger,r.shape.Circle),r.shape.Dragger.prototype.setCoord=function(e){this.modifiable_.setCoordAt(this.pos_,e)},r.shape.Dragger.prototype.getPosition=function(){return this.pos_},r.shape.Dragger.prototype.getRadius=function(){return this.geometry_.r/this.zoomFactor_},r.shape.Dragger.prototype.init_=function(e,t){this.setRadius(3),this.setStrokeColor("black"),this.setStrokeWidth(1),this.setFillColor("white"),this.setFillOpacity(1)},r.shape.Dragger.prototype.disposeInternal=function(){n.dispose(this.modifiable_),this.modifiable_=null,r.shape.Dragger.superClass_.disposeInternal.call(this)},r.shape.Polygon=function(e){r.shape.PathLike.call(this,e,new r.geometry.Path),this.engineElement_=this.drawing_.getEngine().createPolygon()},n.inherits(r.shape.Polygon,r.shape.PathLike),r.shape.Polygon.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.getCoords(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},r.shape.Polygon.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new r.shape.PolygonHoverable(this)),this.hoverable_},r.shape.Polygon.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new r.shape.PolygonSelectable(this)),this.selectable_},r.shape.Polygon.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new r.shape.PolygonModifiable(this)),this.modifiable_},r.shape.Polygon.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new r.shape.PolygonCreatable(this)),this.creatable_},r.shape.Polygon.prototype.disposeInternal=function(){r.shape.Polygon.superClass_.disposeInternal.call(this)},r.shape.PolygonHoverable=function(e){r.shape.Hoverable.call(this,e)},n.inherits(r.shape.PolygonHoverable,r.shape.Hoverable),r.shape.PolygonHoverable.prototype.disposeInternal=function(){r.shape.PolygonHoverable.superClass_.disposeInternal.call(this)},r.shape.PolygonSelectable=function(e){r.shape.Selectable.call(this,e)},n.inherits(r.shape.PolygonSelectable,r.shape.Selectable),r.shape.PolygonSelectable.prototype.disposeInternal=function(){r.shape.PolygonSelectable.superClass_.disposeInternal.call(this)},r.shape.PolygonModifiable=function(e,t){r.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(r.shape.PolygonModifiable,r.shape.Modifiable),r.shape.PolygonModifiable.prototype.setCoords=function(e,t){for(var n=0,r=this.dragger_.length;n<r;n++)n!==t&&(this.dragger_[n].setCoordX(e[n][0]),this.dragger_[n].setCoordY(e[n][1]));this.shape_.setCoords(e)},r.shape.PolygonModifiable.prototype.setCoordAt=function(e,t){this.dragger_[e].setCoordX(t[0]),this.dragger_[e].setCoordY(t[1]),this.shape_.setCoordXAt(e,t[0]),this.shape_.setCoordYAt(e,t[1])},r.shape.PolygonModifiable.prototype.move=function(e,t){for(var n=this.shape_.getCoordsCopy(),r=0,i=n.length;r<i;r++)n[r][0]+=e,n[r][1]+=t;this.setCoords(n)},r.shape.PolygonModifiable.prototype.disposeInternal=function(){r.shape.PolygonModifiable.superClass_.disposeInternal.call(this)},r.shape.PolygonModifiable.prototype.init_=function(){for(var e,t=this.shape_.getCoords(),n=[],i=0,o=t.length;i<o;i++)e=new r.shape.Dragger(this,i),e.setCoords([t[i]]),n.push(e);this.setDragger(n)},r.shape.PolygonCreatable=function(e){r.shape.Creatable.call(this,e,new r.shape.Polyline(e.getDrawing())),this.count_=0},n.inherits(r.shape.PolygonCreatable,r.shape.Creatable),r.shape.PolygonCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},r.shape.PolygonCreatable.prototype.handleDown=function(e,t){var i=t.getShape(),o=t.getPointTransformed();0===this.count_?(this.preview_.setCoords([o,n.array.clone(o)]),this.close_=new r.shape.Dragger(this.target_.getModifiable(),0),this.close_.setCoords([o]),this.count_+=1,this.target_.getDrawing().handleShapeCreate([this.preview_,this.close_])):this.close_&&i===this.close_&&1===this.count_||this.preview_.setLastCoord(o)},r.shape.PolygonCreatable.prototype.handleMove=function(e,t){var n=t.getShape(),r=t.getPointTransformed();0!==this.count_&&(this.preview_.setLastCoord(r),n===this.close_?(this.close_.setStrokeColor("red"),this.close_.setStrokeWidth(3)):(this.close_.setStrokeColor("black"),this.close_.setStrokeWidth(1)))},r.shape.PolygonCreatable.prototype.handleUp=function(e,t){var n=t.getShape(),i=t.getPointTransformed();this.close_&&n===this.close_?(n=new r.shape.Polygon(this.target_.getDrawing()),n.setStyle(this.target_),n.setCoords(this.preview_.getCoordsCopy().splice(0,this.count_)),this.target_.getDrawing().handleShapeCreated(n),this.close_=null,this.count_=0):(this.preview_.setLastCoord(i),this.preview_.appendCoord(i),this.count_+=1)},r.shape.PolygonCreatable.prototype.disposeInternal=function(){this.close_.dispose(),this.close_=null,r.shape.PolygonCreatable.superClass_.disposeInternal.call(this)},r.shape.Line=function(e){r.shape.Geometry.call(this,e,new r.geometry.Line),this.engineElement_=this.drawing_.getEngine().createLine()},n.inherits(r.shape.Line,r.shape.Geometry),r.shape.Line.prototype.getX1=function(){return this.geometry_.x1},r.shape.Line.prototype.setX1=function(e){this.geometry_.x1=e},r.shape.Line.prototype.getY1=function(){return this.geometry_.y1},r.shape.Line.prototype.setY1=function(e){this.geometry_.y1=e},r.shape.Line.prototype.getX2=function(){return this.geometry_.x2},r.shape.Line.prototype.setX2=function(e){this.geometry_.x2=e},r.shape.Line.prototype.getY2=function(){return this.geometry_.y2},r.shape.Line.prototype.setY2=function(e){this.geometry_.y2=e},r.shape.Line.prototype.getCoords=function(){return[[this.geometry_.x1,this.geometry_.y1],[this.geometry_.x2,this.geometry_.y2]]},r.shape.Line.prototype.setCoords=function(e){this.geometry_.x1=e[0][0],this.geometry_.y1=e[0][1],this.geometry_.x2=e[1][0],this.geometry_.y2=e[1][1]},r.shape.Line.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.geometry_.x1,this.geometry_.y1,this.geometry_.x2,this.geometry_.y2,this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},r.shape.Line.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new r.shape.LineHoverable(this)),this.hoverable_},r.shape.Line.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new r.shape.LineSelectable(this)),this.selectable_},r.shape.Line.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new r.shape.LineModifiable(this)),this.modifiable_},r.shape.Line.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new r.shape.LineCreatable(this)),this.creatable_},r.shape.Line.prototype.disposeInternal=function(){r.shape.Line.superClass_.disposeInternal.call(this)},r.shape.LineHoverable=function(e){r.shape.Hoverable.call(this,e)},n.inherits(r.shape.LineHoverable,r.shape.Hoverable),r.shape.LineHoverable.prototype.disposeInternal=function(){r.shape.LineHoverable.superClass_.disposeInternal.call(this)},r.shape.LineSelectable=function(e){r.shape.Selectable.call(this,e)},n.inherits(r.shape.LineSelectable,r.shape.Selectable),r.shape.LineSelectable.prototype.disposeInternal=function(){r.shape.LineSelectable.superClass_.disposeInternal.call(this)},r.shape.LineModifiable=function(e,t){r.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(r.shape.LineModifiable,r.shape.Modifiable),r.shape.LineModifiable.prototype.disposeInternal=function(){r.shape.LineModifiable.superClass_.disposeInternal.call(this)},r.shape.LineModifiable.prototype.setCoords=function(e){this.shape_.setCoords(e),this.dragger_[0].setCoordX(e[0][0]),this.dragger_[0].setCoordY(e[0][1]),this.dragger_[1].setCoordX(e[1][0]),this.dragger_[1].setCoordY(e[1][1])},r.shape.LineModifiable.prototype.setCoordAt=function(e,t){0===e?(this.dragger_[0].setCoordX(t[0]),this.dragger_[0].setCoordY(t[1]),this.shape_.setX1(t[0]),this.shape_.setY1(t[1])):(this.dragger_[1].setCoordX(t[0]),this.dragger_[1].setCoordY(t[1]),this.shape_.setX2(t[0]),this.shape_.setY2(t[1]))},r.shape.LineModifiable.prototype.move=function(e,t){var n=this.shape_.getCoordsCopy();n[0][0]+=e,n[0][1]+=t,n[1][0]+=e,n[1][1]+=t,this.setCoords(n)},r.shape.LineModifiable.prototype.init_=function(){var e=new r.shape.Dragger(this,0);e.setCoords([[this.shape_.getX1(),this.shape_.getY1()]]);var t=new r.shape.Dragger(this,1);t.setCoords([[this.shape_.getX2(),this.shape_.getY2()]]),this.setDragger([e,t])},r.shape.LineModifiable.prototype.disposeInternal=function(){r.shape.LineModifiable.superClass_.disposeInternal.call(this)},r.shape.LineCreatable=function(e){r.shape.Creatable.call(this,e,new r.shape.Line(e.getDrawing()))},n.inherits(r.shape.LineCreatable,r.shape.Creatable),r.shape.LineCreatable.prototype.getCoords=function(){return this.helper_.getCoords()},r.shape.LineCreatable.prototype.handleDown=function(e,t){var n=t.getPointTransformed();this.preview_.setX1(n[0]),this.preview_.setY1(n[1]),this.preview_.setX2(n[0]),this.preview_.setY2(n[1]),this.target_.getDrawing().handleShapeCreate([this.preview_])},r.shape.LineCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed();this.preview_.setX2(n[0]),this.preview_.setY2(n[1])},r.shape.LineCreatable.prototype.handleUp=function(e,t){var n=t.getPointTransformed(),i=new r.shape.Line(this.target_.getDrawing());i.setStyle(this.target_),i.setX1(this.preview_.getX1()),i.setY1(this.preview_.getY1()),i.setX2(n[0]),i.setY2(n[1]),this.target_.getDrawing().handleShapeCreated(i)},r.shape.LineCreatable.prototype.disposeInternal=function(){r.shape.LineCreatable.superClass_.disposeInternal.call(this)},r.shape.Rect=function(e){r.shape.PathLike.call(this,e,new r.geometry.Path(4)),this.engineElement_=this.drawing_.getEngine().createRect()},n.inherits(r.shape.Rect,r.shape.PathLike),r.shape.Rect.prototype.setX=function(e){this.geometry_.coords[0][0]=e,this.geometry_.coords[3][0]=e},r.shape.Rect.prototype.getX=function(){return this.geometry_.coords[0][0]},r.shape.Rect.prototype.setY=function(e){this.geometry_.coords[0][1]=e,this.geometry_.coords[1][1]=e},r.shape.Rect.prototype.getY=function(){return this.geometry_.coords[0][1]},r.shape.Rect.prototype.setWidth=function(e){var t=this.geometry_.coords[0][0];this.geometry_.coords[1][0]=t+e,this.geometry_.coords[2][0]=t+e},r.shape.Rect.prototype.getWidth=function(){var e=this.geometry_.coords;return e[1][0]-e[0][0]},r.shape.Rect.prototype.setHeight=function(e){var t=this.geometry_.coords[0][1];this.geometry_.coords[2][1]=t+e,this.geometry_.coords[3][1]=t+e},r.shape.Rect.prototype.getHeight=function(){var e=this.geometry_.coords;return e[3][1]-e[0][1]},r.shape.Rect.prototype.setAffineCoords=function(e){var t=this.getCoords();return 0===e||2===e?(t[1][0]=t[2][0],t[1][1]=t[0][1],t[3][0]=t[0][0],t[3][1]=t[2][1]):(t[0][0]=t[3][0],t[0][1]=t[1][1],t[2][0]=t[1][0],t[2][1]=t[3][1]),t},r.shape.Rect.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.getCoords(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},r.shape.Rect.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new r.shape.RectHoverable(this)),this.hoverable_},r.shape.Rect.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new r.shape.RectSelectable(this)),this.selectable_},r.shape.Rect.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new r.shape.RectModifiable(this)),this.modifiable_},r.shape.Rect.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new r.shape.RectCreatable(this)),this.creatable_},r.shape.Rect.prototype.disposeInternal=function(){r.shape.Rect.superClass_.disposeInternal.call(this)},r.shape.RectHoverable=function(e){r.shape.Hoverable.call(this,e)};n.inherits(r.shape.RectHoverable,r.shape.Hoverable),r.shape.RectHoverable.prototype.disposeInternal=function(){r.shape.RectHoverable.superClass_.disposeInternal.call(this)},r.shape.RectSelectable=function(e){r.shape.Selectable.call(this,e)},n.inherits(r.shape.RectSelectable,r.shape.Selectable),r.shape.RectSelectable.prototype.disposeInternal=function(){r.shape.RectSelectable.superClass_.disposeInternal.call(this)},r.shape.RectModifiable=function(e,t){r.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(r.shape.RectModifiable,r.shape.Modifiable),r.shape.RectModifiable.prototype.setCoords=function(e,t){for(var n=0,r=this.dragger_.length;n<r;n++)n!==t&&(this.dragger_[n].setCoordX(e[n][0]),this.dragger_[n].setCoordY(e[n][1]));this.shape_.setCoords(e)},r.shape.RectModifiable.prototype.setCoordAt=function(e,t){var n;this.shape_.setCoordAt(e,t),this.shape_.setAffineCoords(e),n=this.shape_.getCoords(),this.dragger_[0].setCoordX(n[0][0]),this.dragger_[0].setCoordY(n[0][1]),this.dragger_[1].setCoordX(n[1][0]),this.dragger_[1].setCoordY(n[1][1]),this.dragger_[2].setCoordX(n[2][0]),this.dragger_[2].setCoordY(n[2][1]),this.dragger_[3].setCoordX(n[3][0]),this.dragger_[3].setCoordY(n[3][1])},r.shape.RectModifiable.prototype.move=function(e,t){for(var n=this.shape_.getCoordsCopy(),r=0,i=n.length;r<i;r++)n[r][0]+=e,n[r][1]+=t;this.setCoords(n)},r.shape.RectModifiable.prototype.disposeInternal=function(){r.shape.RectModifiable.superClass_.disposeInternal.call(this)},r.shape.RectModifiable.prototype.init_=function(){for(var e,t=this.shape_.getCoords(),n=[],i=0,o=t.length;i<o;i++)e=new r.shape.Dragger(this,i),e.setCoords([t[i]]),n.push(e);this.setDragger(n)},r.shape.RectCreatable=function(e){r.shape.Creatable.call(this,e,new r.shape.Rect(e.getDrawing()))},n.inherits(r.shape.RectCreatable,r.shape.Creatable),r.shape.RectCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},r.shape.RectCreatable.prototype.handleDown=function(e,t){var r=t.getPointTransformed(),i=Array(4);i[0]=n.array.clone(r),i[1]=n.array.clone(r),i[2]=n.array.clone(r),i[3]=n.array.clone(r),this.preview_.setCoords(i),this.target_.getDrawing().handleShapeCreate([this.preview_])},r.shape.RectCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed();this.preview_.setCoordAt(2,n),this.preview_.setAffineCoords(2)},r.shape.RectCreatable.prototype.handleUp=function(e,t){var n=new r.shape.Rect(this.target_.getDrawing());n.setStyle(this.target_),n.setCoords(this.preview_.getCoordsCopy()),this.target_.getDrawing().handleShapeCreated(n)},r.shape.RectCreatable.prototype.disposeInternal=function(){r.shape.RectCreatable.superClass_.disposeInternal.call(this)},r.shape.ShapeGroup=function(e){r.shape.Group.call(this,e)},n.inherits(r.shape.ShapeGroup,r.shape.Group),r.shape.ShapeGroup.prototype.addChildren=function(e){r.shape.ShapeGroup.superClass_.addChildren.call(this,e),e=0;for(var t=this.childs_.length;e<t;e++)this.childs_[e].setShapeGroup(this),this.geometry_.addChild(this.childs_[e].getGeometry())},r.shape.ShapeGroup.prototype.getHoverable=function(){return void 0===this.hoverable_&&(this.hoverable_=new r.shape.ShapeGroupHoverable(this)),this.hoverable_},r.shape.ShapeGroup.prototype.getSelectable=function(){return void 0===this.selectable_&&(this.selectable_=new r.shape.ShapeGroupSelectable(this)),this.selectable_},r.shape.ShapeGroup.prototype.getModifiable=function(){return void 0===this.modifiable_&&(this.modifiable_=new r.shape.ShapeGroupModifiable(this)),this.modifiable_},r.shape.ShapeGroup.prototype.getCreatable=function(){return void 0===this.creatable_&&(this.creatable_=new r.shape.ShapeGroupCreatable(this)),this.creatable_},r.shape.ShapeGroupHoverable=function(e){r.shape.Hoverable.call(this,e)},n.inherits(r.shape.ShapeGroupHoverable,r.shape.Hoverable),r.shape.ShapeGroupSelectable=function(e){r.shape.Selectable.call(this,e)},n.inherits(r.shape.ShapeGroupSelectable,r.shape.Selectable),r.shape.ShapeGroupModifiable=function(e){r.shape.Modifiable.call(this,e)},n.inherits(r.shape.ShapeGroupModifiable,r.shape.Modifiable),r.shape.ShapeGroupModifiable.prototype.getDragger=function(){for(var e=this.shape_.getChildren(),t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n].getModifiable().getDragger());return t},r.shape.ShapeGroupModifiable.prototype.move=function(e,t){for(var n=this.shape_.getChildren(),r=0,i=n.length;r<i;r++)n[r].getModifiable().move(e,t)},r.shape.ShapeGroupCreatable=function(e){r.shape.Creatable.call(this,e,new r.shape.ShapeGroup(e.getDrawing())),this.current=0},n.inherits(r.shape.ShapeGroupCreatable,r.shape.Creatable),r.shape.ShapeGroupCreatable.prototype.allShapesCreated=function(){return this.current===this.target_.getChildren().length-1},r.shape.ShapeGroupCreatable.prototype.reset=function(){this.current=0,this.preview_.removeChildren()},r.shape.ShapeGroupCreatable.prototype.handleDown=function(e,t){this.target_.getChild(this.current).getCreatable().handleDown(e,t)},r.shape.ShapeGroupCreatable.prototype.handleMove=function(e,t){this.target_.getChild(this.current).getCreatable().handleMove(e,t)},r.shape.ShapeGroupCreatable.prototype.handleUp=function(e,t){this.target_.getChild(this.current).getCreatable().handleUp(e,t)},r.shape.Canvas=function(e){r.shape.Container.call(this,e),this.engineElement_=this.drawing_.getEngine().getCanvas(),n.dom.append(this.drawing_.getElement(),this.engineElement_.getElement())},n.inherits(r.shape.Canvas,r.shape.Container),r.shape.Canvas.prototype.getElement=function(){return this.drawing_.getElement()},r.shape.Canvas.prototype.getEngine=function(){return this.drawing_.getEngine()},r.shape.Canvas.prototype.getHeight=function(){return this.engineElement_.getHeight()},r.shape.Canvas.prototype.setHeight=function(e){this.engineElement_.setHeight(e)},r.shape.Canvas.prototype.getWidth=function(){return this.engineElement_.getWidth()},r.shape.Canvas.prototype.setWidth=function(e){this.engineElement_.setWidth(e)},r.shape.Canvas.prototype.draw=function(){this.startDrawing_();for(var e=0,t=this.childs_.length;e<t;e++)this.childs_[e].draw();this.finishDrawing_()},r.shape.Canvas.prototype.disposeInternal=function(){r.shape.Canvas.superClass_.disposeInternal.call(this)},r.shape.Shapes=function(){},r.drawing.EventTarget=function(){n.Disposable.call(this),this.handler_=new n.events.EventHandler(this),this.cursor_=new r.drawing.Cursor(this),this.eventTarget_=r.drawing.EventTarget.DRAWING},n.inherits(r.drawing.EventTarget,n.Disposable),r.drawing.EventTarget.DRAWING="DRAWING",r.drawing.EventTarget.VIEWBOX="VIEWBOX",r.drawing.EventTarget.prototype.setEventTarget=function(e){if(e!==r.drawing.EventTarget.DRAWING&&e!==r.drawing.EventTarget.VIEWBOX)throw Error("xrx.drawing.EventTarget.DRAWING or xrx.drawing.EventTarget.VIEWBOX expected.");this.eventTarget_=e},r.drawing.EventTarget.prototype.getHandler=function(){return this.handler_},r.drawing.EventTarget.prototype.registerEvent_=function(e,t,n){this.cursor_.init(e);var i=this.viewbox_.containsPoint(this.cursor_.getPoint());(this.eventTarget_===r.drawing.EventTarget.VIEWBOX&&i||this.eventTarget_===r.drawing.EventTarget.DRAWING)&&(e.preventDefault(),e.stopPropagation(),e.getBrowserEvent().changedTouches&&e.init(e.getBrowserEvent().changedTouches[0],e.currentTarget),t[n](e,this.cursor_),this.draw())},r.drawing.EventTarget.prototype.registerClick=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),r.event.Type.CLICK,function(n){t.registerEvent_(n,e,r.event.Handler.CLICK)},!1)},r.drawing.EventTarget.prototype.registerDblClick=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),r.event.Type.DBLCLICK,function(n){t.registerEvent_(n,e,r.event.Handler.DBLCLICK)},!1)},r.drawing.EventTarget.prototype.registerDown=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),r.event.Type.DOWN,function(n){t.registerEvent_(n,e,r.event.Handler.DOWN)},!1)},r.drawing.EventTarget.prototype.registerDrag=function(e){this.registerDown(e),this.registerMove(e),this.registerUp(e)},r.drawing.EventTarget.prototype.registerMove=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),r.event.Type.MOVE,function(n){t.registerEvent_(n,e,r.event.Handler.MOVE)},!1)},r.drawing.EventTarget.prototype.registerHover=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),r.event.Type.MOVE,function(n){t.registerEvent_(n,e,r.event.Handler.MOVE)},!1)},r.drawing.EventTarget.prototype.registerOut=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),r.event.Type.OUT,function(n){t.registerEvent_(n,e,r.event.Handler.OUT)},!1)},r.drawing.EventTarget.prototype.registerUp=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),r.event.Type.UP,function(n){t.registerEvent_(n,e,r.event.Handler.UP)},!1)},r.drawing.EventTarget.prototype.registerWheel=function(e){if(!n.userAgent.MOBILE){var t=this,i=new n.events.MouseWheelHandler(t.canvas_.getEngineElement().getEventTarget());this.handler_.listen(i,r.event.Type.WHEEL,function(n){t.registerEvent_(n,e,r.event.Handler.WHEEL)},!1)}},r.drawing.EventTarget.prototype.disposeInternal=function(){this.handler_&&(this.handler_.dispose(),this.handler_=null)},r.drawing.EventTarget.prototype.registerEvents=function(e){switch(this.handler_.removeAll(),e){case void 0:case r.drawing.Mode.DISABLED:break;case r.drawing.Mode.VIEW:this.registerDblClick(this.viewbox_),this.registerDrag(this.viewbox_),this.registerOut(this.viewbox_),this.registerWheel(this.viewbox_);break;case r.drawing.Mode.SELECT:this.registerDown(this.selectable_),this.registerWheel(this.viewbox_);break;case r.drawing.Mode.MODIFY:this.registerDrag(this.modifiable_),this.registerWheel(this.viewbox_);break;case r.drawing.Mode.CREATE:this.registerDown(this.creatable_),this.registerMove(this.creatable_),this.registerUp(this.creatable_),this.registerWheel(this.viewbox_);break;case r.drawing.Mode.HOVER:case r.drawing.Mode.HOVERMULTIPLE:this.registerHover(this.hoverable_),this.registerOut(this.hoverable_),this.registerWheel(this.viewbox_),this.registerDrag(this.viewbox_);break;default:throw Error("Unknown mode.")}},r.drawing.EventTarget.prototype.disposeInternal=function(){this.handler_.removeAll(),this.handler_.dispose(),this.handler_=null,this.cursor_.dispose(),this.cursor_=null,r.drawing.EventTarget.superClass_.disposeInternal.call(this)},r.drawing.EventHandler=function(){r.drawing.EventTarget.call(this)},n.inherits(r.drawing.EventHandler,r.drawing.EventTarget),r.drawing.EventHandler.prototype.handleShapeCreate=function(e){this.creatable_.handleCreate(e)},r.drawing.EventHandler.prototype.handleShapeCreated=function(e){this.creatable_.handleCreated(e)},r.drawing.EventHandler.prototype.getClientPoint=function(e){var t,n=e.getBrowserEvent().changedTouches;return n?(t=n[0].clientX,e=n[0].clientY):(t=e.clientX,e=e.clientY),[t,e]},r.drawing.EventHandler.prototype.getOffsetPoint=function(e,t){var r=n.style.getClientPosition(this.canvas_.getEngineElement().getEventTarget()),i=this.getClientPoint(e),r=[i[0]-r.x,i[1]-r.y];return!0===t?this.getViewbox().getCTM().transformPoint(r):r},r.drawing.EventHandler.prototype.getShapeSelected=function(e){for(var t,n,r=!1,i=this.layer_.length-1;0<=i;i--){if(t=this.layer_[i],!t.isLocked()){t=t.getShapes()||[];for(var o=t.length-1;0<=o;o--)if(n=t[o],n.getGeometry().containsPoint(e)){r=!0;break}}if(!0===r)break}return r?n:void 0},r.drawing.EventHandler.prototype.getShapesSelected=function(e){for(var t,n,r=[],i=this.layer_.length-1;0<=i;i--)if(t=this.layer_[i],!t.isLocked()){t=t.getShapes()||[];for(var o=t.length-1;0<=o;o--)n=t[o],n.getGeometry().containsPoint(e)&&r.push(n)}return r},r.drawing.EventHandler.prototype.disposeInternal=function(){r.drawing.EventHandler.superClass_.disposeInternal.call(this)},r.drawing.LayerShapeModify=function(e){r.drawing.Layer.call(this,e)},n.inherits(r.drawing.LayerShapeModify,r.drawing.Layer),r.drawing.LayerShapeModify.prototype.activate=function(e){this.removeShapes(),this.addShapes(e.getDragger())},r.drawing.LayerShapeModify.prototype.disposeInternal=function(){r.drawing.LayerShapeModify.superClass_.disposeInternal.call(this)},n.net={},n.net.EventType={COMPLETE:"complete",SUCCESS:"success",ERROR:"error",ABORT:"abort",READY:"ready",READY_STATE_CHANGE:"readystatechange",TIMEOUT:"timeout",INCREMENTAL_DATA:"incrementaldata",PROGRESS:"progress"},n.net.ImageLoader=function(e){n.events.EventTarget.call(this),this.imageIdToRequestMap_={},this.imageIdToImageMap_={},this.handler_=new n.events.EventHandler(this),this.parent_=e},n.inherits(n.net.ImageLoader,n.events.EventTarget),n.net.ImageLoader.CorsRequestType={ANONYMOUS:"anonymous",USE_CREDENTIALS:"use-credentials"},n.net.ImageLoader.IMAGE_LOAD_EVENTS_=[n.userAgent.IE&&!n.userAgent.isVersionOrHigher("11")?n.net.EventType.READY_STATE_CHANGE:n.events.EventType.LOAD,n.net.EventType.ABORT,n.net.EventType.ERROR],n.net.ImageLoader.prototype.addImage=function(e,t,r){(t=n.isString(t)?t:t.src)&&(this.imageIdToRequestMap_[e]={src:t,corsRequestType:n.isDef(r)?r:null})},n.net.ImageLoader.prototype.removeImage=function(e){delete this.imageIdToRequestMap_[e];var t=this.imageIdToImageMap_[e];t&&(delete this.imageIdToImageMap_[e],this.handler_.unlisten(t,n.net.ImageLoader.IMAGE_LOAD_EVENTS_,this.onNetworkEvent_),n.object.isEmpty(this.imageIdToImageMap_)&&n.object.isEmpty(this.imageIdToRequestMap_)&&this.dispatchEvent(n.net.EventType.COMPLETE))},n.net.ImageLoader.prototype.start=function(){var e=this.imageIdToRequestMap_;n.array.forEach(n.object.getKeys(e),function(t){var n=e[t];n&&(delete e[t],this.loadImage_(n,t))},this)},n.net.ImageLoader.prototype.loadImage_=function(e,t){if(!this.isDisposed()){var r;r=this.parent_?n.dom.getDomHelper(this.parent_).createDom("img"):new Image,e.corsRequestType&&(r.crossOrigin=e.corsRequestType),this.handler_.listen(r,n.net.ImageLoader.IMAGE_LOAD_EVENTS_,this.onNetworkEvent_),this.imageIdToImageMap_[t]=r,r.id=t,r.src=e.src}},n.net.ImageLoader.prototype.onNetworkEvent_=function(e){var t=e.currentTarget;if(t){if(e.type==n.net.EventType.READY_STATE_CHANGE){if(t.readyState!=n.net.EventType.COMPLETE)return;e.type=n.events.EventType.LOAD}void 0===t.naturalWidth&&(e.type==n.events.EventType.LOAD?(t.naturalWidth=t.width,t.naturalHeight=t.height):(t.naturalWidth=0,t.naturalHeight=0)),this.dispatchEvent({type:e.type,target:t}),this.isDisposed()||this.removeImage(t.id)}},n.net.ImageLoader.prototype.disposeInternal=function(){delete this.imageIdToRequestMap_,delete this.imageIdToImageMap_,n.dispose(this.handler_),n.net.ImageLoader.superClass_.disposeInternal.call(this)},r.EventTarget=function(){n.Disposable.call(this)},n.inherits(r.EventTarget,n.Disposable),r.EventTarget.prototype.dispatchExternal=function(e,t){if(!n.string.startsWith(e,"event"))throw Error('Invalid event-type "". Prefix "event*" expected.');var r;r=void 0!==t?t:this,r[e]&&(2>=arguments.length?r[e].apply(r):r[e].apply(r,this.argsArray_(arguments)))},r.EventTarget.prototype.argsArray_=function(e){for(var t=e.length-2,n=Array(t),r=0;r<t;r++)n[r]=e[r+2];return n},r.EventTarget.prototype.disposeInternal=function(){r.EventTarget.superClass_.disposeInternal.call(this)},r.geometry.Box=function(){r.geometry.Geometry.call(this)},n.inherits(r.geometry.Box,r.geometry.Geometry),r.geometry.Box.containsPoint=function(e,t){return t[0]>=e[3]&&t[0]<=e[1]&&t[1]>=e[0]&&t[1]<=e[2]},r.geometry.Point=function(){r.geometry.Geometry.call(this)},n.inherits(r.geometry.Point,r.geometry.Geometry),r.geometry.Point.distancePoint=function(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},r.geometry.Point.prototype.disposeInternal=function(){r.geometry.Point.superClass_.disposeInternal.call(this)},r.viewbox={},r.viewbox.ViewboxGeometry=function(){r.EventTarget.call(this),this.box_=Array(4),this.xy_=Array(2),this.wh_=Array(2)},n.inherits(r.viewbox.ViewboxGeometry,r.EventTarget),r.viewbox.ViewboxGeometry.prototype.getWidth=function(e,t){if(!0===t&&this.isHorizontal())return this.getHeight(e);var n=this.getDrawing().getLayerBackground().getImage(),n=n.getImage()?n.getWidth():this.drawing_.getWidth();return e?n*this.ctm_.getScale():n},r.viewbox.ViewboxGeometry.prototype.getHeight=function(e,t){if(!0===t&&this.isHorizontal())return this.getWidth(e);var n=this.getDrawing().getLayerBackground().getImage(),n=n.getImage()?n.getHeight():this.drawing_.getHeight();return e?n*this.ctm_.getScale():n},r.viewbox.ViewboxGeometry.prototype.getBox=function(){var e=this.getRotation(),t=this.getWidth(!1,!1),n=this.getHeight(!1,!1);return this.ctm_.transform([0,0],0,this.xy_,0,1),this.ctm_.transform([t,n],0,this.wh_,0,1),0===e?(this.box_[0]=this.xy_[1],this.box_[1]=this.wh_[0],this.box_[2]=this.wh_[1],this.box_[3]=this.xy_[0]):90===e?(this.box_[0]=this.xy_[1],this.box_[1]=this.xy_[0],this.box_[2]=this.wh_[1],this.box_[3]=this.wh_[0]):180===e?(this.box_[0]=this.wh_[1],this.box_[1]=this.xy_[0],this.box_[2]=this.xy_[1],this.box_[3]=this.wh_[0]):(this.box_[0]=this.wh_[1],this.box_[1]=this.wh_[0],this.box_[2]=this.xy_[1],this.box_[3]=this.xy_[0]),this.box_},r.viewbox.ViewboxGeometry.prototype.containsPoint=function(e){var t=this.getBox();return r.geometry.Box.containsPoint(t,e)},r.viewbox.ViewboxGeometry.prototype.getCenterPoint_=function(e){var t=[this.getWidth()/2,this.getHeight()/2];return!0!==e?t:(e=Array(2),this.ctm_.transform(t,0,e,0,1),e)},r.viewbox.ViewboxGeometry.prototype.getVisibleOrientation_=function(e){var t=["NW","SW","SE","NE"];return e=n.array.indexOf(t,e),t[(e+this.getRotation()/90)%4]},r.viewbox.ViewboxGeometry.prototype.FixPoints_={C:[0,0],NE:[0,0],SE:[0,0],SW:[0,0],NW:[0,0]},r.viewbox.ViewboxGeometry.prototype.getFixPoints_=function(){var e=this.getWidth(),t=this.getHeight();return this.FixPoints_.C=[e/2,t/2],this.FixPoints_.NE=[e,0],this.FixPoints_.SE=[e,t],this.FixPoints_.SW=[0,t],this.FixPoints_.NW=[0,0],this.FixPoints_},r.viewbox.ViewboxGeometry.prototype.getFixPoint_=function(e,t,n){var r=this.getFixPoints_();return(e=n?r[this.getVisibleOrientation_(e)]:r[e])||console.error("fixPoint could not be determined. Is the element containing the canvas visible?"),!0===t?(t=Array(2),this.ctm_.transform(e,0,t,0,1),t):e},r.viewbox.ViewboxGeometry.prototype.disposeInternal=function(){this.box_=null,r.viewbox.ViewboxGeometry.superClass_.disposeInternal.call(this)},r.viewbox.ViewboxRotate=function(){r.viewbox.ViewboxGeometry.call(this)},n.inherits(r.viewbox.ViewboxRotate,r.viewbox.ViewboxGeometry),r.viewbox.ViewboxRotate.prototype.getRotation=function(){return this.ctm_.getRotation()},r.viewbox.ViewboxRotate.prototype.isValidRotation=function(e){return 0===(e=Math.abs(e))||90===e||180===e||270===e},r.viewbox.ViewboxRotate.prototype.isVertical=function(){var e=this.ctm_.getRotation();return 0===e||180===e},r.viewbox.ViewboxRotate.prototype.isHorizontal=function(){var e=this.ctm_.getRotation();return 90===e||270===e},r.viewbox.ViewboxRotate.Direction_={0:0,90:1,180:2,270:3},r.viewbox.ViewboxRotate.prototype.direction_=function(){var e=this.ctm_.getRotation();return r.viewbox.ViewboxRotate.Direction_[parseInt(e)]},r.viewbox.ViewboxRotate.prototype.rotateBy=function(e,t){if(void 0===t)this.rotateBy_(e,void 0,void 0);else if(this.isFixPoint_(t))this.rotateBy_(e,void 0,t);else{if(!this.isOrientation_(t))throw Error("Invalid fix-point. Array[2] or xrx.drawing.Orientation.* expected.");this.rotateBy_(e,t,void 0)}this.drawing_.draw()},r.viewbox.ViewboxRotate.prototype.rotateLeft=function(e){this.rotateBy(-90,e)},r.viewbox.ViewboxRotate.prototype.rotateRight=function(e){this.rotateBy(90,e)},r.viewbox.ViewboxRotate.prototype.isFixPoint_=function(e){return e instanceof Array&&2===e.length},r.viewbox.ViewboxRotate.prototype.isOrientation_=function(e){return"string"==typeof e&&n.object.containsValue(r.drawing.Orientation,e)},r.viewbox.ViewboxRotate.prototype.rotateBy_=function(e,t,i){if(0!==e){if(!this.isValidRotation(e))throw Error("Invalid rotation. 0, 90, 180 or 270 expected.");var o,s=!(0<e);void 0!==t&&(o=this.getPivotPoint_(t,s,!0)),void 0!==i&&(o=this.containsPoint(i)?this.ctm_.transformPoint(i):this.getPivotPoint_(r.drawing.Orientation.C,s,!0)),void 0===o&&(o=this.getPivotPoint_(r.drawing.Orientation.C,s,!0)),this.ctm_.rotate(n.math.toRadians(e),o[0],o[1]),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)}},r.viewbox.ViewboxRotate.prototype.getPivotPoint_=function(e,t,n){var r=this.getPivotPoints_(t);return e={C:function(e,t){return t.getCenterPoint_()},NE:function(e,t,n){return console.log(t.direction_()),e[[0,1,2,3][t.direction_()]]},SE:function(e,t,n){return e[[3,0,1,2][t.direction_()]]},SW:function(e,t,n){return e[[2,3,0,1][t.direction_()]]},NW:function(e,t,n){return e[[1,2,3,0][t.direction_()]]}}[e](r,this,t),!0===n&&this.ctm_.transformPoint(e),e},r.viewbox.ViewboxRotate.prototype.getPivotPoints_=function(e){var t=this.getWidth(),n=this.getHeight();return e?[[-n/2+t,n/2],[t/2,t/2],[n/2,n/2],[t/2,t/2+n/2]]:[[t/2,t/2],[n/2,n/2],[t/2,t/2+n/2],[-n/2+t,n/2]]},r.viewbox.ViewboxRotate.prototype.disposeInternal=function(){r.viewbox.ViewboxRotate.superClass_.disposeInternal.call(this)},r.viewbox.ViewboxZoom=function(){r.viewbox.ViewboxRotate.call(this)},n.inherits(r.viewbox.ViewboxZoom,r.viewbox.ViewboxRotate),r.viewbox.ViewboxZoom.prototype.zoomFactor_=.1,r.viewbox.ViewboxZoom.prototype.getZoomFactor=function(){return this.zoomFactor_},r.viewbox.ViewboxZoom.prototype.setZoomFactor=function(e){this.zoomFactor_=e},r.viewbox.ViewboxZoom.prototype.getZoomValue=function(e){return void 0===e?this.ctm_.getScale():this.zoomMin_+e*this.zoomFactor_},r.viewbox.ViewboxZoom.prototype.zoomMin_=.1,r.viewbox.ViewboxZoom.prototype.getZoomMin=function(){return this.zoomMin_},r.viewbox.ViewboxZoom.prototype.setZoomFactorMin=function(e){this.zoomMin_=e},r.viewbox.ViewboxZoom.prototype.zoomMax_=2,r.viewbox.ViewboxZoom.prototype.getZoomMax=function(){return this.zoomMax_},r.viewbox.ViewboxZoom.prototype.setZoomFactorMax=function(e){this.zoomMax_=e},r.viewbox.ViewboxZoom.prototype.getZoomStep=function(e){return e=void 0!==e?e:this.getZoomValue(),Math.round((e-this.zoomMin_)/this.zoomFactor_)},r.viewbox.ViewboxZoom.prototype.zoomOffset_=function(e,t){this.ctm_.setTransform(this.ctm_.getScaleX(),this.ctm_.getShearY(),this.ctm_.getShearX(),this.ctm_.getScaleY(),(this.ctm_.getTranslateX()-e[0])*t+e[0],(this.ctm_.getTranslateY()-e[1])*t+e[1])},r.viewbox.ViewboxZoom.prototype.zoomTo=function(e,t){var n;n=void 0!==t&&this.containsPoint(t)?t:this.getCenterPoint_(!0),e<this.zoomMin_&&(e=this.zoomMin_),e>this.zoomMax_&&(e=this.zoomMax_);var i=1/this.getZoomValue()*e;this.zoomOffset_(n,i),this.ctm_.scale(i,i),this.drawing_.draw(),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},r.viewbox.ViewboxZoom.prototype.zoomIn=function(e){this.zoomTo(this.ctm_.getScale()+this.zoomFactor_,e)},r.viewbox.ViewboxZoom.prototype.zoomOut=function(e){this.zoomTo(this.ctm_.getScale()-this.zoomFactor_,e)},r.viewbox.ViewboxZoom.prototype.disposeInternal=function(){r.viewbox.ViewboxZoom.superClass_.disposeInternal.call(this)},r.viewbox.ViewboxTranslate=function(){r.viewbox.ViewboxZoom.call(this)},n.inherits(r.viewbox.ViewboxTranslate,r.viewbox.ViewboxZoom),r.viewbox.ViewboxTranslate.prototype.translate=function(e,t){var n=this.ctm_.getIdentity(),i=n.transformPoint([e,t]);this.ctm_=n.translate(i[0],i[1]).concatenate(this.ctm_),this.drawing_.draw(),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},r.viewbox.ViewboxTranslate.prototype.center=function(){this.centerHorizontally(),this.centerVertically()},r.viewbox.ViewboxTranslate.prototype.centerHorizontally=function(){var e=this.getFixPoint_(r.drawing.Orientation.NW,!0,!0),t=this.getWidth(!0,!0),e=this.getDrawing().getWidth()/2-(e[0]+t/2);this.translate(e,0),this.drawing_.draw(),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},r.viewbox.ViewboxTranslate.prototype.centerVertically=function(){var e=this.getFixPoint_(r.drawing.Orientation.NW,!0,!0),t=this.getHeight(!0,!0),e=this.getDrawing().getHeight()/2-(e[1]+t/2);this.translate(0,e),this.drawing_.draw(),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},r.viewbox.ViewboxTranslate.prototype.setPosition=function(e){var t=this.drawing_.getWidth(),n=this.drawing_.getHeight(),i=this.getFixPoint_(e,!0,!0);if(e===r.drawing.Position.NW)this.translate(-i[0],-i[1]);else if(e===r.drawing.Position.NE)this.translate(t-i[0],-i[1]);else if(e===r.drawing.Position.SE)this.translate(t-i[0],n-i[1]);else{if(e!==r.drawing.Position.SW)throw Error("Unknown position.");this.translate(-i[0],n-i[1])}this.drawing_.draw(),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},r.viewbox.ViewboxTranslate.prototype.disposeInternal=function(){r.viewbox.ViewboxTranslate.superClass_.disposeInternal.call(this)},r.viewbox.FastAffineTransform=function(){n.math.AffineTransform.call(this),this.identity_,this.inverse_,this.clone_},n.inherits(r.viewbox.FastAffineTransform,n.math.AffineTransform),r.viewbox.FastAffineTransform.prototype.getIdentity=function(){return this.identity_||(this.identity_=new r.viewbox.FastAffineTransform),this.identity_.setTransform(1,0,0,1,0,0),this.identity_},r.viewbox.FastAffineTransform.prototype.getInverse=function(){this.inverse_||(this.inverse_=new r.viewbox.FastAffineTransform);var e=this.getDeterminant();return this.inverse_.setTransform(this.m11_/e,-this.m10_/e,-this.m01_/e,this.m00_/e,(this.m01_*this.m12_-this.m11_*this.m02_)/e,(this.m10_*this.m02_-this.m00_*this.m12_)/e),this.inverse_},r.viewbox.FastAffineTransform.prototype.getClone=function(){return this.clone_||(this.clone_=new r.viewbox.FastAffineTransform),this.clone_.copyFrom(this)},r.viewbox.FastAffineTransform.prototype.transformPoint=function(e,t){var n=void 0!==t?t:Array(2);return this.createInverse().transform(e,0,n,0,1),n},r.viewbox.FastAffineTransform.prototype.getScale=function(){var e=this.getRotation();return this.getClone().rotate(n.math.toRadians(360-e)),this.clone_.getScaleX()},r.viewbox.FastAffineTransform.prototype.getRotation=function(){return{0:0,2:90,3:180,"-2":270}[Math.round(Math.atan2(this.getShearY(),this.getScaleY()))]},r.viewbox.FastAffineTransform.prototype.disposeInternal=function(){this.clone_=this.inverse_=this.identity_=null},r.viewbox.ViewboxTransform=function(){this.ctm_=new r.viewbox.FastAffineTransform,r.viewbox.ViewboxTranslate.call(this)},n.inherits(r.viewbox.ViewboxTransform,r.viewbox.ViewboxTranslate),r.viewbox.ViewboxTransform.prototype.getCTM=function(){return this.ctm_},r.viewbox.ViewboxTransform.prototype.setCTM=function(e){this.ctm_=e,this.drawing_.draw()},r.viewbox.ViewboxTransform.prototype.ctmDump=function(){return[this.ctm_.m00_,this.ctm_.m10_,this.ctm_.m01_,this.ctm_.m11_,this.ctm_.m02_,this.ctm_.m12_]},r.viewbox.ViewboxTransform.prototype.ctmRestore=function(e){if(6!==e.length)throw Error("Invalid CTM dump.");this.ctm_.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),this.drawing_.draw()},r.viewbox.ViewboxTransform.prototype.fitToWidth=function(e){var t=this.getWidth(!0,!0),t=this.drawing_.getCanvas().getWidth()/t;this.ctm_.scale(t,t),!1!==e&&this.center(),this.drawing_.draw(),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},r.viewbox.ViewboxTransform.prototype.fitToHeight=function(e){var t=this.getHeight(!0,!0),t=this.drawing_.getCanvas().getHeight()/t;this.ctm_.scale(t,t),!1!==e&&this.center(),this.drawing_.draw(),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},r.viewbox.ViewboxTransform.prototype.fit=function(e){this.getWidth(!0,!0)>this.getHeight(!0,!0)?this.fitToWidth():this.fitToHeight(),!1!==e&&this.center(),this.drawing_.draw()},r.viewbox.ViewboxTransform.prototype.disposeInternal=function(){this.ctm_.disposeInternal(),this.ctm_=null,r.viewbox.ViewboxTransform.superClass_.disposeInternal.call(this)},r.viewbox.Viewbox=function(e){r.viewbox.ViewboxTransform.call(this),this.drawing_=e,this.group_=new r.shape.Group(this.drawing_),this.state_=r.drawing.State.NONE},n.inherits(r.viewbox.Viewbox,r.viewbox.ViewboxTransform),r.viewbox.Viewbox.prototype.getDrawing=function(){return this.drawing_},r.viewbox.Viewbox.prototype.getGroup=function(){return this.group_},r.viewbox.Viewbox.prototype.handleDblClick=function(e,t){this.rotateRight(t.getPoint())},r.viewbox.Viewbox.prototype.handleDown=function(e,t){this.origin_=t.getPoint(),this.state_=r.drawing.State.DRAG},r.viewbox.Viewbox.prototype.handleMove=function(e,t){if(this.state_===r.drawing.State.DRAG){var n=t.getPoint()[0]-this.origin_[0],i=t.getPoint()[1]-this.origin_[1];this.translate(n,i),this.origin_=t.getPoint()}},r.viewbox.Viewbox.prototype.handleOut=function(e){this.resetState_()},r.viewbox.Viewbox.prototype.handleUp=function(e){this.resetState_()},r.viewbox.Viewbox.prototype.handleWheel=function(e,t){0>e.deltaY?this.zoomIn(t.getPoint()):this.zoomOut(t.getPoint())},r.viewbox.Viewbox.prototype.resetState_=function(){this.state_=r.drawing.State.NONE,this.origin_=null},r.viewbox.Viewbox.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,this.group_.dispose(),this.origin_=this.group_=null,r.viewbox.Viewbox.superClass_.disposeInternal.call(this)},r.drawing.LayerBackground=function(e){r.drawing.Layer.call(this,e)},n.inherits(r.drawing.LayerBackground,r.drawing.Layer),r.drawing.LayerBackground.prototype.getImage=function(e){return this.image_},r.drawing.LayerBackground.prototype.setImage=function(e){this.image_.setImage(e)},r.drawing.LayerBackground.prototype.create_=function(){this.group_=new r.shape.Group(this.drawing_),this.image_=new r.shape.Image(this.drawing_),this.group_.addChildren(this.image_)};r.drawing.LayerBackground.prototype.disposeInternal=function(){this.image_.dispose(),this.image_=null,r.drawing.LayerBackground.superClass_.disposeInternal.call(this)},r.drawing.Creatable=function(e){r.EventTarget.call(this),this.drawing_=e,this.newShapes_=[],this.previewShapes_=[]},n.inherits(r.drawing.Creatable,r.EventTarget),r.drawing.Creatable.prototype.setShapeCreatable=function(e){this.shapeCreatable_=e},r.drawing.Creatable.prototype.handleCreate=function(e){if(this.shapeCreatable_ instanceof r.shape.ShapeGroupCreatable){0===this.shapeCreatable_.current&&this.drawing_.getLayerShapeCreate().addShapes(this.shapeCreatable_.getPreview());for(var t=0;t<e.length;t++)e[t]instanceof r.shape.Dragger?this.drawing_.getLayerShapeModify().addShapes(e[t]):this.shapeCreatable_.getPreview().addChildren(e[t])}else this.drawing_.getLayerShapeCreate().addShapes(e)},r.drawing.Creatable.prototype.handleCreated=function(e){if(this.shapeCreatable_ instanceof r.shape.ShapeGroupCreatable)if(this.newShapes_.push(e),this.drawing_.getLayerShapeModify().removeShapes(),this.shapeCreatable_.allShapesCreated()){var t=new r.shape.ShapeGroup(this.drawing_);t.addChildren(this.newShapes_),t.setStyles(this.shapeCreatable_.getTarget()),this.drawing_.getLayerShape().addShapes(t),this.drawing_.getLayerShapeCreate().removeShapes(),this.drawing_.draw(),this.shapeCreatable_.reset(),this.newShapes_=[]}else this.shapeCreatable_.current++;else this.drawing_.getLayerShape().addShapes(e),this.drawing_.getLayerShapeCreate().removeShapes(),this.drawing_.draw();this.dispatchExternal(r.drawing.EventType.SHAPE_CREATED,this.drawing_,e)},r.drawing.Creatable.prototype.handleDown=function(e,t){this.shapeCreatable_.handleDown(e,t)},r.drawing.Creatable.prototype.handleMove=function(e,t){this.shapeCreatable_.handleMove(e,t)},r.drawing.Creatable.prototype.handleUp=function(e,t){this.shapeCreatable_.handleUp(e,t)},r.drawing.Hoverable=function(e){r.EventTarget.call(this),this.drawing_=e,this.last_=[],this.multiple_=!1},n.inherits(r.drawing.Hoverable,r.EventTarget),r.drawing.Hoverable.prototype.setMultiple=function(e){this.multiple_=!!e},r.drawing.Hoverable.prototype.pop_=function(){var e,t=this.last_.length;if(0<this.last_.length){for(var n=0;n<t;n++)(e=this.last_[n])&&e.getHoverable().hoverOff();this.dispatchExternal(r.drawing.EventType.SHAPE_HOVER_OUT,this.drawing_,this.last_)}},r.drawing.Hoverable.prototype.push_=function(e){var t,n=e.length;if(0<n){for(var i=0;i<n;i++)(t=e[i])&&t.getHoverable().hoverOn();this.last_=e,this.dispatchExternal(r.drawing.EventType.SHAPE_HOVER_IN,this.drawing_,e)}else this.last_=[]},r.drawing.Hoverable.prototype.hover_=function(e){n.array.equals(e,this.last_)||(this.pop_(),this.push_(e)),0<e.length&&this.dispatchExternal(r.drawing.EventType.SHAPE_HOVER_MOVE,this.drawing_,e)},r.drawing.Hoverable.prototype.handleMove=function(e,t){var r;r=this.multiple_?t.getShapes():t.getShape(),n.isArray(r)||(r=[r]),this.hover_(r)},r.drawing.Hoverable.prototype.handleOut=function(e){this.pop_()},r.drawing.Hoverable.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null;for(var e;e=this.last_.pop();)e.dispose();this.last_=null,r.drawing.Hoverable.superClass_.disposeInternal.call(this)},r.drawing.Selectable=function(e){r.EventTarget.call(this),this.drawing_=e},n.inherits(r.drawing.Selectable,r.EventTarget),r.drawing.Selectable.prototype.getShape=function(){return this.last_},r.drawing.Selectable.prototype.setSelected=function(e){this.last_&&this.last_.getSelectable().selectOff(),e?(e.getSelectable().selectOn(),this.last_=e,this.dispatchExternal(r.drawing.EventType.SHAPE_SELECTED,this.drawing_,e)):this.last_=null},r.drawing.Selectable.prototype.handleDown=function(e,t){this.setSelected(t.getShape())},r.drawing.Selectable.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,n.dispose(this.last_),this.last_=null,r.drawing.Selectable.superClass_.disposeInternal.call(this)},r.engine.Engine=function(e,t){n.Disposable.call(this),this.name_=e,this.available_=!1,this.init_(),this.canvas_=this.createCanvas_(t)},n.inherits(r.engine.Engine,n.Disposable),r.engine.Engine.prototype.getCanvas=function(){return this.canvas_},r.engine.Engine.prototype.createCanvas_=function(e){if(this.typeOf(r.engine.CANVAS))return r.canvas.Canvas.create(e);if(this.typeOf(r.engine.SVG))return r.svg.Canvas.create(e);if(this.typeOf(r.engine.VML))return r.vml.Canvas.create(e);throw Error("Unknown engine.")},r.engine.Engine.prototype.createCircle=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Circle.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Circle.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Circle.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.createEllipse=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Ellipse.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Ellipse.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Ellipse.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.createGroup=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Group.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Group.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Group.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.createImage=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Image.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Image.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Image.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.createLine=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Line.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Line.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Line.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.createPolygon=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Polygon.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Polygon.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Polygon.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.createPolyline=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Polyline.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Polyline.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Polyline.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.createRect=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Polygon.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Polygon.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Polygon.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.getName=function(){return this.name_},r.engine.Engine.prototype.typeOf=function(e){return this.name_===e},r.engine.Engine.prototype.isAvailable=function(){return this.available_},r.engine.Engine.prototype.findOptimalRenderer_=function(){if(r.engine.isSupported(r.engine.CANVAS))this.name_=r.engine.CANVAS,this.available_=!0;else if(r.engine.isSupported(r.engine.SVG))this.name_=r.engine.SVG,this.available_=!0;else{if(!r.engine.isSupported(r.engine.VML))throw Error("There is no graphics rendering engine available.");this.name_=r.engine.VML,this.available_=!0}},r.engine.Engine.prototype.forceRenderer_=function(){if(this.name_===r.engine.CANVAS)this.available_=r.engine.isSupported(r.engine.CANVAS);else if(this.name_===r.engine.SVG)this.available_=r.engine.isSupported(r.engine.SVG);else{if(this.name_!==r.engine.VML)throw this.available_=!1,Error("Unknown graphics rendering engine.");this.available_=r.engine.isSupported(r.engine.VML)}},r.engine.Engine.prototype.init_=function(){this.name_?this.forceRenderer_():this.findOptimalRenderer_()},r.engine.Engine.prototype.disposeInternal=function(){this.canvas_.dispose(),this.canvas_=null,r.engine.Engine.superClass_.disposeInternal.call(this)},n.dom.ViewportSizeMonitor=function(e){n.events.EventTarget.call(this),this.window_=e||window,this.listenerKey_=n.events.listen(this.window_,n.events.EventType.RESIZE,this.handleResize_,!1,this),this.size_=n.dom.getViewportSize(this.window_)},n.inherits(n.dom.ViewportSizeMonitor,n.events.EventTarget),n.dom.ViewportSizeMonitor.getInstanceForWindow=function(e){e=e||window;var t=n.getUid(e);return n.dom.ViewportSizeMonitor.windowInstanceMap_[t]=n.dom.ViewportSizeMonitor.windowInstanceMap_[t]||new n.dom.ViewportSizeMonitor(e)},n.dom.ViewportSizeMonitor.removeInstanceForWindow=function(e){e=n.getUid(e||window),n.dispose(n.dom.ViewportSizeMonitor.windowInstanceMap_[e]),delete n.dom.ViewportSizeMonitor.windowInstanceMap_[e]},n.dom.ViewportSizeMonitor.windowInstanceMap_={},n.dom.ViewportSizeMonitor.prototype.listenerKey_=null,n.dom.ViewportSizeMonitor.prototype.window_=null,n.dom.ViewportSizeMonitor.prototype.size_=null,n.dom.ViewportSizeMonitor.prototype.getSize=function(){return this.size_?this.size_.clone():null},n.dom.ViewportSizeMonitor.prototype.disposeInternal=function(){n.dom.ViewportSizeMonitor.superClass_.disposeInternal.call(this),this.listenerKey_&&(n.events.unlistenByKey(this.listenerKey_),this.listenerKey_=null),this.size_=this.window_=null},n.dom.ViewportSizeMonitor.prototype.handleResize_=function(e){e=n.dom.getViewportSize(this.window_),n.math.Size.equals(e,this.size_)||(this.size_=e,this.dispatchEvent(n.events.EventType.RESIZE))},r.drawing.Modifiable=function(e){r.EventTarget.call(this),this.drawing_=e,this.mode_=r.drawing.Modifiable.Mode.SHAPEHOVER,this.dragger_,this.shape_,this.origin_,this.propageted_=!1},n.inherits(r.drawing.Modifiable,r.EventTarget),r.drawing.Modifiable.Mode={DRAGSHAPE:1,HOVERSHAPE:2,DRAGDRAGGER:3},r.drawing.Modifiable.prototype.getShape=function(){return this.shape_},r.drawing.Modifiable.prototype.handleDown=function(e,t){var n;(n=t.getShape())?(this.origin_=t.getPointTransformed(),n&&n.isModifiable()?(this.state_=r.drawing.State.DRAG,n instanceof r.shape.Dragger?(this.mode_=r.drawing.Modifiable.Mode.DRAGDRAGGER,this.dragger_=n):(this.mode_=r.drawing.Modifiable.Mode.DRAGSHAPE,this.shape_&&this.shape_.getModifiable().selectOff(),this.shape_=n,n=this.shape_.getModifiable(),this.drawing_.getLayerShapeModify().activate(n),this.shape_.getModifiable().selectOn())):(this.drawing_.getLayerShapeModify().removeShapes(),this.shape_&&this.shape_.getModifiable().selectOff(),this.resetState_())):(this.drawing_.getViewbox().handleDown(e,t),this.propageted_=!0,this.drawing_.getLayerShapeModify().removeShapes(),this.shape_&&this.shape_.getModifiable().selectOff(),this.shape_=null,this.resetState_())},r.drawing.Modifiable.prototype.handleHover_=function(e,t){},r.drawing.Modifiable.prototype.handleDragShape_=function(e,t){var n=t.getPointTransformed(),r=n[0]-this.origin_[0],i=n[1]-this.origin_[1];this.shape_.getModifiable().move(r,i),this.origin_=n},r.drawing.Modifiable.prototype.handleMove=function(e,t){if(t.getShape(),this.propageted_)this.drawing_.getViewbox().handleMove(e,t);else{var n=t.getPointTransformed();this.mode_===r.drawing.Modifiable.Mode.SHAPEHOVER?this.handleHover_(e,t):this.mode_===r.drawing.Modifiable.Mode.DRAGDRAGGER?(this.dragger_.setCoord(n),this.dispatchExternal(r.drawing.EventType.SHAPE_MODIFY,this.drawing_,this.shape_)):this.mode_===r.drawing.Modifiable.Mode.DRAGSHAPE&&(this.handleDragShape_(e,t),this.dispatchExternal(r.drawing.EventType.SHAPE_MODIFY,this.drawing_,this.shape_))}},r.drawing.Modifiable.prototype.handleUp=function(e,t){t.getShape()||this.drawing_.getViewbox().handleUp(e,t),this.resetState_(),this.propageted_=!1},r.drawing.Modifiable.prototype.resetState_=function(){this.mode_=r.drawing.Modifiable.Mode.SHAPEHOVER},r.drawing.Modifiable.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,n.dispose(this.dragger_),n.dispose(this.shape_),this.origin_=null,r.drawing.Modifiable.superClass_.disposeInternal.call(this)},r.drawing.Drawing=function(e,t){r.drawing.EventHandler.call(this),this.element_=e,this.layer_=[],this.mode_=r.drawing.Mode.NONE,this.modifiable_=new r.drawing.Modifiable(this),this.selectable_=new r.drawing.Selectable(this),this.hoverable_=new r.drawing.Hoverable(this),this.creatable_=new r.drawing.Creatable(this),this.install_(t)},n.inherits(r.drawing.Drawing,r.drawing.EventHandler),r.drawing.Drawing.prototype.eventShapeModify=function(e){},r.drawing.Drawing.prototype.getElement=function(){return this.element_},r.drawing.Drawing.prototype.getEngine=function(){return this.engine_},r.drawing.Drawing.prototype.getCanvas=function(){return this.canvas_},r.drawing.Drawing.prototype.getLayerBackground=function(){return this.layer_[0]},r.drawing.Drawing.prototype.getLayerShape=function(){return this.layer_[1]},r.drawing.Drawing.prototype.getLayerShapeModify=function(){return this.layer_[3]},r.drawing.Drawing.prototype.getLayerShapeCreate=function(){return this.layer_[2]},r.drawing.Drawing.prototype.getLayerTool=function(){return this.layer_[4]},r.drawing.Drawing.prototype.getViewbox=function(){return this.viewbox_},r.drawing.Drawing.prototype.setSize=function(e,t){n.style.setSize(this.element_,e+"px",t+"px"),this.handleResize()},r.drawing.Drawing.prototype.getWidth=function(){return this.width_},r.drawing.Drawing.prototype.setWidth=function(e){this.setSize(e,this.height_)},r.drawing.Drawing.prototype.getHeight=function(){return this.height_},r.drawing.Drawing.prototype.setHeight=function(e){this.setSize(this.width_,e)},r.drawing.Drawing.prototype.setStyle=function(e,t){n.style.setStyle(this.element_,e,t),this.handleResize()},r.drawing.Drawing.prototype.getBackgroundImage=function(){return this.layer_[0].getImage().getImage()},r.drawing.Drawing.prototype.setBackgroundImage=function(e,t){var r=this.layer_[0].getImage();if(!r||r.src!==e){var i=this,r=new n.net.ImageLoader,o=n.dom.createElement("img");o.id="_tmp",o.src=e,n.events.listen(r,n.events.EventType.LOAD,function(e){i.layer_[0].setImage(e.target),t&&t.apply(i),i.draw()}),r.addImage("_tmp",o),r.start()}},r.drawing.Drawing.prototype.addShapes=function(e){this.layer_[1].addShapes(n.array.toArray(arguments)),this.draw()},r.drawing.Drawing.prototype.getShapes=function(){return this.layer_[1].getShapes()||[]},r.drawing.Drawing.prototype.removeShape=function(e){this.layer_[1].removeShape(e),this.layer_[3].removeShapes(),this.draw()},r.drawing.Drawing.prototype.getSelectedShape=function(){return this.mode_===r.drawing.Mode.SELECT?this.selectable_.getShape():this.mode_===r.drawing.Mode.MODIFY?this.modifiable_.getShape():null},r.drawing.Drawing.prototype.draw=function(){var e=this,t=this.getViewbox();this.eventBeforeRendering=function(e){e===t.getGroup()?e.setCTM(t.getCTM()):e instanceof r.shape.Style&&e.setZoomFactor(t.getZoomValue())},n.dom.getWindow().clearTimeout(this.timeoutDraw_),this.timeoutDraw_=n.dom.getWindow().setTimeout(function(){e.eventBeforeDraw&&e.eventBeforeDraw(),e.canvas_.draw()})},r.drawing.Drawing.prototype.getMode=function(){return this.mode_},r.drawing.Drawing.prototype.setMode_=function(e){e===this.mode_&&e!==r.drawing.Mode.CREATE||(this.mode_=e,this.registerEvents(e),this.draw())},r.drawing.Drawing.prototype.setModeDisabled=function(){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!0),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(r.drawing.Mode.DISABLED)},r.drawing.Drawing.prototype.setModeView=function(){this.getLayerBackground().setLocked(!1),this.getLayerShape().setLocked(!0),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(r.drawing.Mode.VIEW)},r.drawing.Drawing.prototype.setModeHover=function(e){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!1),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.hoverable_.setMultiple(e),!0===e?this.setMode_(r.drawing.Mode.HOVERMULTIPLE):this.setMode_(r.drawing.Mode.HOVER)},r.drawing.Drawing.prototype.setModeSelect=function(){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!1),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(r.drawing.Mode.SELECT)},r.drawing.Drawing.prototype.setSelected=function(e){this.selectable_.setSelected(e),this.draw()},r.drawing.Drawing.prototype.setModeModify=function(){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!1),this.getLayerShapeModify().setLocked(!1),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(r.drawing.Mode.MODIFY)},r.drawing.Drawing.prototype.setModeCreate=function(e){if(e){if(!(e instanceof r.shape.Creatable))throw Error("Instance of xrx.shape.Creatable expected.");this.creatable_.setShapeCreatable(e),this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!0),this.getLayerShapeModify().setLocked(!1),this.getLayerShapeCreate().setLocked(!1),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(r.drawing.Mode.CREATE)}},r.drawing.Drawing.prototype.handleResize=function(){var e=this;n.dom.getWindow().clearTimeout(this.timeoutResize_),this.timeoutResize_=n.dom.getWindow().setTimeout(function(){e.calculateSize_(),e.canvas_.setHeight(e.height_),e.canvas_.setWidth(e.width_),e.shield_.setHeight(e.height_),e.shield_.setWidth(e.width_)}),this.draw()},r.drawing.Drawing.prototype.calculateSize_=function(){var e=n.style.getSize(this.element_),t=n.style.getPaddingBox(this.element_),r=n.style.getBorderBox(this.element_),i=e.height-t.top-t.bottom-r.top-r.bottom;this.width_=e.width-t.left-t.right-r.left-r.right,this.height_=i},r.drawing.Drawing.prototype.installCanvas_=function(){var e=this;this.vsm_=new n.dom.ViewportSizeMonitor,n.events.listen(this.vsm_,n.events.EventType.RESIZE,function(t){e.handleResize()},!1,e),this.canvas_=new r.shape.Canvas(this),this.canvas_.setHeight(this.height_),this.canvas_.setWidth(this.width_)},r.drawing.Drawing.prototype.installViewbox_=function(){this.viewbox_=new r.viewbox.Viewbox(this),this.canvas_.addChildren(this.viewbox_.getGroup())},r.drawing.Drawing.prototype.installLayerBackground_=function(){this.layer_[0]=new r.drawing.LayerBackground(this),this.viewbox_.getGroup().addChildren(this.layer_[0].getGroup())},r.drawing.Drawing.prototype.installLayerShape_=function(){this.layer_[1]=new r.drawing.LayerShape(this),this.viewbox_.getGroup().addChildren(this.layer_[1].getGroup())},r.drawing.Drawing.prototype.installLayerShapeModify_=function(){this.layer_[3]=new r.drawing.LayerShapeModify(this),this.viewbox_.getGroup().addChildren(this.layer_[3].getGroup())},r.drawing.Drawing.prototype.installLayerShapecreatable_=function(){this.layer_[2]=new r.drawing.LayerShapeCreate(this),this.viewbox_.getGroup().addChildren(this.layer_[2].getGroup())},r.drawing.Drawing.prototype.installShield_=function(){this.shield_=new r.shape.Rect(this),this.shield_.setX(0),this.shield_.setY(0),this.shield_.setWidth(this.width_),this.shield_.setHeight(this.height_),this.shield_.setFillOpacity(0),this.shield_.setStrokeWidth(0),this.canvas_.addChildren(this.shield_)},r.drawing.Drawing.prototype.installLayerTool_=function(){this.layer_[4]=new r.drawing.LayerTool(this)},r.drawing.Drawing.prototype.initEngine_=function(e){this.engine_=new r.engine.Engine(e,this.element_)},r.drawing.Drawing.prototype.install_=function(e){this.initEngine_(e),this.engine_.isAvailable()&&(n.dom.removeChildren(this.element_),this.calculateSize_(),this.installCanvas_(),this.installViewbox_(),this.installLayerBackground_(),this.installLayerShape_(),this.installLayerShapecreatable_(),this.installLayerShapeModify_(),this.installShield_(),this.installLayerTool_())},r.drawing.Drawing.prototype.disposeInternal=function(){n.dom.removeNode(this.element_),this.element_=null,this.engine_.dispose(),this.engine_=null,this.canvas_.dispose(),this.canvas_=null;for(var e;e=this.layer_.pop();)e.dispose();this.layer_=null,this.shield_.dispose(),this.shield_=null,this.modifiable_.dispose(),this.modifiable_=null,this.selectable_.dispose(),this.selectable_=null,this.hoverable_.dispose(),this.hoverable_=null,n.dispose(this.creatable_),this.creatable_=null,this.viewbox_.dispose(),this.eventBeforeRendering=this.viewbox_=null,this.vsm_.removeAllListeners(),this.vsm_.dispose(),this.timeoutResize_=this.timeoutDraw_=this.vsm_=null,r.drawing.Drawing.superClass_.disposeInternal.call(this)},r.shape.DiPolygonArrow=function(e,t){r.shape.Line.call(this,e),this.diPolygon_=t,this.angle_},n.inherits(r.shape.DiPolygonArrow,r.shape.Line),r.shape.DiPolygonArrow.prototype.getDiPolygon=function(){return this.diPolygon_},r.shape.DiPolygonArrow.prototype.getModifiable=function(){return void 0===this.modifiable_&&(this.modifiable_=new r.shape.DiPolygonArrowModifiable(this)),this.modifiable_},r.shape.DiPolygonArrowModifiable=function(e){r.shape.LineModifiable.call(this,e)},n.inherits(r.shape.DiPolygonArrowModifiable,r.shape.LineModifiable),r.shape.DiPolygonArrowModifiable.prototype.setCoordAt=function(e,t){var n=this.shape_.getDiPolygon().getBox(),r=t[0],i=t[1];r<n.x?r=n.x:r>n.x2&&(r=n.x2),i<n.y?i=n.y:i>n.y2&&(i=n.y2);var o=n.x+n.width/2,n=n.y+n.height/2,o=o-(r-o),n=n-(i-n);0===e?(this.dragger_[0].setCoordX(r),this.dragger_[0].setCoordY(i),this.dragger_[1].setCoordX(o),this.dragger_[1].setCoordY(n),this.shape_.setX1(r),this.shape_.setY1(i),this.shape_.setX2(o),this.shape_.setY2(n)):(this.dragger_[1].setCoordX(r),this.dragger_[1].setCoordY(i),this.dragger_[0].setCoordX(o),this.dragger_[0].setCoordY(n),this.shape_.setX1(o),this.shape_.setY1(n),this.shape_.setX2(r),this.shape_.setY2(i))},r.shape.DiPolygonArrowModifiable.prototype.move=function(){},r.shape.DiPolygonPolygon=function(e){r.shape.Polygon.call(this,e)},n.inherits(r.shape.DiPolygonPolygon,r.shape.Polygon),r.shape.DiPolygon=function(e){r.shape.Group.call(this,e),this.box_,this.init_()},n.inherits(r.shape.DiPolygon,r.shape.Group),r.shape.DiPolygon.prototype.getArrow=function(){return this.arrow_},r.shape.DiPolygon.prototype.getBox=function(){return this.box_},r.shape.DiPolygon.prototype.MARGIN=20,r.shape.DiPolygon.prototype.setCoords=function(e){this.childs_[0].setCoords(e)},r.shape.DiPolygon.prototype.init_=function(){var e=new r.shape.DiPolygonPolygon(this.drawing_),t=new r.shape.DiPolygonArrow(this.drawing_,this);this.addChildren([e,t])},r.extension={},r.extension.Extensions={},r.api={},r.api.drawing=function(){},e.exports=r,e.exports.goog=n},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBjbGFzcz0ic3ZnX2ljb24iPgogIDxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTQgNTQiPgogICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCB5Mj0iMS4wIiB4Mj0iMS4wIiB5MT0iMC4xODc1IiB4MT0iMC4xNzE4NzUiIGlkPSJzdmdfNCI+CiAgICAgPHN0b3Agc3RvcC1vcGFjaXR5PSIxIiBzdG9wLWNvbG9yPSIjZmZmZmZmIiBvZmZzZXQ9IjAuMCIvPgogICAgIDxzdG9wIHN0b3Atb3BhY2l0eT0iMSIgc3RvcC1jb2xvcj0iI2ZmZmY2NiIgb2Zmc2V0PSIxLjAiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgIDwvZGVmcz4KICAgPGc+CiAgICA8Y2lyY2xlIHN0cm9rZS1vcGFjaXR5PSIxIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlPSIjMDAwMDAwIiBmaWxsPSJ1cmwoI3N2Z180KSIgaWQ9InN2Z18xIiByPSIyMiIgY3k9IjI3IiBjeD0iMjciLz4KICAgPC9nPgogIDwvc3ZnPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTc5MiIgaGVpZ2h0PSIxNzkyIiB2aWV3Qm94PSIwIDAgMTc5MiAxNzkyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xNjk2IDM4NHE0MCAwIDY4IDI4dDI4IDY4djEyMTZxMCA0MC0yOCA2OHQtNjggMjhoLTk2MHEtNDAgMC02OC0yOHQtMjgtNjh2LTI4OGgtNTQ0cS00MCAwLTY4LTI4dC0yOC02OHYtNjcycTAtNDAgMjAtODh0NDgtNzZsNDA4LTQwOHEyOC0yOCA3Ni00OHQ4OC0yMGg0MTZxNDAgMCA2OCAyOHQyOCA2OHYzMjhxNjgtNDAgMTI4LTQwaDQxNnptLTU0NCAyMTNsLTI5OSAyOTloMjk5di0yOTl6bS02NDAtMzg0bC0yOTkgMjk5aDI5OXYtMjk5em0xOTYgNjQ3bDMxNi0zMTZ2LTQxNmgtMzg0djQxNnEwIDQwLTI4IDY4dC02OCAyOGgtNDE2djY0MGg1MTJ2LTI1NnEwLTQwIDIwLTg4dDQ4LTc2em05NTYgODA0di0xMTUyaC0zODR2NDE2cTAgNDAtMjggNjh0LTY4IDI4aC00MTZ2NjQwaDg5NnoiLz48L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgY2xhc3M9InN2Z19pY29uIj48c3ZnIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CgkgIDxwYXRoIHN0cm9rZT0iI2ZmZmZmZiIgZmlsbD0iIzAwMDAwMCIgaWQ9InN2Z18xMyIgZD0ibTcuMzgxNjgsMi40Njk0OGwwLjA3NTAyLDE3LjAzMjU4bDMuMzAwODMsLTIuNjI2MTdsMi42MjU2Niw1LjYyNzUxbDQuMjAxMDUsLTIuNjI2MTdsLTMuMzAwODIsLTQuODAyMTRsNC41NzYxNCwtMC4zNzUxN2wtMTEuNDc3ODcsLTEyLjIzMDQ0eiIvPgoJPC9zdmc+PC9zdmc+"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij4KICA8c3ZnICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NCA1NCI+CiAgIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IHkyPSIxLjAiIHgyPSIxLjAiIHkxPSIwLjE4NzUiIHgxPSIwLjE3MTg3NSIgaWQ9InN2Z180Ij4KICAgICA8c3RvcCBzdG9wLW9wYWNpdHk9IjEiIHN0b3AtY29sb3I9IiNmZmZmZmYiIG9mZnNldD0iMC4wIi8+CiAgICAgPHN0b3Agc3RvcC1vcGFjaXR5PSIxIiBzdG9wLWNvbG9yPSIjZmY2NjY2IiBvZmZzZXQ9IjEuMCIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgPC9kZWZzPgogIDxlbGxpcHNlIHN0cm9rZS1vcGFjaXR5PSIxIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlPSIjMDAwMDAwIiBmaWxsPSJ1cmwoI3N2Z180KSIgaWQ9InN2Z18xIiByeD0iMjQiIHJ5PSIxNSIgY3k9IjI3IiBjeD0iMjciLz4KICA8L3N2Zz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTc5MiIgaGVpZ2h0PSIxNzkyIiB2aWV3Qm94PSIwIDAgMTc5MiAxNzkyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik02NDAgMTI4cS01MyAwLTkwLjUgMzcuNXQtMzcuNSA5MC41djg5NmwtMTUxLTIwMnEtNDEtNTQtMTA3LTU0LTUyIDAtODkgMzh0LTM3IDkwcTAgNDMgMjYgNzdsMzg0IDUxMnEzOCA1MSAxMDIgNTFoNzE4cTIyIDAgMzkuNS0xMy41dDIyLjUtMzQuNWw5Mi0zNjhxMjQtOTYgMjQtMTk0di0yMTdxMC00MS0yOC03MXQtNjgtMzAtNjggMjgtMjggNjhoLTMydi02MXEwLTQ4LTMyLTgxLjV0LTgwLTMzLjVxLTQ2IDAtNzkgMzN0LTMzIDc5djY0aC0zMnYtOTBxMC01NS0zNy05NC41dC05MS0zOS41cS01MyAwLTkwLjUgMzcuNXQtMzcuNSA5MC41djk2aC0zMnYtNTcwcTAtNTUtMzctOTQuNXQtOTEtMzkuNXptMC0xMjhxMTA3IDAgMTgxLjUgNzcuNXQ3NC41IDE4NC41djIyMHEyMi0yIDMyLTIgOTkgMCAxNzMgNjkgNDctMjEgOTktMjEgMTEzIDAgMTg0IDg3IDI3LTcgNTYtNyA5NCAwIDE1OSA2Ny41dDY1IDE2MS41djIxN3EwIDExNi0yOCAyMjVsLTkyIDM2OHEtMTYgNjQtNjggMTA0LjV0LTExOCA0MC41aC03MThxLTYwIDAtMTE0LjUtMjcuNXQtOTAuNS03NC41bC0zODQtNTEycS01MS02OC01MS0xNTQgMC0xMDUgNzQuNS0xODAuNXQxNzkuNS03NS41cTcxIDAgMTMwIDM1di01NDdxMC0xMDYgNzUtMTgxdDE4MS03NXptMTI4IDE0MDh2LTM4NGgtMzJ2Mzg0aDMyem0yNTYgMHYtMzg0aC0zMnYzODRoMzJ6bTI1NiAwdi0zODRoLTMydjM4NGgzMnoiLz48L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTc5MiIgaGVpZ2h0PSIxNzkyIiB2aWV3Qm94PSIwIDAgMTc5MiAxNzkyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik04ODAgMTI4cS00NiAwLTc5IDMzdC0zMyA3OXY2NTZoLTMydi01MjhxMC00Ni0zMy03OXQtNzktMzMtNzkgMzMtMzMgNzl2Nzg0bC0xNTQtMjA1cS0zOC01MS0xMDItNTEtNTMgMC05MC41IDM3LjV0LTM3LjUgOTAuNXEwIDQzIDI2IDc3bDM4NCA1MTJxMzggNTEgMTAyIDUxaDY4OHEzNCAwIDYxLTIydDM0LTU2bDc2LTQwNXE1LTMyIDUtNTl2LTQ5OHEwLTQ2LTMzLTc5dC03OS0zMy03OSAzMy0zMyA3OXYyNzJoLTMydi01MjhxMC00Ni0zMy03OXQtNzktMzMtNzkgMzMtMzMgNzl2NTI4aC0zMnYtNjU2cTAtNDYtMzMtNzl0LTc5LTMzem0wLTEyOHE2OCAwIDEyNS41IDM1LjV0ODguNSA5Ni41cTE5LTQgNDItNCA5OSAwIDE2OS41IDcwLjV0NzAuNSAxNjkuNXYxN3ExMDUtNiAxODAuNSA2NHQ3NS41IDE3NXY0OThxMCA0MC04IDgzbC03NiA0MDRxLTE0IDc5LTc2LjUgMTMxdC0xNDMuNSA1MmgtNjg4cS02MCAwLTExNC41LTI3LjV0LTkwLjUtNzQuNWwtMzg0LTUxMnEtNTEtNjgtNTEtMTU0IDAtMTA2IDc1LTE4MXQxODEtNzVxNzggMCAxMjggMzR2LTQzNHEwLTk5IDcwLjUtMTY5LjV0MTY5LjUtNzAuNXEyMyAwIDQyIDQgMzEtNjEgODguNS05Ni41dDEyNS41LTM1LjV6Ii8+PC9zdmc+"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTc5MiIgaGVpZ2h0PSIxNzkyIiB2aWV3Qm94PSIwIDAgMTc5MiAxNzkyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xNTk2IDM4MHEyOCAyOCA0OCA3NnQyMCA4OHYxMTUycTAgNDAtMjggNjh0LTY4IDI4aC0xMzQ0cS00MCAwLTY4LTI4dC0yOC02OHYtMTYwMHEwLTQwIDI4LTY4dDY4LTI4aDg5NnE0MCAwIDg4IDIwdDc2IDQ4em0tNDQ0LTI0NHYzNzZoMzc2cS0xMC0yOS0yMi00MWwtMzEzLTMxM3EtMTItMTItNDEtMjJ6bTM4NCAxNTI4di0xMDI0aC00MTZxLTQwIDAtNjgtMjh0LTI4LTY4di00MTZoLTc2OHYxNTM2aDEyODB6bS0xMjgtNDQ4djMyMGgtMTAyNHYtMTkybDE5Mi0xOTIgMTI4IDEyOCAzODQtMzg0em0tODMyLTE5MnEtODAgMC0xMzYtNTZ0LTU2LTEzNiA1Ni0xMzYgMTM2LTU2IDEzNiA1NiA1NiAxMzYtNTYgMTM2LTEzNiA1NnoiLz48L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBjbGFzcz0ic3ZnX2ljb24iPgogIDxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTI0IDEyNCI+CiAgICA8bGluZSB4MT0iMTAiIHkxPSIxMCIgeDI9IjExMCIgeTI9IjExMCIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6YmxhY2s7c3Ryb2tlLXdpZHRoOjEyIiAvPgogICAgPGNpcmNsZSBjeD0iMTUiIGN5PSIxNSIgcj0iMTAiIHN0eWxlPSJmaWxsOndoaXRlO3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6NSIgLz4KICAgIDxjaXJjbGUgY3g9IjExMCIgY3k9IjExMCIgcj0iMTAiIHN0eWxlPSJmaWxsOndoaXRlO3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6NSIgLz4KICAgPC9zdmc+CiA8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij4KICA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2NCAxMjQiPgogICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCB5Mj0iMSIgeDI9IjEiIHkxPSIwLjI4MTI1IiB4MT0iMC4zMzU5NCIgaWQ9InN2Z180Ij4KICAgICA8c3RvcCBzdG9wLW9wYWNpdHk9IjEiIHN0b3AtY29sb3I9IiNmZmZmZmYiIG9mZnNldD0iMCIvPgogICAgIDxzdG9wIHN0b3Atb3BhY2l0eT0iMSIgc3RvcC1jb2xvcj0iIzMzYTUzMyIgb2Zmc2V0PSIxIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICA8L2RlZnM+CiAgICA8cG9seWdvbiBzdHJva2UtZGFzaGFycmF5PSJudWxsIiBzdHJva2Utd2lkdGg9IjkiIHN0cm9rZT0iIzAwMDAwMCIgZmlsbD0idXJsKCNzdmdfNCkiIGlkPSJzdmdfMSIKICAgICAgcG9pbnRzPSIKICAgICAgMCwyMAogICAgICAyMCwxMjQKICAgICAgODAsODAKICAgICAgMTQ0LDEyNAogICAgICAxNjQsNDAKICAgICAgODAsMAogICAgICAiLz4KICAgPC9zdmc+CiA8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBjbGFzcz0ic3ZnX2ljb24iPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEyNCAxMjQiPgogIDxwb2x5bGluZSBwb2ludHM9IjE1LDIwIDQwLDExMCA4MCwyMCAxMTAsMTEwIiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6MTIiIC8+CiAgPGNpcmNsZSBjeD0iMTUiIGN5PSIyNSIgcj0iMTAiIHN0eWxlPSJmaWxsOndoaXRlO3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6NSIgLz4KICA8Y2lyY2xlIGN4PSI0MCIgY3k9IjExMCIgcj0iMTAiIHN0eWxlPSJmaWxsOndoaXRlO3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6NSIgLz4KICA8Y2lyY2xlIGN4PSI4MCIgY3k9IjIwIiByPSIxMCIgc3R5bGU9ImZpbGw6d2hpdGU7c3Ryb2tlOmJsYWNrO3N0cm9rZS13aWR0aDo1IiAvPgogIDxjaXJjbGUgY3g9IjExMCIgY3k9IjExMCIgcj0iMTAiIHN0eWxlPSJmaWxsOndoaXRlO3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6NSIgLz4KIDwvc3ZnPjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiA8ZGVmcz4KICA8bGluZWFyR3JhZGllbnQgeTI9IjEiIHgyPSIxIiB5MT0iMC4xMDE1NiIgeDE9IjAuMzYzMjgiIGlkPSJzdmdfMiI+CiAgIDxzdG9wIHN0b3Atb3BhY2l0eT0iMSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgb2Zmc2V0PSIwIi8+CiAgIDxzdG9wIHN0b3Atb3BhY2l0eT0iMSIgc3RvcC1jb2xvcj0iIzNiN2U5YiIgb2Zmc2V0PSIxIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KIDwvZGVmcz4KPHJlY3Qgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9InVybCgjc3ZnXzIpIiBoZWlnaHQ9IjIwIiB3aWR0aD0iMzAiIHk9IjUuNSIgeD0iMS41Ii8+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTc5MiIgaGVpZ2h0PSIxNzkyIiB2aWV3Qm94PSIwIDAgMTc5MiAxNzkyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xNDkwIDEzMjJxMCA0MC0yOCA2OGwtMTM2IDEzNnEtMjggMjgtNjggMjh0LTY4LTI4bC0yOTQtMjk0LTI5NCAyOTRxLTI4IDI4LTY4IDI4dC02OC0yOGwtMTM2LTEzNnEtMjgtMjgtMjgtNjh0MjgtNjhsMjk0LTI5NC0yOTQtMjk0cS0yOC0yOC0yOC02OHQyOC02OGwxMzYtMTM2cTI4LTI4IDY4LTI4dDY4IDI4bDI5NCAyOTQgMjk0LTI5NHEyOC0yOCA2OC0yOHQ2OCAyOGwxMzYgMTM2cTI4IDI4IDI4IDY4dC0yOCA2OGwtMjk0IDI5NCAyOTQgMjk0cTI4IDI4IDI4IDY4eiIvPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmlld0JveD0iMCAtMjU2IDE3OTIgMTc5MiIKICAgaWQ9InN2ZzMwMDEiCiAgIHZlcnNpb249IjEuMSIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMC40OC4zLjEgcjk4ODYiCiAgIHdpZHRoPSIxMDAlIgogICBoZWlnaHQ9IjEwMCUiCiAgIHNvZGlwb2RpOmRvY25hbWU9InNhdmVfZm9udF9hd2Vzb21lLnN2ZyI+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMzAxMSI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGRlZnMKICAgICBpZD0iZGVmczMwMDkiIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAiCiAgICAgZ3VpZGV0b2xlcmFuY2U9IjEwIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSI2NDAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iNDgwIgogICAgIGlkPSJuYW1lZHZpZXczMDA3IgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTp6b29tPSIwLjEzMTY5NjQzIgogICAgIGlua3NjYXBlOmN4PSI4OTYiCiAgICAgaW5rc2NhcGU6Y3k9Ijg5NiIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMjUiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmczMDAxIiAvPgogIDxnCiAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMTI5LjA4NDc1LDEyNzAuMjM3MykiCiAgICAgaWQ9ImczMDAzIj4KICAgIDxwYXRoCiAgICAgICBkPSJtIDM4NCwwIGggNzY4IFYgMzg0IEggMzg0IFYgMCB6IG0gODk2LDAgaCAxMjggdiA4OTYgcSAwLDE0IC0xMCwzOC41IC0xMCwyNC41IC0yMCwzNC41IGwgLTI4MSwyODEgcSAtMTAsMTAgLTM0LDIwIC0yNCwxMCAtMzksMTAgViA4NjQgcSAwLC00MCAtMjgsLTY4IC0yOCwtMjggLTY4LC0yOCBIIDM1MiBxIC00MCwwIC02OCwyOCAtMjgsMjggLTI4LDY4IHYgNDE2IEggMTI4IFYgMCBoIDEyOCB2IDQxNiBxIDAsNDAgMjgsNjggMjgsMjggNjgsMjggaCA4MzIgcSA0MCwwIDY4LC0yOCAyOCwtMjggMjgsLTY4IFYgMCB6IE0gODk2LDkyOCB2IDMyMCBxIDAsMTMgLTkuNSwyMi41IC05LjUsOS41IC0yMi41LDkuNSBIIDY3MiBxIC0xMywwIC0yMi41LC05LjUgUSA2NDAsMTI2MSA2NDAsMTI0OCBWIDkyOCBxIDAsLTEzIDkuNSwtMjIuNSBRIDY1OSw4OTYgNjcyLDg5NiBoIDE5MiBxIDEzLDAgMjIuNSw5LjUgOS41LDkuNSA5LjUsMjIuNSB6IG0gNjQwLC0zMiBWIC0zMiBxIDAsLTQwIC0yOCwtNjggLTI4LC0yOCAtNjgsLTI4IEggOTYgcSAtNDAsMCAtNjgsMjggLTI4LDI4IC0yOCw2OCB2IDEzNDQgcSAwLDQwIDI4LDY4IDI4LDI4IDY4LDI4IGggOTI4IHEgNDAsMCA4OCwtMjAgNDgsLTIwIDc2LC00OCBsIDI4MCwtMjgwIHEgMjgsLTI4IDQ4LC03NiAyMCwtNDggMjAsLTg4IHoiCiAgICAgICBpZD0icGF0aDMwMDUiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc3R5bGU9ImZpbGw6Y3VycmVudENvbG9yIiAvPgogIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTc5MiIgaGVpZ2h0PSIxNzkyIiB2aWV3Qm94PSIwIDAgMTc5MiAxNzkyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xMzQ0IDE0NzJxMC0yNi0xOS00NXQtNDUtMTktNDUgMTktMTkgNDUgMTkgNDUgNDUgMTkgNDUtMTkgMTktNDV6bTI1NiAwcTAtMjYtMTktNDV0LTQ1LTE5LTQ1IDE5LTE5IDQ1IDE5IDQ1IDQ1IDE5IDQ1LTE5IDE5LTQ1em0xMjgtMjI0djMyMHEwIDQwLTI4IDY4dC02OCAyOGgtMTQ3MnEtNDAgMC02OC0yOHQtMjgtNjh2LTMyMHEwLTQwIDI4LTY4dDY4LTI4aDQyN3EyMSA1NiA3MC41IDkydDExMC41IDM2aDI1NnE2MSAwIDExMC41LTM2dDcwLjUtOTJoNDI3cTQwIDAgNjggMjh0MjggNjh6bS0zMjUtNjQ4cS0xNyA0MC01OSA0MGgtMjU2djQ0OHEwIDI2LTE5IDQ1dC00NSAxOWgtMjU2cS0yNiAwLTQ1LTE5dC0xOS00NXYtNDQ4aC0yNTZxLTQyIDAtNTktNDAtMTctMzkgMTQtNjlsNDQ4LTQ0OHExOC0xOSA0NS0xOXQ0NSAxOWw0NDggNDQ4cTMxIDMwIDE0IDY5eiIvPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmlld0JveD0iMCAtMjU2IDE3OTIgMTc5MiIKICAgaWQ9InN2ZzIiCiAgIHZlcnNpb249IjEuMSIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMC40OC4zLjEgcjk4ODYiCiAgIHdpZHRoPSIxMDAlIgogICBoZWlnaHQ9IjEwMCUiCiAgIHNvZGlwb2RpOmRvY25hbWU9Inpvb21faW5fZm9udF9hd2Vzb21lLnN2ZyI+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMTIiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMxMCIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEwMjQiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iNzE5IgogICAgIGlkPSJuYW1lZHZpZXc4IgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTp6b29tPSIwLjEzMTY5NjQzIgogICAgIGlua3NjYXBlOmN4PSI4OTYiCiAgICAgaW5rc2NhcGU6Y3k9Ijg5NiIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMjUiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmcyIiAvPgogIDxnCiAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsNjguMzM4OTgzLDEyMjQuNjc4KSIKICAgICBpZD0iZzQiPgogICAgPHBhdGgKICAgICAgIGQ9Im0gMTAyNCw3MzYgdiAtNjQgcSAwLC0xMyAtOS41LC0yMi41IFEgMTAwNSw2NDAgOTkyLDY0MCBIIDc2OCBWIDQxNiBxIDAsLTEzIC05LjUsLTIyLjUgUSA3NDksMzg0IDczNiwzODQgaCAtNjQgcSAtMTMsMCAtMjIuNSw5LjUgUSA2NDAsNDAzIDY0MCw0MTYgViA2NDAgSCA0MTYgcSAtMTMsMCAtMjIuNSw5LjUgUSAzODQsNjU5IDM4NCw2NzIgdiA2NCBxIDAsMTMgOS41LDIyLjUgOS41LDkuNSAyMi41LDkuNSBoIDIyNCB2IDIyNCBxIDAsMTMgOS41LDIyLjUgOS41LDkuNSAyMi41LDkuNSBoIDY0IHEgMTMsMCAyMi41LC05LjUgUSA3NjgsMTAwNSA3NjgsOTkyIFYgNzY4IGggMjI0IHEgMTMsMCAyMi41LC05LjUgOS41LC05LjUgOS41LC0yMi41IHogbSAxMjgsLTMyIHEgMCwxODUgLTEzMS41LDMxNi41IFEgODg5LDExNTIgNzA0LDExNTIgNTE5LDExNTIgMzg3LjUsMTAyMC41IDI1Niw4ODkgMjU2LDcwNCAyNTYsNTE5IDM4Ny41LDM4Ny41IDUxOSwyNTYgNzA0LDI1NiA4ODksMjU2IDEwMjAuNSwzODcuNSAxMTUyLDUxOSAxMTUyLDcwNCB6IG0gNTEyLC04MzIgcSAwLC01MyAtMzcuNSwtOTAuNSAtMzcuNSwtMzcuNSAtOTAuNSwtMzcuNSAtNTQsMCAtOTAsMzggTCAxMTAzLDEyNCBRIDkyNCwwIDcwNCwwIDU2MSwwIDQzMC41LDU1LjUgMzAwLDExMSAyMDUuNSwyMDUuNSAxMTEsMzAwIDU1LjUsNDMwLjUgMCw1NjEgMCw3MDQgcSAwLDE0MyA1NS41LDI3My41IDU1LjUsMTMwLjUgMTUwLDIyNSA5NC41LDk0LjUgMjI1LDE1MCAxMzAuNSw1NS41IDI3My41LDU1LjUgMTQzLDAgMjczLjUsLTU1LjUgMTMwLjUsLTU1LjUgMjI1LC0xNTAgOTQuNSwtOTQuNSAxNTAsLTIyNSBRIDE0MDgsODQ3IDE0MDgsNzA0IDE0MDgsNDg0IDEyODQsMzA1IGwgMzQzLC0zNDMgcSAzNywtMzcgMzcsLTkwIHoiCiAgICAgICBpZD0icGF0aDYiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc3R5bGU9ImZpbGw6Y3VycmVudENvbG9yIiAvPgogIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmlld0JveD0iMCAtMjU2IDE3OTIgMTc5MiIKICAgaWQ9InN2ZzIiCiAgIHZlcnNpb249IjEuMSIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMC40OC4zLjEgcjk4ODYiCiAgIHdpZHRoPSIxMDAlIgogICBoZWlnaHQ9IjEwMCUiCiAgIHNvZGlwb2RpOmRvY25hbWU9Inpvb21fb3V0X2ZvbnRfYXdlc29tZS5zdmciPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTEyIj4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZGVmcwogICAgIGlkPSJkZWZzMTAiIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAiCiAgICAgZ3VpZGV0b2xlcmFuY2U9IjEwIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMDI0IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjcxOSIKICAgICBpZD0ibmFtZWR2aWV3OCIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMC4xMzE2OTY0MyIKICAgICBpbmtzY2FwZTpjeD0iODk2LjAwMDAxIgogICAgIGlua3NjYXBlOmN5PSI4OTYuMDAwMDEiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjI1IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ic3ZnMiIgLz4KICA8ZwogICAgIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDUzLjE1MjU0MiwxMjE3LjA4NDgpIgogICAgIGlkPSJnNCI+CiAgICA8cGF0aAogICAgICAgZD0ibSAxMDI0LDczNiB2IC02NCBxIDAsLTEzIC05LjUsLTIyLjUgUSAxMDA1LDY0MCA5OTIsNjQwIEggNDE2IHEgLTEzLDAgLTIyLjUsOS41IFEgMzg0LDY1OSAzODQsNjcyIHYgNjQgcSAwLDEzIDkuNSwyMi41IDkuNSw5LjUgMjIuNSw5LjUgaCA1NzYgcSAxMywwIDIyLjUsLTkuNSA5LjUsLTkuNSA5LjUsLTIyLjUgeiBtIDEyOCwtMzIgcSAwLDE4NSAtMTMxLjUsMzE2LjUgUSA4ODksMTE1MiA3MDQsMTE1MiA1MTksMTE1MiAzODcuNSwxMDIwLjUgMjU2LDg4OSAyNTYsNzA0IDI1Niw1MTkgMzg3LjUsMzg3LjUgNTE5LDI1NiA3MDQsMjU2IDg4OSwyNTYgMTAyMC41LDM4Ny41IDExNTIsNTE5IDExNTIsNzA0IHogbSA1MTIsLTgzMiBxIDAsLTUzIC0zNy41LC05MC41IC0zNy41LC0zNy41IC05MC41LC0zNy41IC01NCwwIC05MCwzOCBMIDExMDMsMTI0IFEgOTI0LDAgNzA0LDAgNTYxLDAgNDMwLjUsNTUuNSAzMDAsMTExIDIwNS41LDIwNS41IDExMSwzMDAgNTUuNSw0MzAuNSAwLDU2MSAwLDcwNCBxIDAsMTQzIDU1LjUsMjczLjUgNTUuNSwxMzAuNSAxNTAsMjI1IDk0LjUsOTQuNSAyMjUsMTUwIDEzMC41LDU1LjUgMjczLjUsNTUuNSAxNDMsMCAyNzMuNSwtNTUuNSAxMzAuNSwtNTUuNSAyMjUsLTE1MCA5NC41LC05NC41IDE1MCwtMjI1IFEgMTQwOCw4NDcgMTQwOCw3MDQgMTQwOCw0ODQgMTI4NCwzMDUgbCAzNDMsLTM0MyBxIDM3LC0zNyAzNywtOTAgeiIKICAgICAgIGlkPSJwYXRoNiIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzdHlsZT0iZmlsbDpjdXJyZW50Q29sb3IiIC8+CiAgPC9nPgo8L3N2Zz4K"},function(e,t){e.exports=function(e,t,n,r){var i,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(i=e,o=e.default);var a="function"==typeof o?o.options:o;if(t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),n&&(a._scopeId=n),r){var l=Object.create(a.computed||null);Object.keys(r).forEach(function(e){var t=r[e];l[e]=function(){return t}}),a.computed=l}return{esModule:i,exports:o,options:a}}},function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"panel panel-default"},[e.showToolbar?r("div",{staticClass:"panel-heading"},[r("div",{staticClass:"form-inline xrx-toolbar"},[r("div",{staticClass:"input-group"},[r("span",{staticClass:"input-group-addon hidden-sm hidden-xs"},[e._v("Mode")]),r("button",{class:"btn btn-default "+(e.mode.match(/^Hover/)?"active":""),attrs:{title:"Hover"},on:{click:function(t){e.setMode("HoverMult")}}},[r("img",{attrs:{src:n(113)}})]),r("button",{class:"btn btn-default "+("Modify"===e.mode?"active":""),attrs:{title:"Modify"},on:{click:function(t){e.setMode("Modify")}}},[r("img",{attrs:{src:n(112)}})]),r("button",{class:"btn btn-default "+("Select"===e.mode?"active":""),attrs:{title:"Select"},on:{click:function(t){e.setMode("Select")}}},[r("img",{attrs:{src:n(110)}})]),e.showToolbarModeList?r("select",{staticClass:"form-control",on:{click:function(t){e.setMode(t.target.value)}}},e._l(e.modesEnabled,function(t){return r("option",{attrs:{disabled:e.modesAvailable.find(function(e){return e.value==t}).disabled},domProps:{value:t,selected:t==e.mode}},[e._v(e._s(e.modesAvailable.find(function(e){return e.value==t}).text))])})):e._e()]),"Select"===e.mode?r("div",{staticClass:"input-group btn-group"},[r("span",{staticClass:"input-group-addon hidden-xs hidden-sm"},[e._v("Action")]),r("button",{staticClass:"btn btn-default",attrs:{title:"Copy",disabled:!e.selectedShape},on:{click:e.copyShape}},[r("img",{attrs:{src:n(109)}})]),r("button",{staticClass:"btn btn-default",attrs:{title:"Remove",disabled:!e.selectedShape},on:{click:e.removeSelected}},[r("img",{attrs:{src:n(119)}})])]):e._e(),r("div",{staticClass:"input-group btn-group"},[r("span",{staticClass:"input-group-addon hidden-sm hidden-xs"},[e._v("Shape")]),r("button",{staticClass:"btn btn-default",attrs:{title:"Polygon"},on:{click:function(t){e.drawShape("Polygon")}}},[r("img",{attrs:{src:n(116)}})]),r("button",{staticClass:"btn btn-default",attrs:{title:"Rectangle"},on:{click:function(t){e.drawShape("Rect")}}},[r("img",{attrs:{src:n(118)}})]),r("button",{staticClass:"btn btn-default",attrs:{title:"Ellipse"},on:{click:function(t){e.drawShape("Ellipse")}}},[r("img",{attrs:{src:n(111)}})]),r("button",{staticClass:"btn btn-default",attrs:{title:"Circle"},on:{click:function(t){e.drawShape("Circle")}}},[r("img",{attrs:{src:n(108)}})]),r("button",{staticClass:"btn btn-default",attrs:{title:"Polyline"},on:{click:function(t){e.drawShape("Polyline")}}},[r("img",{attrs:{src:n(117)}})]),r("button",{staticClass:"btn btn-default",attrs:{title:"line"},on:{click:function(t){e.drawShape("Line")}}},[r("img",{attrs:{src:n(115)}})])]),r("div",{staticClass:"input-group"},[r("span",{staticClass:"input-group-addon hidden-sm hidden-xs"},[e._v("File")]),r("button",{staticClass:"btn btn-default",attrs:{title:"Save SVG"},on:{click:function(t){e.showImexport("export")}}},[r("img",{attrs:{src:n(120)}})]),r("button",{staticClass:"btn btn-default",attrs:{title:"Load SVG"},on:{click:function(t){e.showImexport("import")}}},[r("img",{attrs:{src:n(121)}})]),r("button",{staticClass:"btn btn-default",attrs:{title:"Background Image"},on:{click:e.showImageModal}},[r("img",{attrs:{src:n(114)}})])]),r("div",{staticClass:"input-group btn-group"},[r("span",{staticClass:"input-group-addon hidden-sm hidden-xs"},[e._v("Zoom")]),r("button",{staticClass:"btn btn-default",attrs:{title:"Zoom in"},on:{click:function(t){e.zoom("in")}}},[r("img",{attrs:{src:n(122)}})]),r("button",{staticClass:"btn btn-default",attrs:{title:"Zoom out"},on:{click:function(t){e.zoom("out")}}},[r("img",{attrs:{src:n(123)}})]),r("span",{staticClass:"dropdown"},[r("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[e._v(e._s(parseInt(100*e.zoomValue))+" %"),r("span",{staticClass:"caret"})]),r("ul",{staticClass:"dropdown-menu"},[r("li",[r("a",{attrs:{href:"#"},on:{click:function(t){e.zoom(1)}}},[e._v("100 %")])]),r("li",[r("a",{attrs:{href:"#"},on:{click:function(t){e.zoom("fit")}}},[e._v("Fit to canvas")])]),r("li",[r("a",{attrs:{href:"#"},on:{click:function(t){e.zoom("width")}}},[e._v("Fit to width")])]),r("li",[r("a",{attrs:{href:"#"},on:{click:function(t){e.zoom("width")}}},[e._v("Fit to height")])])])])])])]):e._e(),r("div",{ref:"canvas",style:"width: "+e.width+"; height: "+e.height}),r("div",{ref:"imexportModal",staticClass:"imexport-modal modal fade",attrs:{role:"dialog",tabindex:"-1"}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},["import"==e.imexport?r("div",{staticClass:"modal-header"},[e._v("Import from SVG")]):r("div",{staticClass:"modal-header"},[e._v("Export as SVG")]),r("div",{staticClass:"modal-body"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.svgImExPort,expression:"svgImExPort"}],staticClass:"form-control",attrs:{placeholder:"SVG here"},domProps:{value:e.svgImExPort},on:{input:function(t){t.target.composing||(e.svgImExPort=t.target.value)}}}),"import"==e.imexport?[r("div",{staticClass:"form-group row"},[e._m(0),r("div",{staticClass:"col-xs-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.loadRelative,expression:"loadRelative"}],staticClass:"form-control",attrs:{id:"svgLoadRelative",type:"checkbox"},domProps:{checked:Array.isArray(e.loadRelative)?e._i(e.loadRelative,null)>-1:e.loadRelative},on:{__c:function(t){var n=e.loadRelative,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=e._i(n,null);i?o<0&&(e.loadRelative=n.concat(null)):o>-1&&(e.loadRelative=n.slice(0,o).concat(n.slice(o+1)))}else e.loadRelative=i}}})])]),r("button",{staticClass:"form-control btn btn-success",on:{click:e.loadSvg}},[e._v("Load")])]:e._e()],2)])])]),r("div",{ref:"imageModal",staticClass:"image-modal modal fade",attrs:{role:"dialog",tabindex:"-1"}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[e._v("Set background image")]),r("div",{staticClass:"modal-body"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.backgroundImage,expression:"backgroundImage"}],staticClass:"form-control",attrs:{format:"url",placeholder:"Image URL"},domProps:{value:e.backgroundImage},on:{input:function(t){t.target.composing||(e.backgroundImage=t.target.value)}}}),r("button",{staticClass:"form-control btn btn-success",on:{click:e.loadImage}},[e._v("Set background image")])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-xs-3"},[n("label",{attrs:{for:"svgLoadRelative"}},[e._v("Load Relative")])])}]}},function(e,t,n){var r=n(105);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(127)("e617af9e",r,!0)},function(e,t,n){function r(e){for(var t=0;t<e.length;t++){var n=e[t],r=c[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(o(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var s=[],i=0;i<n.parts.length;i++)s.push(o(n.parts[i]));c[n.id]={id:n.id,refs:1,parts:s}}}}function i(){var e=document.createElement("style");return e.type="text/css",p.appendChild(e),e}function o(e){var t,n,r=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(r){if(d)return f;r.parentNode.removeChild(r)}if(m){var o=g++;r=u||(u=i()),t=s.bind(null,r,o,!1),n=s.bind(null,r,o,!0)}else r=i(),t=a.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function s(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function a(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var h=n(128),c={},p=l&&(document.head||document.getElementsByTagName("head")[0]),u=null,g=0,d=!1,f=function(){},m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n){d=n;var i=h(e,t);return r(i),function(t){for(var n=[],o=0;o<i.length;o++){var s=i[o],a=c[s.id];a.refs--,n.push(a)}t?(i=h(e,t),r(i)):i=[];for(var o=0;o<n.length;o++){var a=n[o];if(0===a.refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete c[a.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=o[0],a=o[1],l=o[2],h=o[3],c={id:e+":"+i,css:a,media:l,sourceMap:h};r[s]?r[s].parts.push(c):n.push(r[s]={id:s,parts:[c]})}return n}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports={default:n(140),__esModule:!0}},function(e,t,n){e.exports={default:n(142),__esModule:!0}},function(e,t,n){e.exports={default:n(143),__esModule:!0}},function(e,t,n){e.exports={default:n(144),__esModule:!0}},function(e,t,n){e.exports={default:n(145),__esModule:!0}},function(e,t,n){e.exports={default:n(146),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(132),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(131),o=r(i),s=n(58),a=r(s);t.default=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,l=(0,a.default)(e);!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,o.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(135),o=r(i),s=n(134),a=r(s),l="function"==typeof a.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};t.default="function"==typeof a.default&&"symbol"===l(o.default)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":l(e)}},function(e,t,n){n(23),n(171),e.exports=n(1).Array.from},function(e,t,n){n(44),n(23),e.exports=n(169)},function(e,t,n){n(44),n(23),e.exports=n(170)},function(e,t,n){n(173);var r=n(1).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){n(174),e.exports=n(1).Object.keys},function(e,t,n){n(176),n(175),n(177),n(178),e.exports=n(1).Symbol},function(e,t,n){n(23),n(44),e.exports=n(43).f("iterator")},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(7),i=n(69),o=n(168);e.exports=function(e){return function(t,n,s){var a,l=r(t),h=i(l.length),c=o(s,h);if(e&&n!=n){for(;h>c;)if((a=l[c++])!=a)return!0}else for(;h>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){"use strict";var r=n(3),i=n(15);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(14),i=n(66),o=n(35);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var s,a=n(e),l=o.f,h=0;a.length>h;)l.call(e,s=a[h++])&&t.push(s);return t}},function(e,t,n){e.exports=n(2).document&&document.documentElement},function(e,t,n){var r=n(31);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(10),i=n(0)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(31);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(8);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){"use strict";var r=n(64),i=n(15),o=n(36),s={};n(9)(s,n(0)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(0)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},e(o)}catch(e){}return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(14),i=n(7);e.exports=function(e,t){for(var n,o=i(e),s=r(o),a=s.length,l=0;a>l;)if(o[n=s[l++]]===t)return n}},function(e,t,n){var r=n(22)("meta"),i=n(21),o=n(6),s=n(3).f,a=0,l=Object.isExtensible||function(){return!0},h=!n(13)(function(){return l(Object.preventExtensions({}))}),c=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},p=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},u=function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},g=function(e){return h&&d.NEED&&l(e)&&!o(e,r)&&c(e),e},d=e.exports={KEY:r,NEED:!1,fastKey:p,getWeak:u,onFreeze:g}},function(e,t,n){var r=n(3),i=n(8),o=n(14);e.exports=n(5)?Object.defineProperties:function(e,t){i(e);for(var n,s=o(t),a=s.length,l=0;a>l;)r.f(e,n=s[l++],t[n]);return e}},function(e,t,n){var r=n(35),i=n(15),o=n(7),s=n(41),a=n(6),l=n(62),h=Object.getOwnPropertyDescriptor;t.f=n(5)?h:function(e,t){if(e=o(e),t=s(t,!0),l)try{return h(e,t)}catch(e){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(7),i=n(65).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return i(e)}catch(e){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):i(r(e))}},function(e,t,n){var r=n(6),i=n(40),o=n(37)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(12),i=n(1),o=n(13);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",s)}},function(e,t,n){var r=n(39),i=n(32);e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),l=r(n),h=a.length;return l<0||l>=h?e?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===h||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536)}}},function(e,t,n){var r=n(39),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(8),i=n(70);e.exports=n(1).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(59),i=n(0)("iterator"),o=n(10);e.exports=n(1).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){"use strict";var r=n(60),i=n(12),o=n(40),s=n(156),a=n(154),l=n(69),h=n(150),c=n(70);i(i.S+i.F*!n(158)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,p,u=o(e),g="function"==typeof this?this:Array,d=arguments.length,f=d>1?arguments[1]:void 0,m=void 0!==f,y=0,v=c(u);if(m&&(f=r(f,d>2?arguments[2]:void 0,2)),void 0==v||g==Array&&a(v))for(t=l(u.length),n=new g(t);t>y;y++)h(n,y,m?f(u[y],y):u[y]);else for(p=v.call(u),n=new g;!(i=p.next()).done;y++)h(n,y,m?s(p,f,[i.value,y],!0):i.value);return n.length=y,n}})},function(e,t,n){"use strict";var r=n(148),i=n(159),o=n(10),s=n(7);e.exports=n(63)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(12);r(r.S+r.F*!n(5),"Object",{defineProperty:n(3).f})},function(e,t,n){var r=n(40),i=n(14);n(166)("keys",function(){return function(e){return i(r(e))}})},function(e,t){},function(e,t,n){"use strict";var r=n(2),i=n(6),o=n(5),s=n(12),a=n(68),l=n(161).KEY,h=n(13),c=n(38),p=n(36),u=n(22),g=n(0),d=n(43),f=n(42),m=n(160),y=n(151),v=n(155),_=n(8),E=n(7),b=n(41),C=n(15),w=n(64),A=n(164),S=n(163),T=n(3),I=n(14),x=S.f,M=T.f,D=A.f,O=r.Symbol,N=r.JSON,R=N&&N.stringify,L=g("_hidden"),P=g("toPrimitive"),H={}.propertyIsEnumerable,B=c("symbol-registry"),k=c("symbols"),U=c("op-symbols"),V=Object.prototype,G="function"==typeof O,j=r.QObject,W=!j||!j.prototype||!j.prototype.findChild,F=o&&h(function(){return 7!=w(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=x(V,t);r&&delete V[t],M(e,t,n),r&&e!==V&&M(V,t,r)}:M,z=function(e){var t=k[e]=w(O.prototype);return t._k=e,t},Y=G&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},X=function(e,t,n){return e===V&&X(U,t,n),_(e),t=b(t,!0),_(n),i(k,t)?(n.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),n=w(n,{enumerable:C(0,!1)})):(i(e,L)||M(e,L,C(1,{})),e[L][t]=!0),F(e,t,n)):M(e,t,n)},Z=function(e,t){_(e);for(var n,r=y(t=E(t)),i=0,o=r.length;o>i;)X(e,n=r[i++],t[n]);return e},K=function(e,t){return void 0===t?w(e):Z(w(e),t)},$=function(e){var t=H.call(this,e=b(e,!0));return!(this===V&&i(k,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(k,e)||i(this,L)&&this[L][e])||t)},Q=function(e,t){if(e=E(e),t=b(t,!0),e!==V||!i(k,t)||i(U,t)){var n=x(e,t);return!n||!i(k,t)||i(e,L)&&e[L][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=D(E(e)),r=[],o=0;n.length>o;)i(k,t=n[o++])||t==L||t==l||r.push(t);return r},q=function(e){for(var t,n=e===V,r=D(n?U:E(e)),o=[],s=0;r.length>s;)!i(k,t=r[s++])||n&&!i(V,t)||o.push(k[t]);return o};G||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=u(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(U,n),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),F(this,e,C(1,n))};return o&&W&&F(V,e,{configurable:!0,set:t}),z(e)},a(O.prototype,"toString",function(){return this._k}),S.f=Q,T.f=X,n(65).f=A.f=J,n(35).f=$,n(66).f=q,o&&!n(34)&&a(V,"propertyIsEnumerable",$,!0),d.f=function(e){return z(g(e))}),s(s.G+s.W+s.F*!G,{Symbol:O});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)g(ee[te++]);for(var ee=I(g.store),te=0;ee.length>te;)f(ee[te++]);s(s.S+s.F*!G,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=O(e)},keyFor:function(e){if(Y(e))return m(B,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!G,"Object",{create:K,defineProperty:X,defineProperties:Z,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:q}),N&&s(s.S+s.F*(!G||h(function(){var e=O();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!Y(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&v(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,R.apply(N,r)}}}),O.prototype[P]||n(9)(O.prototype,P,O.prototype.valueOf),p(O,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},function(e,t,n){n(42)("asyncIterator")},function(e,t,n){n(42)("observable")},function(e,t){var n=n||{};n.global=this,n.isDef=function(e){return void 0!==e},n.exportPath_=function(e,t,r){e=e.split("."),r=r||n.global,e[0]in r||!r.execScript||r.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)!e.length&&n.isDef(t)?r[i]=t:r=r[i]?r[i]:r[i]={}},n.define=function(e,t){var r=t;n.exportPath_(e,r)},n.DEBUG=!0,n.LOCALE="en",n.TRUSTED_SITE=!0,n.STRICT_MODE_COMPATIBLE=!1,n.provide=function(e){n.exportPath_(e)},n.setTestOnly=function(e){if(!n.DEBUG)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},n.forwardDeclare=function(e){},n.getObjectByName=function(e,t){for(var r,i=e.split("."),o=t||n.global;r=i.shift();){if(!n.isDefAndNotNull(o[r]))return null;o=o[r]}return o},n.globalize=function(e,t){var r,i=t||n.global;for(r in e)i[r]=e[r]},n.addDependency=function(e,t,r){if(n.DEPENDENCIES_ENABLED){var i;e=e.replace(/\\/g,"/");for(var o=n.dependencies_,s=0;i=t[s];s++)o.nameToPath[i]=e,e in o.pathToNames||(o.pathToNames[e]={}),o.pathToNames[e][i]=!0;for(i=0;t=r[i];i++)e in o.requires||(o.requires[e]={}),o.requires[e][t]=!0}},n.ENABLE_DEBUG_LOADER=!0,n.require=function(e){},n.basePath="",n.nullFunction=function(){},n.identityFunction=function(e,t){return e},n.abstractMethod=function(){throw Error("unimplemented abstract method")},n.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(n.DEBUG&&(n.instantiatedSingletons_[n.instantiatedSingletons_.length]=e),e.instance_=new e)}},n.instantiatedSingletons_=[],n.DEPENDENCIES_ENABLED=!1,n.DEPENDENCIES_ENABLED&&(n.included_={},n.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},n.inHtmlDocument_=function(){var e=n.global.document;return void 0!==e&&"write"in e},n.findBasePath_=function(){if(n.global.CLOSURE_BASE_PATH)n.basePath=n.global.CLOSURE_BASE_PATH;else if(n.inHtmlDocument_())for(var e=n.global.document.getElementsByTagName("script"),t=e.length-1;0<=t;--t){var r=e[t].src,i=r.lastIndexOf("?"),i=-1==i?r.length:i;if("base.js"==r.substr(i-7,7)){n.basePath=r.substr(0,i-7);break}}},n.importScript_=function(e){var t=n.global.CLOSURE_IMPORT_SCRIPT||n.writeScriptTag_;!n.dependencies_.written[e]&&t(e)&&(n.dependencies_.written[e]=!0)},n.writeScriptTag_=function(e){if(n.inHtmlDocument_()){var t=n.global.document;if("complete"==t.readyState){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}return t.write('<script type="text/javascript" src="'+e+'"><\/script>'),!0}return!1},n.writeScripts_=function(){function e(t){if(!(t in o.written)){if(!(t in o.visited)&&(o.visited[t]=!0,t in o.requires))for(var s in o.requires[t])if(!n.isProvided_(s)){if(!(s in o.nameToPath))throw Error("Undefined nameToPath for "+s);e(o.nameToPath[s])}t in i||(i[t]=!0,r.push(t))}}var t,r=[],i={},o=n.dependencies_;for(t in n.included_)o.written[t]||e(t);for(t=0;t<r.length;t++){if(!r[t])throw Error("Undefined script input");n.importScript_(n.basePath+r[t])}},n.getPathFromDeps_=function(e){return e in n.dependencies_.nameToPath?n.dependencies_.nameToPath[e]:null},n.findBasePath_(),n.global.CLOSURE_NO_DEPS||n.importScript_(n.basePath+"deps.js")),n.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},n.isNull=function(e){return null===e},n.isDefAndNotNull=function(e){return null!=e},n.isArray=function(e){return"array"==n.typeOf(e)},n.isArrayLike=function(e){var t=n.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},n.isDateLike=function(e){return n.isObject(e)&&"function"==typeof e.getFullYear},n.isString=function(e){return"string"==typeof e},n.isBoolean=function(e){return"boolean"==typeof e},n.isNumber=function(e){return"number"==typeof e},n.isFunction=function(e){return"function"==n.typeOf(e)},n.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},n.getUid=function(e){return e[n.UID_PROPERTY_]||(e[n.UID_PROPERTY_]=++n.uidCounter_)},n.hasUid=function(e){return!!e[n.UID_PROPERTY_]},n.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(n.UID_PROPERTY_);try{delete e[n.UID_PROPERTY_]}catch(e){}},n.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),n.uidCounter_=0,n.getHashCode=n.getUid,n.removeHashCode=n.removeUid,n.cloneObject=function(e){var t=n.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var r,t="array"==t?[]:{};for(r in e)t[r]=n.cloneObject(e[r]);return t}return e},n.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},n.bindJs_=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},n.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n.bind=n.bindNative_:n.bind=n.bindJs_,n.bind.apply(null,arguments)},n.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}},n.mixin=function(e,t){for(var n in t)e[n]=t[n]},n.now=n.TRUSTED_SITE&&Date.now||function(){return+new Date},n.globalEval=function(e){if(n.global.execScript)n.global.execScript(e,"JavaScript");else{if(!n.global.eval)throw Error("goog.globalEval not available");if(null==n.evalWorksForGlobals_&&(n.global.eval("var _et_ = 1;"),void 0!==n.global._et_?(delete n.global._et_,n.evalWorksForGlobals_=!0):n.evalWorksForGlobals_=!1),n.evalWorksForGlobals_)n.global.eval(e);else{var t=n.global.document,r=t.createElement("script");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.body.appendChild(r),t.body.removeChild(r)}}},n.evalWorksForGlobals_=null,n.getCssName=function(e,t){var r=function(e){return n.cssNameMapping_[e]||e},i=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join("-")},i=n.cssNameMapping_?"BY_WHOLE"==n.cssNameMappingStyle_?r:i:function(e){return e};return t?e+"-"+i(t):i(e)},n.setCssNameMapping=function(e,t){n.cssNameMapping_=e,n.cssNameMappingStyle_=t},n.getMsg=function(e,t){var n,r=t||{};for(n in r){var i=(""+r[n]).replace(/\$/g,"$$$$");e=e.replace(new RegExp("\\{\\$"+n+"\\}","gi"),i)}return e},n.getMsgWithFallback=function(e,t){return e},n.exportSymbol=function(e,t,r){n.exportPath_(e,t,r)},n.exportProperty=function(e,t,n){e[t]=n},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,r){var i=Array.prototype.slice.call(arguments,2);return t.prototype[n].apply(e,i)}},n.base=function(e,t,r){var i=arguments.callee.caller;if(n.STRICT_MODE_COMPATIBLE||n.DEBUG&&!i)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(i.superClass_)return i.superClass_.constructor.apply(e,Array.prototype.slice.call(arguments,1));for(var o=Array.prototype.slice.call(arguments,2),s=!1,a=e.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[t]===i)s=!0;else if(s)return a.prototype[t].apply(e,o);if(e[t]===i)return e.constructor.prototype[t].apply(e,o);throw Error("goog.base called from a method of one name to a method of a different name")},n.scope=function(e){e.call(n.global)};var r={drawing:function(){}};r.drawing.State={DRAG:1,NONE:2},r.drawing.Mode={VIEW:1,MODIFY:2,DELETE:3,CREATE:4,DISABLED:5,SELECT:6,HOVER:7,HOVERMULTIPLE:8},r.drawing.Orientation={C:"C",NE:"NE",SE:"SE",SW:"SW",NW:"NW"},r.drawing.Position={NE:"NE",SE:"SE",SW:"SW",NW:"NW"},r.drawing.EventType={VIEWBOX_CHANGE:"eventViewboxChange",SHAPE_MODIFY:"eventShapeModify",SHAPE_HOVER_IN:"eventShapeHoverIn",SHAPE_HOVER_MOVE:"eventShapeHoverMove",SHAPE_HOVER_OUT:"eventShapeHoverOut",SHAPE_BEFORE_DRAW:"eventShapeBeforeDraw"},n.object={},n.object.forEach=function(e,t,n){for(var r in e)t.call(n,e[r],r,e)},n.object.filter=function(e,t,n){var r,i={};for(r in e)t.call(n,e[r],r,e)&&(i[r]=e[r]);return i},n.object.map=function(e,t,n){var r,i={};for(r in e)i[r]=t.call(n,e[r],r,e);return i},n.object.some=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return!0;return!1},n.object.every=function(e,t,n){for(var r in e)if(!t.call(n,e[r],r,e))return!1;return!0},n.object.getCount=function(e){var t,n=0;for(t in e)n++;return n},n.object.getAnyKey=function(e){for(var t in e)return t},n.object.getAnyValue=function(e){for(var t in e)return e[t]},n.object.contains=function(e,t){return n.object.containsValue(e,t)},n.object.getValues=function(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n},n.object.getKeys=function(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n},n.object.getValueByKeys=function(e,t){for(var r=n.isArrayLike(t),i=r?t:arguments,r=r?0:1;r<i.length&&(e=e[i[r]],n.isDef(e));r++);return e},n.object.containsKey=function(e,t){return t in e},n.object.containsValue=function(e,t){for(var n in e)if(e[n]==t)return!0;return!1},n.object.findKey=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},n.object.findValue=function(e,t,r){return(t=n.object.findKey(e,t,r))&&e[t]},n.object.isEmpty=function(e){for(var t in e)return!1;return!0},n.object.clear=function(e){for(var t in e)delete e[t]},n.object.remove=function(e,t){var n;return(n=t in e)&&delete e[t],n},n.object.add=function(e,t,r){if(t in e)throw Error('The object already contains the key "'+t+'"');n.object.set(e,t,r)},n.object.get=function(e,t,n){return t in e?e[t]:n},n.object.set=function(e,t,n){e[t]=n},n.object.setIfUndefined=function(e,t,n){return t in e?e[t]:e[t]=n},n.object.clone=function(e){var t,n={};for(t in e)n[t]=e[t];return n},n.object.unsafeClone=function(e){var t=n.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var r,t="array"==t?[]:{};for(r in e)t[r]=n.object.unsafeClone(e[r]);return t}return e},n.object.transpose=function(e){var t,n={};for(t in e)n[e[t]]=t;return n},n.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),n.object.extend=function(e,t){for(var r,i,o=1;o<arguments.length;o++){i=arguments[o];for(r in i)e[r]=i[r];for(var s=0;s<n.object.PROTOTYPE_FIELDS_.length;s++)r=n.object.PROTOTYPE_FIELDS_[s],Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}},n.object.create=function(e){var t=arguments.length;if(1==t&&n.isArray(arguments[0]))return n.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},i=0;i<t;i+=2)r[arguments[i]]=arguments[i+1];return r},n.object.createSet=function(e){var t=arguments.length;if(1==t&&n.isArray(arguments[0]))return n.object.createSet.apply(null,arguments[0]);for(var r={},i=0;i<t;i++)r[arguments[i]]=!0;return r},n.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},n.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},n.string={},n.string.DETECT_DOUBLE_ESCAPING=!1,n.string.Unicode={NBSP:""},n.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},n.string.endsWith=function(e,t){var n=e.length-t.length;return 0<=n&&e.indexOf(t,n)==n},n.string.caseInsensitiveStartsWith=function(e,t){return 0==n.string.caseInsensitiveCompare(t,e.substr(0,t.length))},n.string.caseInsensitiveEndsWith=function(e,t){return 0==n.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},n.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},n.string.subs=function(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")},n.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},n.string.isEmpty=function(e){return/^[\s\xa0]*$/.test(e)},n.string.isEmptySafe=function(e){return n.string.isEmpty(n.string.makeSafe(e))},n.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},n.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},n.string.isNumeric=function(e){return!/[^0-9]/.test(e)},n.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},n.string.isSpace=function(e){return" "==e},n.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"">=e},n.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},n.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},n.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},n.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},n.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},n.string.trim=function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},n.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},n.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},n.string.caseInsensitiveCompare=function(e,t){var n=String(e).toLowerCase(),r=String(t).toLowerCase();return n<r?-1:n==r?0:1},n.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,n.string.numerateCompare=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var r=e.toLowerCase().match(n.string.numerateCompareRegExp_),i=t.toLowerCase().match(n.string.numerateCompareRegExp_),o=Math.min(r.length,i.length),s=0;s<o;s++){var a=r[s],l=i[s];if(a!=l)return r=parseInt(a,10),!isNaN(r)&&(i=parseInt(l,10),!isNaN(i)&&r-i)?r-i:a<l?-1:1}return r.length!=i.length?r.length-i.length:e<t?-1:1},n.string.urlEncode=function(e){return encodeURIComponent(String(e))},n.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},n.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},n.string.htmlEscape=function(e,t){if(t)e=e.replace(n.string.AMP_RE_,"&amp;").replace(n.string.LT_RE_,"&lt;").replace(n.string.GT_RE_,"&gt;").replace(n.string.QUOT_RE_,"&quot;").replace(n.string.SINGLE_QUOTE_RE_,"&#39;").replace(n.string.NULL_RE_,"&#0;"),n.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(n.string.E_RE_,"&#101;"));else{if(!n.string.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(n.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(n.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(n.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(n.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(n.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(n.string.NULL_RE_,"&#0;")),n.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")&&(e=e.replace(n.string.E_RE_,"&#101;"))}return e},n.string.AMP_RE_=/&/g,n.string.LT_RE_=/</g,n.string.GT_RE_=/>/g,n.string.QUOT_RE_=/"/g,n.string.SINGLE_QUOTE_RE_=/'/g,n.string.NULL_RE_=/\x00/g,n.string.E_RE_=/e/g,n.string.ALL_RE_=n.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,n.string.unescapeEntities=function(e){return n.string.contains(e,"&")?"document"in n.global?n.string.unescapeEntitiesUsingDom_(e):n.string.unescapePureXmlEntities_(e):e},n.string.unescapeEntitiesWithDocument=function(e,t){return n.string.contains(e,"&")?n.string.unescapeEntitiesUsingDom_(e,t):e},n.string.unescapeEntitiesUsingDom_=function(e,t){var r,i={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return r=t?t.createElement("div"):n.global.document.createElement("div"),e.replace(n.string.HTML_ENTITY_PATTERN_,function(e,t){var n=i[e];if(n)return n;if("#"==t.charAt(0)){var o=Number("0"+t.substr(1));isNaN(o)||(n=String.fromCharCode(o))}return n||(r.innerHTML=e+" ",n=r.firstChild.nodeValue.slice(0,-1)),i[e]=n})},n.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var n=Number("0"+t.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return e}})},n.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,n.string.whitespaceEscape=function(e,t){return n.string.newLineToBr(e.replace(/  /g," &#160;"),t)},n.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+n.string.Unicode.NBSP)},n.string.stripQuotes=function(e,t){for(var n=t.length,r=0;r<n;r++){var i=1==n?t:t.charAt(r);if(e.charAt(0)==i&&e.charAt(e.length-1)==i)return e.substring(1,e.length-1)}return e},n.string.truncate=function(e,t,r){return r&&(e=n.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=n.string.htmlEscape(e)),e},n.string.truncateMiddle=function(e,t,r,i){if(r&&(e=n.string.unescapeEntities(e)),i&&e.length>t){i>t&&(i=t);var o=e.length-i;e=e.substring(0,t-i)+"..."+e.substring(o)}else e.length>t&&(i=Math.floor(t/2),o=e.length-i,e=e.substring(0,i+t%2)+"..."+e.substring(o));return r&&(e=n.string.htmlEscape(e)),e},n.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\"},n.string.jsEscapeCache_={"'":"\\'"},n.string.quote=function(e){if(e=String(e),e.quote)return e.quote();for(var t=['"'],r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);t[r+1]=n.string.specialEscapeChars_[i]||(31<o&&127>o?i:n.string.escapeChar(i))}return t.push('"'),t.join("")},n.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=n.string.escapeChar(e.charAt(r));return t.join("")},n.string.escapeChar=function(e){if(e in n.string.jsEscapeCache_)return n.string.jsEscapeCache_[e];if(e in n.string.specialEscapeChars_)return n.string.jsEscapeCache_[e]=n.string.specialEscapeChars_[e];var t=e,r=e.charCodeAt(0);return 31<r&&127>r?t=e:(256>r?(t="\\x",(16>r||256<r)&&(t+="0")):(t="\\u",4096>r&&(t+="0")),t+=r.toString(16).toUpperCase()),n.string.jsEscapeCache_[e]=t},n.string.toMap=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=!0;return t},n.string.contains=function(e,t){return-1!=e.indexOf(t)},n.string.caseInsensitiveContains=function(e,t){return n.string.contains(e.toLowerCase(),t.toLowerCase())},n.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},n.string.removeAt=function(e,t,n){var r=e;return 0<=t&&t<e.length&&0<n&&(r=e.substr(0,t)+e.substr(t+n,e.length-t-n)),r},n.string.remove=function(e,t){var r=new RegExp(n.string.regExpEscape(t),"");return e.replace(r,"")},n.string.removeAll=function(e,t){var r=new RegExp(n.string.regExpEscape(t),"g");return e.replace(r,"")},n.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},n.string.repeat=function(e,t){return Array(t+1).join(e)},n.string.padNumber=function(e,t,r){return e=n.isDef(r)?e.toFixed(r):String(e),r=e.indexOf("."),-1==r&&(r=e.length),n.string.repeat("0",Math.max(0,t-r))+e},n.string.makeSafe=function(e){return null==e?"":String(e)},n.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},n.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^n.now()).toString(36)},n.string.compareVersions=function(e,t){for(var r=0,i=n.string.trim(String(e)).split("."),o=n.string.trim(String(t)).split("."),s=Math.max(i.length,o.length),a=0;0==r&&a<s;a++){var l=i[a]||"",h=o[a]||"",c=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var u=c.exec(l)||["","",""],g=p.exec(h)||["","",""];if(0==u[0].length&&0==g[0].length)break;var r=0==u[1].length?0:parseInt(u[1],10),d=0==g[1].length?0:parseInt(g[1],10),r=n.string.compareElements_(r,d)||n.string.compareElements_(0==u[2].length,0==g[2].length)||n.string.compareElements_(u[2],g[2])}while(0==r)}return r},n.string.compareElements_=function(e,t){return e<t?-1:e>t?1:0},n.string.HASHCODE_MAX_=4294967296,n.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r),t%=n.string.HASHCODE_MAX_;return t},n.string.uniqueStringCounter_=2147483648*Math.random()|0,n.string.createUniqueString=function(){return"goog_"+n.string.uniqueStringCounter_++},n.string.toNumber=function(e){var t=Number(e);return 0==t&&n.string.isEmpty(e)?NaN:t},n.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},n.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},n.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},n.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},n.string.toTitleCase=function(e,t){var r=n.isString(t)?n.string.regExpEscape(t):"\\s";return e.replace(new RegExp("(^"+(r?"|["+r+"]+":"")+")([a-z])","g"),function(e,t,n){return t+n.toUpperCase()})},n.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),n.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},n.string.splitLimit=function(e,t,n){e=e.split(t);for(var r=[];0<n&&e.length;)r.push(e.shift()),n--;return e.length&&r.push(e.join(t)),r},n.labs={},n.labs.userAgent={},n.labs.userAgent.util={},n.labs.userAgent.util.getNativeUserAgentString_=function(){var e=n.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},n.labs.userAgent.util.getNavigator_=function(){return n.global.navigator},n.labs.userAgent.util.userAgent_=n.labs.userAgent.util.getNativeUserAgentString_(),n.labs.userAgent.util.setUserAgent=function(e){n.labs.userAgent.util.userAgent_=e||n.labs.userAgent.util.getNativeUserAgentString_()},n.labs.userAgent.util.getUserAgent=function(){return n.labs.userAgent.util.userAgent_},n.labs.userAgent.util.matchUserAgent=function(e){var t=n.labs.userAgent.util.getUserAgent();return n.string.contains(t,e)},n.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=n.labs.userAgent.util.getUserAgent();return n.string.caseInsensitiveContains(t,e)},n.labs.userAgent.util.extractVersionTuples=function(e){for(var t,n=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),r=[];t=n.exec(e);)r.push([t[1],t[2],t[3]||void 0]);return r},n.dom={},n.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},n.debug={},n.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,n.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))},n.inherits(n.debug.Error,Error),n.debug.Error.prototype.name="CustomError",n.asserts={},n.asserts.ENABLE_ASSERTS=n.DEBUG,n.asserts.AssertionError=function(e,t){t.unshift(e),n.debug.Error.call(this,n.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},n.inherits(n.asserts.AssertionError,n.debug.Error),n.asserts.AssertionError.prototype.name="AssertionError",n.asserts.doAssertFailure_=function(e,t,r,i){var o="Assertion failed";if(r)var o=o+": "+r,s=i;else e&&(o+=": "+e,s=t);throw new n.asserts.AssertionError(""+o,s||[])},n.asserts.assert=function(e,t,r){return n.asserts.ENABLE_ASSERTS&&!e&&n.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},n.asserts.fail=function(e,t){if(n.asserts.ENABLE_ASSERTS)throw new n.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},n.asserts.assertNumber=function(e,t,r){return n.asserts.ENABLE_ASSERTS&&!n.isNumber(e)&&n.asserts.doAssertFailure_("Expected number but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertString=function(e,t,r){return n.asserts.ENABLE_ASSERTS&&!n.isString(e)&&n.asserts.doAssertFailure_("Expected string but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertFunction=function(e,t,r){return n.asserts.ENABLE_ASSERTS&&!n.isFunction(e)&&n.asserts.doAssertFailure_("Expected function but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertObject=function(e,t,r){return n.asserts.ENABLE_ASSERTS&&!n.isObject(e)&&n.asserts.doAssertFailure_("Expected object but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertArray=function(e,t,r){return n.asserts.ENABLE_ASSERTS&&!n.isArray(e)&&n.asserts.doAssertFailure_("Expected array but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertBoolean=function(e,t,r){return n.asserts.ENABLE_ASSERTS&&!n.isBoolean(e)&&n.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertElement=function(e,t,r){return!n.asserts.ENABLE_ASSERTS||n.isObject(e)&&e.nodeType==n.dom.NodeType.ELEMENT||n.asserts.doAssertFailure_("Expected Element but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertInstanceof=function(e,t,r,i){return!n.asserts.ENABLE_ASSERTS||e instanceof t||n.asserts.doAssertFailure_("instanceof check failed.",null,r,Array.prototype.slice.call(arguments,3)),e},n.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)n.asserts.fail(e+" should not be enumerable in Object.prototype.")},n.array={},n.NATIVE_ARRAY_PROTOTYPES=n.TRUSTED_SITE,n.array.ASSUME_NATIVE_FUNCTIONS=!1,n.array.peek=function(e){return e[e.length-1]},n.array.last=n.array.peek,n.array.ARRAY_PROTOTYPE_=Array.prototype,n.array.indexOf=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.indexOf)?function(e,t,r){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,n.isString(e))return n.isString(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},n.array.lastIndexOf=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(e,t,r){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(r=null==r?e.length-1:r,0>r&&(r=Math.max(0,e.length+r)),n.isString(e))return n.isString(t)&&1==t.length?e.lastIndexOf(t,r):-1;for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1},n.array.forEach=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.forEach)?function(e,t,r){n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.forEach.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=n.isString(e)?e.split(""):e,s=0;s<i;s++)s in o&&t.call(r,o[s],s,e)},n.array.forEachRight=function(e,t,r){for(var i=e.length,o=n.isString(e)?e.split(""):e,i=i-1;0<=i;--i)i in o&&t.call(r,o[i],i,e)},n.array.filter=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.filter)?function(e,t,r){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.filter.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=[],s=0,a=n.isString(e)?e.split(""):e,l=0;l<i;l++)if(l in a){var h=a[l];t.call(r,h,l,e)&&(o[s++]=h)}return o},n.array.map=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.map)?function(e,t,r){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.map.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=Array(i),s=n.isString(e)?e.split(""):e,a=0;a<i;a++)a in s&&(o[a]=t.call(r,s[a],a,e));return o},n.array.reduce=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.reduce)?function(e,t,r,i){return n.asserts.assert(null!=e.length),i&&(t=n.bind(t,i)),n.array.ARRAY_PROTOTYPE_.reduce.call(e,t,r)}:function(e,t,r,i){var o=r;return n.array.forEach(e,function(n,r){o=t.call(i,o,n,r,e)}),o},n.array.reduceRight=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.reduceRight)?function(e,t,r,i){return n.asserts.assert(null!=e.length),i&&(t=n.bind(t,i)),n.array.ARRAY_PROTOTYPE_.reduceRight.call(e,t,r)}:function(e,t,r,i){var o=r;return n.array.forEachRight(e,function(n,r){o=t.call(i,o,n,r,e)}),o},n.array.some=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.some)?function(e,t,r){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.some.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=n.isString(e)?e.split(""):e,s=0;s<i;s++)if(s in o&&t.call(r,o[s],s,e))return!0;return!1},n.array.every=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.every)?function(e,t,r){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.every.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=n.isString(e)?e.split(""):e,s=0;s<i;s++)if(s in o&&!t.call(r,o[s],s,e))return!1;return!0},n.array.count=function(e,t,r){var i=0;return n.array.forEach(e,function(e,n,o){t.call(r,e,n,o)&&++i},r),i},n.array.find=function(e,t,r){return t=n.array.findIndex(e,t,r),0>t?null:n.isString(e)?e.charAt(t):e[t]},n.array.findIndex=function(e,t,r){for(var i=e.length,o=n.isString(e)?e.split(""):e,s=0;s<i;s++)if(s in o&&t.call(r,o[s],s,e))return s;return-1},n.array.findRight=function(e,t,r){return t=n.array.findIndexRight(e,t,r),0>t?null:n.isString(e)?e.charAt(t):e[t]},n.array.findIndexRight=function(e,t,r){for(var i=e.length,o=n.isString(e)?e.split(""):e,i=i-1;0<=i;i--)if(i in o&&t.call(r,o[i],i,e))return i;return-1},n.array.contains=function(e,t){return 0<=n.array.indexOf(e,t)},n.array.isEmpty=function(e){return 0==e.length},n.array.clear=function(e){if(!n.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},n.array.insert=function(e,t){n.array.contains(e,t)||e.push(t)},n.array.insertAt=function(e,t,r){n.array.splice(e,r,0,t)},n.array.insertArrayAt=function(e,t,r){n.partial(n.array.splice,e,r,0).apply(null,t)},n.array.insertBefore=function(e,t,r){var i;2==arguments.length||0>(i=n.array.indexOf(e,r))?e.push(t):n.array.insertAt(e,t,i)},n.array.remove=function(e,t){var r,i=n.array.indexOf(e,t);return(r=0<=i)&&n.array.removeAt(e,i),r},n.array.removeAt=function(e,t){return n.asserts.assert(null!=e.length),1==n.array.ARRAY_PROTOTYPE_.splice.call(e,t,1).length},n.array.removeIf=function(e,t,r){return 0<=(t=n.array.findIndex(e,t,r))&&(n.array.removeAt(e,t),!0)},n.array.concat=function(e){return n.array.ARRAY_PROTOTYPE_.concat.apply(n.array.ARRAY_PROTOTYPE_,arguments)},n.array.join=function(e){return n.array.ARRAY_PROTOTYPE_.concat.apply(n.array.ARRAY_PROTOTYPE_,arguments)},n.array.toArray=function(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]},n.array.clone=n.array.toArray,n.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var i,o=arguments[r];if(n.isArray(o)||(i=n.isArrayLike(o))&&Object.prototype.hasOwnProperty.call(o,"callee"))e.push.apply(e,o);else if(i)for(var s=e.length,a=o.length,l=0;l<a;l++)e[s+l]=o[l];else e.push(o)}},n.array.splice=function(e,t,r,i){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.splice.apply(e,n.array.slice(arguments,1))},n.array.slice=function(e,t,r){return n.asserts.assert(null!=e.length),2>=arguments.length?n.array.ARRAY_PROTOTYPE_.slice.call(e,t):n.array.ARRAY_PROTOTYPE_.slice.call(e,t,r)},n.array.removeDuplicates=function(e,t,r){t=t||e;var i=function(e){return n.isObject(a)?"o"+n.getUid(a):(typeof a).charAt(0)+a};r=r||i;for(var i={},o=0,s=0;s<e.length;){var a=e[s++],l=r(a);Object.prototype.hasOwnProperty.call(i,l)||(i[l]=!0,t[o++]=a)}t.length=o},n.array.binarySearch=function(e,t,r){return n.array.binarySearch_(e,r||n.array.defaultCompare,!1,t)},n.array.binarySelect=function(e,t,r){return n.array.binarySearch_(e,t,!0,void 0,r)},n.array.binarySearch_=function(e,t,n,r,i){for(var o,s=0,a=e.length;s<a;){var l,h=s+a>>1;l=n?t.call(i,e[h],h,e):t(r,e[h]),0<l?s=h+1:(a=h,o=!l)}return o?s:~s},n.array.sort=function(e,t){e.sort(t||n.array.defaultCompare)},n.array.stableSort=function(e,t){for(var r=0;r<e.length;r++)e[r]={index:r,value:e[r]};var i=t||n.array.defaultCompare;for(n.array.sort(e,function(e,t){return i(e.value,t.value)||e.index-t.index}),r=0;r<e.length;r++)e[r]=e[r].value},n.array.sortObjectsByKey=function(e,t,r){var i=r||n.array.defaultCompare;n.array.sort(e,function(e,n){return i(e[t],n[t])})};n.array.isSorted=function(e,t,r){t=t||n.array.defaultCompare;for(var i=1;i<e.length;i++){var o=t(e[i-1],e[i]);if(0<o||0==o&&r)return!1}return!0},n.array.equals=function(e,t,r){if(!n.isArrayLike(e)||!n.isArrayLike(t)||e.length!=t.length)return!1;var i=e.length;r=r||n.array.defaultCompareEquality;for(var o=0;o<i;o++)if(!r(e[o],t[o]))return!1;return!0},n.array.compare3=function(e,t,r){r=r||n.array.defaultCompare;for(var i=Math.min(e.length,t.length),o=0;o<i;o++){var s=r(e[o],t[o]);if(0!=s)return s}return n.array.defaultCompare(e.length,t.length)},n.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},n.array.defaultCompareEquality=function(e,t){return e===t},n.array.binaryInsert=function(e,t,r){return 0>(r=n.array.binarySearch(e,t,r))&&(n.array.insertAt(e,t,-(r+1)),!0)},n.array.binaryRemove=function(e,t,r){return 0<=(t=n.array.binarySearch(e,t,r))&&n.array.removeAt(e,t)},n.array.bucket=function(e,t,r){for(var i={},o=0;o<e.length;o++){var s=e[o],a=t.call(r,s,o,e);n.isDef(a)&&(i[a]||(i[a]=[])).push(s)}return i},n.array.toObject=function(e,t,r){var i={};return n.array.forEach(e,function(n,o){i[t.call(r,n,o,e)]=n}),i},n.array.range=function(e,t,n){var r=[],i=0,o=e;if(n=n||1,void 0!==t&&(i=e,o=t),0>n*(o-i))return[];if(0<n)for(e=i;e<o;e+=n)r.push(e);else for(e=i;e>o;e+=n)r.push(e);return r},n.array.repeat=function(e,t){for(var n=[],r=0;r<t;r++)n[r]=e;return n},n.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var i=arguments[r];n.isArray(i)?t.push.apply(t,n.array.flatten.apply(null,i)):t.push(i)}return t},n.array.rotate=function(e,t){return n.asserts.assert(null!=e.length),e.length&&(t%=e.length,0<t?n.array.ARRAY_PROTOTYPE_.unshift.apply(e,e.splice(-t,t)):0>t&&n.array.ARRAY_PROTOTYPE_.push.apply(e,e.splice(0,-t))),e},n.array.moveItem=function(e,t,r){n.asserts.assert(0<=t&&t<e.length),n.asserts.assert(0<=r&&r<e.length),t=n.array.ARRAY_PROTOTYPE_.splice.call(e,t,1),n.array.ARRAY_PROTOTYPE_.splice.call(e,r,0,t[0])},n.array.zip=function(e){if(!arguments.length)return[];for(var t=[],n=0;;n++){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(n>=o.length)return t;r.push(o[n])}t.push(r)}},n.array.shuffle=function(e,t){for(var n=t||Math.random,r=e.length-1;0<r;r--){var i=Math.floor(n()*(r+1)),o=e[r];e[r]=e[i],e[i]=o}},n.labs.userAgent.browser={},n.labs.userAgent.browser.matchOpera_=function(){return n.labs.userAgent.util.matchUserAgent("Opera")||n.labs.userAgent.util.matchUserAgent("OPR")},n.labs.userAgent.browser.matchIE_=function(){return n.labs.userAgent.util.matchUserAgent("Trident")||n.labs.userAgent.util.matchUserAgent("MSIE")},n.labs.userAgent.browser.matchFirefox_=function(){return n.labs.userAgent.util.matchUserAgent("Firefox")},n.labs.userAgent.browser.matchSafari_=function(){return n.labs.userAgent.util.matchUserAgent("Safari")&&!n.labs.userAgent.util.matchUserAgent("Chrome")&&!n.labs.userAgent.util.matchUserAgent("CriOS")&&!n.labs.userAgent.util.matchUserAgent("Android")},n.labs.userAgent.browser.matchChrome_=function(){return n.labs.userAgent.util.matchUserAgent("Chrome")||n.labs.userAgent.util.matchUserAgent("CriOS")},n.labs.userAgent.browser.matchAndroidBrowser_=function(){return n.labs.userAgent.util.matchUserAgent("Android")&&!n.labs.userAgent.util.matchUserAgent("Chrome")&&!n.labs.userAgent.util.matchUserAgent("CriOS")},n.labs.userAgent.browser.isOpera=n.labs.userAgent.browser.matchOpera_,n.labs.userAgent.browser.isIE=n.labs.userAgent.browser.matchIE_,n.labs.userAgent.browser.isFirefox=n.labs.userAgent.browser.matchFirefox_,n.labs.userAgent.browser.isSafari=n.labs.userAgent.browser.matchSafari_,n.labs.userAgent.browser.isChrome=n.labs.userAgent.browser.matchChrome_,n.labs.userAgent.browser.isAndroidBrowser=n.labs.userAgent.browser.matchAndroidBrowser_,n.labs.userAgent.browser.isSilk=function(){return n.labs.userAgent.util.matchUserAgent("Silk")},n.labs.userAgent.browser.getVersion=function(){var e=n.labs.userAgent.util.getUserAgent();return n.labs.userAgent.browser.isIE()?n.labs.userAgent.browser.getIEVersion_(e):n.labs.userAgent.browser.isOpera()?n.labs.userAgent.browser.getOperaVersion_(e):(e=n.labs.userAgent.util.extractVersionTuples(e),n.labs.userAgent.browser.getVersionFromTuples_(e))},n.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=n.string.compareVersions(n.labs.userAgent.browser.getVersion(),e)},n.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];var t="",n=/MSIE +([\d\.]+)/.exec(e);if(n&&n[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==n[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=n[1];return t},n.labs.userAgent.browser.getOperaVersion_=function(e){e=n.labs.userAgent.util.extractVersionTuples(e);var t=n.array.peek(e);return"OPR"==t[0]&&t[1]?t[1]:n.labs.userAgent.browser.getVersionFromTuples_(e)},n.labs.userAgent.browser.getVersionFromTuples_=function(e){return n.asserts.assert(2<e.length,"Couldn't extract version tuple from user agent string"),e[2]&&e[2][1]?e[2][1]:""},n.labs.userAgent.engine={},n.labs.userAgent.engine.isPresto=function(){return n.labs.userAgent.util.matchUserAgent("Presto")},n.labs.userAgent.engine.isTrident=function(){return n.labs.userAgent.util.matchUserAgent("Trident")||n.labs.userAgent.util.matchUserAgent("MSIE")},n.labs.userAgent.engine.isWebKit=function(){return n.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")},n.labs.userAgent.engine.isGecko=function(){return n.labs.userAgent.util.matchUserAgent("Gecko")&&!n.labs.userAgent.engine.isWebKit()&&!n.labs.userAgent.engine.isTrident()},n.labs.userAgent.engine.getVersion=function(){var e=n.labs.userAgent.util.getUserAgent();if(e){var e=n.labs.userAgent.util.extractVersionTuples(e),t=e[1];if(t)return"Gecko"==t[0]?n.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):t[1];var r,e=e[0];if(e&&(r=e[2])&&(r=/Trident\/([^\s;]+)/.exec(r)))return r[1]}return""},n.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=n.string.compareVersions(n.labs.userAgent.engine.getVersion(),e)},n.labs.userAgent.engine.getVersionForKey_=function(e,t){var r=n.array.find(e,function(e){return t==e[0]});return r&&r[1]||""},n.userAgent={},n.userAgent.ASSUME_IE=!1,n.userAgent.ASSUME_GECKO=!1,n.userAgent.ASSUME_WEBKIT=!1,n.userAgent.ASSUME_MOBILE_WEBKIT=!1,n.userAgent.ASSUME_OPERA=!1,n.userAgent.ASSUME_ANY_VERSION=!1,n.userAgent.BROWSER_KNOWN_=n.userAgent.ASSUME_IE||n.userAgent.ASSUME_GECKO||n.userAgent.ASSUME_MOBILE_WEBKIT||n.userAgent.ASSUME_WEBKIT||n.userAgent.ASSUME_OPERA,n.userAgent.getUserAgentString=function(){return n.labs.userAgent.util.getUserAgent()},n.userAgent.getNavigator=function(){return n.global.navigator||null},n.userAgent.OPERA=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_OPERA:n.labs.userAgent.browser.isOpera(),n.userAgent.IE=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_IE:n.labs.userAgent.browser.isIE(),n.userAgent.GECKO=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_GECKO:n.labs.userAgent.engine.isGecko(),n.userAgent.WEBKIT=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_WEBKIT||n.userAgent.ASSUME_MOBILE_WEBKIT:n.labs.userAgent.engine.isWebKit(),n.userAgent.isMobile_=function(){return n.userAgent.WEBKIT&&n.labs.userAgent.util.matchUserAgent("Mobile")},n.userAgent.MOBILE=n.userAgent.ASSUME_MOBILE_WEBKIT||n.userAgent.isMobile_(),n.userAgent.SAFARI=n.userAgent.WEBKIT,n.userAgent.determinePlatform_=function(){var e=n.userAgent.getNavigator();return e&&e.platform||""},n.userAgent.PLATFORM=n.userAgent.determinePlatform_(),n.userAgent.ASSUME_MAC=!1,n.userAgent.ASSUME_WINDOWS=!1,n.userAgent.ASSUME_LINUX=!1,n.userAgent.ASSUME_X11=!1,n.userAgent.ASSUME_ANDROID=!1,n.userAgent.ASSUME_IPHONE=!1,n.userAgent.ASSUME_IPAD=!1,n.userAgent.PLATFORM_KNOWN_=n.userAgent.ASSUME_MAC||n.userAgent.ASSUME_WINDOWS||n.userAgent.ASSUME_LINUX||n.userAgent.ASSUME_X11||n.userAgent.ASSUME_ANDROID||n.userAgent.ASSUME_IPHONE||n.userAgent.ASSUME_IPAD,n.userAgent.initPlatform_=function(){n.userAgent.detectedMac_=n.string.contains(n.userAgent.PLATFORM,"Mac"),n.userAgent.detectedWindows_=n.string.contains(n.userAgent.PLATFORM,"Win"),n.userAgent.detectedLinux_=n.string.contains(n.userAgent.PLATFORM,"Linux"),n.userAgent.detectedX11_=!!n.userAgent.getNavigator()&&n.string.contains(n.userAgent.getNavigator().appVersion||"","X11");var e=n.userAgent.getUserAgentString();n.userAgent.detectedAndroid_=!!e&&n.string.contains(e,"Android"),n.userAgent.detectedIPhone_=!!e&&n.string.contains(e,"iPhone"),n.userAgent.detectedIPad_=!!e&&n.string.contains(e,"iPad")},n.userAgent.PLATFORM_KNOWN_||n.userAgent.initPlatform_(),n.userAgent.MAC=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_MAC:n.userAgent.detectedMac_,n.userAgent.WINDOWS=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_WINDOWS:n.userAgent.detectedWindows_,n.userAgent.LINUX=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_LINUX:n.userAgent.detectedLinux_,n.userAgent.X11=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_X11:n.userAgent.detectedX11_,n.userAgent.ANDROID=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_ANDROID:n.userAgent.detectedAndroid_,n.userAgent.IPHONE=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_IPHONE:n.userAgent.detectedIPhone_,n.userAgent.IPAD=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_IPAD:n.userAgent.detectedIPad_,n.userAgent.determineVersion_=function(){var e,t="";return n.userAgent.OPERA&&n.global.opera?(t=n.global.opera.version,n.isFunction(t)?t():t):(n.userAgent.GECKO?e=/rv\:([^\);]+)(\)|;)/:n.userAgent.IE?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:n.userAgent.WEBKIT&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(n.userAgent.getUserAgentString()))?t[1]:""),n.userAgent.IE&&(e=n.userAgent.getDocumentMode_())>parseFloat(t)?String(e):t)},n.userAgent.getDocumentMode_=function(){var e=n.global.document;return e?e.documentMode:void 0},n.userAgent.VERSION=n.userAgent.determineVersion_(),n.userAgent.compare=function(e,t){return n.string.compareVersions(e,t)},n.userAgent.isVersionOrHigherCache_={},n.userAgent.isVersionOrHigher=function(e){return n.userAgent.ASSUME_ANY_VERSION||n.userAgent.isVersionOrHigherCache_[e]||(n.userAgent.isVersionOrHigherCache_[e]=0<=n.string.compareVersions(n.userAgent.VERSION,e))},n.userAgent.isVersion=n.userAgent.isVersionOrHigher,n.userAgent.isDocumentModeOrHigher=function(e){return n.userAgent.IE&&n.userAgent.DOCUMENT_MODE>=e},n.userAgent.isDocumentMode=n.userAgent.isDocumentModeOrHigher,n.userAgent.DOCUMENT_MODE=function(){var e=n.global.document;return e&&n.userAgent.IE?n.userAgent.getDocumentMode_()||("CSS1Compat"==e.compatMode?parseInt(n.userAgent.VERSION,10):5):void 0}(),r.engine=function(){},r.engine.CANVAS="canvas",r.engine.SVG="svg",r.engine.VML="vml",r.engine.hasDom=function(e){return e===r.engine.SVG||e===r.engine.VML},r.engine.isSupported=function(e){if(e===r.engine.CANVAS)return!!document.createElement("canvas").getContext;if(e===r.engine.SVG)return!!document.createElementNS&&!!document.createElementNS(r.svg.Namespace.svg,"svg").createSVGRect;if(e===r.engine.VML)return!!document.namespaces;throw Error("Unknown engine.")},r.shape=function(){},r.shape.EventType={SHAPE_BEFORE_DRAW:"eventShapeBeforeDraw"},n.disposable={},n.disposable.IDisposable=function(){},n.Disposable=function(){n.Disposable.MONITORING_MODE!=n.Disposable.MonitoringMode.OFF&&(n.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),n.Disposable.instances_[n.getUid(this)]=this)},n.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},n.Disposable.MONITORING_MODE=0,n.Disposable.INCLUDE_STACK_ON_CREATION=!0,n.Disposable.instances_={},n.Disposable.getUndisposedObjects=function(){var e,t=[];for(e in n.Disposable.instances_)n.Disposable.instances_.hasOwnProperty(e)&&t.push(n.Disposable.instances_[Number(e)]);return t},n.Disposable.clearUndisposedObjects=function(){n.Disposable.instances_={}},n.Disposable.prototype.disposed_=!1,n.Disposable.prototype.isDisposed=function(){return this.disposed_},n.Disposable.prototype.getDisposed=n.Disposable.prototype.isDisposed,n.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),n.Disposable.MONITORING_MODE!=n.Disposable.MonitoringMode.OFF)){var e=n.getUid(this);if(n.Disposable.MONITORING_MODE==n.Disposable.MonitoringMode.PERMANENT&&!n.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete n.Disposable.instances_[e]}},n.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(n.partial(n.dispose,e))},n.Disposable.prototype.addOnDisposeCallback=function(e,t){this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(n.isDef(t)?n.bind(e,t):e)},n.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},n.Disposable.isDisposed=function(e){return!(!e||"function"!=typeof e.isDisposed)&&e.isDisposed()},n.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},n.disposeAll=function(e){for(var t=0,r=arguments.length;t<r;++t){var i=arguments[t];n.isArrayLike(i)?n.disposeAll.apply(null,i):n.dispose(i)}},r.shape.Style=function(){n.Disposable.call(this),this.fill_={color:"",opacity:0},this.stroke_={color:"black",width:1}},n.inherits(r.shape.Style,n.Disposable),r.shape.Style.prototype.setStyle=function(e){this.stroke_.color=e.getStrokeColor(),this.stroke_.width=e.getStrokeWidth(),this.fill_.color=e.getFillColor(),this.fill_.opacity=e.getFillOpacity()},r.shape.Style.prototype.getStrokeWidth=function(){return this.stroke_.width},r.shape.Style.prototype.setStrokeWidth=function(e){void 0!==e&&(this.stroke_.width=e)},r.shape.Style.prototype.getStrokeColor=function(){return this.stroke_.color},r.shape.Style.prototype.setStrokeColor=function(e){void 0!==e&&(this.stroke_.color=e)},r.shape.Style.prototype.getFillColor=function(){return this.fill_.color},r.shape.Style.prototype.setFillColor=function(e){0===this.fill_.opacity&&(this.fill_.opacity=1),void 0!==e&&(this.fill_.color=e)},r.shape.Style.prototype.getFillOpacity=function(){return this.fill_.opacity},r.shape.Style.prototype.setFillOpacity=function(e){void 0!==e&&(this.fill_.opacity=e)},r.shape.Style.prototype.disposeInternal=function(){this.stroke_=this.fill_=null,r.shape.Style.superClass_.disposeInternal.call(this)},r.shape.RenderStylable=function(e){r.shape.Style.call(this),this.zoomFactor_=1,this.hasDom_=r.engine.hasDom(e.getEngine().getName()),this.fillChanged_={color:!0,opacity:!0},this.strokeChanged_={color:!0,width:!0}},n.inherits(r.shape.RenderStylable,r.shape.Style),r.shape.RenderStylable.prototype.getShapeGroup=function(){return this.shapeGroup_},r.shape.RenderStylable.prototype.setShapeGroup=function(e){this.shapeGroup_=e},r.shape.RenderStylable.prototype.getEngineElement=function(){return this.engineElement_},r.shape.RenderStylable.prototype.setZoomFactor=function(e){this.zoomFactor_=e},r.shape.RenderStylable.prototype.setStyles=function(e){this.setStyle(e),this.getHoverable().setStyle(e.getHoverable()),this.getModifiable().setStyle(e.getModifiable()),this.getSelectable().setStyle(e.getSelectable())},r.shape.RenderStylable.prototype.setStyle=function(e){r.shape.RenderStylable.superClass_.setStyle.call(this,e),this.fillChanged_.color=!0,this.fillChanged_.opacity=!0,this.strokeChanged_.color=!0,this.strokeChanged_.width=!0},r.shape.RenderStylable.prototype.setFillColor=function(e){r.shape.RenderStylable.superClass_.setFillColor.call(this,e),this.fillChanged_.color=!0},r.shape.RenderStylable.prototype.getRenderingFillColor=function(){var e=this.shapeGroup_?this.shapeGroup_.getFillColor():this.hasDom_&&!1===this.fillChanged_.color?void 0:this.fill_.color;return this.fillChanged_.color=!1,e},r.shape.RenderStylable.prototype.setFillOpacity=function(e){r.shape.RenderStylable.superClass_.setFillOpacity.call(this,e),this.fillChanged_.opacity=!0},r.shape.RenderStylable.prototype.getRenderingFillOpacity=function(){var e=this.shapeGroup_?this.shapeGroup_.getFillOpacity():this.hasDom_&&!1===this.fillChanged_.opacity?void 0:this.fill_.opacity;return this.fillChanged_.opacity=!1,e},r.shape.RenderStylable.prototype.setStrokeColor=function(e){r.shape.RenderStylable.superClass_.setStrokeColor.call(this,e),this.strokeChanged_.color=!0},r.shape.RenderStylable.prototype.getRenderingStrokeColor=function(){var e=this.shapeGroup_?this.shapeGroup_.getStrokeColor():this.hasDom_&&!1===this.strokeChanged_.color?void 0:this.stroke_.color;return this.strokeChanged_.color=!1,e},r.shape.RenderStylable.prototype.setStrokeWidth=function(e){r.shape.RenderStylable.superClass_.setStrokeWidth.call(this,e),this.strokeChanged_.width=!0},r.shape.RenderStylable.prototype.getRenderingStrokeWidth=function(){var e=this.shapeGroup_?this.shapeGroup_.getStrokeWidth()/this.zoomFactor_:this.hasDom_&&!1===this.strokeChanged_.width?void 0:this.stroke_.width/this.zoomFactor_;return this.strokeChanged_.width=!1,e},r.shape.RenderStylable.prototype.startDrawing_=function(){this.drawing_.eventBeforeRendering(this),this.engineElement_.applyTransform(this.ctm_),this.engineElement_.startDrawing()},r.shape.RenderStylable.prototype.finishDrawing_=function(){this.engineElement_.finishDrawing()},r.shape.RenderStylable.prototype.disposeInternal=function(){this.engineElement_.dispose(),this.engineElement_=null,n.dispose(this.shapeGroup_),this.shapeGroup_=null,r.shape.RenderStylable.superClass_.disposeInternal.call(this)},n.dom.classes={},n.dom.classes.set=function(e,t){e.className=t},n.dom.classes.get=function(e){return e=e.className,n.isString(e)&&e.match(/\S+/g)||[]},n.dom.classes.add=function(e,t){var r=n.dom.classes.get(e),i=n.array.slice(arguments,1),o=r.length+i.length;return n.dom.classes.add_(r,i),n.dom.classes.set(e,r.join(" ")),r.length==o},n.dom.classes.remove=function(e,t){var r=n.dom.classes.get(e),i=n.array.slice(arguments,1),o=n.dom.classes.getDifference_(r,i);return n.dom.classes.set(e,o.join(" ")),o.length==r.length-i.length},n.dom.classes.add_=function(e,t){for(var r=0;r<t.length;r++)n.array.contains(e,t[r])||e.push(t[r])},n.dom.classes.getDifference_=function(e,t){return n.array.filter(e,function(e){return!n.array.contains(t,e)})},n.dom.classes.swap=function(e,t,r){for(var i=n.dom.classes.get(e),o=!1,s=0;s<i.length;s++)i[s]==t&&(n.array.splice(i,s--,1),o=!0);return o&&(i.push(r),n.dom.classes.set(e,i.join(" "))),o},n.dom.classes.addRemove=function(e,t,r){var i=n.dom.classes.get(e);n.isString(t)?n.array.remove(i,t):n.isArray(t)&&(i=n.dom.classes.getDifference_(i,t)),n.isString(r)&&!n.array.contains(i,r)?i.push(r):n.isArray(r)&&n.dom.classes.add_(i,r),n.dom.classes.set(e,i.join(" "))},n.dom.classes.has=function(e,t){return n.array.contains(n.dom.classes.get(e),t)},n.dom.classes.enable=function(e,t,r){r?n.dom.classes.add(e,t):n.dom.classes.remove(e,t)},n.dom.classes.toggle=function(e,t){var r=!n.dom.classes.has(e,t);return n.dom.classes.enable(e,t,r),r},n.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"},n.math={},n.math.Size=function(e,t){this.width=e,this.height=t},n.math.Size.equals=function(e,t){return e==t||!(!e||!t)&&(e.width==t.width&&e.height==t.height)},n.math.Size.prototype.clone=function(){return new n.math.Size(this.width,this.height)},n.DEBUG&&(n.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),n.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},n.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},n.math.Size.prototype.area=function(){return this.width*this.height},n.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},n.math.Size.prototype.aspectRatio=function(){return this.width/this.height},n.math.Size.prototype.isEmpty=function(){return!this.area()},n.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},n.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},n.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},n.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},n.math.Size.prototype.scale=function(e,t){var r=n.isNumber(t)?t:e;return this.width*=e,this.height*=r,this},n.math.Size.prototype.scaleToFit=function(e){return e=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},n.functions={},n.functions.constant=function(e){return function(){return e}},n.functions.FALSE=n.functions.constant(!1),n.functions.TRUE=n.functions.constant(!0),n.functions.NULL=n.functions.constant(null),n.functions.identity=function(e,t){return e},n.functions.error=function(e){return function(){throw Error(e)}},n.functions.fail=function(e){return function(){throw e}},n.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},n.functions.nth=function(e){return function(){return arguments[e]}},n.functions.withReturnValue=function(e,t){return n.functions.sequence(e,n.functions.constant(t))},n.functions.compose=function(e,t){var n=arguments,r=n.length;return function(){var e;r&&(e=n[r-1].apply(this,arguments));for(var t=r-2;0<=t;t--)e=n[t].call(this,e);return e}},n.functions.sequence=function(e){var t=arguments,n=t.length;return function(){for(var e,r=0;r<n;r++)e=t[r].apply(this,arguments);return e}},n.functions.and=function(e){var t=arguments,n=t.length;return function(){for(var e=0;e<n;e++)if(!t[e].apply(this,arguments))return!1;return!0}},n.functions.or=function(e){var t=arguments,n=t.length;return function(){for(var e=0;e<n;e++)if(t[e].apply(this,arguments))return!0;return!1}},n.functions.not=function(e){return function(){return!e.apply(this,arguments)}},n.functions.create=function(e,t){var n=function(){};return n.prototype=e.prototype,n=new n,e.apply(n,Array.prototype.slice.call(arguments,1)),n},n.functions.CACHE_RETURN_VALUE=!0,n.functions.cacheReturnValue=function(e){var t,r=!1;return function(){return n.functions.CACHE_RETURN_VALUE?(r||(t=e(),r=!0),t):e()}},n.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!n.userAgent.GECKO&&!n.userAgent.IE||n.userAgent.IE&&n.userAgent.isDocumentModeOrHigher(9)||n.userAgent.GECKO&&n.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:n.userAgent.IE&&!n.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:n.userAgent.IE||n.userAgent.OPERA||n.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:n.userAgent.IE},n.math.randomInt=function(e){return Math.floor(Math.random()*e)},n.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)},n.math.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)};n.math.modulo=function(e,t){var n=e%t;return 0>n*t?n+t:n},n.math.lerp=function(e,t,n){return e+n*(t-e)},n.math.nearlyEquals=function(e,t,n){return Math.abs(e-t)<=(n||1e-6)},n.math.standardAngle=function(e){return n.math.modulo(e,360)},n.math.standardAngleInRadians=function(e){return n.math.modulo(e,2*Math.PI)},n.math.toRadians=function(e){return e*Math.PI/180},n.math.toDegrees=function(e){return 180*e/Math.PI},n.math.angleDx=function(e,t){return t*Math.cos(n.math.toRadians(e))},n.math.angleDy=function(e,t){return t*Math.sin(n.math.toRadians(e))},n.math.angle=function(e,t,r,i){return n.math.standardAngle(n.math.toDegrees(Math.atan2(i-t,r-e)))},n.math.angleDifference=function(e,t){var r=n.math.standardAngle(t)-n.math.standardAngle(e);return 180<r?r-=360:-180>=r&&(r=360+r),r},n.math.sign=function(e){return 0==e?0:0>e?-1:1},n.math.longestCommonSubsequence=function(e,t,n,r){n=n||function(e,t){return e==t},r=r||function(t,n){return e[t]};for(var i=e.length,o=t.length,s=[],a=0;a<i+1;a++)s[a]=[],s[a][0]=0;for(var l=0;l<o+1;l++)s[0][l]=0;for(a=1;a<=i;a++)for(l=1;l<=o;l++)n(e[a-1],t[l-1])?s[a][l]=s[a-1][l-1]+1:s[a][l]=Math.max(s[a-1][l],s[a][l-1]);for(var h=[],a=i,l=o;0<a&&0<l;)n(e[a-1],t[l-1])?(h.unshift(r(a-1,l-1)),a--,l--):s[a-1][l]>s[a][l-1]?a--:l--;return h},n.math.sum=function(e){return n.array.reduce(arguments,function(e,t){return e+t},0)},n.math.average=function(e){return n.math.sum.apply(null,arguments)/arguments.length},n.math.sampleVariance=function(e){var t=arguments.length;if(2>t)return 0;var r=n.math.average.apply(null,arguments);return n.math.sum.apply(null,n.array.map(arguments,function(e){return Math.pow(e-r,2)}))/(t-1)},n.math.standardDeviation=function(e){return Math.sqrt(n.math.sampleVariance.apply(null,arguments))},n.math.isInt=function(e){return isFinite(e)&&0==e%1},n.math.isFiniteNumber=function(e){return isFinite(e)&&!isNaN(e)},n.math.log10Floor=function(e){if(0<e){var t=Math.round(Math.log(e)*Math.LOG10E);return t-(parseFloat("1e"+t)>e)}return 0==e?-1/0:NaN},n.math.safeFloor=function(e,t){return n.asserts.assert(!n.isDef(t)||0<t),Math.floor(e+(t||2e-15))},n.math.safeCeil=function(e,t){return n.asserts.assert(!n.isDef(t)||0<t),Math.ceil(e-(t||2e-15))},n.math.Coordinate=function(e,t){this.x=n.isDef(e)?e:0,this.y=n.isDef(t)?t:0},n.math.Coordinate.prototype.clone=function(){return new n.math.Coordinate(this.x,this.y)},n.DEBUG&&(n.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),n.math.Coordinate.equals=function(e,t){return e==t||!(!e||!t)&&(e.x==t.x&&e.y==t.y)},n.math.Coordinate.distance=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},n.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.math.Coordinate.azimuth=function(e){return n.math.angle(0,0,e.x,e.y)},n.math.Coordinate.squaredDistance=function(e,t){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r},n.math.Coordinate.difference=function(e,t){return new n.math.Coordinate(e.x-t.x,e.y-t.y)},n.math.Coordinate.sum=function(e,t){return new n.math.Coordinate(e.x+t.x,e.y+t.y)},n.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},n.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},n.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},n.math.Coordinate.prototype.translate=function(e,t){return e instanceof n.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=e,n.isNumber(t)&&(this.y+=t)),this},n.math.Coordinate.prototype.scale=function(e,t){var r=n.isNumber(t)?t:e;return this.x*=e,this.y*=r,this},n.math.Coordinate.prototype.rotateRadians=function(e,t){var r=t||new n.math.Coordinate(0,0),i=this.x,o=this.y,s=Math.cos(e),a=Math.sin(e);this.x=(i-r.x)*s-(o-r.y)*a+r.x,this.y=(i-r.x)*a+(o-r.y)*s+r.y},n.math.Coordinate.prototype.rotateDegrees=function(e,t){this.rotateRadians(n.math.toRadians(e),t)},n.dom.ASSUME_QUIRKS_MODE=!1,n.dom.ASSUME_STANDARDS_MODE=!1,n.dom.COMPAT_MODE_KNOWN_=n.dom.ASSUME_QUIRKS_MODE||n.dom.ASSUME_STANDARDS_MODE,n.dom.getDomHelper=function(e){return e?new n.dom.DomHelper(n.dom.getOwnerDocument(e)):n.dom.defaultDomHelper_||(n.dom.defaultDomHelper_=new n.dom.DomHelper)},n.dom.getDocument=function(){return document},n.dom.getElement=function(e){return n.dom.getElementHelper_(document,e)},n.dom.getElementHelper_=function(e,t){return n.isString(t)?e.getElementById(t):t},n.dom.getRequiredElement=function(e){return n.dom.getRequiredElementHelper_(document,e)},n.dom.getRequiredElementHelper_=function(e,t){n.asserts.assertString(t);var r=n.dom.getElementHelper_(e,t);return r=n.asserts.assertElement(r,"No element found with id: "+t)},n.dom.$=n.dom.getElement,n.dom.getElementsByTagNameAndClass=function(e,t,r){return n.dom.getElementsByTagNameAndClass_(document,e,t,r)},n.dom.getElementsByClass=function(e,t){var r=t||document;return n.dom.canUseQuerySelector_(r)?r.querySelectorAll("."+e):n.dom.getElementsByTagNameAndClass_(document,"*",e,t)},n.dom.getElementByClass=function(e,t){var r=t||document;return(n.dom.canUseQuerySelector_(r)?r.querySelector("."+e):n.dom.getElementsByTagNameAndClass_(document,"*",e,t)[0])||null},n.dom.getRequiredElementByClass=function(e,t){var r=n.dom.getElementByClass(e,t);return n.asserts.assert(r,"No element found with className: "+e)},n.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},n.dom.getElementsByTagNameAndClass_=function(e,t,r,i){if(e=i||e,t=t&&"*"!=t?t.toUpperCase():"",n.dom.canUseQuerySelector_(e)&&(t||r))return e.querySelectorAll(t+(r?"."+r:""));if(r&&e.getElementsByClassName){if(e=e.getElementsByClassName(r),t){i={};for(var o,s=0,a=0;o=e[a];a++)t==o.nodeName&&(i[s++]=o);return i.length=s,i}return e}if(e=e.getElementsByTagName(t||"*"),r){for(i={},a=s=0;o=e[a];a++)t=o.className,"function"==typeof t.split&&n.array.contains(t.split(/\s+/),r)&&(i[s++]=o);return i.length=s,i}return e},n.dom.$$=n.dom.getElementsByTagNameAndClass,n.dom.setProperties=function(e,t){n.object.forEach(t,function(t,r){"style"==r?e.style.cssText=t:"class"==r?e.className=t:"for"==r?e.htmlFor=t:r in n.dom.DIRECT_ATTRIBUTE_MAP_?e.setAttribute(n.dom.DIRECT_ATTRIBUTE_MAP_[r],t):n.string.startsWith(r,"aria-")||n.string.startsWith(r,"data-")?e.setAttribute(r,t):e[r]=t})},n.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},n.dom.getViewportSize=function(e){return n.dom.getViewportSize_(e||window)},n.dom.getViewportSize_=function(e){return e=e.document,e=n.dom.isCss1CompatMode_(e)?e.documentElement:e.body,new n.math.Size(e.clientWidth,e.clientHeight)},n.dom.getDocumentHeight=function(){return n.dom.getDocumentHeight_(window)},n.dom.getDocumentHeight_=function(e){var t=e.document,r=0;if(t){var r=t.body,i=t.documentElement;if(!r&&!i)return 0;if(e=n.dom.getViewportSize_(e).height,n.dom.isCss1CompatMode_(t)&&i.scrollHeight)r=i.scrollHeight!=e?i.scrollHeight:i.offsetHeight;else{var t=i.scrollHeight,o=i.offsetHeight;i.clientHeight!=o&&(t=r.scrollHeight,o=r.offsetHeight),r=t>e?t>o?t:o:t<o?t:o}}return r},n.dom.getPageScroll=function(e){return n.dom.getDomHelper((e||n.global||window).document).getDocumentScroll()},n.dom.getDocumentScroll=function(){return n.dom.getDocumentScroll_(document)},n.dom.getDocumentScroll_=function(e){var t=n.dom.getDocumentScrollElement_(e);return e=n.dom.getWindow_(e),n.userAgent.IE&&n.userAgent.isVersionOrHigher("10")&&e.pageYOffset!=t.scrollTop?new n.math.Coordinate(t.scrollLeft,t.scrollTop):new n.math.Coordinate(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)},n.dom.getDocumentScrollElement=function(){return n.dom.getDocumentScrollElement_(document)},n.dom.getDocumentScrollElement_=function(e){return!n.userAgent.WEBKIT&&n.dom.isCss1CompatMode_(e)?e.documentElement:e.body||e.documentElement},n.dom.getWindow=function(e){return e?n.dom.getWindow_(e):window},n.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},n.dom.createDom=function(e,t,r){return n.dom.createDom_(document,arguments)},n.dom.createDom_=function(e,t){var r=t[0],i=t[1];if(!n.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&i&&(i.name||i.type)){if(r=["<",r],i.name&&r.push(' name="',n.string.htmlEscape(i.name),'"'),i.type){r.push(' type="',n.string.htmlEscape(i.type),'"');var o={};n.object.extend(o,i),delete o.type,i=o}r.push(">"),r=r.join("")}return r=e.createElement(r),i&&(n.isString(i)?r.className=i:n.isArray(i)?n.dom.classes.add.apply(null,[r].concat(i)):n.dom.setProperties(r,i)),2<t.length&&n.dom.append_(e,r,t,2),r},n.dom.append_=function(e,t,r,i){function o(r){r&&t.appendChild(n.isString(r)?e.createTextNode(r):r)}for(;i<r.length;i++){var s=r[i];n.isArrayLike(s)&&!n.dom.isNodeLike(s)?n.array.forEach(n.dom.isNodeList(s)?n.array.toArray(s):s,o):o(s)}},n.dom.$dom=n.dom.createDom,n.dom.createElement=function(e){return document.createElement(e)},n.dom.createTextNode=function(e){return document.createTextNode(String(e))},n.dom.createTable=function(e,t,r){return n.dom.createTable_(document,e,t,!!r)},n.dom.createTable_=function(e,t,r,i){for(var o=["<tr>"],s=0;s<r;s++)o.push(i?"<td>&nbsp;</td>":"<td></td>");for(o.push("</tr>"),o=o.join(""),r=["<table>"],s=0;s<t;s++)r.push(o);return r.push("</table>"),e=e.createElement(n.dom.TagName.DIV),e.innerHTML=r.join(""),e.removeChild(e.firstChild)},n.dom.htmlToDocumentFragment=function(e){return n.dom.htmlToDocumentFragment_(document,e)},n.dom.htmlToDocumentFragment_=function(e,t){var r=e.createElement("div");if(n.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(r.innerHTML="<br>"+t,r.removeChild(r.firstChild)):r.innerHTML=t,1==r.childNodes.length)return r.removeChild(r.firstChild);for(var i=e.createDocumentFragment();r.firstChild;)i.appendChild(r.firstChild);return i},n.dom.isCss1CompatMode=function(){return n.dom.isCss1CompatMode_(document)},n.dom.isCss1CompatMode_=function(e){return n.dom.COMPAT_MODE_KNOWN_?n.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},n.dom.canHaveChildren=function(e){if(e.nodeType!=n.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case n.dom.TagName.APPLET:case n.dom.TagName.AREA:case n.dom.TagName.BASE:case n.dom.TagName.BR:case n.dom.TagName.COL:case n.dom.TagName.COMMAND:case n.dom.TagName.EMBED:case n.dom.TagName.FRAME:case n.dom.TagName.HR:case n.dom.TagName.IMG:case n.dom.TagName.INPUT:case n.dom.TagName.IFRAME:case n.dom.TagName.ISINDEX:case n.dom.TagName.KEYGEN:case n.dom.TagName.LINK:case n.dom.TagName.NOFRAMES:case n.dom.TagName.NOSCRIPT:case n.dom.TagName.META:case n.dom.TagName.OBJECT:case n.dom.TagName.PARAM:case n.dom.TagName.SCRIPT:case n.dom.TagName.SOURCE:case n.dom.TagName.STYLE:case n.dom.TagName.TRACK:case n.dom.TagName.WBR:return!1}return!0},n.dom.appendChild=function(e,t){e.appendChild(t)},n.dom.append=function(e,t){n.dom.append_(n.dom.getOwnerDocument(e),e,arguments,1)},n.dom.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},n.dom.insertSiblingBefore=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)},n.dom.insertSiblingAfter=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},n.dom.insertChildAt=function(e,t,n){e.insertBefore(t,e.childNodes[n]||null)},n.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},n.dom.replaceNode=function(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)},n.dom.flattenElement=function(e){var t,r=e.parentNode;if(r&&r.nodeType!=n.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;t=e.firstChild;)r.insertBefore(t,e);return n.dom.removeNode(e)}},n.dom.getChildren=function(e){return n.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=e.children?e.children:n.array.filter(e.childNodes,function(e){return e.nodeType==n.dom.NodeType.ELEMENT})},n.dom.getFirstElementChild=function(e){return void 0!=e.firstElementChild?e.firstElementChild:n.dom.getNextElementNode_(e.firstChild,!0)},n.dom.getLastElementChild=function(e){return void 0!=e.lastElementChild?e.lastElementChild:n.dom.getNextElementNode_(e.lastChild,!1)},n.dom.getNextElementSibling=function(e){return void 0!=e.nextElementSibling?e.nextElementSibling:n.dom.getNextElementNode_(e.nextSibling,!0)},n.dom.getPreviousElementSibling=function(e){return void 0!=e.previousElementSibling?e.previousElementSibling:n.dom.getNextElementNode_(e.previousSibling,!1)},n.dom.getNextElementNode_=function(e,t){for(;e&&e.nodeType!=n.dom.NodeType.ELEMENT;)e=t?e.nextSibling:e.previousSibling;return e},n.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},n.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},n.dom.isNodeLike=function(e){return n.isObject(e)&&0<e.nodeType},n.dom.isElement=function(e){return n.isObject(e)&&e.nodeType==n.dom.NodeType.ELEMENT},n.dom.isWindow=function(e){return n.isObject(e)&&e.window==e},n.dom.getParentElement=function(e){var t;return!n.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY||n.userAgent.IE&&n.userAgent.isVersionOrHigher("9")&&!n.userAgent.isVersionOrHigher("10")&&n.global.SVGElement&&e instanceof n.global.SVGElement||!(t=e.parentElement)?(t=e.parentNode,n.dom.isElement(t)?t:null):t},n.dom.contains=function(e,t){if(e.contains&&t.nodeType==n.dom.NodeType.ELEMENT)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||Boolean(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e},n.dom.compareNodeOrder=function(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if(n.userAgent.IE&&!n.userAgent.isDocumentModeOrHigher(9)){if(e.nodeType==n.dom.NodeType.DOCUMENT)return-1;if(t.nodeType==n.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var r=e.nodeType==n.dom.NodeType.ELEMENT,i=t.nodeType==n.dom.NodeType.ELEMENT;if(r&&i)return e.sourceIndex-t.sourceIndex;var o=e.parentNode,s=t.parentNode;return o==s?n.dom.compareSiblingOrder_(e,t):!r&&n.dom.contains(o,t)?-1*n.dom.compareParentsDescendantNodeIe_(e,t):!i&&n.dom.contains(s,e)?n.dom.compareParentsDescendantNodeIe_(t,e):(r?e.sourceIndex:o.sourceIndex)-(i?t.sourceIndex:s.sourceIndex)}return i=n.dom.getOwnerDocument(e),r=i.createRange(),r.selectNode(e),r.collapse(!0),i=i.createRange(),i.selectNode(t),i.collapse(!0),r.compareBoundaryPoints(n.global.Range.START_TO_END,i)},n.dom.compareParentsDescendantNodeIe_=function(e,t){var r=e.parentNode;if(r==t)return-1;for(var i=t;i.parentNode!=r;)i=i.parentNode;return n.dom.compareSiblingOrder_(i,e)},n.dom.compareSiblingOrder_=function(e,t){for(var n=t;n=n.previousSibling;)if(n==e)return-1;return 1},n.dom.findCommonAncestor=function(e){var t,n=arguments.length;if(!n)return null;if(1==n)return arguments[0];var r=[],i=1/0;for(t=0;t<n;t++){for(var o=[],s=arguments[t];s;)o.unshift(s),s=s.parentNode;r.push(o),i=Math.min(i,o.length)}for(o=null,t=0;t<i;t++){for(var s=r[0][t],a=1;a<n;a++)if(s!=r[a][t])return o;o=s}return o},n.dom.getOwnerDocument=function(e){return n.asserts.assert(e,"Node cannot be null or undefined."),e.nodeType==n.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},n.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},n.dom.getFrameContentWindow=function(e){return e.contentWindow||n.dom.getWindow(n.dom.getFrameContentDocument(e))},n.dom.setTextContent=function(e,t){if(n.asserts.assert(null!=e,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in e)e.textContent=t;else if(e.nodeType==n.dom.NodeType.TEXT)e.data=t;else if(e.firstChild&&e.firstChild.nodeType==n.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=t}else{n.dom.removeChildren(e);var r=n.dom.getOwnerDocument(e);e.appendChild(r.createTextNode(String(t)))}},n.dom.getOuterHtml=function(e){if("outerHTML"in e)return e.outerHTML;var t=n.dom.getOwnerDocument(e).createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},n.dom.findNode=function(e,t){var r=[];return n.dom.findNodes_(e,t,r,!0)?r[0]:void 0},n.dom.findNodes=function(e,t){var r=[];return n.dom.findNodes_(e,t,r,!1),r},n.dom.findNodes_=function(e,t,r,i){if(null!=e)for(e=e.firstChild;e;){if(t(e)&&(r.push(e),i)||n.dom.findNodes_(e,t,r,i))return!0;e=e.nextSibling}return!1},n.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},n.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},n.dom.isFocusableTabIndex=function(e){return n.dom.hasSpecifiedTabIndex_(e)&&n.dom.isTabIndexFocusable_(e)},n.dom.setFocusableTabIndex=function(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},n.dom.isFocusable=function(e){var t;return(t=n.dom.nativelySupportsFocus_(e)?!e.disabled&&(!n.dom.hasSpecifiedTabIndex_(e)||n.dom.isTabIndexFocusable_(e)):n.dom.isFocusableTabIndex(e))&&n.userAgent.IE?n.dom.hasNonZeroBoundingRect_(e):t},n.dom.hasSpecifiedTabIndex_=function(e){return e=e.getAttributeNode("tabindex"),n.isDefAndNotNull(e)&&e.specified},n.dom.isTabIndexFocusable_=function(e){return e=e.tabIndex,n.isNumber(e)&&0<=e&&32768>e},n.dom.nativelySupportsFocus_=function(e){return e.tagName==n.dom.TagName.A||e.tagName==n.dom.TagName.INPUT||e.tagName==n.dom.TagName.TEXTAREA||e.tagName==n.dom.TagName.SELECT||e.tagName==n.dom.TagName.BUTTON},n.dom.hasNonZeroBoundingRect_=function(e){return e=n.isFunction(e.getBoundingClientRect)?e.getBoundingClientRect():{height:e.offsetHeight,width:e.offsetWidth},n.isDefAndNotNull(e)&&0<e.height&&0<e.width},n.dom.getTextContent=function(e){if(n.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in e)e=n.string.canonicalizeNewlines(e.innerText);else{var t=[];n.dom.getTextContent_(e,t,!0),e=t.join("")}return e=e.replace(/ \xAD /g," ").replace(/\xAD/g,""),e=e.replace(/\u200B/g,""),n.dom.BrowserFeature.CAN_USE_INNER_TEXT||(e=e.replace(/ +/g," "))," "!=e&&(e=e.replace(/^\s*/,"")),e},n.dom.getRawTextContent=function(e){var t=[];return n.dom.getTextContent_(e,t,!1),t.join("")},n.dom.getTextContent_=function(e,t,r){if(!(e.nodeName in n.dom.TAGS_TO_IGNORE_))if(e.nodeType==n.dom.NodeType.TEXT)r?t.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in n.dom.PREDEFINED_TAG_VALUES_)t.push(n.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(e=e.firstChild;e;)n.dom.getTextContent_(e,t,r),e=e.nextSibling},n.dom.getNodeTextLength=function(e){return n.dom.getTextContent(e).length},n.dom.getNodeTextOffset=function(e,t){for(var r=t||n.dom.getOwnerDocument(e).body,i=[];e&&e!=r;){for(var o=e;o=o.previousSibling;)i.unshift(n.dom.getTextContent(o));e=e.parentNode}return n.string.trimLeft(i.join("")).replace(/ +/g," ").length},n.dom.getNodeAtOffset=function(e,t,r){e=[e];for(var i=0,o=null;0<e.length&&i<t;)if(o=e.pop(),!(o.nodeName in n.dom.TAGS_TO_IGNORE_))if(o.nodeType==n.dom.NodeType.TEXT)var s=o.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," "),i=i+s.length;else if(o.nodeName in n.dom.PREDEFINED_TAG_VALUES_)i+=n.dom.PREDEFINED_TAG_VALUES_[o.nodeName].length;else for(s=o.childNodes.length-1;0<=s;s--)e.push(o.childNodes[s]);return n.isObject(r)&&(r.remainder=o?o.nodeValue.length+t-i-1:0,r.node=o),o},n.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(n.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(n.isFunction(e))return"function"==typeof e.item}return!1},n.dom.getAncestorByTagNameAndClass=function(e,t,r){if(!t&&!r)return null;var i=t?t.toUpperCase():null;return n.dom.getAncestor(e,function(e){return(!i||e.nodeName==i)&&(!r||n.dom.classes.has(e,r))},!0)},n.dom.getAncestorByClass=function(e,t){return n.dom.getAncestorByTagNameAndClass(e,null,t)},n.dom.getAncestor=function(e,t,n,r){n||(e=e.parentNode),n=null==r;for(var i=0;e&&(n||i<=r);){if(t(e))return e;e=e.parentNode,i++}return null},n.dom.getActiveElement=function(e){try{return e&&e.activeElement}catch(e){}return null},n.dom.getPixelRatio=n.functions.cacheReturnValue(function(){var e=n.dom.getWindow(),t=n.userAgent.GECKO&&n.userAgent.MOBILE;return n.isDef(e.devicePixelRatio)&&!t?e.devicePixelRatio:e.matchMedia?n.dom.matchesPixelRatio_(.75)||n.dom.matchesPixelRatio_(1.5)||n.dom.matchesPixelRatio_(2)||n.dom.matchesPixelRatio_(3)||1:1}),n.dom.matchesPixelRatio_=function(e){return n.dom.getWindow().matchMedia("(-webkit-min-device-pixel-ratio: "+e+"),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+e+"dppx)").matches?e:0},n.dom.DomHelper=function(e){this.document_=e||n.global.document||document},n.dom.DomHelper.prototype.getDomHelper=n.dom.getDomHelper,n.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},n.dom.DomHelper.prototype.getDocument=function(){return this.document_},n.dom.DomHelper.prototype.getElement=function(e){return n.dom.getElementHelper_(this.document_,e)},n.dom.DomHelper.prototype.getRequiredElement=function(e){return n.dom.getRequiredElementHelper_(this.document_,e)},n.dom.DomHelper.prototype.$=n.dom.DomHelper.prototype.getElement,n.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,t,r){return n.dom.getElementsByTagNameAndClass_(this.document_,e,t,r)},n.dom.DomHelper.prototype.getElementsByClass=function(e,t){return n.dom.getElementsByClass(e,t||this.document_)},n.dom.DomHelper.prototype.getElementByClass=function(e,t){return n.dom.getElementByClass(e,t||this.document_)},n.dom.DomHelper.prototype.getRequiredElementByClass=function(e,t){return n.dom.getRequiredElementByClass(e,t||this.document_)},n.dom.DomHelper.prototype.$$=n.dom.DomHelper.prototype.getElementsByTagNameAndClass,n.dom.DomHelper.prototype.setProperties=n.dom.setProperties,n.dom.DomHelper.prototype.getViewportSize=function(e){return n.dom.getViewportSize(e||this.getWindow())},n.dom.DomHelper.prototype.getDocumentHeight=function(){return n.dom.getDocumentHeight_(this.getWindow())},n.dom.DomHelper.prototype.createDom=function(e,t,r){return n.dom.createDom_(this.document_,arguments)},n.dom.DomHelper.prototype.$dom=n.dom.DomHelper.prototype.createDom,n.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},n.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(String(e))},n.dom.DomHelper.prototype.createTable=function(e,t,r){return n.dom.createTable_(this.document_,e,t,!!r)},n.dom.DomHelper.prototype.htmlToDocumentFragment=function(e){return n.dom.htmlToDocumentFragment_(this.document_,e)},n.dom.DomHelper.prototype.isCss1CompatMode=function(){return n.dom.isCss1CompatMode_(this.document_)},n.dom.DomHelper.prototype.getWindow=function(){return n.dom.getWindow_(this.document_)},n.dom.DomHelper.prototype.getDocumentScrollElement=function(){return n.dom.getDocumentScrollElement_(this.document_)},n.dom.DomHelper.prototype.getDocumentScroll=function(){return n.dom.getDocumentScroll_(this.document_)},n.dom.DomHelper.prototype.getActiveElement=function(e){return n.dom.getActiveElement(e||this.document_)},n.dom.DomHelper.prototype.appendChild=n.dom.appendChild,n.dom.DomHelper.prototype.append=n.dom.append,n.dom.DomHelper.prototype.canHaveChildren=n.dom.canHaveChildren,n.dom.DomHelper.prototype.removeChildren=n.dom.removeChildren,n.dom.DomHelper.prototype.insertSiblingBefore=n.dom.insertSiblingBefore,n.dom.DomHelper.prototype.insertSiblingAfter=n.dom.insertSiblingAfter,n.dom.DomHelper.prototype.insertChildAt=n.dom.insertChildAt,n.dom.DomHelper.prototype.removeNode=n.dom.removeNode,n.dom.DomHelper.prototype.replaceNode=n.dom.replaceNode,n.dom.DomHelper.prototype.flattenElement=n.dom.flattenElement,n.dom.DomHelper.prototype.getChildren=n.dom.getChildren,n.dom.DomHelper.prototype.getFirstElementChild=n.dom.getFirstElementChild,n.dom.DomHelper.prototype.getLastElementChild=n.dom.getLastElementChild,n.dom.DomHelper.prototype.getNextElementSibling=n.dom.getNextElementSibling,n.dom.DomHelper.prototype.getPreviousElementSibling=n.dom.getPreviousElementSibling,n.dom.DomHelper.prototype.getNextNode=n.dom.getNextNode,n.dom.DomHelper.prototype.getPreviousNode=n.dom.getPreviousNode,n.dom.DomHelper.prototype.isNodeLike=n.dom.isNodeLike,n.dom.DomHelper.prototype.isElement=n.dom.isElement,n.dom.DomHelper.prototype.isWindow=n.dom.isWindow,n.dom.DomHelper.prototype.getParentElement=n.dom.getParentElement,n.dom.DomHelper.prototype.contains=n.dom.contains,n.dom.DomHelper.prototype.compareNodeOrder=n.dom.compareNodeOrder,n.dom.DomHelper.prototype.findCommonAncestor=n.dom.findCommonAncestor,n.dom.DomHelper.prototype.getOwnerDocument=n.dom.getOwnerDocument,n.dom.DomHelper.prototype.getFrameContentDocument=n.dom.getFrameContentDocument,n.dom.DomHelper.prototype.getFrameContentWindow=n.dom.getFrameContentWindow,n.dom.DomHelper.prototype.setTextContent=n.dom.setTextContent,n.dom.DomHelper.prototype.getOuterHtml=n.dom.getOuterHtml,n.dom.DomHelper.prototype.findNode=n.dom.findNode,n.dom.DomHelper.prototype.findNodes=n.dom.findNodes,n.dom.DomHelper.prototype.isFocusableTabIndex=n.dom.isFocusableTabIndex,n.dom.DomHelper.prototype.setFocusableTabIndex=n.dom.setFocusableTabIndex,n.dom.DomHelper.prototype.isFocusable=n.dom.isFocusable,n.dom.DomHelper.prototype.getTextContent=n.dom.getTextContent,n.dom.DomHelper.prototype.getNodeTextLength=n.dom.getNodeTextLength;n.dom.DomHelper.prototype.getNodeTextOffset=n.dom.getNodeTextOffset,n.dom.DomHelper.prototype.getNodeAtOffset=n.dom.getNodeAtOffset,n.dom.DomHelper.prototype.isNodeList=n.dom.isNodeList,n.dom.DomHelper.prototype.getAncestorByTagNameAndClass=n.dom.getAncestorByTagNameAndClass,n.dom.DomHelper.prototype.getAncestorByClass=n.dom.getAncestorByClass,n.dom.DomHelper.prototype.getAncestor=n.dom.getAncestor,n.math.Box=function(e,t,n,r){this.top=e,this.right=t,this.bottom=n,this.left=r},n.math.Box.boundingBox=function(e){for(var t=new n.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),r=1;r<arguments.length;r++){var i=arguments[r];t.top=Math.min(t.top,i.y),t.right=Math.max(t.right,i.x),t.bottom=Math.max(t.bottom,i.y),t.left=Math.min(t.left,i.x)}return t},n.math.Box.prototype.clone=function(){return new n.math.Box(this.top,this.right,this.bottom,this.left)},n.DEBUG&&(n.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),n.math.Box.prototype.contains=function(e){return n.math.Box.contains(this,e)},n.math.Box.prototype.expand=function(e,t,r,i){return n.isObject(e)?(this.top-=e.top,this.right+=e.right,this.bottom+=e.bottom,this.left-=e.left):(this.top-=e,this.right+=t,this.bottom+=r,this.left-=i),this},n.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},n.math.Box.equals=function(e,t){return e==t||!(!e||!t)&&(e.top==t.top&&e.right==t.right&&e.bottom==t.bottom&&e.left==t.left)},n.math.Box.contains=function(e,t){return!(!e||!t)&&(t instanceof n.math.Box?t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom:t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom)},n.math.Box.relativePositionX=function(e,t){return t.x<e.left?t.x-e.left:t.x>e.right?t.x-e.right:0},n.math.Box.relativePositionY=function(e,t){return t.y<e.top?t.y-e.top:t.y>e.bottom?t.y-e.bottom:0},n.math.Box.distance=function(e,t){var r=n.math.Box.relativePositionX(e,t),i=n.math.Box.relativePositionY(e,t);return Math.sqrt(r*r+i*i)},n.math.Box.intersects=function(e,t){return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom},n.math.Box.intersectsWithPadding=function(e,t,n){return e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},n.math.Box.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},n.math.Box.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},n.math.Box.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},n.math.Box.prototype.translate=function(e,t){return e instanceof n.math.Coordinate?(this.left+=e.x,this.right+=e.x,this.top+=e.y,this.bottom+=e.y):(this.left+=e,this.right+=e,n.isNumber(t)&&(this.top+=t,this.bottom+=t)),this},n.math.Box.prototype.scale=function(e,t){var r=n.isNumber(t)?t:e;return this.left*=e,this.right*=e,this.top*=r,this.bottom*=r,this},n.math.Rect=function(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r},n.math.Rect.prototype.clone=function(){return new n.math.Rect(this.left,this.top,this.width,this.height)},n.math.Rect.prototype.toBox=function(){return new n.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)},n.math.Rect.createFromBox=function(e){return new n.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},n.DEBUG&&(n.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),n.math.Rect.equals=function(e,t){return e==t||!(!e||!t)&&(e.left==t.left&&e.width==t.width&&e.top==t.top&&e.height==t.height)},n.math.Rect.prototype.intersection=function(e){var t=Math.max(this.left,e.left),n=Math.min(this.left+this.width,e.left+e.width);if(t<=n){var r=Math.max(this.top,e.top);if(e=Math.min(this.top+this.height,e.top+e.height),r<=e)return this.left=t,this.top=r,this.width=n-t,this.height=e-r,!0}return!1},n.math.Rect.intersection=function(e,t){var r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width);if(r<=i){var o=Math.max(e.top,t.top),s=Math.min(e.top+e.height,t.top+t.height);if(o<=s)return new n.math.Rect(r,o,i-r,s-o)}return null},n.math.Rect.intersects=function(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height},n.math.Rect.prototype.intersects=function(e){return n.math.Rect.intersects(this,e)},n.math.Rect.difference=function(e,t){var r=n.math.Rect.intersection(e,t);if(!r||!r.height||!r.width)return[e.clone()];var r=[],i=e.top,o=e.height,s=e.left+e.width,a=e.top+e.height,l=t.left+t.width,h=t.top+t.height;return t.top>e.top&&(r.push(new n.math.Rect(e.left,e.top,e.width,t.top-e.top)),i=t.top,o-=t.top-e.top),h<a&&(r.push(new n.math.Rect(e.left,h,e.width,a-h)),o=h-i),t.left>e.left&&r.push(new n.math.Rect(e.left,i,t.left-e.left,o)),l<s&&r.push(new n.math.Rect(l,i,s-l,o)),r},n.math.Rect.prototype.difference=function(e){return n.math.Rect.difference(this,e)},n.math.Rect.prototype.boundingRect=function(e){var t=Math.max(this.left+this.width,e.left+e.width),n=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=t-this.left,this.height=n-this.top},n.math.Rect.boundingRect=function(e,t){if(!e||!t)return null;var n=e.clone();return n.boundingRect(t),n},n.math.Rect.prototype.contains=function(e){return e instanceof n.math.Rect?this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height:e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height},n.math.Rect.prototype.squaredDistance=function(e){var t=e.x<this.left?this.left-e.x:Math.max(e.x-(this.left+this.width),0);return e=e.y<this.top?this.top-e.y:Math.max(e.y-(this.top+this.height),0),t*t+e*e},n.math.Rect.prototype.distance=function(e){return Math.sqrt(this.squaredDistance(e))},n.math.Rect.prototype.getSize=function(){return new n.math.Size(this.width,this.height)},n.math.Rect.prototype.getTopLeft=function(){return new n.math.Coordinate(this.left,this.top)},n.math.Rect.prototype.getCenter=function(){return new n.math.Coordinate(this.left+this.width/2,this.top+this.height/2)},n.math.Rect.prototype.getBottomRight=function(){return new n.math.Coordinate(this.left+this.width,this.top+this.height)},n.math.Rect.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},n.math.Rect.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},n.math.Rect.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},n.math.Rect.prototype.translate=function(e,t){return e instanceof n.math.Coordinate?(this.left+=e.x,this.top+=e.y):(this.left+=e,n.isNumber(t)&&(this.top+=t)),this},n.math.Rect.prototype.scale=function(e,t){var r=n.isNumber(t)?t:e;return this.left*=e,this.width*=e,this.top*=r,this.height*=r,this},n.dom.vendor={},n.dom.vendor.getVendorJsPrefix=function(){return n.userAgent.WEBKIT?"Webkit":n.userAgent.GECKO?"Moz":n.userAgent.IE?"ms":n.userAgent.OPERA?"O":null},n.dom.vendor.getVendorPrefix=function(){return n.userAgent.WEBKIT?"-webkit":n.userAgent.GECKO?"-moz":n.userAgent.IE?"-ms":n.userAgent.OPERA?"-o":null},n.dom.vendor.getPrefixedPropertyName=function(e,t){if(t&&e in t)return e;var r=n.dom.vendor.getVendorJsPrefix();return r?(r=r.toLowerCase(),r+=n.string.toTitleCase(e),!n.isDef(t)||r in t?r:null):null},n.dom.vendor.getPrefixedEventType=function(e){return((n.dom.vendor.getVendorJsPrefix()||"")+e).toLowerCase()},n.style={},n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS=!1,n.style.setStyle=function(e,t,r){n.isString(t)?n.style.setStyle_(e,r,t):n.object.forEach(t,n.partial(n.style.setStyle_,e))},n.style.setStyle_=function(e,t,r){(r=n.style.getVendorJsStyleName_(e,r))&&(e.style[r]=t)},n.style.getVendorJsStyleName_=function(e,t){var r=n.string.toCamelCase(t);if(void 0===e.style[r]){var i=n.dom.vendor.getVendorJsPrefix()+n.string.toTitleCase(r);if(void 0!==e.style[i])return i}return r},n.style.getVendorStyleName_=function(e,t){var r=n.string.toCamelCase(t);return void 0===e.style[r]&&(r=n.dom.vendor.getVendorJsPrefix()+n.string.toTitleCase(r),void 0!==e.style[r])?n.dom.vendor.getVendorPrefix()+"-"+t:t},n.style.getStyle=function(e,t){var r=e.style[n.string.toCamelCase(t)];return void 0!==r?r:e.style[n.style.getVendorJsStyleName_(e,t)]||""},n.style.getComputedStyle=function(e,t){var r=n.dom.getOwnerDocument(e);return r.defaultView&&r.defaultView.getComputedStyle&&(r=r.defaultView.getComputedStyle(e,null))?r[t]||r.getPropertyValue(t)||"":""},n.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},n.style.getStyle_=function(e,t){return n.style.getComputedStyle(e,t)||n.style.getCascadedStyle(e,t)||e.style&&e.style[t]},n.style.getComputedBoxSizing=function(e){return n.style.getStyle_(e,"boxSizing")||n.style.getStyle_(e,"MozBoxSizing")||n.style.getStyle_(e,"WebkitBoxSizing")||null},n.style.getComputedPosition=function(e){return n.style.getStyle_(e,"position")},n.style.getBackgroundColor=function(e){return n.style.getStyle_(e,"backgroundColor")},n.style.getComputedOverflowX=function(e){return n.style.getStyle_(e,"overflowX")},n.style.getComputedOverflowY=function(e){return n.style.getStyle_(e,"overflowY")},n.style.getComputedZIndex=function(e){return n.style.getStyle_(e,"zIndex")},n.style.getComputedTextAlign=function(e){return n.style.getStyle_(e,"textAlign")},n.style.getComputedCursor=function(e){return n.style.getStyle_(e,"cursor")},n.style.getComputedTransform=function(e){var t=n.style.getVendorStyleName_(e,"transform");return n.style.getStyle_(e,t)||n.style.getStyle_(e,"transform")},n.style.setPosition=function(e,t,r){var i,o=n.userAgent.GECKO&&(n.userAgent.MAC||n.userAgent.X11)&&n.userAgent.isVersionOrHigher("1.9");t instanceof n.math.Coordinate?(i=t.x,t=t.y):(i=t,t=r),e.style.left=n.style.getPixelStyleValue_(i,o),e.style.top=n.style.getPixelStyleValue_(t,o)},n.style.getPosition=function(e){return new n.math.Coordinate(e.offsetLeft,e.offsetTop)},n.style.getClientViewportElement=function(e){return e=e?n.dom.getOwnerDocument(e):n.dom.getDocument(),!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9)||n.dom.getDomHelper(e).isCss1CompatMode()?e.documentElement:e.body},n.style.getViewportPageOffset=function(e){var t=e.body;return e=e.documentElement,new n.math.Coordinate(t.scrollLeft||e.scrollLeft,t.scrollTop||e.scrollTop)},n.style.getBoundingClientRect_=function(e){var t;try{t=e.getBoundingClientRect()}catch(e){return{left:0,top:0,right:0,bottom:0}}return n.userAgent.IE&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t},n.style.getOffsetParent=function(e){if(n.userAgent.IE&&!n.userAgent.isDocumentModeOrHigher(8))return e.offsetParent;var t=n.dom.getOwnerDocument(e),r=n.style.getStyle_(e,"position"),i="fixed"==r||"absolute"==r;for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(r=n.style.getStyle_(e,"position"),!(i=i&&"static"==r&&e!=t.documentElement&&e!=t.body)&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight||"fixed"==r||"absolute"==r||"relative"==r))return e;return null},n.style.getVisibleRectForElement=function(e){for(var t=new n.math.Box(0,1/0,1/0,0),r=n.dom.getDomHelper(e),i=r.getDocument().body,o=r.getDocument().documentElement,s=r.getDocumentScrollElement();e=n.style.getOffsetParent(e);)if(!(n.userAgent.IE&&0==e.clientWidth||n.userAgent.WEBKIT&&0==e.clientHeight&&e==i)&&e!=i&&e!=o&&"visible"!=n.style.getStyle_(e,"overflow")){var a=n.style.getPageOffset(e),l=n.style.getClientLeftTop(e);a.x+=l.x,a.y+=l.y,t.top=Math.max(t.top,a.y),t.right=Math.min(t.right,a.x+e.clientWidth),t.bottom=Math.min(t.bottom,a.y+e.clientHeight),t.left=Math.max(t.left,a.x)}return i=s.scrollLeft,s=s.scrollTop,t.left=Math.max(t.left,i),t.top=Math.max(t.top,s),r=r.getViewportSize(),t.right=Math.min(t.right,i+r.width),t.bottom=Math.min(t.bottom,s+r.height),0<=t.top&&0<=t.left&&t.bottom>t.top&&t.right>t.left?t:null},n.style.getContainerOffsetToScrollInto=function(e,t,r){var i=n.style.getPageOffset(e),o=n.style.getPageOffset(t),s=n.style.getBorderBox(t),a=i.x-o.x-s.left,i=i.y-o.y-s.top,o=t.clientWidth-e.offsetWidth;return e=t.clientHeight-e.offsetHeight,s=t.scrollLeft,t=t.scrollTop,r?(s+=a-o/2,t+=i-e/2):(s+=Math.min(a,Math.max(a-o,0)),t+=Math.min(i,Math.max(i-e,0))),new n.math.Coordinate(s,t)},n.style.scrollIntoContainerView=function(e,t,r){e=n.style.getContainerOffsetToScrollInto(e,t,r),t.scrollLeft=e.x,t.scrollTop=e.y},n.style.getClientLeftTop=function(e){if(n.userAgent.GECKO&&!n.userAgent.isVersionOrHigher("1.9")){var t=parseFloat(n.style.getComputedStyle(e,"borderLeftWidth"));if(n.style.isRightToLeft(e))var r=e.offsetWidth-e.clientWidth-t-parseFloat(n.style.getComputedStyle(e,"borderRightWidth")),t=t+r;return new n.math.Coordinate(t,parseFloat(n.style.getComputedStyle(e,"borderTopWidth")))}return new n.math.Coordinate(e.clientLeft,e.clientTop)},n.style.getPageOffset=function(e){var t,r=n.dom.getOwnerDocument(e),i=n.style.getStyle_(e,"position");n.asserts.assertObject(e,"Parameter is required");var o=!n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS&&n.userAgent.GECKO&&r.getBoxObjectFor&&!e.getBoundingClientRect&&"absolute"==i&&(t=r.getBoxObjectFor(e))&&(0>t.screenX||0>t.screenY),s=new n.math.Coordinate(0,0),a=n.style.getClientViewportElement(r);if(e==a)return s;if(n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS||e.getBoundingClientRect)t=n.style.getBoundingClientRect_(e),e=n.dom.getDomHelper(r).getDocumentScroll(),s.x=t.left+e.x,s.y=t.top+e.y;else if(r.getBoxObjectFor&&!o)t=r.getBoxObjectFor(e),e=r.getBoxObjectFor(a),s.x=t.screenX-e.screenX,s.y=t.screenY-e.screenY;else{t=e;do{if(s.x+=t.offsetLeft,s.y+=t.offsetTop,t!=e&&(s.x+=t.clientLeft||0,s.y+=t.clientTop||0),n.userAgent.WEBKIT&&"fixed"==n.style.getComputedPosition(t)){s.x+=r.body.scrollLeft,s.y+=r.body.scrollTop;break}t=t.offsetParent}while(t&&t!=e);for((n.userAgent.OPERA||n.userAgent.WEBKIT&&"absolute"==i)&&(s.y-=r.body.offsetTop),t=e;(t=n.style.getOffsetParent(t))&&t!=r.body&&t!=a;)s.x-=t.scrollLeft,n.userAgent.OPERA&&"TR"==t.tagName||(s.y-=t.scrollTop)}return s},n.style.getPageOffsetLeft=function(e){return n.style.getPageOffset(e).x},n.style.getPageOffsetTop=function(e){return n.style.getPageOffset(e).y},n.style.getFramedPageOffset=function(e,t){var r=new n.math.Coordinate(0,0),i=n.dom.getWindow(n.dom.getOwnerDocument(e)),o=e;do{var s=i==t?n.style.getPageOffset(o):n.style.getClientPositionForElement_(n.asserts.assert(o));r.x+=s.x,r.y+=s.y}while(i&&i!=t&&(o=i.frameElement)&&(i=i.parent));return r},n.style.translateRectForAnotherFrame=function(e,t,r){if(t.getDocument()!=r.getDocument()){var i=t.getDocument().body;r=n.style.getFramedPageOffset(i,r.getWindow()),r=n.math.Coordinate.difference(r,n.style.getPageOffset(i)),n.userAgent.IE&&!t.isCss1CompatMode()&&(r=n.math.Coordinate.difference(r,t.getDocumentScroll())),e.left+=r.x,e.top+=r.y}},n.style.getRelativePosition=function(e,t){var r=n.style.getClientPosition(e),i=n.style.getClientPosition(t);return new n.math.Coordinate(r.x-i.x,r.y-i.y)},n.style.getClientPositionForElement_=function(e){var t;if(n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS||e.getBoundingClientRect)t=n.style.getBoundingClientRect_(e),t=new n.math.Coordinate(t.left,t.top);else{t=n.dom.getDomHelper(e).getDocumentScroll();var r=n.style.getPageOffset(e);t=new n.math.Coordinate(r.x-t.x,r.y-t.y)}return n.userAgent.GECKO&&!n.userAgent.isVersionOrHigher(12)?n.math.Coordinate.sum(t,n.style.getCssTranslation(e)):t},n.style.getClientPosition=function(e){if(n.asserts.assert(e),e.nodeType==n.dom.NodeType.ELEMENT)return n.style.getClientPositionForElement_(e);var t=n.isFunction(e.getBrowserEvent),r=e;return e.targetTouches?r=e.targetTouches[0]:t&&e.getBrowserEvent().targetTouches&&(r=e.getBrowserEvent().targetTouches[0]),new n.math.Coordinate(r.clientX,r.clientY)},n.style.setPageOffset=function(e,t,r){var i=n.style.getPageOffset(e);t instanceof n.math.Coordinate&&(r=t.y,t=t.x),n.style.setPosition(e,e.offsetLeft+(t-i.x),e.offsetTop+(r-i.y))},n.style.setSize=function(e,t,r){if(t instanceof n.math.Size)r=t.height,t=t.width;else if(void 0==r)throw Error("missing height argument");n.style.setWidth(e,t),n.style.setHeight(e,r)},n.style.getPixelStyleValue_=function(e,t){return"number"==typeof e&&(e=(t?Math.round(e):e)+"px"),e},n.style.setHeight=function(e,t){e.style.height=n.style.getPixelStyleValue_(t,!0)},n.style.setWidth=function(e,t){e.style.width=n.style.getPixelStyleValue_(t,!0)},n.style.getSize=function(e){return n.style.evaluateWithTemporaryDisplay_(n.style.getSizeWithDisplay_,e)},n.style.evaluateWithTemporaryDisplay_=function(e,t){if("none"!=n.style.getStyle_(t,"display"))return e(t);var r=t.style,i=r.display,o=r.visibility,s=r.position;r.visibility="hidden",r.position="absolute",r.display="inline";var a=e(t);return r.display=i,r.position=s,r.visibility=o,a},n.style.getSizeWithDisplay_=function(e){var t=e.offsetWidth,r=e.offsetHeight,i=n.userAgent.WEBKIT&&!t&&!r;return n.isDef(t)&&!i||!e.getBoundingClientRect?new n.math.Size(t,r):(e=n.style.getBoundingClientRect_(e),new n.math.Size(e.right-e.left,e.bottom-e.top))},n.style.getTransformedSize=function(e){return e.getBoundingClientRect?(e=n.style.evaluateWithTemporaryDisplay_(n.style.getBoundingClientRect_,e),new n.math.Size(e.right-e.left,e.bottom-e.top)):null},n.style.getBounds=function(e){var t=n.style.getPageOffset(e);return e=n.style.getSize(e),new n.math.Rect(t.x,t.y,e.width,e.height)},n.style.toCamelCase=function(e){return n.string.toCamelCase(String(e))},n.style.toSelectorCase=function(e){return n.string.toSelectorCase(e)},n.style.getOpacity=function(e){var t=e.style;return e="","opacity"in t?e=t.opacity:"MozOpacity"in t?e=t.MozOpacity:"filter"in t&&(t=t.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(e=String(t[1]/100)),""==e?e:Number(e)},n.style.setOpacity=function(e,t){var n=e.style;"opacity"in n?n.opacity=t:"MozOpacity"in n?n.MozOpacity=t:"filter"in n&&(n.filter=""===t?"":"alpha(opacity="+100*t+")")},n.style.setTransparentBackgroundImage=function(e,t){var r=e.style;n.userAgent.IE&&!n.userAgent.isVersionOrHigher("8")?r.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+t+'", sizingMethod="crop")':(r.backgroundImage="url("+t+")",r.backgroundPosition="top left",r.backgroundRepeat="no-repeat")},n.style.clearTransparentBackgroundImage=function(e){e=e.style,"filter"in e?e.filter="":e.backgroundImage="none"},n.style.showElement=function(e,t){n.style.setElementShown(e,t)},n.style.setElementShown=function(e,t){e.style.display=t?"":"none"},n.style.isElementShown=function(e){return"none"!=e.style.display},n.style.installStyles=function(e,t){var r=n.dom.getDomHelper(t),i=null,o=r.getDocument();return n.userAgent.IE&&o.createStyleSheet?(i=o.createStyleSheet(),n.style.setStyles(i,e)):(o=r.getElementsByTagNameAndClass("head")[0],o||(i=r.getElementsByTagNameAndClass("body")[0],o=r.createDom("head"),i.parentNode.insertBefore(o,i)),i=r.createDom("style"),n.style.setStyles(i,e),r.appendChild(o,i)),i},n.style.uninstallStyles=function(e){n.dom.removeNode(e.ownerNode||e.owningElement||e)},n.style.setStyles=function(e,t){n.userAgent.IE&&n.isDef(e.cssText)?e.cssText=t:e.innerHTML=t},n.style.setPreWrap=function(e){e=e.style,n.userAgent.IE&&!n.userAgent.isVersionOrHigher("8")?(e.whiteSpace="pre",e.wordWrap="break-word"):e.whiteSpace=n.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},n.style.setInlineBlock=function(e){e=e.style,e.position="relative",n.userAgent.IE&&!n.userAgent.isVersionOrHigher("8")?(e.zoom="1",e.display="inline"):e.display=n.userAgent.GECKO?n.userAgent.isVersionOrHigher("1.9a")?"inline-block":"-moz-inline-box":"inline-block"},n.style.isRightToLeft=function(e){return"rtl"==n.style.getStyle_(e,"direction")},n.style.unselectableStyle_=n.userAgent.GECKO?"MozUserSelect":n.userAgent.WEBKIT?"WebkitUserSelect":null,n.style.isUnselectable=function(e){return n.style.unselectableStyle_?"none"==e.style[n.style.unselectableStyle_].toLowerCase():!(!n.userAgent.IE&&!n.userAgent.OPERA)&&"on"==e.getAttribute("unselectable")},n.style.setUnselectable=function(e,t,r){r=r?null:e.getElementsByTagName("*");var i=n.style.unselectableStyle_;if(i){if(t=t?"none":"",e.style[i]=t,r){e=0;for(var o;o=r[e];e++)o.style[i]=t}}else if((n.userAgent.IE||n.userAgent.OPERA)&&(t=t?"on":"",e.setAttribute("unselectable",t),r))for(e=0;o=r[e];e++)o.setAttribute("unselectable",t)},n.style.getBorderBoxSize=function(e){return new n.math.Size(e.offsetWidth,e.offsetHeight)},n.style.setBorderBoxSize=function(e,t){var r=n.dom.getOwnerDocument(e),i=n.dom.getDomHelper(r).isCss1CompatMode();if(!n.userAgent.IE||i&&n.userAgent.isVersionOrHigher("8"))n.style.setBoxSizingSize_(e,t,"border-box");else if(r=e.style,i){var i=n.style.getPaddingBox(e),o=n.style.getBorderBox(e);r.pixelWidth=t.width-o.left-i.left-i.right-o.right,r.pixelHeight=t.height-o.top-i.top-i.bottom-o.bottom}else r.pixelWidth=t.width,r.pixelHeight=t.height},n.style.getContentBoxSize=function(e){var t=n.dom.getOwnerDocument(e),r=n.userAgent.IE&&e.currentStyle;return r&&n.dom.getDomHelper(t).isCss1CompatMode()&&"auto"!=r.width&&"auto"!=r.height&&!r.boxSizing?(t=n.style.getIePixelValue_(e,r.width,"width","pixelWidth"),e=n.style.getIePixelValue_(e,r.height,"height","pixelHeight"),new n.math.Size(t,e)):(r=n.style.getBorderBoxSize(e),t=n.style.getPaddingBox(e),e=n.style.getBorderBox(e),new n.math.Size(r.width-e.left-t.left-t.right-e.right,r.height-e.top-t.top-t.bottom-e.bottom))},n.style.setContentBoxSize=function(e,t){var r=n.dom.getOwnerDocument(e),i=n.dom.getDomHelper(r).isCss1CompatMode();if(!n.userAgent.IE||i&&n.userAgent.isVersionOrHigher("8"))n.style.setBoxSizingSize_(e,t,"content-box");else if(r=e.style,i)r.pixelWidth=t.width,r.pixelHeight=t.height;else{var i=n.style.getPaddingBox(e),o=n.style.getBorderBox(e);r.pixelWidth=t.width+o.left+i.left+i.right+o.right,r.pixelHeight=t.height+o.top+i.top+i.bottom+o.bottom}},n.style.setBoxSizingSize_=function(e,t,r){e=e.style,n.userAgent.GECKO?e.MozBoxSizing=r:n.userAgent.WEBKIT?e.WebkitBoxSizing=r:e.boxSizing=r,e.width=Math.max(t.width,0)+"px",e.height=Math.max(t.height,0)+"px"},n.style.getIePixelValue_=function(e,t,n,r){if(/^\d+px?$/.test(t))return parseInt(t,10);var i=e.style[n],o=e.runtimeStyle[n];return e.runtimeStyle[n]=e.currentStyle[n],e.style[n]=t,t=e.style[r],e.style[n]=i,e.runtimeStyle[n]=o,t},n.style.getIePixelDistance_=function(e,t){var r=n.style.getCascadedStyle(e,t);return r?n.style.getIePixelValue_(e,r,"left","pixelLeft"):0},n.style.getBox_=function(e,t){if(n.userAgent.IE){var r=n.style.getIePixelDistance_(e,t+"Left"),i=n.style.getIePixelDistance_(e,t+"Right"),o=n.style.getIePixelDistance_(e,t+"Top"),s=n.style.getIePixelDistance_(e,t+"Bottom");return new n.math.Box(o,i,s,r)}return r=n.style.getComputedStyle(e,t+"Left"),i=n.style.getComputedStyle(e,t+"Right"),o=n.style.getComputedStyle(e,t+"Top"),s=n.style.getComputedStyle(e,t+"Bottom"),new n.math.Box(parseFloat(o),parseFloat(i),parseFloat(s),parseFloat(r))},n.style.getPaddingBox=function(e){return n.style.getBox_(e,"padding")},n.style.getMarginBox=function(e){return n.style.getBox_(e,"margin")},n.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},n.style.getIePixelBorder_=function(e,t){if("none"==n.style.getCascadedStyle(e,t+"Style"))return 0;var r=n.style.getCascadedStyle(e,t+"Width");return r in n.style.ieBorderWidthKeywords_?n.style.ieBorderWidthKeywords_[r]:n.style.getIePixelValue_(e,r,"left","pixelLeft")},n.style.getBorderBox=function(e){if(n.userAgent.IE&&!n.userAgent.isDocumentModeOrHigher(9)){var t=n.style.getIePixelBorder_(e,"borderLeft"),r=n.style.getIePixelBorder_(e,"borderRight"),i=n.style.getIePixelBorder_(e,"borderTop");return e=n.style.getIePixelBorder_(e,"borderBottom"),new n.math.Box(i,r,e,t)}return t=n.style.getComputedStyle(e,"borderLeftWidth"),r=n.style.getComputedStyle(e,"borderRightWidth"),i=n.style.getComputedStyle(e,"borderTopWidth"),e=n.style.getComputedStyle(e,"borderBottomWidth"),new n.math.Box(parseFloat(i),parseFloat(r),parseFloat(e),parseFloat(t))},n.style.getFontFamily=function(e){var t=n.dom.getOwnerDocument(e),r="";if(t.body.createTextRange&&n.dom.contains(t,e)){t=t.body.createTextRange(),t.moveToElementText(e);try{r=t.queryCommandValue("FontName")}catch(e){r=""}}return r||(r=n.style.getStyle_(e,"fontFamily")),e=r.split(","),1<e.length&&(r=e[0]),n.string.stripQuotes(r,"\"'")},n.style.lengthUnitRegex_=/[^\d]+$/,n.style.getLengthUnits=function(e){return(e=e.match(n.style.lengthUnitRegex_))&&e[0]||null},n.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,in:1,mm:1,pc:1,pt:1},n.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},n.style.getFontSize=function(e){var t=n.style.getStyle_(e,"fontSize"),r=n.style.getLengthUnits(t);if(t&&"px"==r)return parseInt(t,10);if(n.userAgent.IE){if(r in n.style.ABSOLUTE_CSS_LENGTH_UNITS_)return n.style.getIePixelValue_(e,t,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==n.dom.NodeType.ELEMENT&&r in n.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return e=e.parentNode,r=n.style.getStyle_(e,"fontSize"),n.style.getIePixelValue_(e,t==r?"1em":t,"left","pixelLeft")}return r=n.dom.createDom("span",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"}),n.dom.appendChild(e,r),t=r.offsetHeight,n.dom.removeNode(r),t},n.style.parseStyleAttribute=function(e){var t={};return n.array.forEach(e.split(/\s*;\s*/),function(e){e=e.split(/\s*:\s*/),2==e.length&&(t[n.string.toCamelCase(e[0].toLowerCase())]=e[1])}),t},n.style.toStyleAttribute=function(e){var t=[];return n.object.forEach(e,function(e,r){t.push(n.string.toSelectorCase(r),":",e,";")}),t.join("")},n.style.setFloat=function(e,t){e.style[n.userAgent.IE?"styleFloat":"cssFloat"]=t},n.style.getFloat=function(e){return e.style[n.userAgent.IE?"styleFloat":"cssFloat"]||""},n.style.getScrollbarWidth=function(e){var t=n.dom.createElement("div");return e&&(t.className=e),t.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px",e=n.dom.createElement("div"),n.style.setSize(e,"200px","200px"),t.appendChild(e),n.dom.appendChild(n.dom.getDocument().body,t),e=t.offsetWidth-t.clientWidth,n.dom.removeNode(t),e},n.style.MATRIX_TRANSLATION_REGEX_=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/,n.style.getCssTranslation=function(e){return e=n.style.getComputedTransform(e),e&&(e=e.match(n.style.MATRIX_TRANSLATION_REGEX_))?new n.math.Coordinate(parseFloat(e[1]),parseFloat(e[2])):new n.math.Coordinate(0,0)},r.vml=function(){},r.vml.browserEnabled=!1,r.vml.initVmlRendering=function(){r.vml.browserEnabled||(n.style.installStyles(".xrx-vml{behavior:url(#default#VML);display:inline-block}"),r.vml.browserEnabled=!0)},r.vml.createFillAndCo=function(e){var t=document.createElement("xrxvml:fill"),r=document.createElement("xrxvml:stroke"),i=document.createElement("xrxvml:skew");t.setAttribute("class","xrx-vml"),r.setAttribute("class","xrx-vml"),i.setAttribute("class","xrx-vml"),n.dom.appendChild(e,t),n.dom.appendChild(e,r),n.dom.appendChild(e,i)},r.vml.createElement=function(e,t){var n;return!document.namespaces.xrxvml&&document.namespaces.add("xrxvml","urn:schemas-microsoft-com:vml"),n=document.createElement("xrxvml:"+e),n.setAttribute("class","xrx-vml"),!1!==t&&r.vml.createFillAndCo(n),n},r.vml.setPath=function(e,t,n){for(var r="m ",i=0,o=t.length;i<o;i++)r+=t[i][0]+","+t[i][1],0!==i&&i!==o-1&&(r+=", "),0===i&&(r+=" l ");n&&(r+=" x "),e.path=r+" e"},r.engine.Element=function(){n.Disposable.call(this)},n.inherits(r.engine.Element,n.Disposable),r.engine.Element.prototype.startDrawing=function(){},r.engine.Element.prototype.finishDrawing=function(){},r.engine.Element.prototype.disposeInternal=function(){r.engine.Element.superClass_.disposeInternal.call(this)},r.vml.Element=function(e){r.engine.Element.call(this),this.element_=e},n.inherits(r.vml.Element,r.engine.Element),r.vml.Element.prototype.getElement=function(){return this.element_},r.vml.Element.prototype.applyTransform=function(e){e&&(e=e.m00_+","+e.m10_+","+e.m01_+","+e.m11_+","+e.m02_+","+e.m12_,console.log(e),this.element_.setAttribute("matrix",e))},r.vml.Stylable=function(e){r.vml.Element.call(this,e),e=n.dom.getChildren(e),this.fill_=e[0],this.stroke_=e[1],this.skew_=e[2]},n.inherits(r.vml.Stylable,r.vml.Element),r.vml.Stylable.prototype.strokeAndFill_=function(e,t,n,r){void 0!==e&&this.setFillColor(e),void 0!==t&&this.setFillOpacity(t),void 0!==n&&this.setStrokeColor(n),void 0!==r&&this.setStrokeWidth(r)},r.vml.Stylable.prototype.setStrokeWidth=function(e){this.stroke_.weight=""+e},r.vml.Stylable.prototype.setStrokeColor=function(e){this.stroke_.color=""+e},r.vml.Stylable.prototype.setFillColor=function(e){this.fill_.color=""+e},r.vml.Stylable.prototype.setFillOpacity=function(e){this.fill_.opacity=""+e},r.vml.Rect=function(e){r.vml.Stylable.call(this,e)},n.inherits(r.vml.Rect,r.vml.Stylable),r.vml.Rect.prototype.setX=function(e){this.element_.style.left=e+"px"},r.vml.Rect.prototype.setY=function(e){this.element_.style.top=e+"px"},r.vml.Rect.prototype.setWidth=function(e){this.element_.style.width=e+"px"},r.vml.Rect.prototype.setHeight=function(e){this.element_.style.height=e+"px"},r.vml.Rect.prototype.draw=function(e,t,n,r,i,o,s,a){void 0!==e&&this.setX(e),void 0!==t&&this.setY(t),void 0!==n&&this.setWidth(n),void 0!==r&&this.setHeight(r),this.strokeAndFill_(i,o,s,a)},r.vml.Rect.create=function(e){return e=r.vml.createElement("rect"),e.style.position="absolute",new r.vml.Rect(e)},r.canvas=function(){},r.canvas.Element=function(e){r.engine.Element.call(this),this.canvas_=e,this.context_=this.canvas_.getElement().getContext("2d")},n.inherits(r.canvas.Element,r.engine.Element),r.canvas.Element.prototype.getCanvas=function(){return this.canvas_},r.canvas.Element.prototype.getContext=function(){return this.context_},r.canvas.Element.prototype.applyTransform=function(e){e&&this.context_.setTransform(e.m00_,e.m10_,e.m01_,e.m11_,e.m02_,e.m12_)},r.canvas.Element.prototype.disposeInternal=function(){this.canvas_.dispose(),this.context_=null,r.canvas.Element.superClass_.disposeInternal.call(this)},r.canvas.Stylable=function(e){r.canvas.Element.call(this,e)},n.inherits(r.canvas.Stylable,r.canvas.Element),r.canvas.Stylable.prototype.strokeAndFill_=function(e,t,n,r){this.context_.fillStyle=e,this.context_.globalAlpha=t,this.context_.fill(),this.context_.globalAlpha=1,this.context_.strokeStyle=n,this.context_.lineWidth=r,0<r&&this.context_.stroke()},r.canvas.Stylable.prototype.disposeInternal=function(){r.canvas.Stylable.superClass_.disposeInternal.call(this)},r.canvas.Image=function(e){r.canvas.Stylable.call(this,e)},n.inherits(r.canvas.Image,r.canvas.Stylable),r.canvas.Image.prototype.draw=function(e){e&&this.context_.drawImage(e,0,0,e.width,e.height)},r.canvas.Image.create=function(e){return new r.canvas.Image(e)},r.canvas.Image.prototype.disposeInternal=function(){r.canvas.Image.superClass_.disposeInternal.call(this)},r.canvas.Circle=function(e){r.canvas.Stylable.call(this,e)},n.inherits(r.canvas.Circle,r.canvas.Stylable),r.canvas.Circle.prototype.draw=function(e,t,n,r,i,o,s){this.context_.beginPath(),this.context_.arc(e,t,n,0,2*Math.PI),this.strokeAndFill_(r,i,o,s)},r.canvas.Circle.create=function(e){return new r.canvas.Circle(e)},r.canvas.Circle.prototype.disposeInternal=function(){r.canvas.Circle.superClass_.disposeInternal.call(this)},r.vml.Polyline=function(e){r.vml.Stylable.call(this,e)},n.inherits(r.vml.Polyline,r.vml.Stylable);r.vml.Polyline.prototype.setCoords=function(e){r.vml.setPath(this.element_,e)},r.vml.Polyline.prototype.draw=function(e,t,n,r,i){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,r,i)},r.vml.Polyline.create=function(e){var t=r.vml.createElement("shape");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new r.vml.Polyline(t)},r.vml.Ellipse=function(e){r.vml.Stylable.call(this,e),this.rx_,this.ry_},n.inherits(r.vml.Ellipse,r.vml.Stylable),r.vml.Ellipse.prototype.setCenter=function(e,t){var n=e-this.rx_,r=t-this.ry_;void 0!==e&&(this.element_.style.left=n+"px"),void 0!==t&&(this.element_.style.top=r+"px")},r.vml.Ellipse.prototype.setRadiusX=function(e){this.rx_=e,this.element_.style.width=2*this.rx_+"px"},r.vml.Ellipse.prototype.setRadiusY=function(e){this.ry_=e,this.element_.style.height=2*this.ry_+"px"},r.vml.Ellipse.prototype.draw=function(e,t,n,r,i,o,s,a){void 0!==n&&this.setRadiusX(n),void 0!==r&&this.setRadiusY(r),this.setCenter(e,t),this.strokeAndFill_(i,o,s,a)},r.vml.Ellipse.create=function(e){return e=r.vml.createElement("oval"),e.style.position="absolute",new r.vml.Ellipse(e)},r.canvas.Polygon=function(e){r.canvas.Stylable.call(this,e)},n.inherits(r.canvas.Polygon,r.canvas.Stylable),r.canvas.Polygon.prototype.drawPath_=function(e){if(e[0]){this.context_.beginPath(),this.context_.moveTo(e[0][0],e[0][1]);for(var t=1,n=e.length;t<n;t++)this.context_.lineTo(e[t][0],e[t][1]);this.context_.lineTo(e[0][0],e[0][1]),this.context_.closePath()}},r.canvas.Polygon.prototype.draw=function(e,t,n,r,i){this.drawPath_(e),this.strokeAndFill_(t,n,r,i)},r.canvas.Polygon.create=function(e){return new r.canvas.Polygon(e)},r.canvas.Polygon.prototype.disposeInternal=function(){r.canvas.Polygon.superClass_.disposeInternal.call(this)},r.canvas.Container=function(e){r.canvas.Element.call(this,e),this.childs_=[]},n.inherits(r.canvas.Container,r.canvas.Element),r.canvas.Container.prototype.addChild=function(e){this.childs_.push(e)},r.canvas.Container.prototype.getChildren=function(){return this.childs_},r.canvas.Container.prototype.removeChildren=function(){this.childs_=[]},r.canvas.Container.prototype.removeChildAt=function(e){this.childs_.splice(e,1)},r.canvas.Container.prototype.disposeInternal=function(){for(var e;e=this.childs_.pop();)e.dispose();this.childs_=null,r.canvas.Container.superClass_.disposeInternal.call(this)},r.canvas.Canvas=function(e){this.element_=e,this.height_=this.width_=0,r.canvas.Container.call(this,this)},n.inherits(r.canvas.Canvas,r.canvas.Container),r.canvas.Canvas.prototype.getElement=function(){return this.element_},r.canvas.Canvas.prototype.getEventTarget=function(){return this.element_},r.canvas.Canvas.prototype.getWidth=function(){return this.width_},r.canvas.Canvas.prototype.setWidth=function(e){this.width_=e,this.element_.setAttribute("width",e)},r.canvas.Canvas.prototype.getHeight=function(){return this.height_},r.canvas.Canvas.prototype.setHeight=function(e){this.height_=e,this.element_.setAttribute("height",e)},r.canvas.Canvas.prototype.startDrawing=function(){this.context_.save(),this.context_.clearRect(0,0,this.width_,this.height_),this.context_.beginPath()},r.canvas.Canvas.prototype.finishDrawing=function(){this.context_.closePath(),this.context_.restore()},r.canvas.Canvas.create=function(e){return e=n.dom.createElement("canvas"),new r.canvas.Canvas(e)},r.canvas.Canvas.prototype.disposeInternal=function(){n.dom.removeNode(this.element_),this.element_=null,r.canvas.Canvas.superClass_.disposeInternal.call(this)},r.canvas.Group=function(e){r.canvas.Container.call(this,e)},n.inherits(r.canvas.Group,r.canvas.Container),r.canvas.Group.create=function(e){return new r.canvas.Group(e)},r.canvas.Group.prototype.disposeInternal=function(){r.canvas.Group.superClass_.disposeInternal.call(this)},r.svg=function(){},r.svg.Namespace={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},r.svg.isSupported=function(){return!!document.createElementNS&&!!document.createElementNS(r.svg.Namespace.svg,"svg").createSVGRect},r.svg.setCoords=function(e,t){for(var n="",r=0,i=t.length;r<i;r++)n+=Math.round(t[r][0])+","+Math.round(t[r][1])+" ";e.setAttribute("points",n)},r.svg.Element=function(e){r.engine.Element.call(this),this.element_=e},n.inherits(r.svg.Element,r.engine.Element),r.svg.Element.prototype.getElement=function(){return this.element_},r.svg.Element.prototype.applyTransform=function(e){e&&this.element_.setAttribute("transform","matrix("+e.m00_+","+e.m10_+","+e.m01_+","+e.m11_+","+e.m02_+","+e.m12_+")")},r.svg.Element.prototype.disposeInternal=function(){n.dom.removeNode(this.element_),this.element_=this.element_.style=null,r.svg.Element.superClass_.disposeInternal.call(this)},r.svg.Stylable=function(e){r.svg.Element.call(this,e)},n.inherits(r.svg.Stylable,r.svg.Element),r.svg.Stylable.prototype.strokeAndFill_=function(e,t,n,r){void 0!==e&&this.setFillColor(e),void 0!==t&&this.setFillOpacity(t),void 0!==n&&this.setStrokeColor(n),void 0!==r&&this.setStrokeWidth(r)},r.svg.Stylable.prototype.setStrokeWidth=function(e){this.element_.setAttribute("stroke-width",Math.round(e))},r.svg.Stylable.prototype.setStrokeColor=function(e){this.element_.setAttribute("stroke",e),this.element_.setAttribute("stroke-color",e)},r.svg.Stylable.prototype.setFillColor=function(e){this.element_.setAttribute("fill",e)},r.svg.Stylable.prototype.setFillOpacity=function(e){this.element_.setAttribute("fill-opacity",e)},r.svg.Stylable.prototype.disposeInternal=function(){r.svg.Stylable.superClass_.disposeInternal.call(this)},r.svg.Line=function(e){r.svg.Stylable.call(this,e)},n.inherits(r.svg.Line,r.svg.Stylable),r.svg.Line.prototype.setCoords=function(e,t,n,r){void 0!==e&&this.element_.setAttribute("x1",e),void 0!==t&&this.element_.setAttribute("y1",t),void 0!==n&&this.element_.setAttribute("x2",n),void 0!==r&&this.element_.setAttribute("y2",r)},r.svg.Line.prototype.draw=function(e,t,n,r,i,o){this.setCoords(e,t,n,r),this.strokeAndFill_(void 0,void 0,i,o)},r.svg.Line.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"line"),new r.svg.Line(e)},r.svg.Line.prototype.disposeInternal=function(){r.svg.Line.superClass_.disposeInternal.call(this)},r.canvas.Rect=function(e){r.canvas.Stylable.call(this,e)},n.inherits(r.canvas.Rect,r.canvas.Stylable),r.canvas.Rect.prototype.drawPath_=function(e,t,n,r){this.context_.beginPath(),this.context_.moveTo(e,t),this.context_.lineTo(e+n,t),this.context_.lineTo(e+n,t+r),this.context_.lineTo(e,t+r),this.context_.closePath()},r.canvas.Rect.prototype.draw=function(e,t,n,r,i,o,s,a){this.drawPath_(e,t,n,r),this.strokeAndFill_(i,o,s,a)},r.canvas.Rect.create=function(e){return new r.canvas.Rect(e)},r.canvas.Rect.prototype.disposeInternal=function(){r.canvas.Rect.superClass_.disposeInternal.call(this)},r.canvas.Polyline=function(e){r.canvas.Stylable.call(this,e)},n.inherits(r.canvas.Polyline,r.canvas.Stylable),r.canvas.Polyline.prototype.drawPath_=function(e){this.context_.beginPath(),this.context_.moveTo(e[0][0],e[0][1]);for(var t=1,n=e.length;t<n;t++)this.context_.lineTo(e[t][0],e[t][1])},r.canvas.Polyline.prototype.draw=function(e,t,n,r,i){this.drawPath_(e),this.strokeAndFill_(t,n,r,i)},r.canvas.Polyline.create=function(e){return new r.canvas.Polyline(e)},r.canvas.Polyline.prototype.disposeInternal=function(){r.canvas.Polyline.superClass_.disposeInternal.call(this)},r.vml.Image=function(e){r.vml.Stylable.call(this,e)},n.inherits(r.vml.Image,r.vml.Stylable),r.vml.Image.prototype.setImage=function(e){var t=n.style.getSize(e);this.element_.src=e.src,this.element_.style.width=t.width+"px",this.element_.style.height=t.height+"px"},r.vml.Image.prototype.draw=function(e){void 0!==e&&this.setImage(e)},r.vml.Image.create=function(e){return e=r.vml.createElement("image",!1),e.setAttribute("class","xrx-vml"),e.setAttribute("src","about:blank"),e.style.position="absolute",e.style.left="0px",e.style.top="0px",new r.vml.Image(e)},r.svg.Container=function(e){r.svg.Element.call(this,e),this.childs_=[]},n.inherits(r.svg.Container,r.svg.Element),r.svg.Container.prototype.addChild=function(e){this.childs_.push(e),n.dom.append(this.element_,e.getElement())},r.svg.Container.prototype.getChildren=function(){return this.childs_},r.svg.Container.prototype.removeChildren=function(){n.dom.removeChildren(this.element_),this.childs_=[]},r.svg.Container.prototype.removeChildAt=function(e){n.dom.removeNode(this.childs_[e].getElement()),this.childs_.splice(e,1)},r.svg.Container.prototype.disposeInternal=function(){for(var e;e=this.childs_.pop();)e.dispose();this.childs_=null,r.svg.Container.superClass_.disposeInternal.call(this)},r.svg.Canvas=function(e){r.svg.Container.call(this,e),this.height_=this.width_=0},n.inherits(r.svg.Canvas,r.svg.Container),r.svg.Canvas.prototype.getEventTarget=function(){return this.element_},r.svg.Canvas.prototype.getWidth=function(){return this.width_},r.svg.Canvas.prototype.setWidth=function(e){this.width_=e,this.element_.setAttribute("width",e)},r.svg.Canvas.prototype.getHeight=function(){return this.height_},r.svg.Canvas.prototype.setHeight=function(e){this.height_=e,this.element_.setAttribute("height",e)},r.svg.Canvas.prototype.startDrawing=function(){},r.svg.Canvas.prototype.finishDrawing=function(){},r.svg.Canvas.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"svg"),n.style.setStyle(e,"overflow","hidden"),new r.svg.Canvas(e)},r.svg.Canvas.prototype.disposeInternal=function(){r.svg.Canvas.superClass_.disposeInternal.call(this)},r.canvas.Line=function(e){r.canvas.Stylable.call(this,e)},n.inherits(r.canvas.Line,r.canvas.Stylable),r.canvas.Line.prototype.drawPath_=function(e,t,n,r){this.context_.beginPath(),this.context_.moveTo(e,t),this.context_.lineTo(n,r)},r.canvas.Line.prototype.draw=function(e,t,n,r,i,o){this.drawPath_(e,t,n,r),this.strokeAndFill_(void 0,void 0,i,o)},r.canvas.Line.create=function(e){return new r.canvas.Line(e)},r.canvas.Line.prototype.disposeInternal=function(){r.canvas.Line.superClass_.disposeInternal.call(this)},r.svg.Polygon=function(e){r.svg.Stylable.call(this,e)},n.inherits(r.svg.Polygon,r.svg.Stylable),r.svg.Polygon.prototype.setCoords=function(e){r.svg.setCoords(this.element_,e)},r.svg.Polygon.prototype.draw=function(e,t,n,r,i){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,r,i)},r.svg.Polygon.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"polygon"),new r.svg.Polygon(e)},r.svg.Polygon.prototype.disposeInternal=function(){r.svg.Polygon.superClass_.disposeInternal.call(this)},r.svg.Circle=function(e){r.svg.Stylable.call(this,e)},n.inherits(r.svg.Circle,r.svg.Stylable),r.svg.Circle.prototype.setCenter=function(e,t){void 0!==e&&this.element_.setAttribute("cx",e),void 0!==t&&this.element_.setAttribute("cy",t)},r.svg.Circle.prototype.setRadius=function(e){this.element_.setAttribute("r",e)},r.svg.Circle.prototype.draw=function(e,t,n,r,i,o,s){this.setCenter(e,t),void 0!==n&&this.setRadius(n),this.strokeAndFill_(r,i,o,s)},r.svg.Circle.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"circle"),new r.svg.Circle(e)},r.svg.Circle.prototype.disposeInternal=function(){r.svg.Circle.superClass_.disposeInternal.call(this)},r.canvas.Ellipse=function(e){r.canvas.Stylable.call(this,e)},n.inherits(r.canvas.Ellipse,r.canvas.Stylable),r.canvas.Ellipse.prototype.draw=function(e,t,n,r,i,o,s,a){if(this.context_.ellipse)this.context_.beginPath(),this.context_.ellipse(e,t,n,r,0,0,2*Math.PI,!0),this.context_.closePath();else for(var l,h,c=0;c<=2*Math.PI;c+=.01)l=e+n*Math.sin(c),h=t-r*Math.cos(c),0===c?this.context_.moveTo(l,h):this.context_.lineTo(l,h);this.strokeAndFill_(i,o,s,a)},r.canvas.Ellipse.create=function(e){return new r.canvas.Ellipse(e)},r.canvas.Ellipse.prototype.disposeInternal=function(){r.canvas.Ellipse.superClass_.disposeInternal.call(this)},r.svg.Ellipse=function(e){r.svg.Stylable.call(this,e)},n.inherits(r.svg.Ellipse,r.svg.Stylable),r.svg.Ellipse.prototype.setCenter=function(e,t){void 0!==e&&this.element_.setAttribute("cx",e),void 0!==t&&this.element_.setAttribute("cy",t)},r.svg.Ellipse.prototype.setRadiusX=function(e){this.element_.setAttribute("rx",e)},r.svg.Ellipse.prototype.setRadiusY=function(e){this.element_.setAttribute("ry",e)},r.svg.Ellipse.prototype.draw=function(e,t,n,r,i,o,s,a){this.setCenter(e,t),void 0!==n&&this.setRadiusX(n),void 0!==r&&this.setRadiusY(r),this.strokeAndFill_(i,o,s,a)},r.svg.Ellipse.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"ellipse"),new r.svg.Ellipse(e)},r.svg.Ellipse.prototype.disposeInternal=function(){r.svg.Ellipse.superClass_.disposeInternal.call(this)},r.vml.Container=function(e){r.vml.Element.call(this,e),this.childs_=[]},n.inherits(r.vml.Container,r.vml.Element),r.vml.Container.prototype.addChild=function(e){this.childs_.push(e),this.element_.appendChild(e.getElement())},r.vml.Container.prototype.getChildren=function(){return this.childs_},r.vml.Container.prototype.removeChildren=function(){n.dom.removeChildren(this.element_),this.childs_=[]},r.vml.Container.prototype.removeChildAt=function(e){n.dom.removeNode(this.childs_[e].getElement()),this.childs_.splice(e,1)},r.vml.Canvas=function(e){r.vml.Container.call(this,e),this.height_=this.width_=0},n.inherits(r.vml.Canvas,r.vml.Container),r.vml.Canvas.prototype.getEventTarget=function(){return this.element_},r.vml.Canvas.prototype.getWidth=function(){return this.width_},r.vml.Canvas.prototype.setWidth=function(e){this.width_=e,this.element_.parentElement.style.width=e+"px",this.element_.style.width=e+"px",this.element_.coordorigin="0, 0",this.element_.coordsize=this.width_+", "+this.height_},r.vml.Canvas.prototype.getHeight=function(){return this.height_},r.vml.Canvas.prototype.setHeight=function(e){this.height_=e,this.element_.parentElement.style.height=e+"px",this.element_.style.height=e+"px",this.element_.coordorigin="0, 0",this.element_.coordsize=this.width_+", "+this.height_},r.vml.Canvas.prototype.startDrawing=function(){},r.vml.Canvas.prototype.finishDrawing=function(){},r.vml.Canvas.create=function(e){r.vml.initVmlRendering();var t=n.dom.createElement("div");t.style.display="inline-block",t.style.position="relative",t.style.overflow="hidden",t.style.width="100px",t.style.height="100px";var i=r.vml.createElement("group",!1);return n.dom.appendChild(t,i),n.dom.appendChild(e,t),i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.width="100px",i.style.height="100px",new r.vml.Canvas(i)},r.vml.Polygon=function(e){r.vml.Stylable.call(this,e)},n.inherits(r.vml.Polygon,r.vml.Stylable),r.vml.Polygon.prototype.setCoords=function(e){r.vml.setPath(this.element_,e,!0)},r.vml.Polygon.prototype.draw=function(e,t,n,r,i){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,r,i)},r.vml.Polygon.create=function(e){var t=r.vml.createElement("shape");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new r.vml.Polygon(t)},r.svg.Group=function(e){r.svg.Container.call(this,e)},n.inherits(r.svg.Group,r.svg.Container),r.svg.Group.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"g"),new r.svg.Group(e)},r.svg.Group.prototype.disposeInternal=function(){r.svg.Group.superClass_.disposeInternal.call(this)},r.vml.Group=function(e){r.vml.Container.call(this,e)},n.inherits(r.vml.Group,r.vml.Container),r.vml.Group.create=function(e){var t=r.vml.createElement("group",!1);return t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new r.vml.Group(t)},r.svg.Image=function(e){r.svg.Stylable.call(this,e)},n.inherits(r.svg.Image,r.svg.Stylable),r.svg.Image.prototype.setWidth=function(e){this.element_.setAttribute("width",e)},r.svg.Image.prototype.setHeight=function(e){this.element_.setAttribute("height",e)},r.svg.Image.prototype.setImage=function(e){this.element_.setAttributeNS(r.svg.Namespace.xlink,"xlink:href",e.src)},r.svg.Image.prototype.draw=function(e){void 0!==e&&this.setImage(e)},r.svg.Image.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"image"),new r.svg.Image(e)},r.svg.Image.prototype.disposeInternal=function(){r.svg.Image.superClass_.disposeInternal.call(this)},r.vml.Circle=function(e){r.vml.Stylable.call(this,e),this.r_},n.inherits(r.vml.Circle,r.vml.Stylable),r.vml.Circle.prototype.setCenter=function(e,t,n){n=e-this.r_;var r=t-this.r_;void 0!==e&&(this.element_.style.left=n+"px"),void 0!==t&&(this.element_.style.top=r+"px")},r.vml.Circle.prototype.setRadius=function(e){this.r_=e,e=2*this.r_,this.element_.style.width=e+"px",this.element_.style.height=e+"px"},r.vml.Circle.prototype.draw=function(e,t,n,r,i,o,s){void 0!==n&&this.setRadius(n),this.setCenter(e,t,n),this.strokeAndFill_(r,i,o,s)},r.vml.Circle.create=function(e){return e=r.vml.createElement("oval"),e.style.position="absolute",new r.vml.Circle(e)},r.svg.Rect=function(e){r.svg.Stylable.call(this,e)},n.inherits(r.svg.Rect,r.svg.Stylable),r.svg.Rect.prototype.setX=function(e){this.element_.setAttribute("x",e)},r.svg.Rect.prototype.setY=function(e){this.element_.setAttribute("y",e)},r.svg.Rect.prototype.setWidth=function(e){this.element_.setAttribute("width",e)},r.svg.Rect.prototype.setHeight=function(e){this.element_.setAttribute("height",e)},r.svg.Rect.prototype.draw=function(e,t,n,r,i,o,s,a){void 0!==e&&this.setX(e),void 0!==t&&this.setY(t),void 0!==n&&this.setWidth(n),void 0!==r&&this.setHeight(r),this.strokeAndFill_(i,o,s,a)},r.svg.Rect.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"rect"),new r.svg.Rect(e)},r.svg.Rect.prototype.disposeInternal=function(){r.svg.Rect.superClass_.disposeInternal.call(this)},r.svg.Polyline=function(e){r.svg.Stylable.call(this,e)},n.inherits(r.svg.Polyline,r.svg.Stylable),r.svg.Polyline.prototype.setCoords=function(e){r.svg.setCoords(this.element_,e)},r.svg.Polyline.prototype.draw=function(e,t,n,r,i){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,r,i)},r.svg.Polyline.create=function(e){return e=document.createElementNS(r.svg.Namespace.svg,"polyline"),new r.svg.Polyline(e)},r.svg.Polyline.prototype.disposeInternal=function(){r.svg.Polyline.superClass_.disposeInternal.call(this)},r.vml.Line=function(e){r.vml.Stylable.call(this,e)},n.inherits(r.vml.Line,r.vml.Stylable),r.vml.Line.prototype.setCoords=function(e){r.vml.setPath(this.element_,e,!1)},r.vml.Line.prototype.draw=function(e,t,n,r,i,o){this.setCoords([[e,t],[n,r]]),this.strokeAndFill_(void 0,void 0,i,o)},r.vml.Line.create=function(e){var t=r.vml.createElement("shape");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new r.vml.Line(t)},r.engine.Engines=function(){},r.shape.Shape=function(e){r.shape.RenderStylable.call(this,e),this.drawing_=e,this.isModifiable_=!0},n.inherits(r.shape.Shape,r.shape.RenderStylable),r.shape.Shape.prototype.getDrawing=function(){return this.drawing_},r.shape.Shape.prototype.setModifiable=function(e){this.isModifiable_=!1!==e},r.shape.Shape.prototype.isModifiable=function(){return this.isModifiable_},r.shape.Shape.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,n.dispose(this.hoverable_),this.hoverable_=null,n.dispose(this.selectable_),this.selectable_=null,n.dispose(this.modifiable_),this.modifiable_=null,n.dispose(this.creatable_),this.creatable_=null,r.shape.Shape.superClass_.disposeInternal.call(this)},r.shape.Geometry=function(e,t){r.shape.Shape.call(this,e),this.geometry_=t,this.zoomFactor_=1},n.inherits(r.shape.Geometry,r.shape.Shape);r.shape.Geometry.prototype.setZoomFactor=function(e){this.zoomFactor_=e},r.shape.Geometry.prototype.getGeometry=function(){return this.geometry_},r.shape.Geometry.prototype.setCTM=function(e){this.ctm_=e},r.shape.Geometry.prototype.getCoordsCopy=function(){for(var e=this.getCoords(),t=e.length,n=Array(t),r=0;r<t;r++)n[r]=Array(2),n[r][0]=e[r][0],n[r][1]=e[r][1];return n},r.shape.Geometry.prototype.disposeInternal=function(){n.dispose(this.geometry_),this.geometry_=null,n.dispose(this.ctm_),this.ctm_=null,r.shape.Geometry.superClass_.disposeInternal.call(this)},r.geometry=function(){},r.geometry.addCoordsX=function(e,t){for(var n=0,r=e.length;n<r;n++)e[n][0]+=t},r.geometry.addCoordsY=function(e,t){for(var n=0,r=e.length;n<r;n++)e[n][1]+=t},r.geometry.getBBox=function(e){for(var t,n,r={x:e[0][0],y:e[0][1],x2:e[0][0],y2:e[0][1],width:0,height:0},i=1,o=e.length;i<o;i++)t=e[i][0],n=e[i][1],t<r.x&&(r.x=t),n<r.y&&(r.y=n),t>r.x2&&(r.x2=t),n>r.y2&&(r.y2=n);return r.width=r.x2-r.x,r.height=r.y2-r.y,r},r.geometry.Geometry=function(){n.Disposable.call(this)},n.inherits(r.geometry.Geometry,n.Disposable),r.geometry.Geometry.prototype.disposeInternal=function(){r.geometry.Geometry.superClass_.disposeInternal.call(this)},r.geometry.Group=function(){r.geometry.Geometry.call(this),this.childs_=[]},n.inherits(r.geometry.Group,r.geometry.Geometry),r.geometry.Group.prototype.addChild=function(e){this.childs_.push(e)},r.geometry.Group.prototype.containsPoint=function(e){for(var t=0,n=this.childs_.length;t<n;t++)if(this.childs_[t].containsPoint(e))return!0;return!1},r.shape.Container=function(e){r.shape.Geometry.call(this,e,new r.geometry.Group),this.childs_=[]},n.inherits(r.shape.Container,r.shape.Geometry),r.shape.Container.prototype.getChildren=function(){return this.childs_},r.shape.Container.prototype.getChild=function(e){return this.childs_[e]},r.shape.Container.prototype.addChildren=function(e){n.isArray(e)||(e=[e]);for(var t=0,r=e.length;t<r;t++)this.childs_.push(e[t]),this.engineElement_.addChild(e[t].getEngineElement())},r.shape.Container.prototype.removeChildren=function(){this.childs_=[],this.engineElement_.removeChildren()},r.shape.Container.prototype.removeChildAt=function(e){this.childs_.splice(e,1),this.engineElement_.removeChildAt(e)},r.shape.Container.prototype.disposeInternal=function(){for(var e;e=this.childs_.pop();)e.dispose();this.childs_=null,r.shape.Container.superClass_.disposeInternal.call(this)},r.shape.Group=function(e){r.shape.Container.call(this,e),this.engineElement_=this.drawing_.getEngine().createGroup()},n.inherits(r.shape.Group,r.shape.Container),r.shape.Group.prototype.draw=function(){this.startDrawing_();for(var e=this.getChildren(),t=0,n=e.length;t<n;t++)e[t].draw();this.finishDrawing_()},r.shape.Group.prototype.disposeInternal=function(){r.shape.Group.superClass_.disposeInternal.call(this)},r.drawing.Layer=function(e){n.Disposable.call(this),this.drawing_=e,this.locked_=!1,this.shapes_=[],this.create_()},n.inherits(r.drawing.Layer,n.Disposable),r.drawing.Layer.prototype.getDrawing=function(){return this.drawing_},r.drawing.Layer.prototype.setLocked=function(e){this.locked_=!0===e},r.drawing.Layer.prototype.isLocked=function(){return this.locked_},r.drawing.Layer.prototype.getGroup=function(){return this.group_},r.drawing.Layer.prototype.getShapes=function(){return this.shapes_},r.drawing.Layer.prototype.draw=function(){for(var e=0,t=this.shapes_.length;e<t;e++)this.shapes_[e].draw(this.drawing_.getViewbox().getZoomValue())},r.drawing.Layer.prototype.addShapes=function(e){n.isArray(e)||(e=[e]);for(var t=0,r=e.length;t<r;t++)this.shapes_.push(e[t]);this.group_.addChildren(e)},r.drawing.Layer.prototype.removeShapes=function(){this.shapes_=[],this.group_.removeChildren()},r.drawing.Layer.prototype.removeShape=function(e){for(var t=0,n=this.shapes_.length;t<n;t++)if(this.shapes_[t]===e){this.group_.removeChildAt(t),this.shapes_.splice(t,1);break}},r.drawing.Layer.prototype.create_=function(){this.group_=new r.shape.Group(this.drawing_)},r.drawing.Layer.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,this.group_.dispose(),this.group_=null;for(var e;e=this.shapes_.pop();)e.dispose();this.shapes_=null,r.drawing.Layer.superClass_.disposeInternal.call(this)},r.drawing.LayerShapeCreate=function(e){r.drawing.Layer.call(this,e)},n.inherits(r.drawing.LayerShapeCreate,r.drawing.Layer),r.drawing.LayerShapeCreate.prototype.disposeInternal=function(){r.drawing.LayerShapeCreate.superClass_.disposeInternal.call(this)},r.drawing.LayerShape=function(e){r.drawing.Layer.call(this,e)},n.inherits(r.drawing.LayerShape,r.drawing.Layer),r.drawing.LayerShape.prototype.disposeInternal=function(){r.drawing.LayerShape.superClass_.disposeInternal.call(this)},n.events={},n.events.EventId=function(e){this.id=e},n.events.EventId.prototype.toString=function(){return this.id},n.events.Listenable=function(){},n.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),n.events.Listenable.addImplementation=function(e){e.prototype[n.events.Listenable.IMPLEMENTED_BY_PROP]=!0},n.events.Listenable.isImplementedBy=function(e){return!(!e||!e[n.events.Listenable.IMPLEMENTED_BY_PROP])},n.events.ListenableKey=function(){},n.events.ListenableKey.counter_=0,n.events.ListenableKey.reserveKey=function(){return++n.events.ListenableKey.counter_},n.events.Listener=function(e,t,r,i,o,s){n.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack),this.listener=e,this.proxy=t,this.src=r,this.type=i,this.capture=!!o,this.handler=s,this.key=n.events.ListenableKey.reserveKey(),this.removed=this.callOnce=!1},n.events.Listener.ENABLE_MONITORING=!1,n.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.handler=this.src=this.proxy=this.listener=null},n.events.ListenerMap=function(e){this.src=e,this.listeners={},this.typeCount_=0},n.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},n.events.ListenerMap.prototype.getListenerCount=function(){var e,t=0;for(e in this.listeners)t+=this.listeners[e].length;return t},n.events.ListenerMap.prototype.add=function(e,t,r,i,o){var s=e.toString();(e=this.listeners[s])||(e=this.listeners[s]=[],this.typeCount_++);var a=n.events.ListenerMap.findListenerIndex_(e,t,i,o);return-1<a?(t=e[a],r||(t.callOnce=!1)):(t=new n.events.Listener(t,null,this.src,s,!!i,o),t.callOnce=r,e.push(t)),t},n.events.ListenerMap.prototype.remove=function(e,t,r,i){if(!((e=e.toString())in this.listeners))return!1;var o=this.listeners[e];return-1<(t=n.events.ListenerMap.findListenerIndex_(o,t,r,i))&&(o[t].markAsRemoved(),n.array.removeAt(o,t),0==o.length&&(delete this.listeners[e],this.typeCount_--),!0)},n.events.ListenerMap.prototype.removeByKey=function(e){var t=e.type;if(!(t in this.listeners))return!1;var r=n.array.remove(this.listeners[t],e);return r&&(e.markAsRemoved(),0==this.listeners[t].length&&(delete this.listeners[t],this.typeCount_--)),r},n.events.ListenerMap.prototype.removeAll=function(e){e=e&&e.toString();var t,n=0;for(t in this.listeners)if(!e||t==e){for(var r=this.listeners[t],i=0;i<r.length;i++)++n,r[i].markAsRemoved();delete this.listeners[t],this.typeCount_--}return n},n.events.ListenerMap.prototype.getListeners=function(e,t){var n=this.listeners[e.toString()],r=[];if(n)for(var i=0;i<n.length;++i){var o=n[i];o.capture==t&&r.push(o)}return r},n.events.ListenerMap.prototype.getListener=function(e,t,r,i){e=this.listeners[e.toString()];var o=-1;return e&&(o=n.events.ListenerMap.findListenerIndex_(e,t,r,i)),-1<o?e[o]:null},n.events.ListenerMap.prototype.hasListener=function(e,t){var r=n.isDef(e),i=r?e.toString():"",o=n.isDef(t);return n.object.some(this.listeners,function(e,n){for(var s=0;s<e.length;++s)if(!(r&&e[s].type!=i||o&&e[s].capture!=t))return!0;return!1})},n.events.ListenerMap.findListenerIndex_=function(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.removed&&o.listener==t&&o.capture==!!n&&o.handler==r)return i}return-1},n.events.BrowserFeature={HAS_W3C_BUTTON:!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:n.userAgent.IE&&!n.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!n.userAgent.WEBKIT||n.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:n.userAgent.GECKO&&n.userAgent.isVersionOrHigher("1.9b")||n.userAgent.IE&&n.userAgent.isVersionOrHigher("8")||n.userAgent.OPERA&&n.userAgent.isVersionOrHigher("9.5")||n.userAgent.WEBKIT&&n.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:n.userAgent.GECKO&&!n.userAgent.isVersionOrHigher("8")||n.userAgent.IE&&!n.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in n.global||!!(n.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!n.global.navigator||!n.global.navigator.msMaxTouchPoints)},n.debug.entryPointRegistry={},n.debug.EntryPointMonitor=function(){},n.debug.entryPointRegistry.refList_=[],n.debug.entryPointRegistry.monitors_=[],n.debug.entryPointRegistry.monitorsMayExist_=!1,n.debug.entryPointRegistry.register=function(e){if(n.debug.entryPointRegistry.refList_[n.debug.entryPointRegistry.refList_.length]=e,n.debug.entryPointRegistry.monitorsMayExist_)for(var t=n.debug.entryPointRegistry.monitors_,r=0;r<t.length;r++)e(n.bind(t[r].wrap,t[r]))},n.debug.entryPointRegistry.monitorAll=function(e){n.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=n.bind(e.wrap,e),r=0;r<n.debug.entryPointRegistry.refList_.length;r++)n.debug.entryPointRegistry.refList_[r](t);n.debug.entryPointRegistry.monitors_.push(e)},n.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=n.debug.entryPointRegistry.monitors_;n.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped."),e=n.bind(e.unwrap,e);for(var r=0;r<n.debug.entryPointRegistry.refList_.length;r++)n.debug.entryPointRegistry.refList_[r](e);t.length--},n.events.getVendorPrefixedName_=function(e){return n.userAgent.WEBKIT?"webkit"+e:n.userAgent.OPERA?"o"+e.toLowerCase():e.toLowerCase()},n.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:n.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:n.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",ANIMATIONSTART:n.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:n.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:n.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:n.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXTINPUT:"textinput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified"},n.events.Event=function(e,t){this.type=e instanceof n.events.EventId?String(e):e,this.currentTarget=this.target=t,this.defaultPrevented=this.propagationStopped_=!1,this.returnValue_=!0},n.events.Event.prototype.disposeInternal=function(){},n.events.Event.prototype.dispose=function(){},n.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},n.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},n.events.Event.stopPropagation=function(e){e.stopPropagation()},n.events.Event.preventDefault=function(e){e.preventDefault()},n.reflect={},n.reflect.object=function(e,t){return t},n.reflect.sinkValue=function(e){return n.reflect.sinkValue[" "](e),e},n.reflect.sinkValue[" "]=n.nullFunction,n.reflect.canAccessProperty=function(e,t){try{return n.reflect.sinkValue(e[t]),!0}catch(e){}return!1},n.events.BrowserEvent=function(e,t){n.events.Event.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.platformModifierKey=!1,this.event_=null,e&&this.init(e,t)},n.inherits(n.events.BrowserEvent,n.events.Event),n.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},n.events.BrowserEvent.IEButtonMap=[1,4,2],n.events.BrowserEvent.prototype.init=function(e,t){var r=this.type=e.type;this.target=e.target||e.srcElement,this.currentTarget=t;var i=e.relatedTarget;i?n.userAgent.GECKO&&(n.reflect.canAccessProperty(i,"nodeName")||(i=null)):r==n.events.EventType.MOUSEOVER?i=e.fromElement:r==n.events.EventType.MOUSEOUT&&(i=e.toElement),this.relatedTarget=i,this.offsetX=n.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=n.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0,this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==r?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=n.userAgent.MAC?e.metaKey:e.ctrlKey,this.state=e.state,this.event_=e,e.defaultPrevented&&this.preventDefault()},n.events.BrowserEvent.prototype.isButton=function(e){return n.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==n.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&n.events.BrowserEvent.IEButtonMap[e])},n.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(n.events.BrowserEvent.MouseButton.LEFT)&&!(n.userAgent.WEBKIT&&n.userAgent.MAC&&this.ctrlKey)},n.events.BrowserEvent.prototype.stopPropagation=function(){n.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},n.events.BrowserEvent.prototype.preventDefault=function(){n.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,n.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},n.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},n.events.BrowserEvent.prototype.disposeInternal=function(){},n.events.listeners_={},n.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),n.events.onString_="on",n.events.onStringMap_={},n.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},n.events.CAPTURE_SIMULATION_MODE=2,n.events.listenerCountEstimate_=0,n.events.listen=function(e,t,r,i,o){if(n.isArray(t)){for(var s=0;s<t.length;s++)n.events.listen(e,t[s],r,i,o);return null}return r=n.events.wrapListener(r),n.events.Listenable.isImplementedBy(e)?e.listen(t,r,i,o):n.events.listen_(e,t,r,!1,i,o)},n.events.listen_=function(e,t,r,i,o,s){if(!t)throw Error("Invalid event type");var a=!!o;if(a&&!n.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(n.events.CAPTURE_SIMULATION_MODE==n.events.CaptureSimulationMode.OFF_AND_FAIL)return n.asserts.fail("Can not register capture listener in IE8-."),null;if(n.events.CAPTURE_SIMULATION_MODE==n.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var l=n.events.getListenerMap_(e);return l||(e[n.events.LISTENER_MAP_PROP_]=l=new n.events.ListenerMap(e)),r=l.add(t,r,i,o,s),r.proxy?r:(i=n.events.getProxy(),r.proxy=i,i.src=e,i.listener=r,e.addEventListener?e.addEventListener(t.toString(),i,a):e.attachEvent(n.events.getOnString_(t.toString()),i),n.events.listenerCountEstimate_++,r)},n.events.getProxy=function(){var e=n.events.handleBrowserEvent_,t=n.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t},n.events.listenOnce=function(e,t,r,i,o){if(n.isArray(t)){for(var s=0;s<t.length;s++)n.events.listenOnce(e,t[s],r,i,o);return null}return r=n.events.wrapListener(r),n.events.Listenable.isImplementedBy(e)?e.listenOnce(t,r,i,o):n.events.listen_(e,t,r,!0,i,o)},n.events.listenWithWrapper=function(e,t,n,r,i){t.listen(e,n,r,i)},n.events.unlisten=function(e,t,r,i,o){if(n.isArray(t)){for(var s=0;s<t.length;s++)n.events.unlisten(e,t[s],r,i,o);return null}return r=n.events.wrapListener(r),n.events.Listenable.isImplementedBy(e)?e.unlisten(t,r,i,o):!!e&&(i=!!i,!(!(e=n.events.getListenerMap_(e))||!(t=e.getListener(t,r,i,o)))&&n.events.unlistenByKey(t))},n.events.unlistenByKey=function(e){if(n.isNumber(e)||!e||e.removed)return!1;var t=e.src;if(n.events.Listenable.isImplementedBy(t))return t.unlistenByKey(e);var r=e.type,i=e.proxy;return t.removeEventListener?t.removeEventListener(r,i,e.capture):t.detachEvent&&t.detachEvent(n.events.getOnString_(r),i),n.events.listenerCountEstimate_--,(r=n.events.getListenerMap_(t))?(r.removeByKey(e),0==r.getTypeCount()&&(r.src=null,t[n.events.LISTENER_MAP_PROP_]=null)):e.markAsRemoved(),!0},n.events.unlistenWithWrapper=function(e,t,n,r,i){t.unlisten(e,n,r,i)},n.events.removeAll=function(e,t){if(!e)return 0;if(n.events.Listenable.isImplementedBy(e))return e.removeAllListeners(t);var r=n.events.getListenerMap_(e);if(!r)return 0;var i,o=0,s=t&&t.toString();for(i in r.listeners)if(!s||i==s)for(var a=r.listeners[i].concat(),l=0;l<a.length;++l)n.events.unlistenByKey(a[l])&&++o;return o},n.events.removeAllNativeListeners=function(){return n.events.listenerCountEstimate_=0},n.events.getListeners=function(e,t,r){return n.events.Listenable.isImplementedBy(e)?e.getListeners(t,r):e&&(e=n.events.getListenerMap_(e))?e.getListeners(t,r):[]},n.events.getListener=function(e,t,r,i,o){return r=n.events.wrapListener(r),i=!!i,n.events.Listenable.isImplementedBy(e)?e.getListener(t,r,i,o):e&&(e=n.events.getListenerMap_(e))?e.getListener(t,r,i,o):null},n.events.hasListener=function(e,t,r){return n.events.Listenable.isImplementedBy(e)?e.hasListener(t,r):!!(e=n.events.getListenerMap_(e))&&e.hasListener(t,r)},n.events.expose=function(e){var t,n=[];for(t in e)e[t]&&e[t].id?n.push(t+" = "+e[t]+" ("+e[t].id+")"):n.push(t+" = "+e[t]);return n.join("\n")},n.events.getOnString_=function(e){return e in n.events.onStringMap_?n.events.onStringMap_[e]:n.events.onStringMap_[e]=n.events.onString_+e},n.events.fireListeners=function(e,t,r,i){return n.events.Listenable.isImplementedBy(e)?e.fireListeners(t,r,i):n.events.fireListeners_(e,t,r,i)},n.events.fireListeners_=function(e,t,r,i){var o=1;if((e=n.events.getListenerMap_(e))&&(t=e.listeners[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var s=t[e];s&&s.capture==r&&!s.removed&&(o&=!1!==n.events.fireListener(s,i))}return Boolean(o)},n.events.fireListener=function(e,t){var r=e.listener,i=e.handler||e.src;return e.callOnce&&n.events.unlistenByKey(e),r.call(i,t)},n.events.getTotalListenerCount=function(){return n.events.listenerCountEstimate_},n.events.dispatchEvent=function(e,t){return n.asserts.assert(n.events.Listenable.isImplementedBy(e),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),e.dispatchEvent(t)},n.events.protectBrowserEventEntryPoint=function(e){n.events.handleBrowserEvent_=e.protectEntryPoint(n.events.handleBrowserEvent_)},n.events.handleBrowserEvent_=function(e,t){if(e.removed)return!0;if(!n.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var r=t||n.getObjectByName("window.event"),i=new n.events.BrowserEvent(r,this),o=!0;if(n.events.CAPTURE_SIMULATION_MODE==n.events.CaptureSimulationMode.ON){if(!n.events.isMarkedIeEvent_(r)){n.events.markIeEvent_(r);for(var r=[],s=i.currentTarget;s;s=s.parentNode)r.push(s);for(var s=e.type,a=r.length-1;!i.propagationStopped_&&0<=a;a--)i.currentTarget=r[a],o&=n.events.fireListeners_(r[a],s,!0,i);for(a=0;!i.propagationStopped_&&a<r.length;a++)i.currentTarget=r[a],o&=n.events.fireListeners_(r[a],s,!1,i)}}else o=n.events.fireListener(e,i);return o}return n.events.fireListener(e,new n.events.BrowserEvent(t,this))},n.events.markIeEvent_=function(e){var t=!1;if(0==e.keyCode)try{return void(e.keyCode=-1)}catch(e){t=!0}(t||void 0==e.returnValue)&&(e.returnValue=!0)},n.events.isMarkedIeEvent_=function(e){return 0>e.keyCode||void 0!=e.returnValue},n.events.uniqueIdCounter_=0,n.events.getUniqueId=function(e){return e+"_"+n.events.uniqueIdCounter_++},n.events.getListenerMap_=function(e){return e=e[n.events.LISTENER_MAP_PROP_],e instanceof n.events.ListenerMap?e:null},n.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),n.events.wrapListener=function(e){return n.asserts.assert(e,"Listener can not be null."),n.isFunction(e)?e:(n.asserts.assert(e.handleEvent,"An object listener must have handleEvent method."),e[n.events.LISTENER_WRAPPER_PROP_]||(e[n.events.LISTENER_WRAPPER_PROP_]=function(t){return e.handleEvent(t)}))},n.debug.entryPointRegistry.register(function(e){n.events.handleBrowserEvent_=e(n.events.handleBrowserEvent_)}),n.events.EventHandler=function(e){n.Disposable.call(this),this.handler_=e,this.keys_={}},n.inherits(n.events.EventHandler,n.Disposable),n.events.EventHandler.typeArray_=[],n.events.EventHandler.prototype.listen=function(e,t,n,r){return this.listen_(e,t,n,r)},n.events.EventHandler.prototype.listenWithScope=function(e,t,n,r,i){return this.listen_(e,t,n,r,i)},n.events.EventHandler.prototype.listen_=function(e,t,r,i,o){n.isArray(t)||(t&&(n.events.EventHandler.typeArray_[0]=t.toString()),t=n.events.EventHandler.typeArray_);for(var s=0;s<t.length;s++){var a=n.events.listen(e,t[s],r||this.handleEvent,i||!1,o||this.handler_||this);if(!a)break;this.keys_[a.key]=a}return this},n.events.EventHandler.prototype.listenOnce=function(e,t,n,r){return this.listenOnce_(e,t,n,r)},n.events.EventHandler.prototype.listenOnceWithScope=function(e,t,n,r,i){return this.listenOnce_(e,t,n,r,i)},n.events.EventHandler.prototype.listenOnce_=function(e,t,r,i,o){if(n.isArray(t))for(var s=0;s<t.length;s++)this.listenOnce_(e,t[s],r,i,o);else{if(!(e=n.events.listenOnce(e,t,r||this.handleEvent,i,o||this.handler_||this)))return this;this.keys_[e.key]=e}return this},n.events.EventHandler.prototype.listenWithWrapper=function(e,t,n,r){return this.listenWithWrapper_(e,t,n,r)},n.events.EventHandler.prototype.listenWithWrapperAndScope=function(e,t,n,r,i){return this.listenWithWrapper_(e,t,n,r,i)},n.events.EventHandler.prototype.listenWithWrapper_=function(e,t,n,r,i){return t.listen(e,n,r,i||this.handler_||this,this),this},n.events.EventHandler.prototype.getListenerCount=function(){var e,t=0;for(e in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,e)&&t++;return t},n.events.EventHandler.prototype.unlisten=function(e,t,r,i,o){if(n.isArray(t))for(var s=0;s<t.length;s++)this.unlisten(e,t[s],r,i,o);else(e=n.events.getListener(e,t,r||this.handleEvent,i,o||this.handler_||this))&&(n.events.unlistenByKey(e),delete this.keys_[e.key]);return this},n.events.EventHandler.prototype.unlistenWithWrapper=function(e,t,n,r,i){return t.unlisten(e,n,r,i||this.handler_||this,this),this},n.events.EventHandler.prototype.removeAll=function(){n.object.forEach(this.keys_,n.events.unlistenByKey),this.keys_={}},n.events.EventHandler.prototype.disposeInternal=function(){n.events.EventHandler.superClass_.disposeInternal.call(this),this.removeAll()},n.events.EventHandler.prototype.handleEvent=function(e){throw Error("EventHandler.handleEvent not implemented")},n.style.bidi={},n.style.bidi.getScrollLeft=function(e){var t=n.style.isRightToLeft(e);return t&&n.userAgent.GECKO?-e.scrollLeft:!t||n.userAgent.IE&&n.userAgent.isVersionOrHigher("8")||"visible"==n.style.getComputedOverflowX(e)?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft},n.style.bidi.getOffsetStart=function(e){var t=e.offsetLeft,r=e.offsetParent;if(r||"fixed"!=n.style.getComputedPosition(e)||(r=n.dom.getOwnerDocument(e).documentElement),!r)return t;if(n.userAgent.GECKO)var i=n.style.getBorderBox(r),t=t+i.left;else n.userAgent.isDocumentModeOrHigher(8)&&(i=n.style.getBorderBox(r),t-=i.left);return n.style.isRightToLeft(r)?r.clientWidth-(t+e.offsetWidth):t},n.style.bidi.setScrollOffset=function(e,t){t=Math.max(t,0),n.style.isRightToLeft(e)?n.userAgent.GECKO?e.scrollLeft=-t:n.userAgent.IE&&n.userAgent.isVersionOrHigher("8")?e.scrollLeft=t:e.scrollLeft=e.scrollWidth-t-e.clientWidth:e.scrollLeft=t},n.style.bidi.setPosition=function(e,t,r,i){n.isNull(r)||(e.style.top=r+"px"),i?(e.style.right=t+"px",e.style.left=""):(e.style.left=t+"px",e.style.right="")},n.events.EventTarget=function(){n.Disposable.call(this),this.eventTargetListeners_=new n.events.ListenerMap(this),this.actualEventTarget_=this},n.inherits(n.events.EventTarget,n.Disposable),n.events.Listenable.addImplementation(n.events.EventTarget),n.events.EventTarget.MAX_ANCESTORS_=1e3,n.events.EventTarget.prototype.parentEventTarget_=null,n.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},n.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},n.events.EventTarget.prototype.addEventListener=function(e,t,r,i){n.events.listen(this,e,t,r,i)},n.events.EventTarget.prototype.removeEventListener=function(e,t,r,i){n.events.unlisten(this,e,t,r,i)},n.events.EventTarget.prototype.dispatchEvent=function(e){this.assertInitialized_();var t,r=this.getParentEventTarget();if(r){t=[];for(var i=1;r;r=r.getParentEventTarget())t.push(r),n.asserts.assert(++i<n.events.EventTarget.MAX_ANCESTORS_,"infinite loop")}return n.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,t)},n.events.EventTarget.prototype.disposeInternal=function(){n.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},n.events.EventTarget.prototype.listen=function(e,t,n,r){return this.assertInitialized_(),this.eventTargetListeners_.add(String(e),t,!1,n,r)},n.events.EventTarget.prototype.listenOnce=function(e,t,n,r){return this.eventTargetListeners_.add(String(e),t,!0,n,r)},n.events.EventTarget.prototype.unlisten=function(e,t,n,r){return this.eventTargetListeners_.remove(String(e),t,n,r)},n.events.EventTarget.prototype.unlistenByKey=function(e){return this.eventTargetListeners_.removeByKey(e)},n.events.EventTarget.prototype.removeAllListeners=function(e){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(e):0},n.events.EventTarget.prototype.fireListeners=function(e,t,n){if(!(e=this.eventTargetListeners_.listeners[String(e)]))return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.removed&&o.capture==t){var s=o.listener,a=o.handler||o.src;o.callOnce&&this.unlistenByKey(o),r=!1!==s.call(a,n)&&r}}return r&&0!=n.returnValue_},n.events.EventTarget.prototype.getListeners=function(e,t){return this.eventTargetListeners_.getListeners(String(e),t)},n.events.EventTarget.prototype.getListener=function(e,t,n,r){return this.eventTargetListeners_.getListener(String(e),t,n,r)},n.events.EventTarget.prototype.hasListener=function(e,t){var r=n.isDef(e)?String(e):void 0;return this.eventTargetListeners_.hasListener(r,t)},n.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},n.events.EventTarget.prototype.assertInitialized_=function(){n.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},n.events.EventTarget.dispatchEventInternal_=function(e,t,r){var i=t.type||t;if(n.isString(t))t=new n.events.Event(t,e);else if(t instanceof n.events.Event)t.target=t.target||e;else{var o=t;t=new n.events.Event(i,e),n.object.extend(t,o)}var s,o=!0;if(r)for(var a=r.length-1;!t.propagationStopped_&&0<=a;a--)s=t.currentTarget=r[a],o=s.fireListeners(i,!0,t)&&o;if(t.propagationStopped_||(s=t.currentTarget=e,o=s.fireListeners(i,!0,t)&&o,t.propagationStopped_||(o=s.fireListeners(i,!1,t)&&o)),r)for(a=0;!t.propagationStopped_&&a<r.length;a++)s=t.currentTarget=r[a],o=s.fireListeners(i,!1,t)&&o;return o},n.fx={},n.fx.Dragger=function(e,t,r){n.events.EventTarget.call(this),this.target=e,this.handle=t||e,this.limits=r||new n.math.Rect(NaN,NaN,NaN,NaN),this.document_=n.dom.getOwnerDocument(e),this.eventHandler_=new n.events.EventHandler(this),this.registerDisposable(this.eventHandler_),n.events.listen(this.handle,[n.events.EventType.TOUCHSTART,n.events.EventType.MOUSEDOWN],this.startDrag,!1,this)},n.inherits(n.fx.Dragger,n.events.EventTarget),n.fx.Dragger.HAS_SET_CAPTURE_=n.userAgent.IE||n.userAgent.GECKO&&n.userAgent.isVersionOrHigher("1.9.3"),n.fx.Dragger.cloneNode=function(e){for(var t=e.cloneNode(!0),r=e.getElementsByTagName("textarea"),i=t.getElementsByTagName("textarea"),o=0;o<r.length;o++)i[o].value=r[o].value;switch(e.tagName.toLowerCase()){case"tr":return n.dom.createDom("table",null,n.dom.createDom("tbody",null,t));case"td":case"th":return n.dom.createDom("table",null,n.dom.createDom("tbody",null,n.dom.createDom("tr",null,t)));case"textarea":t.value=e.value;default:return t}},n.fx.Dragger.EventType={EARLY_CANCEL:"earlycancel",START:"start",BEFOREDRAG:"beforedrag",DRAG:"drag",END:"end"},n.fx.Dragger.prototype.clientX=0,n.fx.Dragger.prototype.clientY=0,n.fx.Dragger.prototype.screenX=0,n.fx.Dragger.prototype.screenY=0,n.fx.Dragger.prototype.startX=0,n.fx.Dragger.prototype.startY=0;n.fx.Dragger.prototype.deltaX=0,n.fx.Dragger.prototype.deltaY=0,n.fx.Dragger.prototype.enabled_=!0,n.fx.Dragger.prototype.dragging_=!1,n.fx.Dragger.prototype.hysteresisDistanceSquared_=0,n.fx.Dragger.prototype.mouseDownTime_=0,n.fx.Dragger.prototype.ieDragStartCancellingOn_=!1,n.fx.Dragger.prototype.useRightPositioningForRtl_=!1,n.fx.Dragger.prototype.enableRightPositioningForRtl=function(e){this.useRightPositioningForRtl_=e},n.fx.Dragger.prototype.getHandler=function(){return this.eventHandler_},n.fx.Dragger.prototype.setLimits=function(e){this.limits=e||new n.math.Rect(NaN,NaN,NaN,NaN)},n.fx.Dragger.prototype.setHysteresis=function(e){this.hysteresisDistanceSquared_=Math.pow(e,2)},n.fx.Dragger.prototype.getHysteresis=function(){return Math.sqrt(this.hysteresisDistanceSquared_)},n.fx.Dragger.prototype.setScrollTarget=function(e){this.scrollTarget_=e},n.fx.Dragger.prototype.setCancelIeDragStart=function(e){this.ieDragStartCancellingOn_=e},n.fx.Dragger.prototype.getEnabled=function(){return this.enabled_},n.fx.Dragger.prototype.setEnabled=function(e){this.enabled_=e},n.fx.Dragger.prototype.disposeInternal=function(){n.fx.Dragger.superClass_.disposeInternal.call(this),n.events.unlisten(this.handle,[n.events.EventType.TOUCHSTART,n.events.EventType.MOUSEDOWN],this.startDrag,!1,this),this.cleanUpAfterDragging_(),this.handle=this.target=null},n.fx.Dragger.prototype.isRightToLeft_=function(){return n.isDef(this.rightToLeft_)||(this.rightToLeft_=n.style.isRightToLeft(this.target)),this.rightToLeft_},n.fx.Dragger.prototype.startDrag=function(e){var t=e.type==n.events.EventType.MOUSEDOWN;if(!this.enabled_||this.dragging_||t&&!e.isMouseActionButton())this.dispatchEvent(n.fx.Dragger.EventType.EARLY_CANCEL);else{if(this.maybeReinitTouchEvent_(e),0==this.hysteresisDistanceSquared_){if(!this.fireDragStart_(e))return;this.dragging_=!0,e.preventDefault()}else e.preventDefault();this.setupDragHandlers(),this.clientX=this.startX=e.clientX,this.clientY=this.startY=e.clientY,this.screenX=e.screenX,this.screenY=e.screenY,this.computeInitialPosition(),this.pageScroll=n.dom.getDomHelper(this.document_).getDocumentScroll(),this.mouseDownTime_=n.now()}},n.fx.Dragger.prototype.setupDragHandlers=function(){var e=this.document_,t=e.documentElement,r=!n.fx.Dragger.HAS_SET_CAPTURE_;this.eventHandler_.listen(e,[n.events.EventType.TOUCHMOVE,n.events.EventType.MOUSEMOVE],this.handleMove_,r),this.eventHandler_.listen(e,[n.events.EventType.TOUCHEND,n.events.EventType.MOUSEUP],this.endDrag,r),n.fx.Dragger.HAS_SET_CAPTURE_?(t.setCapture(!1),this.eventHandler_.listen(t,n.events.EventType.LOSECAPTURE,this.endDrag)):this.eventHandler_.listen(n.dom.getWindow(e),n.events.EventType.BLUR,this.endDrag),n.userAgent.IE&&this.ieDragStartCancellingOn_&&this.eventHandler_.listen(e,n.events.EventType.DRAGSTART,n.events.Event.preventDefault),this.scrollTarget_&&this.eventHandler_.listen(this.scrollTarget_,n.events.EventType.SCROLL,this.onScroll_,r)},n.fx.Dragger.prototype.fireDragStart_=function(e){return this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.START,this,e.clientX,e.clientY,e))},n.fx.Dragger.prototype.cleanUpAfterDragging_=function(){this.eventHandler_.removeAll(),n.fx.Dragger.HAS_SET_CAPTURE_&&this.document_.releaseCapture()},n.fx.Dragger.prototype.endDrag=function(e,t){if(this.cleanUpAfterDragging_(),this.dragging_){this.maybeReinitTouchEvent_(e),this.dragging_=!1;var r=this.limitX(this.deltaX),i=this.limitY(this.deltaY);this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.END,this,e.clientX,e.clientY,e,r,i,t||e.type==n.events.EventType.TOUCHCANCEL))}else this.dispatchEvent(n.fx.Dragger.EventType.EARLY_CANCEL)},n.fx.Dragger.prototype.endDragCancel=function(e){this.endDrag(e,!0)},n.fx.Dragger.prototype.maybeReinitTouchEvent_=function(e){var t=e.type;t==n.events.EventType.TOUCHSTART||t==n.events.EventType.TOUCHMOVE?e.init(e.getBrowserEvent().targetTouches[0],e.currentTarget):t!=n.events.EventType.TOUCHEND&&t!=n.events.EventType.TOUCHCANCEL||e.init(e.getBrowserEvent().changedTouches[0],e.currentTarget)},n.fx.Dragger.prototype.handleMove_=function(e){if(this.enabled_){this.maybeReinitTouchEvent_(e);var t=(this.useRightPositioningForRtl_&&this.isRightToLeft_()?-1:1)*(e.clientX-this.clientX),r=e.clientY-this.clientY;if(this.clientX=e.clientX,this.clientY=e.clientY,this.screenX=e.screenX,this.screenY=e.screenY,!this.dragging_){var i=this.startX-this.clientX,o=this.startY-this.clientY;if(i*i+o*o>this.hysteresisDistanceSquared_){if(!this.fireDragStart_(e))return void(this.isDisposed()||this.endDrag(e));this.dragging_=!0}}r=this.calculatePosition_(t,r),t=r.x,r=r.y,this.dragging_&&this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.BEFOREDRAG,this,e.clientX,e.clientY,e,t,r))&&(this.doDrag(e,t,r,!1),e.preventDefault())}},n.fx.Dragger.prototype.calculatePosition_=function(e,t){var r=n.dom.getDomHelper(this.document_).getDocumentScroll();e+=r.x-this.pageScroll.x,t+=r.y-this.pageScroll.y,this.pageScroll=r,this.deltaX+=e,this.deltaY+=t;var r=this.limitX(this.deltaX),i=this.limitY(this.deltaY);return new n.math.Coordinate(r,i)},n.fx.Dragger.prototype.onScroll_=function(e){var t=this.calculatePosition_(0,0);e.clientX=this.clientX,e.clientY=this.clientY,this.doDrag(e,t.x,t.y,!0)},n.fx.Dragger.prototype.doDrag=function(e,t,r,i){this.defaultAction(t,r),this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.DRAG,this,e.clientX,e.clientY,e,t,r))},n.fx.Dragger.prototype.limitX=function(e){var t=this.limits,n=isNaN(t.left)?null:t.left,t=isNaN(t.width)?0:t.width;return Math.min(null!=n?n+t:1/0,Math.max(null!=n?n:-1/0,e))},n.fx.Dragger.prototype.limitY=function(e){var t=this.limits,n=isNaN(t.top)?null:t.top,t=isNaN(t.height)?0:t.height;return Math.min(null!=n?n+t:1/0,Math.max(null!=n?n:-1/0,e))},n.fx.Dragger.prototype.computeInitialPosition=function(){this.deltaX=this.useRightPositioningForRtl_?n.style.bidi.getOffsetStart(this.target):this.target.offsetLeft,this.deltaY=this.target.offsetTop},n.fx.Dragger.prototype.defaultAction=function(e,t){this.useRightPositioningForRtl_&&this.isRightToLeft_()?this.target.style.right=e+"px":this.target.style.left=e+"px",this.target.style.top=t+"px"},n.fx.Dragger.prototype.isDragging=function(){return this.dragging_},n.fx.DragEvent=function(e,t,r,i,o,s,a,l){n.events.Event.call(this,e),this.clientX=r,this.clientY=i,this.browserEvent=o,this.left=n.isDef(s)?s:t.deltaX,this.top=n.isDef(a)?a:t.deltaY,this.dragger=t,this.dragCanceled=!!l},n.inherits(n.fx.DragEvent,n.events.Event),n.math.AffineTransform=function(e,t,n,r,i,o){if(6==arguments.length)this.setTransform(e,t,n,r,i,o);else{if(0!=arguments.length)throw Error("Insufficient matrix parameters");this.m00_=this.m11_=1,this.m10_=this.m01_=this.m02_=this.m12_=0}},n.math.AffineTransform.prototype.isIdentity=function(){return 1==this.m00_&&0==this.m10_&&0==this.m01_&&1==this.m11_&&0==this.m02_&&0==this.m12_},n.math.AffineTransform.prototype.clone=function(){return new n.math.AffineTransform(this.m00_,this.m10_,this.m01_,this.m11_,this.m02_,this.m12_)},n.math.AffineTransform.prototype.setTransform=function(e,t,r,i,o,s){if(!(n.isNumber(e)&&n.isNumber(t)&&n.isNumber(r)&&n.isNumber(i)&&n.isNumber(o)&&n.isNumber(s)))throw Error("Invalid transform parameters");return this.m00_=e,this.m10_=t,this.m01_=r,this.m11_=i,this.m02_=o,this.m12_=s,this},n.math.AffineTransform.prototype.copyFrom=function(e){return this.m00_=e.m00_,this.m10_=e.m10_,this.m01_=e.m01_,this.m11_=e.m11_,this.m02_=e.m02_,this.m12_=e.m12_,this},n.math.AffineTransform.prototype.scale=function(e,t){return this.m00_*=e,this.m10_*=e,this.m01_*=t,this.m11_*=t,this},n.math.AffineTransform.prototype.preScale=function(e,t){return this.m00_*=e,this.m01_*=e,this.m02_*=e,this.m10_*=t,this.m11_*=t,this.m12_*=t,this},n.math.AffineTransform.prototype.translate=function(e,t){return this.m02_+=e*this.m00_+t*this.m01_,this.m12_+=e*this.m10_+t*this.m11_,this},n.math.AffineTransform.prototype.preTranslate=function(e,t){return this.m02_+=e,this.m12_+=t,this},n.math.AffineTransform.prototype.rotate=function(e,t,r){return this.concatenate(n.math.AffineTransform.getRotateInstance(e,t,r))},n.math.AffineTransform.prototype.preRotate=function(e,t,r){return this.preConcatenate(n.math.AffineTransform.getRotateInstance(e,t,r))},n.math.AffineTransform.prototype.shear=function(e,t){var n=this.m00_,r=this.m10_;return this.m00_+=t*this.m01_,this.m10_+=t*this.m11_,this.m01_+=e*n,this.m11_+=e*r,this},n.math.AffineTransform.prototype.preShear=function(e,t){var n=this.m00_,r=this.m01_,i=this.m02_;return this.m00_+=e*this.m10_,this.m01_+=e*this.m11_,this.m02_+=e*this.m12_,this.m10_+=t*n,this.m11_+=t*r,this.m12_+=t*i,this},n.math.AffineTransform.prototype.toString=function(){return"matrix("+[this.m00_,this.m10_,this.m01_,this.m11_,this.m02_,this.m12_].join()+")"},n.math.AffineTransform.prototype.getScaleX=function(){return this.m00_},n.math.AffineTransform.prototype.getScaleY=function(){return this.m11_},n.math.AffineTransform.prototype.getTranslateX=function(){return this.m02_},n.math.AffineTransform.prototype.getTranslateY=function(){return this.m12_},n.math.AffineTransform.prototype.getShearX=function(){return this.m01_},n.math.AffineTransform.prototype.getShearY=function(){return this.m10_},n.math.AffineTransform.prototype.concatenate=function(e){var t=this.m00_,n=this.m01_;return this.m00_=e.m00_*t+e.m10_*n,this.m01_=e.m01_*t+e.m11_*n,this.m02_+=e.m02_*t+e.m12_*n,t=this.m10_,n=this.m11_,this.m10_=e.m00_*t+e.m10_*n,this.m11_=e.m01_*t+e.m11_*n,this.m12_+=e.m02_*t+e.m12_*n,this},n.math.AffineTransform.prototype.preConcatenate=function(e){var t=this.m00_,n=this.m10_;return this.m00_=e.m00_*t+e.m01_*n,this.m10_=e.m10_*t+e.m11_*n,t=this.m01_,n=this.m11_,this.m01_=e.m00_*t+e.m01_*n,this.m11_=e.m10_*t+e.m11_*n,t=this.m02_,n=this.m12_,this.m02_=e.m00_*t+e.m01_*n+e.m02_,this.m12_=e.m10_*t+e.m11_*n+e.m12_,this},n.math.AffineTransform.prototype.transform=function(e,t,n,r,i){var o=t;for(t+=2*i;o<t;){i=e[o++];var s=e[o++];n[r++]=i*this.m00_+s*this.m01_+this.m02_,n[r++]=i*this.m10_+s*this.m11_+this.m12_}},n.math.AffineTransform.prototype.getDeterminant=function(){return this.m00_*this.m11_-this.m01_*this.m10_},n.math.AffineTransform.prototype.isInvertible=function(){var e=this.getDeterminant();return n.math.isFiniteNumber(e)&&n.math.isFiniteNumber(this.m02_)&&n.math.isFiniteNumber(this.m12_)&&0!=e},n.math.AffineTransform.prototype.createInverse=function(){var e=this.getDeterminant();return new n.math.AffineTransform(this.m11_/e,-this.m10_/e,-this.m01_/e,this.m00_/e,(this.m01_*this.m12_-this.m11_*this.m02_)/e,(this.m10_*this.m02_-this.m00_*this.m12_)/e)},n.math.AffineTransform.getScaleInstance=function(e,t){return(new n.math.AffineTransform).setToScale(e,t)},n.math.AffineTransform.getTranslateInstance=function(e,t){return(new n.math.AffineTransform).setToTranslation(e,t)},n.math.AffineTransform.getShearInstance=function(e,t){return(new n.math.AffineTransform).setToShear(e,t)},n.math.AffineTransform.getRotateInstance=function(e,t,r){return(new n.math.AffineTransform).setToRotation(e,t,r)},n.math.AffineTransform.prototype.setToScale=function(e,t){return this.setTransform(e,0,0,t,0,0)},n.math.AffineTransform.prototype.setToTranslation=function(e,t){return this.setTransform(1,0,0,1,e,t)},n.math.AffineTransform.prototype.setToShear=function(e,t){return this.setTransform(1,t,e,1,0,0)},n.math.AffineTransform.prototype.setToRotation=function(e,t,n){var r=Math.cos(e);return e=Math.sin(e),this.setTransform(r,e,-e,r,t-t*r+n*e,n-t*e-n*r)},n.math.AffineTransform.prototype.equals=function(e){return this==e||!!e&&(this.m00_==e.m00_&&this.m01_==e.m01_&&this.m02_==e.m02_&&this.m10_==e.m10_&&this.m11_==e.m11_&&this.m12_==e.m12_)},r.drawing.tool={},r.drawing.tool.Tool=function(e,t,n){this.drawing_=e,this.isActive_=!1,this.element_=t,this.canvas_=n},r.drawing.tool.Tool.prototype.isActive=function(){return this.isActive_},r.drawing.tool.Tool.prototype.getCanvas=function(){return this.canvas_},r.drawing.tool.Magnifier=function(e,t,i,o,s){r.drawing.tool.Tool.call(this,e,t,i),this.group_=o,this.image_=s,this.width_=110,this.height_=100,this.ctm_=new n.math.AffineTransform},n.inherits(r.drawing.tool.Magnifier,r.drawing.tool.Tool),r.drawing.tool.Magnifier.prototype.hide=function(){n.style.setStyle(this.element_,"display","none"),this.isActive_=!1},r.drawing.tool.Magnifier.prototype.show=function(){n.style.setStyle(this.element_,"display","block"),this.isActive_=!0},r.drawing.tool.Magnifier.prototype.reset=function(){var e=this.canvas_;e.setWidth(this.width_),e.setHeight(this.height_),n.style.setStyle(this.element_,"position","absolute"),n.style.setStyle(this.element_,"display","block"),n.style.setStyle(this.element_,"z-index","1001"),n.style.setStyle(this.element_,"left","50px"),n.style.setStyle(this.element_,"top","50px"),n.style.setStyle(this.element_,"border","solid black 4px"),this.group_.draw()},r.drawing.tool.Magnifier.prototype.handleDrag_=function(e,t){var n;n=[t.deltaX+this.width_/2,t.deltaY];var i=Array(2),o=this.drawing_.getViewbox().getCTM(),s=this.drawing_.getEngine();if(o.createInverse().transform(n,0,i,0,1),n=this.ctm_.createInverse().translate(-i[0],-i[1]),s.typeOf(r.engine.CANVAS))s=this.canvas_.getElement(),i=s.getContext("2d"),i.save(),i.fillStyle="white",i.fillRect(0,0,s.width,s.height),i.beginPath(),r.canvas.setTransform_(i,n),this.group_.draw(),i.closePath(),i.restore();else if(s.typeOf(r.engine.SVG))r.svg.render(this.group_.getElement(),n);else{if(!s.typeOf(r.engine.VML))throw Error("Unknown engine.");r.vml.render(this.group_.getRaphael(),n)}},r.drawing.tool.Magnifier.prototype.registerDrag_=function(){var e=n.style.getSize(this.drawing_.getElement()),e=new n.math.Rect(0,0,e.width,e.height),t=new n.fx.Dragger(this.element_,this.element_,e);n.events.listen(t,n.events.EventType.DRAG,function(e){this.handleDrag_(e,t)},!1,this)},r.drawing.tool.Magnifier.create=function(e){var t=e.getGraphics(),i=e.getLayerBackground().getImage(),o=n.dom.createElement("div"),s=t.Canvas.create(e.getElement()),a=t.Group.create(s),t=t.Image.create(i.getImage(),s),i=new r.drawing.tool.Magnifier(e,o,s,a,t);return n.dom.appendChild(o,s.getElement()),s.addChild(a),a.addChildren(t),n.dom.appendChild(e.getElement(),o),i.reset(),i.registerDrag_(),i},r.drawing.LayerTool=function(e){r.drawing.Layer.call(this,e),this.magnifier_},n.inherits(r.drawing.LayerTool,r.drawing.Layer),r.drawing.LayerTool.prototype.toggleMagnifier=function(){this.magnifier_||(this.magnifier_=r.drawing.tool.Magnifier.create(this.drawing_)),this.magnifier_.isActive()?this.magnifier_.hide():this.magnifier_.show()},r.drawing.LayerTool.prototype.disposeInternal=function(){this.magnifier_=null,r.drawing.LayerTool.superClass_.disposeInternal.call(this)},n.events.MouseWheelHandler=function(e,t){n.events.EventTarget.call(this),this.element_=e;var r=n.dom.isElement(this.element_)?this.element_:this.element_?this.element_.body:null;this.isRtl_=!!r&&n.style.isRightToLeft(r),this.listenKey_=n.events.listen(this.element_,n.userAgent.GECKO?"DOMMouseScroll":"mousewheel",this,t)},n.inherits(n.events.MouseWheelHandler,n.events.EventTarget),n.events.MouseWheelHandler.EventType={MOUSEWHEEL:"mousewheel"},n.events.MouseWheelHandler.prototype.setMaxDeltaX=function(e){this.maxDeltaX_=e},n.events.MouseWheelHandler.prototype.setMaxDeltaY=function(e){this.maxDeltaY_=e},n.events.MouseWheelHandler.prototype.handleEvent=function(e){var t=0,r=0,i=0;e=e.getBrowserEvent(),"mousewheel"==e.type?(r=1,(n.userAgent.IE||n.userAgent.WEBKIT&&(n.userAgent.WINDOWS||n.userAgent.isVersionOrHigher("532.0")))&&(r=40),i=n.events.MouseWheelHandler.smartScale_(-e.wheelDelta,r),n.isDef(e.wheelDeltaX)?(t=n.events.MouseWheelHandler.smartScale_(-e.wheelDeltaX,r),r=n.events.MouseWheelHandler.smartScale_(-e.wheelDeltaY,r)):r=i):(i=e.detail,100<i?i=3:-100>i&&(i=-3),n.isDef(e.axis)&&e.axis===e.HORIZONTAL_AXIS?t=i:r=i),n.isNumber(this.maxDeltaX_)&&(t=n.math.clamp(t,-this.maxDeltaX_,this.maxDeltaX_)),n.isNumber(this.maxDeltaY_)&&(r=n.math.clamp(r,-this.maxDeltaY_,this.maxDeltaY_)),this.isRtl_&&(t=-t),t=new n.events.MouseWheelEvent(i,e,t,r),this.dispatchEvent(t)},n.events.MouseWheelHandler.smartScale_=function(e,t){return n.userAgent.WEBKIT&&(n.userAgent.MAC||n.userAgent.LINUX)&&0!=e%t?e:e/t},n.events.MouseWheelHandler.prototype.disposeInternal=function(){n.events.MouseWheelHandler.superClass_.disposeInternal.call(this),n.events.unlistenByKey(this.listenKey_),this.listenKey_=null},n.events.MouseWheelEvent=function(e,t,r,i){n.events.BrowserEvent.call(this,t),this.type=n.events.MouseWheelHandler.EventType.MOUSEWHEEL,this.detail=e,this.deltaX=r,this.deltaY=i},n.inherits(n.events.MouseWheelEvent,n.events.BrowserEvent),n.Timer=function(e,t){n.events.EventTarget.call(this),this.interval_=e||1,this.timerObject_=t||n.Timer.defaultTimerObject,this.boundTick_=n.bind(this.tick_,this),this.last_=n.now()},n.inherits(n.Timer,n.events.EventTarget),n.Timer.MAX_TIMEOUT_=2147483647,n.Timer.prototype.enabled=!1,n.Timer.defaultTimerObject=n.global,n.Timer.intervalScale=.8,n.Timer.prototype.timer_=null,n.Timer.prototype.getInterval=function(){return this.interval_},n.Timer.prototype.setInterval=function(e){this.interval_=e,this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()},n.Timer.prototype.tick_=function(){if(this.enabled){var e=n.now()-this.last_;0<e&&e<this.interval_*n.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-e):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=n.now()))}},n.Timer.prototype.dispatchTick=function(){this.dispatchEvent(n.Timer.TICK)},n.Timer.prototype.start=function(){this.enabled=!0,this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=n.now())},n.Timer.prototype.stop=function(){this.enabled=!1,this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)},n.Timer.prototype.disposeInternal=function(){n.Timer.superClass_.disposeInternal.call(this),this.stop(),delete this.timerObject_},n.Timer.TICK="tick",n.Timer.callOnce=function(e,t,r){if(n.isFunction(e))r&&(e=n.bind(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=n.bind(e.handleEvent,e)}return t>n.Timer.MAX_TIMEOUT_?-1:n.Timer.defaultTimerObject.setTimeout(e,t||0)},n.Timer.clear=function(e){n.Timer.defaultTimerObject.clearTimeout(e)},r.event={},r.event.Type=function(){},r.event.Type.CLICK=n.userAgent.MOBILE?n.events.EventType.TOUCHSTART:n.events.EventType.CLICK,r.event.Type.DBLCLICK=n.events.EventType.DBLCLICK,r.event.Type.DOWN=n.userAgent.MOBILE?n.events.EventType.TOUCHSTART:n.events.EventType.MOUSEDOWN,r.event.Type.IN=n.events.EventType.MOUSEOVER,r.event.Type.INPUT=function(){return n.userAgent.IE&&!n.userAgent.isVersionOrHigher(9)?n.events.EventType.PROPERTYCHANGE:n.userAgent.IE&&n.userAgent.isVersionOrHigher(9)&&!n.userAgent.isVersionOrHigher(10)?n.events.EventType.KEYUP:n.events.EventType.INPUT}(),r.event.Type.MOVE=n.userAgent.MOBILE?n.events.EventType.TOUCHMOVE:n.events.EventType.MOUSEMOVE,r.event.Type.OUT=n.events.EventType.MOUSEOUT,r.event.Type.UP=n.userAgent.MOBILE?n.events.EventType.TOUCHEND:n.events.EventType.MOUSEUP,r.event.Type.WHEEL=n.events.MouseWheelHandler.EventType.MOUSEWHEEL,r.drawing.Cursor=function(e){n.Disposable.call(this),this.drawing_=e,this.event_=this.shapes_=this.shape_=this.pointTransformed_=this.point=null},n.inherits(r.drawing.Cursor,n.Disposable),r.drawing.Cursor.prototype.getPoint=function(){return null===this.point_&&this.calculatePoint_(),this.point_},r.drawing.Cursor.prototype.getPointTransformed=function(){return null===this.pointTransformed_&&this.calculatePointTransformed_(),this.pointTransformed_},r.drawing.Cursor.prototype.getShape=function(){return null===this.shape_&&this.calculateShape_(),this.shape_},r.drawing.Cursor.prototype.getShapes=function(){return null===this.shapes_&&this.calculateShapes_(),this.shapes_},r.drawing.Cursor.prototype.calculatePoint_=function(){this.point_=this.drawing_.getOffsetPoint(this.event_)},r.drawing.Cursor.prototype.calculatePointTransformed_=function(){null===this.point_&&this.calculatePoint_(),this.pointTransformed_=this.drawing_.getViewbox().getCTM().transformPoint(this.point_)},r.drawing.Cursor.prototype.calculateShape_=function(){null===this.pointTransformed_&&this.calculatePointTransformed_(),this.shape_=this.drawing_.getShapeSelected(this.pointTransformed_)},r.drawing.Cursor.prototype.calculateShapes_=function(){null===this.pointTransformed_&&this.calculatePointTransformed_(),this.shapes_=this.drawing_.getShapesSelected(this.pointTransformed_)},r.drawing.Cursor.prototype.init=function(e){this.shapes_=this.shape_=this.pointTransformed_=this.point_=null,this.event_=e},r.event.Handler={CLICK:"handleClick",DBLCLICK:"handleDblClick",DOWN:"handleDown",IN:"handleIn",INPUT:"handleInput",MOVE:"handleMove",OUT:"handleOut",UP:"handleUp",WHEEL:"handleWheel"},r.geometry.Rect=function(){r.geometry.Geometry.call(this),this.height=this.width=this.y=this.x=0},n.inherits(r.geometry.Rect,r.geometry.Geometry),r.geometry.Rect.prototype.getBox=function(){return new n.math.Box(this.y,this.x+this.width,this.y+this.height,this.x)},r.geometry.Rect.prototype.containsPoint=function(e){return e[0]>=this.x&&e[1]>=this.y&&e[0]<=this.x+this.width&&e[1]<=this.y+this.height},r.geometry.Rect.prototype.disposeInternal=function(){r.geometry.Rect.superClass_.disposeInternal.call(this)},r.shape.Image=function(e){r.shape.Geometry.call(this,e,new r.geometry.Rect),this.engineElement_=this.drawing_.getEngine().createImage()},n.inherits(r.shape.Image,r.shape.Geometry),r.shape.Image.prototype.getImage=function(){return this.image_},r.shape.Image.prototype.setImage=function(e){this.image_=e,this.geometry_.width=e.naturalWidth,this.geometry_.height=e.naturalHeight},r.shape.Image.prototype.getHeight=function(){return this.geometry_.height},r.shape.Image.prototype.getWidth=function(){return this.geometry_.width},r.shape.Image.prototype.draw=function(){this.startDrawing_(),this.image_&&this.engineElement_.draw(this.image_),this.finishDrawing_()},r.shape.Image.prototype.disposeInternal=function(){this.image_=null,r.shape.Image.superClass_.disposeInternal.call(this)},r.shape.Modifiable=function(e){r.shape.Style.call(this),this.shape_=e,this.dragger_=[],this.store_=new r.shape.Style,this.store_.setStyle(this.shape_),this.setStyle(this.shape_)},n.inherits(r.shape.Modifiable,r.shape.Style),r.shape.Modifiable.prototype.selectOn=function(){this.store_.setStyle(this.shape_),this.shape_.setStyle(this)},r.shape.Modifiable.prototype.selectOff=function(){this.shape_.setStyle(this.store_)},r.shape.Modifiable.prototype.getShape=function(){return this.shape_},r.shape.Modifiable.prototype.getDragger=function(){return this.dragger_},r.shape.Modifiable.prototype.setDragger=function(e){this.dragger_=e},r.shape.Modifiable.prototype.disposeInternal=function(){var e;for(this.shape_.dispose(),this.shape_=null;e=this.dragger_.pop();)e.dispose();this.dragger_=null,r.shape.Modifiable.superClass_.disposeInternal.call(this)},r.shape.Hoverable=function(e){r.shape.Style.call(this),this.shape_=e,this.store_=new r.shape.Style},n.inherits(r.shape.Hoverable,r.shape.Style),r.shape.Hoverable.prototype.hoverOn=function(){this.store_.setStyle(this.shape_),this.shape_.setStyle(this)},r.shape.Hoverable.prototype.hoverOff=function(){this.shape_.setStyle(this.store_)},r.shape.Hoverable.prototype.disposeInternal=function(){this.shape_.dispose(),this.shape_=null,this.store_.dispose(),this.store_=null,r.shape.Hoverable.superClass_.disposeInternal.call(this)},r.geometry.Ellipse=function(){r.geometry.Geometry.call(this),this.ry=this.rx=this.cy=this.cx=0},n.inherits(r.geometry.Ellipse,r.geometry.Geometry),r.geometry.Ellipse.prototype.containsPoint=function(e){return 1>=(e[0]-this.cx)*(e[0]-this.cx)/(this.rx*this.rx)+(e[1]-this.cy)*(e[1]-this.cy)/(this.ry*this.ry)},r.geometry.Ellipse.prototype.disposeInternal=function(){r.geometry.Ellipse.superClass_.disposeInternal.call(this)},r.shape.Creatable=function(e,t){this.target_=e,this.preview_=t},r.shape.Creatable.prototype.getTarget=function(){return this.target_},r.shape.Creatable.prototype.getPreview=function(){return this.preview_},r.shape.Creatable.prototype.setStyle=function(e){this.preview_.setStyle(e)},r.shape.Creatable.prototype.setFillColor=function(e){this.preview_.setFillColor(e)},r.shape.Creatable.prototype.setFillOpacity=function(e){this.preview_.setFillOpacity(e)},r.shape.Creatable.prototype.setStrokeColor=function(e){this.preview_.setStrokeColor(e)},r.shape.Creatable.prototype.setStrokeWidth=function(e){this.preview_.setStrokeWidth(e)},r.shape.Selectable=function(e){r.shape.Style.call(this),this.shape_=e,this.store_=new r.shape.Style},n.inherits(r.shape.Selectable,r.shape.Style),r.shape.Selectable.prototype.selectOn=function(){this.store_.setStyle(this.shape_),this.shape_.setStyle(this)},r.shape.Selectable.prototype.selectOff=function(){this.shape_.setStyle(this.store_)},r.shape.Selectable.prototype.disposeInternal=function(){this.shape_.dispose(),this.shape_=null,this.store_.dispose(),this.store_=null,r.shape.Selectable.superClass_.disposeInternal.call(this)},r.shape.Ellipse=function(e){r.shape.Geometry.call(this,e,new r.geometry.Ellipse),this.engineElement_=this.drawing_.getEngine().createEllipse()},n.inherits(r.shape.Ellipse,r.shape.Geometry),r.shape.Ellipse.prototype.getCenter=function(){return[this.geometry_.cx,this.geometry_.cy]},r.shape.Ellipse.prototype.setCenter=function(e,t){this.geometry_.cx=e,this.geometry_.cy=t},r.shape.Ellipse.prototype.getRadiusX=function(){return this.geometry_.rx},r.shape.Ellipse.prototype.setRadiusX=function(e){this.geometry_.rx=e},r.shape.Ellipse.prototype.getRadiusY=function(){return this.geometry_.ry},r.shape.Ellipse.prototype.setRadiusY=function(e){this.geometry_.ry=e},r.shape.Ellipse.prototype.getCoords=function(){return[this.getCenter()]},r.shape.Ellipse.prototype.setCoords=function(e){this.setCenter(e[0][0],e[0][1])},r.shape.Ellipse.prototype.draw=function(){this.startDrawing_();var e=this.getCenter();this.engineElement_.draw(e[0],e[1],this.getRadiusX(),this.getRadiusY(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},r.shape.Ellipse.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new r.shape.EllipseHoverable(this)),this.hoverable_},r.shape.Ellipse.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new r.shape.EllipseSelectable(this)),this.selectable_},r.shape.Ellipse.prototype.getModifiable=function(){return this.modifiable_||(this.modifiable_=new r.shape.EllipseModifiable(this)),this.modifiable_},r.shape.Ellipse.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new r.shape.EllipseCreatable(this)),this.creatable_},r.shape.Ellipse.prototype.disposeInternal=function(){r.shape.Ellipse.superClass_.disposeInternal.call(this)},r.shape.EllipseHoverable=function(e){r.shape.Hoverable.call(this,e)},n.inherits(r.shape.EllipseHoverable,r.shape.Hoverable),r.shape.EllipseHoverable.prototype.disposeInternal=function(){r.shape.EllipseHoverable.superClass_.disposeInternal.call(this)};r.shape.EllipseSelectable=function(e){r.shape.Selectable.call(this,e)},n.inherits(r.shape.EllipseSelectable,r.shape.Selectable),r.shape.EllipseSelectable.prototype.disposeInternal=function(){r.shape.EllipseSelectable.superClass_.disposeInternal.call(this)},r.shape.EllipseModifiable=function(e){r.shape.Modifiable.call(this,e),this.init_()},n.inherits(r.shape.EllipseModifiable,r.shape.Modifiable),r.shape.EllipseModifiable.prototype.setCoords=function(e){this.shape_.setCoords(e),this.dragger_[0].setCoordX(e[0][0]+this.shape_.getRadiusX()),this.dragger_[0].setCoordY(e[0][1]),this.dragger_[1].setCoordX(e[0][0]),this.dragger_[1].setCoordY(e[0][1]+this.shape_.getRadiusY())},r.shape.EllipseModifiable.prototype.setCoordAt=function(e,t){0===e?(this.dragger_[0].setCoordX(t[0]),this.shape_.setRadiusX(Math.abs(t[0]-this.shape_.getCenter()[0]))):(this.dragger_[1].setCoordY(t[1]),this.shape_.setRadiusY(Math.abs(t[1]-this.shape_.getCenter()[1])))},r.shape.EllipseModifiable.prototype.move=function(e,t){var n=this.shape_.getCoordsCopy();n[0][0]+=e,n[0][1]+=t,this.setCoords(n)},r.shape.EllipseModifiable.prototype.init_=function(){var e=this.shape_.getCenter(),t=this.shape_.getRadiusX(),n=this.shape_.getRadiusY(),i=new r.shape.Dragger(this,0);i.setCoords([[e[0]+t,e[1]]]),t=new r.shape.Dragger(this,1),t.setCoords([[e[0],e[1]+n]]),this.setDragger([i,t])},r.shape.EllipseModifiable.prototype.disposeInternal=function(){r.shape.EllipseModifiable.superClass_.disposeInternal.call(this)},r.shape.EllipseCreatable=function(e){r.shape.Creatable.call(this,e,new r.shape.Ellipse(e.getDrawing())),this.point_=Array(2)},n.inherits(r.shape.EllipseCreatable,r.shape.Creatable),r.shape.EllipseCreatable.prototype.getCoords=function(){return this.helper_.getCoords()},r.shape.EllipseCreatable.prototype.handleDown=function(e,t){var n=t.getPointTransformed();this.point_[0]=n[0],this.point_[1]=n[1],this.preview_.setCenter(n[0],n[1]),this.preview_.setRadiusX(0),this.preview_.setRadiusY(0),this.target_.getDrawing().handleShapeCreate([this.preview_])},r.shape.EllipseCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed(),r=n[0]-this.point_[0],i=n[1]-this.point_[1];this.preview_.setCenter(n[0]-r/2,n[1]-i/2),this.preview_.setRadiusX(Math.abs(r/2)),this.preview_.setRadiusY(Math.abs(i/2))},r.shape.EllipseCreatable.prototype.handleUp=function(e,t){var n=new r.shape.Ellipse(this.target_.getDrawing()),i=this.preview_.getCenter();n.setStyle(this.target_),n.setCenter(i[0],i[1]),n.setRadiusX(this.preview_.getRadiusX()),n.setRadiusY(this.preview_.getRadiusY()),this.target_.getDrawing().handleShapeCreated(n)},r.shape.EllipseCreatable.prototype.disposeInternal=function(){this.point_=null,r.shape.EllipseCreatable.superClass_.disposeInternal.call(this)},r.geometry.Line=function(){r.geometry.Geometry.call(this),this.y2=this.x2=this.y1=this.x1=0,this.arr_=[[this.x1,this.y1],[this.x2,this.y2]]},n.inherits(r.geometry.Line,r.geometry.Geometry),r.geometry.Line.containsPoint=function(e,t){var n,r,i,o,s=e[0][0],a=e[0][1],l=e[1][0],h=e[1][1];return s<l?(n=s,r=l):(n=l,r=s),a<h?(i=a,o=h):(i=h,o=a),!(t[0]<n-7||t[0]>r+7||t[1]<i-7||t[1]>o+7)&&(7>Math.abs(s-l)?7>Math.abs(t[0]-s):7>Math.abs(a-h)?7>Math.abs(t[1]-a):(n=(h-a)/(l-s),7>Math.abs(t[1]-(n*t[0]+(a-n*s)))))},r.geometry.Line.prototype.containsPoint=function(e){return this.arr_[0][0]=this.x1,this.arr_[0][1]=this.y1,this.arr_[1][0]=this.x2,this.arr_[1][1]=this.y2,r.geometry.Line.containsPoint(this.arr_,e)},r.geometry.Line.prototype.disposeInternal=function(){this.arr_=null,r.geometry.Line.superClass_.disposeInternal.call(this)},r.geometry.Polyline=function(e){if(r.geometry.Geometry.call(this),this.coords=void 0===e?[]:Array(e),void 0!==e)for(var t=0;t<e;t++)this.coords[t]=Array(2)},n.inherits(r.geometry.Polyline,r.geometry.Geometry),r.geometry.Polyline.prototype.containsPoint=function(e){for(var t=!1,n=0,i=this.coords.length-1;n<i&&!0!==(t=r.geometry.Line.containsPoint([this.coords[n],this.coords[n+1]],e));n++);return t},r.geometry.Polyline.prototype.disposeInternal=function(){this.coords=null,r.geometry.Polyline.superClass_.disposeInternal.call(this)},r.shape.PathLike=function(e,t){r.shape.Geometry.call(this,e,t)},n.inherits(r.shape.PathLike,r.shape.Geometry),r.shape.PathLike.prototype.setCoords=function(e){this.geometry_.coords=e},r.shape.PathLike.prototype.getCoords=function(e){return this.geometry_.coords},r.shape.PathLike.prototype.setCoordAt=function(e,t){this.geometry_.coords[e][0]=t[0],this.geometry_.coords[e][1]=t[1]},r.shape.PathLike.prototype.setCoordXAt=function(e,t){this.geometry_.coords[e][0]=t},r.shape.PathLike.prototype.setCoordYAt=function(e,t){this.geometry_.coords[e][1]=t},r.shape.PathLike.prototype.setLastCoord=function(e){var t=this.geometry_.coords.length-1;this.geometry_.coords[t][0]=e[0],this.geometry_.coords[t][1]=e[1]},r.shape.PathLike.prototype.appendCoord=function(e){this.geometry_.coords.push(e)},r.shape.PathLike.prototype.disposeInternal=function(){r.shape.PathLike.superClass_.disposeInternal.call(this)},r.shape.Polyline=function(e){r.shape.PathLike.call(this,e,new r.geometry.Polyline),this.engineElement_=this.drawing_.getEngine().createPolyline()},n.inherits(r.shape.Polyline,r.shape.PathLike),r.shape.Polyline.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.getCoords(),this.getRenderingFillColor(),0,this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},r.shape.Polyline.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new r.shape.PolylineHoverable(this)),this.hoverable_},r.shape.Polyline.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new r.shape.PolylineSelectable(this)),this.selectable_},r.shape.Polyline.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new r.shape.PolylineModifiable(this)),this.modifiable_},r.shape.Polyline.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new r.shape.PolylineCreatable(this)),this.creatable_},r.shape.Polyline.prototype.disposeInternal=function(){r.shape.Polyline.superClass_.disposeInternal.call(this)},r.shape.PolylineHoverable=function(e){r.shape.Hoverable.call(this,e)},n.inherits(r.shape.PolylineHoverable,r.shape.Hoverable),r.shape.PolylineHoverable.prototype.disposeInternal=function(){r.shape.PolylineHoverable.superClass_.disposeInternal.call(this)},r.shape.PolylineSelectable=function(e){r.shape.Selectable.call(this,e)},n.inherits(r.shape.PolylineSelectable,r.shape.Selectable),r.shape.PolylineSelectable.prototype.disposeInternal=function(){r.shape.PolylineSelectable.superClass_.disposeInternal.call(this)},r.shape.PolylineModifiable=function(e,t){r.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(r.shape.PolylineModifiable,r.shape.Modifiable),r.shape.PolylineModifiable.prototype.setCoords=function(e,t){for(var n=0,r=this.dragger_.length;n<r;n++)n!==t&&(this.dragger_[n].setCoordX(e[n][0]),this.dragger_[n].setCoordY(e[n][1]));this.shape_.setCoords(e)},r.shape.PolylineModifiable.prototype.setCoordAt=function(e,t){this.dragger_[e].setCoordX(t[0]),this.dragger_[e].setCoordY(t[1]),this.shape_.setCoordXAt(e,t[0]),this.shape_.setCoordYAt(e,t[1])},r.shape.PolylineModifiable.prototype.init_=function(){for(var e,t=this.shape_.getCoords(),n=[],i=0,o=t.length;i<o;i++)e=new r.shape.Dragger(this,i),e.setCoords([t[i]]),n.push(e);this.setDragger(n)},r.shape.PolylineModifiable.prototype.disposeInternal=function(){r.shape.PolylineModifiable.superClass_.disposeInternal.call(this)},r.shape.PolylineModifiable.prototype.move=function(e,t){for(var n=this.shape_.getCoordsCopy(),r=0,i=n.length;r<i;r++)n[r][0]+=e,n[r][1]+=t;this.setCoords(n)},r.shape.PolylineCreatable=function(e){r.shape.Creatable.call(this,e,new r.shape.Polyline(e.getDrawing())),this.count_=0},n.inherits(r.shape.PolylineCreatable,r.shape.Creatable),r.shape.PolylineCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},r.shape.PolylineCreatable.prototype.handleDown=function(e,t){var r=t.getShape(),i=t.getPointTransformed();0===this.count_?(this.preview_.setCoords([i,n.array.clone(i)]),this.count_+=1,this.target_.getDrawing().handleShapeCreate([this.preview_])):this.close_&&r===this.close_&&1===this.count_||this.preview_.setLastCoord(i)},r.shape.PolylineCreatable.prototype.handleMove=function(e,t){var n=t.getShape(),r=t.getPointTransformed();0!==this.count_&&(this.preview_.setLastCoord(r),this.close_&&n===this.close_?(this.close_.setStrokeColor("red"),this.close_.setStrokeWidth(3)):this.close_&&(this.close_.setStrokeColor("black"),this.close_.setStrokeWidth(1)))},r.shape.PolylineCreatable.prototype.handleUp=function(e,t){var n=t.getShape(),i=t.getPointTransformed();this.close_&&n===this.close_?(n=new r.shape.Polyline(this.target_.getDrawing()),n.setStyle(this.target_),n.setCoords(this.preview_.getCoordsCopy().splice(0,this.count_)),this.target_.getDrawing().handleShapeCreated(n),this.close_=null,this.count_=0):(this.preview_.appendCoord(i),1===this.count_&&(this.close_=new r.shape.Dragger(this.target_.getModifiable(),0),this.target_.getDrawing().handleShapeCreate([this.close_])),this.close_.setCoords([i]),this.count_+=1)},r.shape.PolylineCreatable.prototype.disposeInternal=function(){this.close_.dispose(),this.close_=null,r.shape.PolylineCreatable.superClass_.disposeInternal.call(this)},r.geometry.Path=function(e){if(r.geometry.Geometry.call(this),this.coords=void 0===e?[]:Array(e),void 0!==e)for(var t=0;t<e;t++)this.coords[t]=Array(2)},n.inherits(r.geometry.Path,r.geometry.Geometry),r.geometry.Path.prototype.containsPoint=function(e){var t=e[0];e=e[1];for(var n,r,i=this.coords,o=!1,s=0,a=i.length-1;s<i.length;a=s++)n=i[s][0],yi=i[s][1],r=i[a][0],yj=i[a][1],(n=yi>e!=yj>e&&t<(r-n)*(e-yi)/(yj-yi)+n)&&(o=!o);return o},r.geometry.Path.prototype.disposeInternal=function(){this.coords=null,r.geometry.Path.superClass_.disposeInternal.call(this)},r.geometry.Circle=function(){r.geometry.Geometry.call(this),this.r=this.cy=this.cx=0},n.inherits(r.geometry.Circle,r.geometry.Geometry),r.geometry.Circle.prototype.containsPoint=function(e){return(this.cx-e[0])*(this.cx-e[0])+(this.cy-e[1])*(this.cy-e[1])<=this.r*this.r},r.geometry.Circle.prototype.disposeInternal=function(){r.geometry.Circle.superClass_.disposeInternal.call(this)},r.shape.Circle=function(e){r.shape.Geometry.call(this,e,new r.geometry.Circle),this.engineElement_=this.drawing_.getEngine().createCircle()},n.inherits(r.shape.Circle,r.shape.Geometry),r.shape.Circle.prototype.getCenter=function(){return[this.geometry_.cx,this.geometry_.cy]},r.shape.Circle.prototype.setCenter=function(e,t){this.geometry_.cx=e,this.geometry_.cy=t},r.shape.Circle.prototype.getRadius=function(){return this.geometry_.r},r.shape.Circle.prototype.setRadius=function(e){this.geometry_.r=e},r.shape.Circle.prototype.getCoords=function(){return[this.getCenter()]},r.shape.Circle.prototype.setCoords=function(e){this.setCenter(e[0][0],e[0][1])},r.shape.Circle.prototype.setCoordX=function(e){this.geometry_.cx=e},r.shape.Circle.prototype.setCoordY=function(e){this.geometry_.cy=e},r.shape.Circle.prototype.draw=function(){this.startDrawing_();var e=this.getCenter();this.engineElement_.draw(e[0],e[1],this.getRadius(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},r.shape.Circle.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new r.shape.CircleHoverable(this)),this.hoverable_},r.shape.Circle.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new r.shape.CircleSelectable(this)),this.selectable_},r.shape.Circle.prototype.getModifiable=function(){return this.modifiable_||(this.modifiable_=new r.shape.CircleModifiable(this)),this.modifiable_},r.shape.Circle.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new r.shape.CircleCreatable(this)),this.creatable_},r.shape.Circle.prototype.disposeInternal=function(){r.shape.Circle.superClass_.disposeInternal.call(this)},r.shape.CircleHoverable=function(e){r.shape.Hoverable.call(this,e)},n.inherits(r.shape.CircleHoverable,r.shape.Hoverable),r.shape.CircleHoverable.prototype.disposeInternal=function(){r.shape.CircleHoverable.superClass_.disposeInternal.call(this)},r.shape.CircleSelectable=function(e){r.shape.Selectable.call(this,e)},n.inherits(r.shape.CircleSelectable,r.shape.Selectable),r.shape.CircleSelectable.prototype.disposeInternal=function(){r.shape.CircleSelectable.superClass_.disposeInternal.call(this)},r.shape.CircleModifiable=function(e){r.shape.Modifiable.call(this,e),this.init_()},n.inherits(r.shape.CircleModifiable,r.shape.Modifiable),r.shape.CircleModifiable.prototype.setCoords=function(e){this.shape_.setCoords(e),this.dragger_[0].setCoordX(e[0][0]+this.shape_.getRadius()),this.dragger_[0].setCoordY(e[0][1])},r.shape.CircleModifiable.prototype.setCoordAt=function(e,t){this.shape_.setRadius(Math.abs(t[0]-this.shape_.getCenter()[0])),this.dragger_[0].setCoordX(t[0])},r.shape.CircleModifiable.prototype.move=function(e,t){var n=this.shape_.getCoordsCopy();n[0][0]+=e,n[0][1]+=t,this.setCoords(n)},r.shape.CircleModifiable.prototype.init_=function(){var e=this.shape_.getCenter(),t=this.shape_.getRadius(),n=new r.shape.Dragger(this,0);n.setCoords([[e[0]+t,e[1]]]),this.setDragger([n])},r.shape.CircleModifiable.prototype.disposeInternal=function(){r.shape.CircleModifiable.superClass_.disposeInternal.call(this)},r.shape.CircleCreatable=function(e){r.shape.Creatable.call(this,e,new r.shape.Circle(e.getDrawing())),this.point_=Array(2)},n.inherits(r.shape.CircleCreatable,r.shape.Creatable),r.shape.CircleCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},r.shape.CircleCreatable.prototype.handleDown=function(e,t){var n=t.getPointTransformed();this.point_[0]=n[0],this.point_[1]=n[1],this.preview_.setCenter(n[0],n[1]),this.preview_.setRadius(0),this.target_.getDrawing().handleShapeCreate([this.preview_])},r.shape.CircleCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed(),r=n[0]-this.point_[0],i=n[1]-this.point_[1];this.preview_.setCenter(n[0]-r/2,n[1]-i/2),this.preview_.setRadius(Math.sqrt(r*r+i*i)/2)},r.shape.CircleCreatable.prototype.handleUp=function(e,t){t.getPointTransformed();var n=new r.shape.Circle(this.target_.getDrawing()),i=this.preview_.getCenter();n.setStyle(this.target_),n.setCenter(i[0],i[1]),n.setRadius(this.preview_.getRadius()),this.target_.getDrawing().handleShapeCreated(n)},r.shape.CircleCreatable.prototype.disposeInternal=function(){this.point_=null,r.shape.CircleCreatable.superClass_.disposeInternal.call(this)},r.shape.Dragger=function(e,t){var n=e.getShape().getDrawing();r.shape.Circle.call(this,n,n.getEngine().createCircle(n.getCanvas().getEngineElement())),this.modifiable_=e,this.pos_=t,this.init_()},n.inherits(r.shape.Dragger,r.shape.Circle),r.shape.Dragger.prototype.setCoord=function(e){this.modifiable_.setCoordAt(this.pos_,e)},r.shape.Dragger.prototype.getPosition=function(){return this.pos_},r.shape.Dragger.prototype.getRadius=function(){return this.geometry_.r/this.zoomFactor_},r.shape.Dragger.prototype.init_=function(e,t){this.setRadius(3),this.setStrokeColor("black"),this.setStrokeWidth(1),this.setFillColor("white"),this.setFillOpacity(1)},r.shape.Dragger.prototype.disposeInternal=function(){n.dispose(this.modifiable_),this.modifiable_=null,r.shape.Dragger.superClass_.disposeInternal.call(this)},r.shape.Polygon=function(e){r.shape.PathLike.call(this,e,new r.geometry.Path),this.engineElement_=this.drawing_.getEngine().createPolygon()},n.inherits(r.shape.Polygon,r.shape.PathLike),r.shape.Polygon.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.getCoords(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},r.shape.Polygon.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new r.shape.PolygonHoverable(this)),this.hoverable_},r.shape.Polygon.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new r.shape.PolygonSelectable(this)),this.selectable_},r.shape.Polygon.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new r.shape.PolygonModifiable(this)),this.modifiable_},r.shape.Polygon.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new r.shape.PolygonCreatable(this)),this.creatable_},r.shape.Polygon.prototype.disposeInternal=function(){r.shape.Polygon.superClass_.disposeInternal.call(this)},r.shape.PolygonHoverable=function(e){r.shape.Hoverable.call(this,e)},n.inherits(r.shape.PolygonHoverable,r.shape.Hoverable),r.shape.PolygonHoverable.prototype.disposeInternal=function(){r.shape.PolygonHoverable.superClass_.disposeInternal.call(this)},r.shape.PolygonSelectable=function(e){r.shape.Selectable.call(this,e)},n.inherits(r.shape.PolygonSelectable,r.shape.Selectable),r.shape.PolygonSelectable.prototype.disposeInternal=function(){r.shape.PolygonSelectable.superClass_.disposeInternal.call(this)},r.shape.PolygonModifiable=function(e,t){r.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(r.shape.PolygonModifiable,r.shape.Modifiable),r.shape.PolygonModifiable.prototype.setCoords=function(e,t){for(var n=0,r=this.dragger_.length;n<r;n++)n!==t&&(this.dragger_[n].setCoordX(e[n][0]),this.dragger_[n].setCoordY(e[n][1]));this.shape_.setCoords(e)},r.shape.PolygonModifiable.prototype.setCoordAt=function(e,t){this.dragger_[e].setCoordX(t[0]),this.dragger_[e].setCoordY(t[1]),this.shape_.setCoordXAt(e,t[0]),this.shape_.setCoordYAt(e,t[1])},r.shape.PolygonModifiable.prototype.move=function(e,t){for(var n=this.shape_.getCoordsCopy(),r=0,i=n.length;r<i;r++)n[r][0]+=e,n[r][1]+=t;this.setCoords(n)},r.shape.PolygonModifiable.prototype.disposeInternal=function(){r.shape.PolygonModifiable.superClass_.disposeInternal.call(this)},r.shape.PolygonModifiable.prototype.init_=function(){for(var e,t=this.shape_.getCoords(),n=[],i=0,o=t.length;i<o;i++)e=new r.shape.Dragger(this,i),e.setCoords([t[i]]),n.push(e);this.setDragger(n)},r.shape.PolygonCreatable=function(e){r.shape.Creatable.call(this,e,new r.shape.Polyline(e.getDrawing())),this.count_=0},n.inherits(r.shape.PolygonCreatable,r.shape.Creatable),r.shape.PolygonCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},r.shape.PolygonCreatable.prototype.handleDown=function(e,t){var i=t.getShape(),o=t.getPointTransformed();0===this.count_?(this.preview_.setCoords([o,n.array.clone(o)]),this.close_=new r.shape.Dragger(this.target_.getModifiable(),0),this.close_.setCoords([o]),this.count_+=1,this.target_.getDrawing().handleShapeCreate([this.preview_,this.close_])):this.close_&&i===this.close_&&1===this.count_||this.preview_.setLastCoord(o)},r.shape.PolygonCreatable.prototype.handleMove=function(e,t){var n=t.getShape(),r=t.getPointTransformed();0!==this.count_&&(this.preview_.setLastCoord(r),n===this.close_?(this.close_.setStrokeColor("red"),this.close_.setStrokeWidth(3)):(this.close_.setStrokeColor("black"),this.close_.setStrokeWidth(1)))},r.shape.PolygonCreatable.prototype.handleUp=function(e,t){var n=t.getShape(),i=t.getPointTransformed();this.close_&&n===this.close_?(n=new r.shape.Polygon(this.target_.getDrawing()),n.setStyle(this.target_),n.setCoords(this.preview_.getCoordsCopy().splice(0,this.count_)),this.target_.getDrawing().handleShapeCreated(n),this.close_=null,this.count_=0):(this.preview_.setLastCoord(i),this.preview_.appendCoord(i),this.count_+=1)},r.shape.PolygonCreatable.prototype.disposeInternal=function(){this.close_.dispose(),this.close_=null,r.shape.PolygonCreatable.superClass_.disposeInternal.call(this)},r.shape.Line=function(e){r.shape.Geometry.call(this,e,new r.geometry.Line),this.engineElement_=this.drawing_.getEngine().createLine()},n.inherits(r.shape.Line,r.shape.Geometry),r.shape.Line.prototype.getX1=function(){return this.geometry_.x1},r.shape.Line.prototype.setX1=function(e){this.geometry_.x1=e},r.shape.Line.prototype.getY1=function(){return this.geometry_.y1},r.shape.Line.prototype.setY1=function(e){this.geometry_.y1=e},r.shape.Line.prototype.getX2=function(){return this.geometry_.x2},r.shape.Line.prototype.setX2=function(e){this.geometry_.x2=e},r.shape.Line.prototype.getY2=function(){return this.geometry_.y2},r.shape.Line.prototype.setY2=function(e){this.geometry_.y2=e},r.shape.Line.prototype.getCoords=function(){return[[this.geometry_.x1,this.geometry_.y1],[this.geometry_.x2,this.geometry_.y2]]},r.shape.Line.prototype.setCoords=function(e){this.geometry_.x1=e[0][0],this.geometry_.y1=e[0][1],this.geometry_.x2=e[1][0],this.geometry_.y2=e[1][1]},r.shape.Line.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.geometry_.x1,this.geometry_.y1,this.geometry_.x2,this.geometry_.y2,this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},r.shape.Line.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new r.shape.LineHoverable(this)),this.hoverable_},r.shape.Line.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new r.shape.LineSelectable(this)),this.selectable_},r.shape.Line.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new r.shape.LineModifiable(this)),this.modifiable_},r.shape.Line.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new r.shape.LineCreatable(this)),this.creatable_},r.shape.Line.prototype.disposeInternal=function(){r.shape.Line.superClass_.disposeInternal.call(this)},r.shape.LineHoverable=function(e){r.shape.Hoverable.call(this,e)},n.inherits(r.shape.LineHoverable,r.shape.Hoverable),r.shape.LineHoverable.prototype.disposeInternal=function(){r.shape.LineHoverable.superClass_.disposeInternal.call(this)},r.shape.LineSelectable=function(e){r.shape.Selectable.call(this,e)},n.inherits(r.shape.LineSelectable,r.shape.Selectable),r.shape.LineSelectable.prototype.disposeInternal=function(){r.shape.LineSelectable.superClass_.disposeInternal.call(this)},r.shape.LineModifiable=function(e,t){r.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(r.shape.LineModifiable,r.shape.Modifiable),r.shape.LineModifiable.prototype.disposeInternal=function(){r.shape.LineModifiable.superClass_.disposeInternal.call(this)},r.shape.LineModifiable.prototype.setCoords=function(e){this.shape_.setCoords(e),this.dragger_[0].setCoordX(e[0][0]),this.dragger_[0].setCoordY(e[0][1]),this.dragger_[1].setCoordX(e[1][0]),this.dragger_[1].setCoordY(e[1][1])},r.shape.LineModifiable.prototype.setCoordAt=function(e,t){0===e?(this.dragger_[0].setCoordX(t[0]),this.dragger_[0].setCoordY(t[1]),this.shape_.setX1(t[0]),this.shape_.setY1(t[1])):(this.dragger_[1].setCoordX(t[0]),this.dragger_[1].setCoordY(t[1]),this.shape_.setX2(t[0]),this.shape_.setY2(t[1]))},r.shape.LineModifiable.prototype.move=function(e,t){var n=this.shape_.getCoordsCopy();n[0][0]+=e,n[0][1]+=t,n[1][0]+=e,n[1][1]+=t,this.setCoords(n)},r.shape.LineModifiable.prototype.init_=function(){var e=new r.shape.Dragger(this,0);e.setCoords([[this.shape_.getX1(),this.shape_.getY1()]]);var t=new r.shape.Dragger(this,1);t.setCoords([[this.shape_.getX2(),this.shape_.getY2()]]),this.setDragger([e,t])},r.shape.LineModifiable.prototype.disposeInternal=function(){r.shape.LineModifiable.superClass_.disposeInternal.call(this)},r.shape.LineCreatable=function(e){r.shape.Creatable.call(this,e,new r.shape.Line(e.getDrawing()))},n.inherits(r.shape.LineCreatable,r.shape.Creatable),r.shape.LineCreatable.prototype.getCoords=function(){return this.helper_.getCoords()},r.shape.LineCreatable.prototype.handleDown=function(e,t){var n=t.getPointTransformed();this.preview_.setX1(n[0]),this.preview_.setY1(n[1]),this.preview_.setX2(n[0]),this.preview_.setY2(n[1]),this.target_.getDrawing().handleShapeCreate([this.preview_])},r.shape.LineCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed();this.preview_.setX2(n[0]),this.preview_.setY2(n[1])},r.shape.LineCreatable.prototype.handleUp=function(e,t){var n=t.getPointTransformed(),i=new r.shape.Line(this.target_.getDrawing());i.setStyle(this.target_),i.setX1(this.preview_.getX1()),i.setY1(this.preview_.getY1()),i.setX2(n[0]),i.setY2(n[1]),this.target_.getDrawing().handleShapeCreated(i)},r.shape.LineCreatable.prototype.disposeInternal=function(){r.shape.LineCreatable.superClass_.disposeInternal.call(this)},r.shape.Rect=function(e){r.shape.PathLike.call(this,e,new r.geometry.Path(4)),this.engineElement_=this.drawing_.getEngine().createRect()},n.inherits(r.shape.Rect,r.shape.PathLike),r.shape.Rect.prototype.setX=function(e){this.geometry_.coords[0][0]=e,this.geometry_.coords[3][0]=e},r.shape.Rect.prototype.getX=function(){return this.geometry_.coords[0][0]},r.shape.Rect.prototype.setY=function(e){this.geometry_.coords[0][1]=e,this.geometry_.coords[1][1]=e},r.shape.Rect.prototype.getY=function(){return this.geometry_.coords[0][1]},r.shape.Rect.prototype.setWidth=function(e){var t=this.geometry_.coords[0][0];this.geometry_.coords[1][0]=t+e,this.geometry_.coords[2][0]=t+e},r.shape.Rect.prototype.getWidth=function(){var e=this.geometry_.coords;return e[1][0]-e[0][0]},r.shape.Rect.prototype.setHeight=function(e){var t=this.geometry_.coords[0][1];this.geometry_.coords[2][1]=t+e,this.geometry_.coords[3][1]=t+e},r.shape.Rect.prototype.getHeight=function(){var e=this.geometry_.coords;return e[3][1]-e[0][1]},r.shape.Rect.prototype.setAffineCoords=function(e){var t=this.getCoords();return 0===e||2===e?(t[1][0]=t[2][0],t[1][1]=t[0][1],t[3][0]=t[0][0],t[3][1]=t[2][1]):(t[0][0]=t[3][0],t[0][1]=t[1][1],t[2][0]=t[1][0],t[2][1]=t[3][1]),t},r.shape.Rect.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.getCoords(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},r.shape.Rect.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new r.shape.RectHoverable(this)),this.hoverable_},r.shape.Rect.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new r.shape.RectSelectable(this)),this.selectable_},r.shape.Rect.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new r.shape.RectModifiable(this)),this.modifiable_},r.shape.Rect.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new r.shape.RectCreatable(this)),this.creatable_},r.shape.Rect.prototype.disposeInternal=function(){r.shape.Rect.superClass_.disposeInternal.call(this)},r.shape.RectHoverable=function(e){r.shape.Hoverable.call(this,e)};n.inherits(r.shape.RectHoverable,r.shape.Hoverable),r.shape.RectHoverable.prototype.disposeInternal=function(){r.shape.RectHoverable.superClass_.disposeInternal.call(this)},r.shape.RectSelectable=function(e){r.shape.Selectable.call(this,e)},n.inherits(r.shape.RectSelectable,r.shape.Selectable),r.shape.RectSelectable.prototype.disposeInternal=function(){r.shape.RectSelectable.superClass_.disposeInternal.call(this)},r.shape.RectModifiable=function(e,t){r.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(r.shape.RectModifiable,r.shape.Modifiable),r.shape.RectModifiable.prototype.setCoords=function(e,t){for(var n=0,r=this.dragger_.length;n<r;n++)n!==t&&(this.dragger_[n].setCoordX(e[n][0]),this.dragger_[n].setCoordY(e[n][1]));this.shape_.setCoords(e)},r.shape.RectModifiable.prototype.setCoordAt=function(e,t){var n;this.shape_.setCoordAt(e,t),this.shape_.setAffineCoords(e),n=this.shape_.getCoords(),this.dragger_[0].setCoordX(n[0][0]),this.dragger_[0].setCoordY(n[0][1]),this.dragger_[1].setCoordX(n[1][0]),this.dragger_[1].setCoordY(n[1][1]),this.dragger_[2].setCoordX(n[2][0]),this.dragger_[2].setCoordY(n[2][1]),this.dragger_[3].setCoordX(n[3][0]),this.dragger_[3].setCoordY(n[3][1])},r.shape.RectModifiable.prototype.move=function(e,t){for(var n=this.shape_.getCoordsCopy(),r=0,i=n.length;r<i;r++)n[r][0]+=e,n[r][1]+=t;this.setCoords(n)},r.shape.RectModifiable.prototype.disposeInternal=function(){r.shape.RectModifiable.superClass_.disposeInternal.call(this)},r.shape.RectModifiable.prototype.init_=function(){for(var e,t=this.shape_.getCoords(),n=[],i=0,o=t.length;i<o;i++)e=new r.shape.Dragger(this,i),e.setCoords([t[i]]),n.push(e);this.setDragger(n)},r.shape.RectCreatable=function(e){r.shape.Creatable.call(this,e,new r.shape.Rect(e.getDrawing()))},n.inherits(r.shape.RectCreatable,r.shape.Creatable),r.shape.RectCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},r.shape.RectCreatable.prototype.handleDown=function(e,t){var r=t.getPointTransformed(),i=Array(4);i[0]=n.array.clone(r),i[1]=n.array.clone(r),i[2]=n.array.clone(r),i[3]=n.array.clone(r),this.preview_.setCoords(i),this.target_.getDrawing().handleShapeCreate([this.preview_])},r.shape.RectCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed();this.preview_.setCoordAt(2,n),this.preview_.setAffineCoords(2)},r.shape.RectCreatable.prototype.handleUp=function(e,t){var n=new r.shape.Rect(this.target_.getDrawing());n.setStyle(this.target_),n.setCoords(this.preview_.getCoordsCopy()),this.target_.getDrawing().handleShapeCreated(n)},r.shape.RectCreatable.prototype.disposeInternal=function(){r.shape.RectCreatable.superClass_.disposeInternal.call(this)},r.shape.ShapeGroup=function(e){r.shape.Group.call(this,e)},n.inherits(r.shape.ShapeGroup,r.shape.Group),r.shape.ShapeGroup.prototype.addChildren=function(e){r.shape.ShapeGroup.superClass_.addChildren.call(this,e),e=0;for(var t=this.childs_.length;e<t;e++)this.childs_[e].setShapeGroup(this),this.geometry_.addChild(this.childs_[e].getGeometry())},r.shape.ShapeGroup.prototype.getHoverable=function(){return void 0===this.hoverable_&&(this.hoverable_=new r.shape.ShapeGroupHoverable(this)),this.hoverable_},r.shape.ShapeGroup.prototype.getSelectable=function(){return void 0===this.selectable_&&(this.selectable_=new r.shape.ShapeGroupSelectable(this)),this.selectable_},r.shape.ShapeGroup.prototype.getModifiable=function(){return void 0===this.modifiable_&&(this.modifiable_=new r.shape.ShapeGroupModifiable(this)),this.modifiable_},r.shape.ShapeGroup.prototype.getCreatable=function(){return void 0===this.creatable_&&(this.creatable_=new r.shape.ShapeGroupCreatable(this)),this.creatable_},r.shape.ShapeGroupHoverable=function(e){r.shape.Hoverable.call(this,e)},n.inherits(r.shape.ShapeGroupHoverable,r.shape.Hoverable),r.shape.ShapeGroupSelectable=function(e){r.shape.Selectable.call(this,e)},n.inherits(r.shape.ShapeGroupSelectable,r.shape.Selectable),r.shape.ShapeGroupModifiable=function(e){r.shape.Modifiable.call(this,e)},n.inherits(r.shape.ShapeGroupModifiable,r.shape.Modifiable),r.shape.ShapeGroupModifiable.prototype.getDragger=function(){for(var e=this.shape_.getChildren(),t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n].getModifiable().getDragger());return t},r.shape.ShapeGroupModifiable.prototype.move=function(e,t){for(var n=this.shape_.getChildren(),r=0,i=n.length;r<i;r++)n[r].getModifiable().move(e,t)},r.shape.ShapeGroupCreatable=function(e){r.shape.Creatable.call(this,e,new r.shape.ShapeGroup(e.getDrawing())),this.current=0},n.inherits(r.shape.ShapeGroupCreatable,r.shape.Creatable),r.shape.ShapeGroupCreatable.prototype.allShapesCreated=function(){return this.current===this.target_.getChildren().length-1},r.shape.ShapeGroupCreatable.prototype.reset=function(){this.current=0,this.preview_.removeChildren()},r.shape.ShapeGroupCreatable.prototype.handleDown=function(e,t){this.target_.getChild(this.current).getCreatable().handleDown(e,t)},r.shape.ShapeGroupCreatable.prototype.handleMove=function(e,t){this.target_.getChild(this.current).getCreatable().handleMove(e,t)},r.shape.ShapeGroupCreatable.prototype.handleUp=function(e,t){this.target_.getChild(this.current).getCreatable().handleUp(e,t)},r.shape.Canvas=function(e){r.shape.Container.call(this,e),this.engineElement_=this.drawing_.getEngine().getCanvas(),n.dom.append(this.drawing_.getElement(),this.engineElement_.getElement())},n.inherits(r.shape.Canvas,r.shape.Container),r.shape.Canvas.prototype.getElement=function(){return this.drawing_.getElement()},r.shape.Canvas.prototype.getEngine=function(){return this.drawing_.getEngine()},r.shape.Canvas.prototype.getHeight=function(){return this.engineElement_.getHeight()},r.shape.Canvas.prototype.setHeight=function(e){this.engineElement_.setHeight(e)},r.shape.Canvas.prototype.getWidth=function(){return this.engineElement_.getWidth()},r.shape.Canvas.prototype.setWidth=function(e){this.engineElement_.setWidth(e)},r.shape.Canvas.prototype.draw=function(){this.startDrawing_();for(var e=0,t=this.childs_.length;e<t;e++)this.childs_[e].draw();this.finishDrawing_()},r.shape.Canvas.prototype.disposeInternal=function(){r.shape.Canvas.superClass_.disposeInternal.call(this)},r.shape.Shapes=function(){},r.drawing.EventTarget=function(){n.Disposable.call(this),this.handler_=new n.events.EventHandler(this),this.cursor_=new r.drawing.Cursor(this),this.eventTarget_=r.drawing.EventTarget.DRAWING},n.inherits(r.drawing.EventTarget,n.Disposable),r.drawing.EventTarget.DRAWING="DRAWING",r.drawing.EventTarget.VIEWBOX="VIEWBOX",r.drawing.EventTarget.prototype.setEventTarget=function(e){if(e!==r.drawing.EventTarget.DRAWING&&e!==r.drawing.EventTarget.VIEWBOX)throw Error("xrx.drawing.EventTarget.DRAWING or xrx.drawing.EventTarget.VIEWBOX expected.");this.eventTarget_=e},r.drawing.EventTarget.prototype.getHandler=function(){return this.handler_},r.drawing.EventTarget.prototype.registerEvent_=function(e,t,n){this.cursor_.init(e);var i=this.viewbox_.containsPoint(this.cursor_.getPoint());(this.eventTarget_===r.drawing.EventTarget.VIEWBOX&&i||this.eventTarget_===r.drawing.EventTarget.DRAWING)&&(e.preventDefault(),e.stopPropagation(),e.getBrowserEvent().changedTouches&&e.init(e.getBrowserEvent().changedTouches[0],e.currentTarget),t[n](e,this.cursor_),this.draw())},r.drawing.EventTarget.prototype.registerClick=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),r.event.Type.CLICK,function(n){t.registerEvent_(n,e,r.event.Handler.CLICK)},!1)},r.drawing.EventTarget.prototype.registerDblClick=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),r.event.Type.DBLCLICK,function(n){t.registerEvent_(n,e,r.event.Handler.DBLCLICK)},!1)},r.drawing.EventTarget.prototype.registerDown=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),r.event.Type.DOWN,function(n){t.registerEvent_(n,e,r.event.Handler.DOWN)},!1)},r.drawing.EventTarget.prototype.registerDrag=function(e){this.registerDown(e),this.registerMove(e),this.registerUp(e)},r.drawing.EventTarget.prototype.registerMove=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),r.event.Type.MOVE,function(n){t.registerEvent_(n,e,r.event.Handler.MOVE)},!1)},r.drawing.EventTarget.prototype.registerHover=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),r.event.Type.MOVE,function(n){t.registerEvent_(n,e,r.event.Handler.MOVE)},!1)},r.drawing.EventTarget.prototype.registerOut=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),r.event.Type.OUT,function(n){t.registerEvent_(n,e,r.event.Handler.OUT)},!1)},r.drawing.EventTarget.prototype.registerUp=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),r.event.Type.UP,function(n){t.registerEvent_(n,e,r.event.Handler.UP)},!1)},r.drawing.EventTarget.prototype.registerWheel=function(e){if(!n.userAgent.MOBILE){var t=this,i=new n.events.MouseWheelHandler(t.canvas_.getEngineElement().getEventTarget());this.handler_.listen(i,r.event.Type.WHEEL,function(n){t.registerEvent_(n,e,r.event.Handler.WHEEL)},!1)}},r.drawing.EventTarget.prototype.disposeInternal=function(){this.handler_&&(this.handler_.dispose(),this.handler_=null)},r.drawing.EventTarget.prototype.registerEvents=function(e){switch(this.handler_.removeAll(),e){case void 0:case r.drawing.Mode.DISABLED:break;case r.drawing.Mode.VIEW:this.registerDblClick(this.viewbox_),this.registerDrag(this.viewbox_),this.registerOut(this.viewbox_),this.registerWheel(this.viewbox_);break;case r.drawing.Mode.SELECT:this.registerDown(this.selectable_),this.registerWheel(this.viewbox_);break;case r.drawing.Mode.MODIFY:this.registerDrag(this.modifiable_),this.registerWheel(this.viewbox_);break;case r.drawing.Mode.CREATE:this.registerDown(this.creatable_),this.registerMove(this.creatable_),this.registerUp(this.creatable_),this.registerWheel(this.viewbox_);break;case r.drawing.Mode.HOVER:case r.drawing.Mode.HOVERMULTIPLE:this.registerHover(this.hoverable_),this.registerOut(this.hoverable_),this.registerWheel(this.viewbox_),this.registerDrag(this.viewbox_);break;default:throw Error("Unknown mode.")}},r.drawing.EventTarget.prototype.disposeInternal=function(){this.handler_.removeAll(),this.handler_.dispose(),this.handler_=null,this.cursor_.dispose(),this.cursor_=null,r.drawing.EventTarget.superClass_.disposeInternal.call(this)},r.drawing.EventHandler=function(){r.drawing.EventTarget.call(this)},n.inherits(r.drawing.EventHandler,r.drawing.EventTarget),r.drawing.EventHandler.prototype.handleShapeCreate=function(e){this.creatable_.handleCreate(e)},r.drawing.EventHandler.prototype.handleShapeCreated=function(e){this.creatable_.handleCreated(e)},r.drawing.EventHandler.prototype.getClientPoint=function(e){var t,n=e.getBrowserEvent().changedTouches;return n?(t=n[0].clientX,e=n[0].clientY):(t=e.clientX,e=e.clientY),[t,e]},r.drawing.EventHandler.prototype.getOffsetPoint=function(e,t){var r=n.style.getClientPosition(this.canvas_.getEngineElement().getEventTarget()),i=this.getClientPoint(e),r=[i[0]-r.x,i[1]-r.y];return!0===t?this.getViewbox().getCTM().transformPoint(r):r},r.drawing.EventHandler.prototype.getShapeSelected=function(e){for(var t,n,r=!1,i=this.layer_.length-1;0<=i;i--){if(t=this.layer_[i],!t.isLocked()){t=t.getShapes()||[];for(var o=t.length-1;0<=o;o--)if(n=t[o],n.getGeometry().containsPoint(e)){r=!0;break}}if(!0===r)break}return r?n:void 0},r.drawing.EventHandler.prototype.getShapesSelected=function(e){for(var t,n,r=[],i=this.layer_.length-1;0<=i;i--)if(t=this.layer_[i],!t.isLocked()){t=t.getShapes()||[];for(var o=t.length-1;0<=o;o--)n=t[o],n.getGeometry().containsPoint(e)&&r.push(n)}return r},r.drawing.EventHandler.prototype.disposeInternal=function(){r.drawing.EventHandler.superClass_.disposeInternal.call(this)},r.drawing.LayerShapeModify=function(e){r.drawing.Layer.call(this,e)},n.inherits(r.drawing.LayerShapeModify,r.drawing.Layer),r.drawing.LayerShapeModify.prototype.activate=function(e){this.removeShapes(),this.addShapes(e.getDragger())},r.drawing.LayerShapeModify.prototype.disposeInternal=function(){r.drawing.LayerShapeModify.superClass_.disposeInternal.call(this)},n.net={},n.net.EventType={COMPLETE:"complete",SUCCESS:"success",ERROR:"error",ABORT:"abort",READY:"ready",READY_STATE_CHANGE:"readystatechange",TIMEOUT:"timeout",INCREMENTAL_DATA:"incrementaldata",PROGRESS:"progress"},n.net.ImageLoader=function(e){n.events.EventTarget.call(this),this.imageIdToRequestMap_={},this.imageIdToImageMap_={},this.handler_=new n.events.EventHandler(this),this.parent_=e},n.inherits(n.net.ImageLoader,n.events.EventTarget),n.net.ImageLoader.CorsRequestType={ANONYMOUS:"anonymous",USE_CREDENTIALS:"use-credentials"},n.net.ImageLoader.IMAGE_LOAD_EVENTS_=[n.userAgent.IE&&!n.userAgent.isVersionOrHigher("11")?n.net.EventType.READY_STATE_CHANGE:n.events.EventType.LOAD,n.net.EventType.ABORT,n.net.EventType.ERROR],n.net.ImageLoader.prototype.addImage=function(e,t,r){(t=n.isString(t)?t:t.src)&&(this.imageIdToRequestMap_[e]={src:t,corsRequestType:n.isDef(r)?r:null})},n.net.ImageLoader.prototype.removeImage=function(e){delete this.imageIdToRequestMap_[e];var t=this.imageIdToImageMap_[e];t&&(delete this.imageIdToImageMap_[e],this.handler_.unlisten(t,n.net.ImageLoader.IMAGE_LOAD_EVENTS_,this.onNetworkEvent_),n.object.isEmpty(this.imageIdToImageMap_)&&n.object.isEmpty(this.imageIdToRequestMap_)&&this.dispatchEvent(n.net.EventType.COMPLETE))},n.net.ImageLoader.prototype.start=function(){var e=this.imageIdToRequestMap_;n.array.forEach(n.object.getKeys(e),function(t){var n=e[t];n&&(delete e[t],this.loadImage_(n,t))},this)},n.net.ImageLoader.prototype.loadImage_=function(e,t){if(!this.isDisposed()){var r;r=this.parent_?n.dom.getDomHelper(this.parent_).createDom("img"):new Image,e.corsRequestType&&(r.crossOrigin=e.corsRequestType),this.handler_.listen(r,n.net.ImageLoader.IMAGE_LOAD_EVENTS_,this.onNetworkEvent_),this.imageIdToImageMap_[t]=r,r.id=t,r.src=e.src}},n.net.ImageLoader.prototype.onNetworkEvent_=function(e){var t=e.currentTarget;if(t){if(e.type==n.net.EventType.READY_STATE_CHANGE){if(t.readyState!=n.net.EventType.COMPLETE)return;e.type=n.events.EventType.LOAD}void 0===t.naturalWidth&&(e.type==n.events.EventType.LOAD?(t.naturalWidth=t.width,t.naturalHeight=t.height):(t.naturalWidth=0,t.naturalHeight=0)),this.dispatchEvent({type:e.type,target:t}),this.isDisposed()||this.removeImage(t.id)}},n.net.ImageLoader.prototype.disposeInternal=function(){delete this.imageIdToRequestMap_,delete this.imageIdToImageMap_,n.dispose(this.handler_),n.net.ImageLoader.superClass_.disposeInternal.call(this)},r.EventTarget=function(){n.Disposable.call(this)},n.inherits(r.EventTarget,n.Disposable),r.EventTarget.prototype.dispatchExternal=function(e,t){if(!n.string.startsWith(e,"event"))throw Error('Invalid event-type "". Prefix "event*" expected.');var r;r=void 0!==t?t:this,r[e]&&(2>=arguments.length?r[e].apply(r):r[e].apply(r,this.argsArray_(arguments)))},r.EventTarget.prototype.argsArray_=function(e){for(var t=e.length-2,n=Array(t),r=0;r<t;r++)n[r]=e[r+2];return n},r.EventTarget.prototype.disposeInternal=function(){r.EventTarget.superClass_.disposeInternal.call(this)},r.geometry.Box=function(){r.geometry.Geometry.call(this)},n.inherits(r.geometry.Box,r.geometry.Geometry),r.geometry.Box.containsPoint=function(e,t){return t[0]>=e[3]&&t[0]<=e[1]&&t[1]>=e[0]&&t[1]<=e[2]},r.geometry.Point=function(){r.geometry.Geometry.call(this)},n.inherits(r.geometry.Point,r.geometry.Geometry),r.geometry.Point.distancePoint=function(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},r.geometry.Point.prototype.disposeInternal=function(){r.geometry.Point.superClass_.disposeInternal.call(this)},r.viewbox={},r.viewbox.ViewboxGeometry=function(){r.EventTarget.call(this),this.box_=Array(4),this.xy_=Array(2),this.wh_=Array(2)},n.inherits(r.viewbox.ViewboxGeometry,r.EventTarget),r.viewbox.ViewboxGeometry.prototype.getWidth=function(e,t){if(!0===t&&this.isHorizontal())return this.getHeight(e);var n=this.getDrawing().getLayerBackground().getImage(),n=n.getImage()?n.getWidth():this.drawing_.getWidth();return e?n*this.ctm_.getScale():n},r.viewbox.ViewboxGeometry.prototype.getHeight=function(e,t){if(!0===t&&this.isHorizontal())return this.getWidth(e);var n=this.getDrawing().getLayerBackground().getImage(),n=n.getImage()?n.getHeight():this.drawing_.getHeight();return e?n*this.ctm_.getScale():n},r.viewbox.ViewboxGeometry.prototype.getBox=function(){var e=this.getRotation(),t=this.getWidth(!1,!1),n=this.getHeight(!1,!1);return this.ctm_.transform([0,0],0,this.xy_,0,1),this.ctm_.transform([t,n],0,this.wh_,0,1),0===e?(this.box_[0]=this.xy_[1],this.box_[1]=this.wh_[0],this.box_[2]=this.wh_[1],this.box_[3]=this.xy_[0]):90===e?(this.box_[0]=this.xy_[1],this.box_[1]=this.xy_[0],this.box_[2]=this.wh_[1],this.box_[3]=this.wh_[0]):180===e?(this.box_[0]=this.wh_[1],this.box_[1]=this.xy_[0],this.box_[2]=this.xy_[1],this.box_[3]=this.wh_[0]):(this.box_[0]=this.wh_[1],this.box_[1]=this.wh_[0],this.box_[2]=this.xy_[1],this.box_[3]=this.xy_[0]),this.box_},r.viewbox.ViewboxGeometry.prototype.containsPoint=function(e){var t=this.getBox();return r.geometry.Box.containsPoint(t,e)},r.viewbox.ViewboxGeometry.prototype.getCenterPoint_=function(e){var t=[this.getWidth()/2,this.getHeight()/2];return!0!==e?t:(e=Array(2),this.ctm_.transform(t,0,e,0,1),e)},r.viewbox.ViewboxGeometry.prototype.getVisibleOrientation_=function(e){var t=["NW","SW","SE","NE"];return e=n.array.indexOf(t,e),t[(e+this.getRotation()/90)%4]},r.viewbox.ViewboxGeometry.prototype.FixPoints_={C:[0,0],NE:[0,0],SE:[0,0],SW:[0,0],NW:[0,0]},r.viewbox.ViewboxGeometry.prototype.getFixPoints_=function(){var e=this.getWidth(),t=this.getHeight();return this.FixPoints_.C=[e/2,t/2],this.FixPoints_.NE=[e,0],this.FixPoints_.SE=[e,t],this.FixPoints_.SW=[0,t],this.FixPoints_.NW=[0,0],this.FixPoints_},r.viewbox.ViewboxGeometry.prototype.getFixPoint_=function(e,t,n){var r=this.getFixPoints_();return(e=n?r[this.getVisibleOrientation_(e)]:r[e])||console.error("fixPoint could not be determined. Is the element containing the canvas visible?"),!0===t?(t=Array(2),this.ctm_.transform(e,0,t,0,1),t):e},r.viewbox.ViewboxGeometry.prototype.disposeInternal=function(){this.box_=null,r.viewbox.ViewboxGeometry.superClass_.disposeInternal.call(this)},r.viewbox.ViewboxRotate=function(){r.viewbox.ViewboxGeometry.call(this)},n.inherits(r.viewbox.ViewboxRotate,r.viewbox.ViewboxGeometry),r.viewbox.ViewboxRotate.prototype.getRotation=function(){return this.ctm_.getRotation()},r.viewbox.ViewboxRotate.prototype.isValidRotation=function(e){return 0===(e=Math.abs(e))||90===e||180===e||270===e},r.viewbox.ViewboxRotate.prototype.isVertical=function(){var e=this.ctm_.getRotation();return 0===e||180===e},r.viewbox.ViewboxRotate.prototype.isHorizontal=function(){var e=this.ctm_.getRotation();return 90===e||270===e},r.viewbox.ViewboxRotate.Direction_={0:0,90:1,180:2,270:3},r.viewbox.ViewboxRotate.prototype.direction_=function(){var e=this.ctm_.getRotation();return r.viewbox.ViewboxRotate.Direction_[parseInt(e)]},r.viewbox.ViewboxRotate.prototype.rotateBy=function(e,t){if(void 0===t)this.rotateBy_(e,void 0,void 0);else if(this.isFixPoint_(t))this.rotateBy_(e,void 0,t);else{if(!this.isOrientation_(t))throw Error("Invalid fix-point. Array[2] or xrx.drawing.Orientation.* expected.");this.rotateBy_(e,t,void 0)}this.drawing_.draw()},r.viewbox.ViewboxRotate.prototype.rotateLeft=function(e){this.rotateBy(-90,e)},r.viewbox.ViewboxRotate.prototype.rotateRight=function(e){this.rotateBy(90,e)},r.viewbox.ViewboxRotate.prototype.isFixPoint_=function(e){return e instanceof Array&&2===e.length},r.viewbox.ViewboxRotate.prototype.isOrientation_=function(e){return"string"==typeof e&&n.object.containsValue(r.drawing.Orientation,e)},r.viewbox.ViewboxRotate.prototype.rotateBy_=function(e,t,i){if(0!==e){if(!this.isValidRotation(e))throw Error("Invalid rotation. 0, 90, 180 or 270 expected.");var o,s=!(0<e);void 0!==t&&(o=this.getPivotPoint_(t,s,!0)),void 0!==i&&(o=this.containsPoint(i)?this.ctm_.transformPoint(i):this.getPivotPoint_(r.drawing.Orientation.C,s,!0)),void 0===o&&(o=this.getPivotPoint_(r.drawing.Orientation.C,s,!0)),this.ctm_.rotate(n.math.toRadians(e),o[0],o[1]),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)}},r.viewbox.ViewboxRotate.prototype.getPivotPoint_=function(e,t,n){var r=this.getPivotPoints_(t);return e={C:function(e,t){return t.getCenterPoint_()},NE:function(e,t,n){return console.log(t.direction_()),e[[0,1,2,3][t.direction_()]]},SE:function(e,t,n){return e[[3,0,1,2][t.direction_()]]},SW:function(e,t,n){return e[[2,3,0,1][t.direction_()]]},NW:function(e,t,n){return e[[1,2,3,0][t.direction_()]]}}[e](r,this,t),!0===n&&this.ctm_.transformPoint(e),e},r.viewbox.ViewboxRotate.prototype.getPivotPoints_=function(e){var t=this.getWidth(),n=this.getHeight();return e?[[-n/2+t,n/2],[t/2,t/2],[n/2,n/2],[t/2,t/2+n/2]]:[[t/2,t/2],[n/2,n/2],[t/2,t/2+n/2],[-n/2+t,n/2]]},r.viewbox.ViewboxRotate.prototype.disposeInternal=function(){r.viewbox.ViewboxRotate.superClass_.disposeInternal.call(this)},r.viewbox.ViewboxZoom=function(){r.viewbox.ViewboxRotate.call(this)},n.inherits(r.viewbox.ViewboxZoom,r.viewbox.ViewboxRotate),r.viewbox.ViewboxZoom.prototype.zoomFactor_=.1,r.viewbox.ViewboxZoom.prototype.getZoomFactor=function(){return this.zoomFactor_},r.viewbox.ViewboxZoom.prototype.setZoomFactor=function(e){this.zoomFactor_=e},r.viewbox.ViewboxZoom.prototype.getZoomValue=function(e){return void 0===e?this.ctm_.getScale():this.zoomMin_+e*this.zoomFactor_},r.viewbox.ViewboxZoom.prototype.zoomMin_=.1,r.viewbox.ViewboxZoom.prototype.getZoomMin=function(){return this.zoomMin_},r.viewbox.ViewboxZoom.prototype.setZoomFactorMin=function(e){this.zoomMin_=e},r.viewbox.ViewboxZoom.prototype.zoomMax_=2,r.viewbox.ViewboxZoom.prototype.getZoomMax=function(){return this.zoomMax_},r.viewbox.ViewboxZoom.prototype.setZoomFactorMax=function(e){this.zoomMax_=e},r.viewbox.ViewboxZoom.prototype.getZoomStep=function(e){return e=void 0!==e?e:this.getZoomValue(),Math.round((e-this.zoomMin_)/this.zoomFactor_)},r.viewbox.ViewboxZoom.prototype.zoomOffset_=function(e,t){this.ctm_.setTransform(this.ctm_.getScaleX(),this.ctm_.getShearY(),this.ctm_.getShearX(),this.ctm_.getScaleY(),(this.ctm_.getTranslateX()-e[0])*t+e[0],(this.ctm_.getTranslateY()-e[1])*t+e[1])},r.viewbox.ViewboxZoom.prototype.zoomTo=function(e,t){var n;n=void 0!==t&&this.containsPoint(t)?t:this.getCenterPoint_(!0),e<this.zoomMin_&&(e=this.zoomMin_),e>this.zoomMax_&&(e=this.zoomMax_);var i=1/this.getZoomValue()*e;this.zoomOffset_(n,i),this.ctm_.scale(i,i),this.drawing_.draw(),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},r.viewbox.ViewboxZoom.prototype.zoomIn=function(e){this.zoomTo(this.ctm_.getScale()+this.zoomFactor_,e)},r.viewbox.ViewboxZoom.prototype.zoomOut=function(e){this.zoomTo(this.ctm_.getScale()-this.zoomFactor_,e)},r.viewbox.ViewboxZoom.prototype.disposeInternal=function(){r.viewbox.ViewboxZoom.superClass_.disposeInternal.call(this)},r.viewbox.ViewboxTranslate=function(){r.viewbox.ViewboxZoom.call(this)},n.inherits(r.viewbox.ViewboxTranslate,r.viewbox.ViewboxZoom),r.viewbox.ViewboxTranslate.prototype.translate=function(e,t){var n=this.ctm_.getIdentity(),i=n.transformPoint([e,t]);this.ctm_=n.translate(i[0],i[1]).concatenate(this.ctm_),this.drawing_.draw(),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},r.viewbox.ViewboxTranslate.prototype.center=function(){this.centerHorizontally(),this.centerVertically()},r.viewbox.ViewboxTranslate.prototype.centerHorizontally=function(){var e=this.getFixPoint_(r.drawing.Orientation.NW,!0,!0),t=this.getWidth(!0,!0),e=this.getDrawing().getWidth()/2-(e[0]+t/2);this.translate(e,0),this.drawing_.draw(),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},r.viewbox.ViewboxTranslate.prototype.centerVertically=function(){var e=this.getFixPoint_(r.drawing.Orientation.NW,!0,!0),t=this.getHeight(!0,!0),e=this.getDrawing().getHeight()/2-(e[1]+t/2);this.translate(0,e),this.drawing_.draw(),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},r.viewbox.ViewboxTranslate.prototype.setPosition=function(e){var t=this.drawing_.getWidth(),n=this.drawing_.getHeight(),i=this.getFixPoint_(e,!0,!0);if(e===r.drawing.Position.NW)this.translate(-i[0],-i[1]);else if(e===r.drawing.Position.NE)this.translate(t-i[0],-i[1]);else if(e===r.drawing.Position.SE)this.translate(t-i[0],n-i[1]);else{if(e!==r.drawing.Position.SW)throw Error("Unknown position.");this.translate(-i[0],n-i[1])}this.drawing_.draw(),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},r.viewbox.ViewboxTranslate.prototype.disposeInternal=function(){r.viewbox.ViewboxTranslate.superClass_.disposeInternal.call(this)},r.viewbox.FastAffineTransform=function(){n.math.AffineTransform.call(this),this.identity_,this.inverse_,this.clone_},n.inherits(r.viewbox.FastAffineTransform,n.math.AffineTransform),r.viewbox.FastAffineTransform.prototype.getIdentity=function(){return this.identity_||(this.identity_=new r.viewbox.FastAffineTransform),this.identity_.setTransform(1,0,0,1,0,0),this.identity_},r.viewbox.FastAffineTransform.prototype.getInverse=function(){this.inverse_||(this.inverse_=new r.viewbox.FastAffineTransform);var e=this.getDeterminant();return this.inverse_.setTransform(this.m11_/e,-this.m10_/e,-this.m01_/e,this.m00_/e,(this.m01_*this.m12_-this.m11_*this.m02_)/e,(this.m10_*this.m02_-this.m00_*this.m12_)/e),this.inverse_},r.viewbox.FastAffineTransform.prototype.getClone=function(){return this.clone_||(this.clone_=new r.viewbox.FastAffineTransform),this.clone_.copyFrom(this)},r.viewbox.FastAffineTransform.prototype.transformPoint=function(e,t){var n=void 0!==t?t:Array(2);return this.createInverse().transform(e,0,n,0,1),n},r.viewbox.FastAffineTransform.prototype.getScale=function(){var e=this.getRotation();return this.getClone().rotate(n.math.toRadians(360-e)),this.clone_.getScaleX()},r.viewbox.FastAffineTransform.prototype.getRotation=function(){return{0:0,2:90,3:180,"-2":270}[Math.round(Math.atan2(this.getShearY(),this.getScaleY()))]},r.viewbox.FastAffineTransform.prototype.disposeInternal=function(){this.clone_=this.inverse_=this.identity_=null},r.viewbox.ViewboxTransform=function(){this.ctm_=new r.viewbox.FastAffineTransform,r.viewbox.ViewboxTranslate.call(this)},n.inherits(r.viewbox.ViewboxTransform,r.viewbox.ViewboxTranslate),r.viewbox.ViewboxTransform.prototype.getCTM=function(){return this.ctm_},r.viewbox.ViewboxTransform.prototype.setCTM=function(e){this.ctm_=e,this.drawing_.draw()},r.viewbox.ViewboxTransform.prototype.ctmDump=function(){return[this.ctm_.m00_,this.ctm_.m10_,this.ctm_.m01_,this.ctm_.m11_,this.ctm_.m02_,this.ctm_.m12_]},r.viewbox.ViewboxTransform.prototype.ctmRestore=function(e){if(6!==e.length)throw Error("Invalid CTM dump.");this.ctm_.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),this.drawing_.draw()},r.viewbox.ViewboxTransform.prototype.fitToWidth=function(e){var t=this.getWidth(!0,!0),t=this.drawing_.getCanvas().getWidth()/t;this.ctm_.scale(t,t),!1!==e&&this.center(),this.drawing_.draw(),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},r.viewbox.ViewboxTransform.prototype.fitToHeight=function(e){var t=this.getHeight(!0,!0),t=this.drawing_.getCanvas().getHeight()/t;this.ctm_.scale(t,t),!1!==e&&this.center(),this.drawing_.draw(),this.dispatchExternal(r.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},r.viewbox.ViewboxTransform.prototype.fit=function(e){this.getWidth(!0,!0)>this.getHeight(!0,!0)?this.fitToWidth():this.fitToHeight(),!1!==e&&this.center(),this.drawing_.draw()},r.viewbox.ViewboxTransform.prototype.disposeInternal=function(){this.ctm_.disposeInternal(),this.ctm_=null,r.viewbox.ViewboxTransform.superClass_.disposeInternal.call(this)},r.viewbox.Viewbox=function(e){r.viewbox.ViewboxTransform.call(this),this.drawing_=e,this.group_=new r.shape.Group(this.drawing_),this.state_=r.drawing.State.NONE},n.inherits(r.viewbox.Viewbox,r.viewbox.ViewboxTransform),r.viewbox.Viewbox.prototype.getDrawing=function(){return this.drawing_},r.viewbox.Viewbox.prototype.getGroup=function(){return this.group_},r.viewbox.Viewbox.prototype.handleDblClick=function(e,t){this.rotateRight(t.getPoint())},r.viewbox.Viewbox.prototype.handleDown=function(e,t){this.origin_=t.getPoint(),this.state_=r.drawing.State.DRAG},r.viewbox.Viewbox.prototype.handleMove=function(e,t){if(this.state_===r.drawing.State.DRAG){var n=t.getPoint()[0]-this.origin_[0],i=t.getPoint()[1]-this.origin_[1];this.translate(n,i),this.origin_=t.getPoint()}},r.viewbox.Viewbox.prototype.handleOut=function(e){this.resetState_()},r.viewbox.Viewbox.prototype.handleUp=function(e){this.resetState_()},r.viewbox.Viewbox.prototype.handleWheel=function(e,t){0>e.deltaY?this.zoomIn(t.getPoint()):this.zoomOut(t.getPoint())},r.viewbox.Viewbox.prototype.resetState_=function(){this.state_=r.drawing.State.NONE,this.origin_=null},r.viewbox.Viewbox.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,this.group_.dispose(),this.origin_=this.group_=null,r.viewbox.Viewbox.superClass_.disposeInternal.call(this)},r.drawing.LayerBackground=function(e){r.drawing.Layer.call(this,e)},n.inherits(r.drawing.LayerBackground,r.drawing.Layer),r.drawing.LayerBackground.prototype.getImage=function(e){return this.image_},r.drawing.LayerBackground.prototype.setImage=function(e){this.image_.setImage(e)},r.drawing.LayerBackground.prototype.create_=function(){this.group_=new r.shape.Group(this.drawing_),this.image_=new r.shape.Image(this.drawing_),this.group_.addChildren(this.image_)};r.drawing.LayerBackground.prototype.disposeInternal=function(){this.image_.dispose(),this.image_=null,r.drawing.LayerBackground.superClass_.disposeInternal.call(this)},r.drawing.Creatable=function(e){r.EventTarget.call(this),this.drawing_=e,this.newShapes_=[],this.previewShapes_=[]},n.inherits(r.drawing.Creatable,r.EventTarget),r.drawing.Creatable.prototype.setShapeCreatable=function(e){this.shapeCreatable_=e},r.drawing.Creatable.prototype.handleCreate=function(e){if(this.shapeCreatable_ instanceof r.shape.ShapeGroupCreatable){0===this.shapeCreatable_.current&&this.drawing_.getLayerShapeCreate().addShapes(this.shapeCreatable_.getPreview());for(var t=0;t<e.length;t++)e[t]instanceof r.shape.Dragger?this.drawing_.getLayerShapeModify().addShapes(e[t]):this.shapeCreatable_.getPreview().addChildren(e[t])}else this.drawing_.getLayerShapeCreate().addShapes(e)},r.drawing.Creatable.prototype.handleCreated=function(e){this.shapeCreatable_ instanceof r.shape.ShapeGroupCreatable?(this.newShapes_.push(e),this.drawing_.getLayerShapeModify().removeShapes(),this.shapeCreatable_.allShapesCreated()?(e=new r.shape.ShapeGroup(this.drawing_),e.addChildren(this.newShapes_),e.setStyles(this.shapeCreatable_.getTarget()),this.drawing_.getLayerShape().addShapes(e),this.drawing_.getLayerShapeCreate().removeShapes(),this.drawing_.draw(),this.shapeCreatable_.reset(),this.newShapes_=[]):this.shapeCreatable_.current++):(this.drawing_.getLayerShape().addShapes(e),this.drawing_.getLayerShapeCreate().removeShapes(),this.drawing_.draw())},r.drawing.Creatable.prototype.handleDown=function(e,t){this.shapeCreatable_.handleDown(e,t)},r.drawing.Creatable.prototype.handleMove=function(e,t){this.shapeCreatable_.handleMove(e,t)},r.drawing.Creatable.prototype.handleUp=function(e,t){this.shapeCreatable_.handleUp(e,t)},r.drawing.Hoverable=function(e){r.EventTarget.call(this),this.drawing_=e,this.last_=[],this.multiple_=!1},n.inherits(r.drawing.Hoverable,r.EventTarget),r.drawing.Hoverable.prototype.setMultiple=function(e){this.multiple_=!!e},r.drawing.Hoverable.prototype.pop_=function(){var e,t=this.last_.length;if(0<this.last_.length){for(var n=0;n<t;n++)(e=this.last_[n])&&e.getHoverable().hoverOff();this.dispatchExternal(r.drawing.EventType.SHAPE_HOVER_OUT,this.drawing_,this.last_)}},r.drawing.Hoverable.prototype.push_=function(e){var t,n=e.length;if(0<n){for(var i=0;i<n;i++)(t=e[i])&&t.getHoverable().hoverOn();this.last_=e,this.dispatchExternal(r.drawing.EventType.SHAPE_HOVER_IN,this.drawing_,e)}else this.last_=[]},r.drawing.Hoverable.prototype.hover_=function(e){n.array.equals(e,this.last_)||(this.pop_(),this.push_(e)),0<e.length&&this.dispatchExternal(r.drawing.EventType.SHAPE_HOVER_MOVE,this.drawing_,e)},r.drawing.Hoverable.prototype.handleMove=function(e,t){var r;r=this.multiple_?t.getShapes():t.getShape(),n.isArray(r)||(r=[r]),this.hover_(r)},r.drawing.Hoverable.prototype.handleOut=function(e){this.pop_()},r.drawing.Hoverable.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null;for(var e;e=this.last_.pop();)e.dispose();this.last_=null,r.drawing.Hoverable.superClass_.disposeInternal.call(this)},r.drawing.Selectable=function(e){n.Disposable.call(this),this.drawing_=e},n.inherits(r.drawing.Selectable,n.Disposable),r.drawing.Selectable.prototype.getShape=function(){return this.last_},r.drawing.Selectable.prototype.setSelected=function(e){this.last_&&this.last_.getSelectable().selectOff(),e?(e.getSelectable().selectOn(),this.last_=e):this.last_=null},r.drawing.Selectable.prototype.handleDown=function(e,t){this.setSelected(t.getShape())},r.drawing.Selectable.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,n.dispose(this.last_),this.last_=null,r.drawing.Selectable.superClass_.disposeInternal.call(this)},r.engine.Engine=function(e,t){n.Disposable.call(this),this.name_=e,this.available_=!1,this.init_(),this.canvas_=this.createCanvas_(t)},n.inherits(r.engine.Engine,n.Disposable),r.engine.Engine.prototype.getCanvas=function(){return this.canvas_},r.engine.Engine.prototype.createCanvas_=function(e){if(this.typeOf(r.engine.CANVAS))return r.canvas.Canvas.create(e);if(this.typeOf(r.engine.SVG))return r.svg.Canvas.create(e);if(this.typeOf(r.engine.VML))return r.vml.Canvas.create(e);throw Error("Unknown engine.")},r.engine.Engine.prototype.createCircle=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Circle.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Circle.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Circle.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.createEllipse=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Ellipse.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Ellipse.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Ellipse.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.createGroup=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Group.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Group.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Group.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.createImage=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Image.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Image.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Image.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.createLine=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Line.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Line.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Line.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.createPolygon=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Polygon.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Polygon.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Polygon.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.createPolyline=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Polyline.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Polyline.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Polyline.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.createRect=function(){if(this.typeOf(r.engine.CANVAS))return r.canvas.Polygon.create(this.canvas_);if(this.typeOf(r.engine.SVG))return r.svg.Polygon.create(this.canvas_);if(this.typeOf(r.engine.VML))return r.vml.Polygon.create(this.canvas_);throw Error("Unknown engine.")},r.engine.Engine.prototype.getName=function(){return this.name_},r.engine.Engine.prototype.typeOf=function(e){return this.name_===e},r.engine.Engine.prototype.isAvailable=function(){return this.available_},r.engine.Engine.prototype.findOptimalRenderer_=function(){if(r.engine.isSupported(r.engine.CANVAS))this.name_=r.engine.CANVAS,this.available_=!0;else if(r.engine.isSupported(r.engine.SVG))this.name_=r.engine.SVG,this.available_=!0;else{if(!r.engine.isSupported(r.engine.VML))throw Error("There is no graphics rendering engine available.");this.name_=r.engine.VML,this.available_=!0}},r.engine.Engine.prototype.forceRenderer_=function(){if(this.name_===r.engine.CANVAS)this.available_=r.engine.isSupported(r.engine.CANVAS);else if(this.name_===r.engine.SVG)this.available_=r.engine.isSupported(r.engine.SVG);else{if(this.name_!==r.engine.VML)throw this.available_=!1,Error("Unknown graphics rendering engine.");this.available_=r.engine.isSupported(r.engine.VML)}},r.engine.Engine.prototype.init_=function(){this.name_?this.forceRenderer_():this.findOptimalRenderer_()},r.engine.Engine.prototype.disposeInternal=function(){this.canvas_.dispose(),this.canvas_=null,r.engine.Engine.superClass_.disposeInternal.call(this)},n.dom.ViewportSizeMonitor=function(e){n.events.EventTarget.call(this),this.window_=e||window,this.listenerKey_=n.events.listen(this.window_,n.events.EventType.RESIZE,this.handleResize_,!1,this),this.size_=n.dom.getViewportSize(this.window_)},n.inherits(n.dom.ViewportSizeMonitor,n.events.EventTarget),n.dom.ViewportSizeMonitor.getInstanceForWindow=function(e){e=e||window;var t=n.getUid(e);return n.dom.ViewportSizeMonitor.windowInstanceMap_[t]=n.dom.ViewportSizeMonitor.windowInstanceMap_[t]||new n.dom.ViewportSizeMonitor(e)},n.dom.ViewportSizeMonitor.removeInstanceForWindow=function(e){e=n.getUid(e||window),n.dispose(n.dom.ViewportSizeMonitor.windowInstanceMap_[e]),delete n.dom.ViewportSizeMonitor.windowInstanceMap_[e]},n.dom.ViewportSizeMonitor.windowInstanceMap_={},n.dom.ViewportSizeMonitor.prototype.listenerKey_=null,n.dom.ViewportSizeMonitor.prototype.window_=null,n.dom.ViewportSizeMonitor.prototype.size_=null,n.dom.ViewportSizeMonitor.prototype.getSize=function(){return this.size_?this.size_.clone():null},n.dom.ViewportSizeMonitor.prototype.disposeInternal=function(){n.dom.ViewportSizeMonitor.superClass_.disposeInternal.call(this),this.listenerKey_&&(n.events.unlistenByKey(this.listenerKey_),this.listenerKey_=null),this.size_=this.window_=null},n.dom.ViewportSizeMonitor.prototype.handleResize_=function(e){e=n.dom.getViewportSize(this.window_),n.math.Size.equals(e,this.size_)||(this.size_=e,this.dispatchEvent(n.events.EventType.RESIZE))},r.drawing.Modifiable=function(e){r.EventTarget.call(this),this.drawing_=e,this.mode_=r.drawing.Modifiable.Mode.SHAPEHOVER,this.dragger_,this.shape_,this.origin_,this.propageted_=!1},n.inherits(r.drawing.Modifiable,r.EventTarget),r.drawing.Modifiable.Mode={DRAGSHAPE:1,HOVERSHAPE:2,DRAGDRAGGER:3},r.drawing.Modifiable.prototype.getShape=function(){return this.shape_},r.drawing.Modifiable.prototype.handleDown=function(e,t){var n;(n=t.getShape())?(this.origin_=t.getPointTransformed(),n&&n.isModifiable()?(this.state_=r.drawing.State.DRAG,n instanceof r.shape.Dragger?(this.mode_=r.drawing.Modifiable.Mode.DRAGDRAGGER,this.dragger_=n):(this.mode_=r.drawing.Modifiable.Mode.DRAGSHAPE,this.shape_&&this.shape_.getModifiable().selectOff(),this.shape_=n,n=this.shape_.getModifiable(),this.drawing_.getLayerShapeModify().activate(n),this.shape_.getModifiable().selectOn())):(this.drawing_.getLayerShapeModify().removeShapes(),this.shape_&&this.shape_.getModifiable().selectOff(),this.resetState_())):(this.drawing_.getViewbox().handleDown(e,t),this.propageted_=!0,this.drawing_.getLayerShapeModify().removeShapes(),this.shape_&&this.shape_.getModifiable().selectOff(),this.shape_=null,this.resetState_())},r.drawing.Modifiable.prototype.handleHover_=function(e,t){},r.drawing.Modifiable.prototype.handleDragShape_=function(e,t){var n=t.getPointTransformed(),r=n[0]-this.origin_[0],i=n[1]-this.origin_[1];this.shape_.getModifiable().move(r,i),this.origin_=n},r.drawing.Modifiable.prototype.handleMove=function(e,t){if(t.getShape(),this.propageted_)this.drawing_.getViewbox().handleMove(e,t);else{var n=t.getPointTransformed();this.mode_===r.drawing.Modifiable.Mode.SHAPEHOVER?this.handleHover_(e,t):this.mode_===r.drawing.Modifiable.Mode.DRAGDRAGGER?(this.dragger_.setCoord(n),this.dispatchExternal(r.drawing.EventType.SHAPE_MODIFY,this.drawing_,this.shape_)):this.mode_===r.drawing.Modifiable.Mode.DRAGSHAPE&&(this.handleDragShape_(e,t),this.dispatchExternal(r.drawing.EventType.SHAPE_MODIFY,this.drawing_,this.shape_))}},r.drawing.Modifiable.prototype.handleUp=function(e,t){t.getShape()||this.drawing_.getViewbox().handleUp(e,t),this.resetState_(),this.propageted_=!1},r.drawing.Modifiable.prototype.resetState_=function(){this.mode_=r.drawing.Modifiable.Mode.SHAPEHOVER},r.drawing.Modifiable.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,n.dispose(this.dragger_),n.dispose(this.shape_),this.origin_=null,r.drawing.Modifiable.superClass_.disposeInternal.call(this)},r.drawing.Drawing=function(e,t){r.drawing.EventHandler.call(this),this.element_=e,this.layer_=[],this.mode_=r.drawing.Mode.NONE,this.modifiable_=new r.drawing.Modifiable(this),this.selectable_=new r.drawing.Selectable(this),this.hoverable_=new r.drawing.Hoverable(this),this.creatable_=new r.drawing.Creatable(this),this.install_(t)},n.inherits(r.drawing.Drawing,r.drawing.EventHandler),r.drawing.Drawing.prototype.eventShapeModify=function(e){},r.drawing.Drawing.prototype.getElement=function(){return this.element_},r.drawing.Drawing.prototype.getEngine=function(){return this.engine_},r.drawing.Drawing.prototype.getCanvas=function(){return this.canvas_},r.drawing.Drawing.prototype.getLayerBackground=function(){return this.layer_[0]},r.drawing.Drawing.prototype.getLayerShape=function(){return this.layer_[1]},r.drawing.Drawing.prototype.getLayerShapeModify=function(){return this.layer_[3]},r.drawing.Drawing.prototype.getLayerShapeCreate=function(){return this.layer_[2]},r.drawing.Drawing.prototype.getLayerTool=function(){return this.layer_[4]},r.drawing.Drawing.prototype.getViewbox=function(){return this.viewbox_},r.drawing.Drawing.prototype.setSize=function(e,t){n.style.setSize(this.element_,e+"px",t+"px"),this.handleResize()},r.drawing.Drawing.prototype.getWidth=function(){return this.width_},r.drawing.Drawing.prototype.setWidth=function(e){this.setSize(e,this.height_)},r.drawing.Drawing.prototype.getHeight=function(){return this.height_},r.drawing.Drawing.prototype.setHeight=function(e){this.setSize(this.width_,e)},r.drawing.Drawing.prototype.setStyle=function(e,t){n.style.setStyle(this.element_,e,t),this.handleResize()},r.drawing.Drawing.prototype.getBackgroundImage=function(){return this.layer_[0].getImage().getImage()},r.drawing.Drawing.prototype.setBackgroundImage=function(e,t){var r=this.layer_[0].getImage();if(!r||r.src!==e){var i=this,r=new n.net.ImageLoader,o=n.dom.createElement("img");o.id="_tmp",o.src=e,n.events.listen(r,n.events.EventType.LOAD,function(e){i.layer_[0].setImage(e.target),t&&t.apply(i),i.draw()}),r.addImage("_tmp",o),r.start()}},r.drawing.Drawing.prototype.addShapes=function(e){this.layer_[1].addShapes(n.array.toArray(arguments)),this.draw()},r.drawing.Drawing.prototype.getShapes=function(){return this.layer_[1].getShapes()||[]},r.drawing.Drawing.prototype.removeShape=function(e){this.layer_[1].removeShape(e),this.layer_[3].removeShapes(),this.draw()},r.drawing.Drawing.prototype.getSelectedShape=function(){return this.mode_===r.drawing.Mode.SELECT?this.selectable_.getShape():this.mode_===r.drawing.Mode.MODIFY?this.modifiable_.getShape():null},r.drawing.Drawing.prototype.draw=function(){var e=this,t=this.getViewbox();this.eventBeforeRendering=function(e){e===t.getGroup()?e.setCTM(t.getCTM()):e instanceof r.shape.Style&&e.setZoomFactor(t.getZoomValue())},n.dom.getWindow().clearTimeout(this.timeoutDraw_),this.timeoutDraw_=n.dom.getWindow().setTimeout(function(){e.eventBeforeDraw&&e.eventBeforeDraw(),e.canvas_.draw()})},r.drawing.Drawing.prototype.getMode=function(){return this.mode_},r.drawing.Drawing.prototype.setMode_=function(e){e===this.mode_&&e!==r.drawing.Mode.CREATE||(this.mode_=e,this.registerEvents(e),this.draw())},r.drawing.Drawing.prototype.setModeDisabled=function(){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!0),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(r.drawing.Mode.DISABLED)},r.drawing.Drawing.prototype.setModeView=function(){this.getLayerBackground().setLocked(!1),this.getLayerShape().setLocked(!0),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(r.drawing.Mode.VIEW)},r.drawing.Drawing.prototype.setModeHover=function(e){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!1),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.hoverable_.setMultiple(e),!0===e?this.setMode_(r.drawing.Mode.HOVERMULTIPLE):this.setMode_(r.drawing.Mode.HOVER)},r.drawing.Drawing.prototype.setModeSelect=function(){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!1),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(r.drawing.Mode.SELECT)},r.drawing.Drawing.prototype.setSelected=function(e){this.selectable_.setSelected(e),this.draw()},r.drawing.Drawing.prototype.setModeModify=function(){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!1),this.getLayerShapeModify().setLocked(!1),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(r.drawing.Mode.MODIFY)},r.drawing.Drawing.prototype.setModeCreate=function(e){if(e){if(!(e instanceof r.shape.Creatable))throw Error("Instance of xrx.shape.Creatable expected.");this.creatable_.setShapeCreatable(e),this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!0),this.getLayerShapeModify().setLocked(!1),this.getLayerShapeCreate().setLocked(!1),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(r.drawing.Mode.CREATE)}},r.drawing.Drawing.prototype.handleResize=function(){var e=this;n.dom.getWindow().clearTimeout(this.timeoutResize_),this.timeoutResize_=n.dom.getWindow().setTimeout(function(){e.calculateSize_(),e.canvas_.setHeight(e.height_),e.canvas_.setWidth(e.width_),e.shield_.setHeight(e.height_),e.shield_.setWidth(e.width_)}),this.draw()},r.drawing.Drawing.prototype.calculateSize_=function(){var e=n.style.getSize(this.element_),t=n.style.getPaddingBox(this.element_),r=n.style.getBorderBox(this.element_),i=e.height-t.top-t.bottom-r.top-r.bottom;this.width_=e.width-t.left-t.right-r.left-r.right,this.height_=i},r.drawing.Drawing.prototype.installCanvas_=function(){var e=this;this.vsm_=new n.dom.ViewportSizeMonitor,n.events.listen(this.vsm_,n.events.EventType.RESIZE,function(t){e.handleResize()},!1,e),this.canvas_=new r.shape.Canvas(this),this.canvas_.setHeight(this.height_),this.canvas_.setWidth(this.width_)},r.drawing.Drawing.prototype.installViewbox_=function(){this.viewbox_=new r.viewbox.Viewbox(this),this.canvas_.addChildren(this.viewbox_.getGroup())},r.drawing.Drawing.prototype.installLayerBackground_=function(){this.layer_[0]=new r.drawing.LayerBackground(this),this.viewbox_.getGroup().addChildren(this.layer_[0].getGroup())},r.drawing.Drawing.prototype.installLayerShape_=function(){this.layer_[1]=new r.drawing.LayerShape(this),this.viewbox_.getGroup().addChildren(this.layer_[1].getGroup())},r.drawing.Drawing.prototype.installLayerShapeModify_=function(){this.layer_[3]=new r.drawing.LayerShapeModify(this),this.viewbox_.getGroup().addChildren(this.layer_[3].getGroup())},r.drawing.Drawing.prototype.installLayerShapecreatable_=function(){this.layer_[2]=new r.drawing.LayerShapeCreate(this),this.viewbox_.getGroup().addChildren(this.layer_[2].getGroup())},r.drawing.Drawing.prototype.installShield_=function(){this.shield_=new r.shape.Rect(this),this.shield_.setX(0),this.shield_.setY(0),this.shield_.setWidth(this.width_),this.shield_.setHeight(this.height_),this.shield_.setFillOpacity(0),this.shield_.setStrokeWidth(0),this.canvas_.addChildren(this.shield_)},r.drawing.Drawing.prototype.installLayerTool_=function(){this.layer_[4]=new r.drawing.LayerTool(this)},r.drawing.Drawing.prototype.initEngine_=function(e){this.engine_=new r.engine.Engine(e,this.element_)},r.drawing.Drawing.prototype.install_=function(e){this.initEngine_(e),this.engine_.isAvailable()&&(n.dom.removeChildren(this.element_),this.calculateSize_(),this.installCanvas_(),this.installViewbox_(),this.installLayerBackground_(),this.installLayerShape_(),this.installLayerShapecreatable_(),this.installLayerShapeModify_(),this.installShield_(),this.installLayerTool_())},r.drawing.Drawing.prototype.disposeInternal=function(){n.dom.removeNode(this.element_),this.element_=null,this.engine_.dispose(),this.engine_=null,this.canvas_.dispose(),this.canvas_=null;for(var e;e=this.layer_.pop();)e.dispose();this.layer_=null,this.shield_.dispose(),this.shield_=null,this.modifiable_.dispose(),this.modifiable_=null,this.selectable_.dispose(),this.selectable_=null,this.hoverable_.dispose(),this.hoverable_=null,n.dispose(this.creatable_),this.creatable_=null,this.viewbox_.dispose(),this.eventBeforeRendering=this.viewbox_=null,this.vsm_.removeAllListeners(),this.vsm_.dispose(),this.timeoutResize_=this.timeoutDraw_=this.vsm_=null,r.drawing.Drawing.superClass_.disposeInternal.call(this)},r.shape.DiPolygonArrow=function(e,t){r.shape.Line.call(this,e),this.diPolygon_=t,this.angle_},n.inherits(r.shape.DiPolygonArrow,r.shape.Line),r.shape.DiPolygonArrow.prototype.getDiPolygon=function(){return this.diPolygon_},r.shape.DiPolygonArrow.prototype.getModifiable=function(){return void 0===this.modifiable_&&(this.modifiable_=new r.shape.DiPolygonArrowModifiable(this)),this.modifiable_},r.shape.DiPolygonArrowModifiable=function(e){r.shape.LineModifiable.call(this,e)},n.inherits(r.shape.DiPolygonArrowModifiable,r.shape.LineModifiable),r.shape.DiPolygonArrowModifiable.prototype.setCoordAt=function(e,t){var n=this.shape_.getDiPolygon().getBox(),r=t[0],i=t[1];r<n.x?r=n.x:r>n.x2&&(r=n.x2),i<n.y?i=n.y:i>n.y2&&(i=n.y2);var o=n.x+n.width/2,n=n.y+n.height/2,o=o-(r-o),n=n-(i-n);0===e?(this.dragger_[0].setCoordX(r),this.dragger_[0].setCoordY(i),this.dragger_[1].setCoordX(o),this.dragger_[1].setCoordY(n),this.shape_.setX1(r),this.shape_.setY1(i),this.shape_.setX2(o),this.shape_.setY2(n)):(this.dragger_[1].setCoordX(r),this.dragger_[1].setCoordY(i),this.dragger_[0].setCoordX(o),this.dragger_[0].setCoordY(n),this.shape_.setX1(o),this.shape_.setY1(n),this.shape_.setX2(r),this.shape_.setY2(i))},r.shape.DiPolygonArrowModifiable.prototype.move=function(){},r.shape.DiPolygonPolygon=function(e){r.shape.Polygon.call(this,e)},n.inherits(r.shape.DiPolygonPolygon,r.shape.Polygon),r.shape.DiPolygon=function(e){r.shape.Group.call(this,e),this.box_,this.init_()},n.inherits(r.shape.DiPolygon,r.shape.Group),r.shape.DiPolygon.prototype.getArrow=function(){return this.arrow_},r.shape.DiPolygon.prototype.getBox=function(){return this.box_},r.shape.DiPolygon.prototype.MARGIN=20,r.shape.DiPolygon.prototype.setCoords=function(e){this.childs_[0].setCoords(e)},r.shape.DiPolygon.prototype.init_=function(){var e=new r.shape.DiPolygonPolygon(this.drawing_),t=new r.shape.DiPolygonArrow(this.drawing_,this);this.addChildren([e,t])},r.extension={},r.extension.Extensions={},r.api={},r.api.drawing=function(){},e.exports=r,e.exports.goog=n}]);
//# sourceMappingURL=xrxeditor.js.map