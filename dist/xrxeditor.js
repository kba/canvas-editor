!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=29)}([function(e,t,n){var i=n(22)("wks"),r=n(26),o=n(1).Symbol,s="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=s&&o[e]||(s?o:r)("Symbol."+e))}).store=i},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var i=n(9);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(6),r=n(11);e.exports=n(3)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(2),r=n(41),o=n(57),s=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(22)("keys"),r=n(26);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){"use strict";e.exports={angleFromMatrix:function(e,t){var n=180*Math.atan2(-1*t,e)/Math.PI;return n<0&&(n+=360),Math.round(n)},coordIIIF:function(e,t,n){var i,r,o=0,s=t,a=0,l=n;if(Array.isArray(e))for(i=0;i<e.length;i++)if(Array.isArray(e[i]))for(r=0;r<e[i].length;r++)e[i][r][0]>o&&(o=e[i][r][0]),e[i][r][0]<s&&(s=e[i][r][0]),e[i][r][1]>a&&(a=e[i][r][1]),e[i][r][1]<l&&(l=e[i][r][1]);s*=t/1e3,o*=t/1e3,l*=t/1e3,a*=t/1e3;var h=o-s,c=a-l;return parseInt(s)+","+parseInt(l)+","+Math.round(h)+","+Math.round(c)},abs2rel:function(e,t){var n,i=[];if(Array.isArray(e)&&t>0)for(n=0;n<e.length;n++){var r=e[n],o=1e3*r[0]/t,s=1e3*r[1]/t;i.push([o,s])}return i},rel2abs:function(e,t){var n,i=[];if(Array.isArray(e)&&t>0)for(n=0;n<e.length;n++){var r=e[n],o=Math.round(r[0]*t/1e3),s=Math.round(r[1]*t/1e3);i.push([o,s])}return i},isRectangle:function(e){if(!Array.isArray(e)||4!==e.length)return!1;var t,n={},i={},r=0,o=0;for(t=0;t<e.length;t++){if(n[e[t][0]]?n[e[t][0]]++:n[e[t][0]]=1,i[e[t][1]]?i[e[t][1]]++:i[e[t][1]]=1,t>0&&e[t][0]!=r&&e[t][1]!=o)return!1;r=e[t][0],o=e[t][1]}var s,a=0;for(s in n)if(n.hasOwnProperty(s)&&(a++,2!=n[s]))return!1;if(2!=a)return!1;a=0;for(s in i)if(i.hasOwnProperty(s)&&(a++,2!=i[s]))return!1;return 2==a}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(36);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(9),r=n(1).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(1),r=n(7),o=n(16),s=n(5),a=function(e,t,n){var l,h,c,p=e&a.F,u=e&a.G,g=e&a.S,d=e&a.P,f=e&a.B,m=e&a.W,y=u?r:r[t]||(r[t]={}),v=y.prototype,_=u?i:g?i[t]:(i[t]||{}).prototype;u&&(n=t);for(l in n)(h=!p&&_&&void 0!==_[l])&&l in y||(c=h?_[l]:n[l],y[l]=u&&"function"!=typeof _[l]?n[l]:f&&h?o(c,i):m&&_[l]==c?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):d&&"function"==typeof c?o(Function.call,c):c,d&&((y.virtual||(y.virtual={}))[l]=c,e&a.R&&v&&!v[l]&&s(v,l,c)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(6).f,r=n(4),o=n(0)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,n){var i=n(1),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t,n){var i=n(42),r=n(8);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(13),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(8);e.exports=function(e){return Object(i(e))}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){n(81);var i=n(79)(n(30),n(80),"data-v-76fcf456",null);e.exports=i.exports},function(e,t,n){"use strict";(function(t){/*!
 * Vue.js v2.3.0
 * (c) 2014-2017 Evan You
 * Released under the MIT License.
 */
function n(e){return void 0===e||null===e}function i(e){return void 0!==e&&null!==e}function r(e){return!0===e}function o(e){return"string"==typeof e||"number"==typeof e}function s(e){return null!==e&&"object"==typeof e}function a(e){return"[object Object]"===Vr.call(e)}function l(e){return"[object RegExp]"===Vr.call(e)}function h(e){return null==e?"":"object"==typeof e?JSON.stringify(e,null,2):String(e)}function c(e){var t=parseFloat(e);return isNaN(t)?e:t}function p(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function u(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function g(e,t){return Wr.call(e,t)}function d(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}function f(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function m(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function y(e,t){for(var n in t)e[n]=t[n];return e}function v(e){for(var t={},n=0;n<e.length;n++)e[n]&&y(t,e[n]);return t}function _(){}function E(e,t){var n=s(e),i=s(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{return JSON.stringify(e)===JSON.stringify(t)}catch(n){return e===t}}function b(e,t){for(var n=0;n<e.length;n++)if(E(e[n],t))return n;return-1}function C(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function w(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function A(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function S(e){if(!Jr.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}function T(e,t,n){if(Qr.errorHandler)Qr.errorHandler.call(null,e,t,n);else{if(eo("Error in "+n+': "'+e.toString()+'"',t),!ao||"undefined"==typeof console)throw e;console.error(e)}}function I(e){return"function"==typeof e&&/native code/.test(e.toString())}function M(e){So.target&&To.push(So.target),So.target=e}function x(){So.target=To.pop()}function D(e,t){e.__proto__=t}function O(e,t,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];A(e,o,t[o])}}function N(e,t){if(s(e)){var n;return g(e,"__ob__")&&e.__ob__ instanceof Oo?n=e.__ob__:Do.shouldConvert&&!Eo()&&(Array.isArray(e)||a(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Oo(e)),t&&n&&n.vmCount++,n}}function R(e,t,n,i){var r=new So,o=Object.getOwnPropertyDescriptor(e,t);if(!o||!1!==o.configurable){var s=o&&o.get,a=o&&o.set,l=N(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return So.target&&(r.depend(),l&&l.dep.depend(),Array.isArray(t)&&H(t)),t},set:function(t){var o=s?s.call(e):n;t===o||t!==t&&o!==o||(i&&i(),a?a.call(e,t):n=t,l=N(t),r.notify())}})}}function L(e,t,n){if(Array.isArray(e)&&"number"==typeof t)return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(g(e,t))return e[t]=n,n;var i=e.__ob__;return e._isVue||i&&i.vmCount?(eo("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option."),n):i?(R(i.value,t,n),i.dep.notify(),n):(e[t]=n,n)}function P(e,t){if(Array.isArray(e)&&"number"==typeof t)return void e.splice(t,1);var n=e.__ob__;if(e._isVue||n&&n.vmCount)return void eo("Avoid deleting properties on a Vue instance or its root $data - just set it to null.");g(e,t)&&(delete e[t],n&&n.dep.notify())}function H(e){for(var t=void 0,n=0,i=e.length;n<i;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&H(t)}function B(e,t){if(!t)return e;for(var n,i,r,o=Object.keys(t),s=0;s<o.length;s++)n=o[s],i=e[n],r=t[n],g(e,n)?a(i)&&a(r)&&B(i,r):L(e,n,r);return e}function k(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function U(e,t){var n=Object.create(e||null);return t?y(n,t):n}function V(e){for(var t in e.components){var n=t.toLowerCase();(Gr(n)||Qr.isReservedTag(n))&&eo("Do not use built-in or reserved HTML elements as component id: "+t)}}function G(e){var t=e.props;if(t){var n,i,r,o={};if(Array.isArray(t))for(n=t.length;n--;)i=t[n],"string"==typeof i?(r=Fr(i),o[r]={type:null}):eo("props must be strings when using array syntax.");else if(a(t))for(var s in t)i=t[s],r=Fr(s),o[r]=a(i)?i:{type:i};e.props=o}}function W(e){var t=e.directives;if(t)for(var n in t){var i=t[n];"function"==typeof i&&(t[n]={bind:i,update:i})}}function F(e,t,n){function i(i){var r=No[i]||Po;l[i]=r(e[i],t[i],n,i)}V(t),"function"==typeof t&&(t=t.options),G(t),W(t);var r=t.extends;if(r&&(e=F(e,r,n)),t.mixins)for(var o=0,s=t.mixins.length;o<s;o++)e=F(e,t.mixins[o],n);var a,l={};for(a in e)i(a);for(a in t)g(e,a)||i(a);return l}function j(e,t,n,i){if("string"==typeof n){var r=e[t];if(g(r,n))return r[n];var o=Fr(n);if(g(r,o))return r[o];var s=jr(o);if(g(r,s))return r[s];var a=r[n]||r[o]||r[s];return i&&!a&&eo("Failed to resolve "+t.slice(0,-1)+": "+n,e),a}}function Y(e,t,n,i){var r=t[e],o=!g(n,e),s=n[e];if($(Boolean,r.type)&&(o&&!g(r,"default")?s=!1:$(String,r.type)||""!==s&&s!==Yr(e)||(s=!0)),void 0===s){s=z(i,r,e);var a=Do.shouldConvert;Do.shouldConvert=!0,N(s),Do.shouldConvert=a}return X(r,e,s,i,o),s}function z(e,t,n){if(g(t,"default")){var i=t.default;return s(i)&&eo('Invalid default value for prop "'+n+'": Props with type Object/Array must use a factory function to return the default value.',e),e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof i&&"Function"!==K(t.type)?i.call(e):i}}function X(e,t,n,i,r){if(e.required&&r)return void eo('Missing required prop: "'+t+'"',i);if(null!=n||e.required){var o=e.type,s=!o||!0===o,a=[];if(o){Array.isArray(o)||(o=[o]);for(var l=0;l<o.length&&!s;l++){var h=Z(n,o[l]);a.push(h.expectedType||""),s=h.valid}}if(!s)return void eo('Invalid prop: type check failed for prop "'+t+'". Expected '+a.map(jr).join(", ")+", got "+Object.prototype.toString.call(n).slice(8,-1)+".",i);var c=e.validator;c&&(c(n)||eo('Invalid prop: custom validator check failed for prop "'+t+'".',i))}}function Z(e,t){var n,i=K(t);return n=Ho.test(i)?typeof e===i.toLowerCase():"Object"===i?a(e):"Array"===i?Array.isArray(e):e instanceof t,{valid:n,expectedType:i}}function K(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function $(e,t){if(!Array.isArray(t))return K(t)===K(e);for(var n=0,i=t.length;n<i;n++)if(K(t[n])===K(e))return!0;return!1}function Q(e){return new Yo(void 0,void 0,void 0,String(e))}function q(e){var t=new Yo(e.tag,e.data,e.children,e.text,e.elm,e.context,e.componentOptions);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isCloned=!0,t}function J(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=q(e[i]);return n}function ee(e){function t(){var e=arguments,n=t.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var i=0;i<n.length;i++)n[i].apply(null,e)}return t.fns=e,t}function te(e,t,i,r,o){var s,a,l,h;for(s in e)a=e[s],l=t[s],h=Ko(s),n(a)?eo('Invalid handler for event "'+h.name+'": got '+String(a),o):n(l)?(n(a.fns)&&(a=e[s]=ee(a)),i(h.name,a,h.once,h.capture,h.passive)):a!==l&&(l.fns=a,e[s]=l);for(s in t)n(e[s])&&(h=Ko(s),r(h.name,t[s],h.capture))}function ne(e,t,o){function s(){o.apply(this,arguments),u(a.fns,s)}var a,l=e[t];n(l)?a=ee([s]):i(l.fns)&&r(l.merged)?(a=l,a.fns.push(s)):a=ee([l,s]),a.merged=!0,e[t]=a}function ie(e,t,r){var o=t.options.props;if(!n(o)){var s={},a=e.attrs,l=e.props;if(i(a)||i(l))for(var h in o){var c=Yr(h),p=h.toLowerCase();h!==p&&a&&g(a,p)&&to('Prop "'+p+'" is passed to component '+Ur(r||t)+', but the declared prop name is "'+h+'". Note that HTML attributes are case-insensitive and camelCased props need to use their kebab-case equivalents when using in-DOM templates. You should probably use "'+c+'" instead of "'+h+'".'),re(s,l,h,c,!0)||re(s,a,h,c,!1)}return s}}function re(e,t,n,r,o){if(i(t)){if(g(t,n))return e[n]=t[n],o||delete t[n],!0;if(g(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function oe(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function se(e){return o(e)?[Q(e)]:Array.isArray(e)?ae(e):void 0}function ae(e,t){var r,s,a,l=[];for(r=0;r<e.length;r++)s=e[r],n(s)||"boolean"==typeof s||(a=l[l.length-1],Array.isArray(s)?l.push.apply(l,ae(s,(t||"")+"_"+r)):o(s)?i(a)&&i(a.text)?a.text+=String(s):""!==s&&l.push(Q(s)):i(s.text)&&i(a)&&i(a.text)?l[l.length-1]=Q(a.text+s.text):(i(s.tag)&&n(s.key)&&i(t)&&(s.key="__vlist"+t+"_"+r+"__"),l.push(s)));return l}function le(e,t){return s(e)?t.extend(e):e}function he(e,t,o){if(r(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;if(r(e.loading)&&i(e.loadingComp))return e.loadingComp;if(!i(e.contexts)){var a=e.contexts=[o],l=!0,h=function(){for(var e=0,t=a.length;e<t;e++)a[e].$forceUpdate()},c=C(function(n){e.resolved=le(n,t),l||h()}),p=C(function(t){eo("Failed to resolve async component: "+String(e)+(t?"\nReason: "+t:"")),i(e.errorComp)&&(e.error=!0,h())}),u=e(c,p);return s(u)&&("function"==typeof u.then?n(e.resolved)&&u.then(c,p):i(u.component)&&"function"==typeof u.component.then&&(u.component.then(c,p),i(u.error)&&(e.errorComp=le(u.error,t)),i(u.loading)&&(e.loadingComp=le(u.loading,t),0===u.delay?e.loading=!0:setTimeout(function(){n(e.resolved)&&n(e.error)&&(e.loading=!0,h())},u.delay||200)),i(u.timeout)&&setTimeout(function(){p("timeout ("+u.timeout+"ms)")},u.timeout))),l=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(o)}function ce(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(i(n)&&i(n.componentOptions))return n}}function pe(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&de(e,t)}function ue(e,t,n){n?Xo.$once(e,t):Xo.$on(e,t)}function ge(e,t){Xo.$off(e,t)}function de(e,t,n){Xo=e,te(t,n||{},ue,ge,e)}function fe(e,t){var n={};if(!e)return n;for(var i=[],r=0,o=e.length;r<o;r++){var s=e[r];if(s.context!==t&&s.functionalContext!==t||!s.data||null==s.data.slot)i.push(s);else{var a=s.data.slot,l=n[a]||(n[a]=[]);"template"===s.tag?l.push.apply(l,s.children):l.push(s)}}return i.every(me)||(n.default=i),n}function me(e){return e.isComment||" "===e.text}function ye(e){for(var t={},n=0;n<e.length;n++)t[e[n][0]]=e[n][1];return t}function ve(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function _e(e,t,n){e.$el=t,e.$options.render||(e.$options.render=Zo,e.$options.template&&"#"!==e.$options.template.charAt(0)||e.$options.el||t?eo("You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.",e):eo("Failed to mount component: template or render function not defined.",e)),Ae(e,"beforeMount");var i;return i=Qr.performance&&Ro?function(){var t=e._name,i=e._uid,r="vue-perf-start:"+i,o="vue-perf-end:"+i;Ro(r);var s=e._render();Ro(o),Lo(t+" render",r,o),Ro(r),e._update(s,n),Ro(o),Lo(t+" patch",r,o)}:function(){e._update(e._render(),n)},e._watcher=new ss(e,i,_),n=!1,null==e.$vnode&&(e._isMounted=!0,Ae(e,"mounted")),e}function Ee(e,t,n,i,r){var o=!!(r||e.$options._renderChildren||i.data.scopedSlots||e.$scopedSlots!==qr);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=r,t&&e.$options.props){Do.shouldConvert=!1,Do.isSettingProps=!0;for(var s=e._props,a=e.$options._propKeys||[],l=0;l<a.length;l++){var h=a[l];s[h]=Y(h,e.$options.props,t,e)}Do.shouldConvert=!0,Do.isSettingProps=!1,e.$options.propsData=t}if(n){var c=e.$options._parentListeners;e.$options._parentListeners=n,de(e,n,c)}o&&(e.$slots=fe(r,i.context),e.$forceUpdate())}function be(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Ce(e,t){if(t){if(e._directInactive=!1,be(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Ce(e.$children[n]);Ae(e,"activated")}}function we(e,t){if(!(t&&(e._directInactive=!0,be(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)we(e.$children[n]);Ae(e,"deactivated")}}function Ae(e,t){var n=e.$options[t];if(n)for(var i=0,r=n.length;i<r;i++)try{n[i].call(e)}catch(n){T(n,e,t+" hook")}e._hasHookEvent&&e.$emit("hook:"+t)}function Se(){qo.length=Jo.length=0,es={},ts={},ns=is=!1}function Te(){is=!0;var e,t;for(qo.sort(function(e,t){return e.id-t.id}),rs=0;rs<qo.length;rs++)if(e=qo[rs],t=e.id,es[t]=null,e.run(),null!=es[t]&&(ts[t]=(ts[t]||0)+1,ts[t]>Qo)){eo("You may have an infinite update loop "+(e.user?'in watcher with expression "'+e.expression+'"':"in a component render function."),e.vm);break}var n=Jo.slice(),i=qo.slice();Se(),xe(n),Ie(i),bo&&Qr.devtools&&bo.emit("flush")}function Ie(e){for(var t=e.length;t--;){var n=e[t],i=n.vm;i._watcher===n&&i._isMounted&&Ae(i,"updated")}}function Me(e){e._inactive=!1,Jo.push(e)}function xe(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Ce(e[t],!0)}function De(e){var t=e.id;if(null==es[t]){if(es[t]=!0,is){for(var n=qo.length-1;n>=0&&qo[n].id>e.id;)n--;qo.splice(Math.max(n,rs)+1,0,e)}else qo.push(e);ns||(ns=!0,wo(Te))}}function Oe(e){as.clear(),Ne(e,as)}function Ne(e,t){var n,i,r=Array.isArray(e);if((r||s(e))&&Object.isExtensible(e)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(r)for(n=e.length;n--;)Ne(e[n],t);else for(i=Object.keys(e),n=i.length;n--;)Ne(e[i[n]],t)}}function Re(e,t,n){ls.get=function(){return this[t][n]},ls.set=function(e){this[t][n]=e},Object.defineProperty(e,n,ls)}function Le(e){e._watchers=[];var t=e.$options;t.props&&Pe(e,t.props),t.methods&&Ge(e,t.methods),t.data?He(e):N(e._data={},!0),t.computed&&ke(e,t.computed),t.watch&&We(e,t.watch)}function Pe(e,t){var n=e.$options.propsData||{},i=e._props={},r=e.$options._propKeys=[],o=!e.$parent;Do.shouldConvert=o;for(var s in t)!function(o){r.push(o);var s=Y(o,t,n,e);(hs[o]||Qr.isReservedAttr(o))&&eo('"'+o+'" is a reserved attribute and cannot be used as component prop.',e),R(i,o,s,function(){e.$parent&&!Do.isSettingProps&&eo("Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \""+o+'"',e)}),o in e||Re(e,"_props",o)}(s);Do.shouldConvert=!0}function He(e){var t=e.$options.data;t=e._data="function"==typeof t?Be(t,e):t||{},a(t)||(t={},eo("data functions should return an object:\nhttps://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",e));for(var n=Object.keys(t),i=e.$options.props,r=n.length;r--;)i&&g(i,n[r])?eo('The data property "'+n[r]+'" is already declared as a prop. Use prop default value instead.',e):w(n[r])||Re(e,"_data",n[r]);N(t,!0)}function Be(e,t){try{return e.call(t)}catch(e){return T(e,t,"data()"),{}}}function ke(e,t){var n=e._computedWatchers=Object.create(null);for(var i in t){var r=t[i],o="function"==typeof r?r:r.get;void 0===o&&(eo('No getter function has been defined for computed property "'+i+'".',e),o=_),n[i]=new ss(e,o,_,cs),i in e?i in e.$data?eo('The computed property "'+i+'" is already defined in data.',e):e.$options.props&&i in e.$options.props&&eo('The computed property "'+i+'" is already defined as a prop.',e):Ue(e,i,r)}}function Ue(e,t,n){"function"==typeof n?(ls.get=Ve(t),ls.set=_):(ls.get=n.get?!1!==n.cache?Ve(t):n.get:_,ls.set=n.set?n.set:_),Object.defineProperty(e,t,ls)}function Ve(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),So.target&&t.depend(),t.value}}function Ge(e,t){var n=e.$options.props;for(var i in t)e[i]=null==t[i]?_:f(t[i],e),null==t[i]&&eo('method "'+i+'" has an undefined value in the component definition. Did you reference the function correctly?',e),n&&g(n,i)&&eo('method "'+i+'" has already been defined as a prop.',e)}function We(e,t){for(var n in t){var i=t[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)Fe(e,n,i[r]);else Fe(e,n,i)}}function Fe(e,t,n){var i;a(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}function je(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}function Ye(e){var t=ze(e.$options.inject,e);t&&Object.keys(t).forEach(function(n){R(e,n,t[n],function(){eo('Avoid mutating an injected value directly since the changes will be overwritten whenever the provided component re-renders. injection being mutated: "'+n+'"',e)})})}function ze(e,t){if(e){for(var n=Array.isArray(e),i=Object.create(null),r=n?e:Co?Reflect.ownKeys(e):Object.keys(e),o=0;o<r.length;o++)for(var s=r[o],a=n?s:e[s],l=t;l;){if(l._provided&&a in l._provided){i[s]=l._provided[a];break}l=l.$parent}return i}}function Xe(e,t,n,r,o){var s={},a=e.options.props;if(i(a))for(var l in a)s[l]=Y(l,a,t);else i(n.attrs)&&Ze(s,n.attrs),i(n.props)&&Ze(s,n.props);var h=Object.create(r),c=function(e,t,n,i){return et(h,e,t,n,i,!0)},p=e.options.render.call(null,c,{data:n,props:s,children:o,parent:r,listeners:n.on||{},injections:ze(e.options.inject,r),slots:function(){return fe(o,r)}});return p instanceof Yo&&(p.functionalContext=r,n.slot&&((p.data||(p.data={})).slot=n.slot)),p}function Ze(e,t){for(var n in t)e[Fr(n)]=t[n]}function Ke(e,t,o,a,l){if(!n(e)){var h=o.$options._base;if(s(e)&&(e=h.extend(e)),"function"!=typeof e)return void eo("Invalid Component definition: "+String(e),o);if(!n(e.cid)||void 0!==(e=he(e,h,o))){dt(e),t=t||{},i(t.model)&&Je(e.options,t);var c=ie(t,e,l);if(r(e.options.functional))return Xe(e,c,t,o,a);var p=t.on;t.on=t.nativeOn,r(e.options.abstract)&&(t={}),Qe(t);var u=e.options.name||l;return new Yo("vue-component-"+e.cid+(u?"-"+u:""),t,void 0,void 0,void 0,o,{Ctor:e,propsData:c,listeners:p,tag:l,children:a})}}}function $e(e,t,n,r){var o=e.componentOptions,s={_isComponent:!0,parent:t,propsData:o.propsData,_componentTag:o.tag,_parentVnode:e,_parentListeners:o.listeners,_renderChildren:o.children,_parentElm:n||null,_refElm:r||null},a=e.data.inlineTemplate;return i(a)&&(s.render=a.render,s.staticRenderFns=a.staticRenderFns),new o.Ctor(s)}function Qe(e){e.hook||(e.hook={});for(var t=0;t<us.length;t++){var n=us[t],i=e.hook[n],r=ps[n];e.hook[n]=i?qe(r,i):r}}function qe(e,t){return function(n,i,r,o){e(n,i,r,o),t(n,i,r,o)}}function Je(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.props||(t.props={}))[n]=t.model.value;var o=t.on||(t.on={});i(o[r])?o[r]=[t.model.callback].concat(o[r]):o[r]=t.model.callback}function et(e,t,n,i,s,a){return(Array.isArray(n)||o(n))&&(s=i,i=n,n=void 0),r(a)&&(s=ds),tt(e,t,n,i,s)}function tt(e,t,n,r,o){if(i(n)&&i(n.__ob__))return eo("Avoid using observed data object as vnode data: "+JSON.stringify(n)+"\nAlways create fresh vnode data objects in each render!",e),Zo();if(!t)return Zo();Array.isArray(r)&&"function"==typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===ds?r=se(r):o===gs&&(r=oe(r));var s,a;if("string"==typeof t){var l;a=Qr.getTagNamespace(t),s=Qr.isReservedTag(t)?new Yo(Qr.parsePlatformTagName(t),n,r,void 0,void 0,e):i(l=j(e.$options,"components",t))?Ke(l,n,e,r,t):new Yo(t,n,r,void 0,void 0,e)}else s=Ke(t,n,e,r);return void 0!==s?(a&&nt(s,a),s):Zo()}function nt(e,t){if(e.ns=t,"foreignObject"!==e.tag&&Array.isArray(e.children))for(var r=0,o=e.children.length;r<o;r++){var s=e.children[r];i(s.tag)&&n(s.ns)&&nt(s,t)}}function it(e,t){var n,i,r,o,a;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),i=0,r=e.length;i<r;i++)n[i]=t(e[i],i);else if("number"==typeof e)for(n=new Array(e),i=0;i<e;i++)n[i]=t(i+1,i);else if(s(e))for(o=Object.keys(e),n=new Array(o.length),i=0,r=o.length;i<r;i++)a=o[i],n[i]=t(e[a],a,i);return n}function rt(e,t,n,i){var r=this.$scopedSlots[e];if(r)return n=n||{},i&&y(n,i),r(n)||t;var o=this.$slots[e];return o&&(o._rendered&&eo('Duplicate presence of slot "'+e+'" found in the same render tree - this will likely cause render errors.',this),o._rendered=!0),o||t}function ot(e){return j(this.$options,"filters",e,!0)||Xr}function st(e,t,n){var i=Qr.keyCodes[t]||n;return Array.isArray(i)?-1===i.indexOf(e):i!==e}function at(e,t,n,i){if(n)if(s(n)){Array.isArray(n)&&(n=v(n));var r;for(var o in n){if("class"===o||"style"===o)r=e;else{var a=e.attrs&&e.attrs.type;r=i||Qr.mustUseProp(t,a,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}o in r||(r[o]=n[o])}}else eo("v-bind without argument expects an Object or Array value",this);return e}function lt(e,t){var n=this._staticTrees[e];return n&&!t?Array.isArray(n)?J(n):q(n):(n=this._staticTrees[e]=this.$options.staticRenderFns[e].call(this._renderProxy),ct(n,"__static__"+e,!1),n)}function ht(e,t,n){return ct(e,"__once__"+t+(n?"_"+n:""),!0),e}function ct(e,t,n){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&pt(e[i],t+"_"+i,n);else pt(e,t,n)}function pt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function ut(e){e._vnode=null,e._staticTrees=null;var t=e.$vnode=e.$options._parentVnode,n=t&&t.context;e.$slots=fe(e.$options._renderChildren,n),e.$scopedSlots=qr,e._c=function(t,n,i,r){return et(e,t,n,i,r,!1)},e.$createElement=function(t,n,i,r){return et(e,t,n,i,r,!0)}}function gt(e,t){var n=e.$options=Object.create(e.constructor.options);n.parent=t.parent,n.propsData=t.propsData,n._parentVnode=t._parentVnode,n._parentListeners=t._parentListeners,n._renderChildren=t._renderChildren,n._componentTag=t._componentTag,n._parentElm=t._parentElm,n._refElm=t._refElm,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function dt(e){var t=e.options;if(e.super){var n=dt(e.super);if(n!==e.superOptions){e.superOptions=n;var i=ft(e);i&&y(e.extendOptions,i),t=e.options=F(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function ft(e){var t,n=e.options,i=e.extendOptions,r=e.sealedOptions;for(var o in n)n[o]!==r[o]&&(t||(t={}),t[o]=mt(n[o],i[o],r[o]));return t}function mt(e,t,n){if(Array.isArray(e)){var i=[];n=Array.isArray(n)?n:[n],t=Array.isArray(t)?t:[t];for(var r=0;r<e.length;r++)(t.indexOf(e[r])>=0||n.indexOf(e[r])<0)&&i.push(e[r]);return i}return e}function yt(e){this instanceof yt||eo("Vue is a constructor and should be called with the `new` keyword"),this._init(e)}function vt(e){e.use=function(e){if(!e.installed){var t=m(arguments,1);return t.unshift(this),"function"==typeof e.install?e.install.apply(e,t):"function"==typeof e&&e.apply(null,t),e.installed=!0,this}}}function _t(e){e.mixin=function(e){this.options=F(this.options,e)}}function Et(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var o=e.name||n.options.name;/^[a-zA-Z][\w-]*$/.test(o)||eo('Invalid component name: "'+o+'". Component names can only contain alphanumeric characters and the hyphen, and must start with a letter.');var s=function(e){this._init(e)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=t++,s.options=F(n.options,e),s.super=n,s.options.props&&bt(s),s.options.computed&&Ct(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,Kr.forEach(function(e){s[e]=n[e]}),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=y({},s.options),r[i]=s,s}}function bt(e){var t=e.options.props;for(var n in t)Re(e.prototype,"_props",n)}function Ct(e){var t=e.options.computed;for(var n in t)Ue(e.prototype,n,t[n])}function wt(e){Kr.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&Qr.isReservedTag(e)&&eo("Do not use built-in or reserved HTML elements as component id: "+e),"component"===t&&a(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}function At(e){return e&&(e.Ctor.options.name||e.tag)}function St(e,t){return"string"==typeof e?e.split(",").indexOf(t)>-1:!!l(e)&&e.test(t)}function Tt(e,t,n){for(var i in e){var r=e[i];if(r){var o=At(r.componentOptions);o&&!n(o)&&(r!==t&&It(r),e[i]=null)}}}function It(e){e&&e.componentInstance.$destroy()}function Mt(e){for(var t=e.data,n=e,r=e;i(r.componentInstance);)r=r.componentInstance._vnode,r.data&&(t=xt(r.data,t));for(;i(n=n.parent);)n.data&&(t=xt(t,n.data));return Dt(t)}function xt(e,t){return{staticClass:Ot(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function Dt(e){var t=e.class,n=e.staticClass;return i(n)||i(t)?Ot(n,Nt(t)):""}function Ot(e,t){return e?t?e+" "+t:e:t||""}function Nt(e){if(n(e))return"";if("string"==typeof e)return e;var t="";if(Array.isArray(e)){for(var r,o=0,a=e.length;o<a;o++)i(e[o])&&i(r=Nt(e[o]))&&""!==r&&(t+=r+" ");return t.slice(0,-1)}if(s(e)){for(var l in e)e[l]&&(t+=l+" ");return t.slice(0,-1)}return t}function Rt(e){return Us(e)?"svg":"math"===e?"math":void 0}function Lt(e){if(!ao)return!0;if(Gs(e))return!1;if(e=e.toLowerCase(),null!=Ws[e])return Ws[e];var t=document.createElement(e);return e.indexOf("-")>-1?Ws[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Ws[e]=/HTMLUnknownElement/.test(t.toString())}function Pt(e){if("string"==typeof e){var t=document.querySelector(e);return t||(eo("Cannot find element: "+e),document.createElement("div"))}return e}function Ht(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function Bt(e,t){return document.createElementNS(Bs[e],t)}function kt(e){return document.createTextNode(e)}function Ut(e){return document.createComment(e)}function Vt(e,t,n){e.insertBefore(t,n)}function Gt(e,t){e.removeChild(t)}function Wt(e,t){e.appendChild(t)}function Ft(e){return e.parentNode}function jt(e){return e.nextSibling}function Yt(e){return e.tagName}function zt(e,t){e.textContent=t}function Xt(e,t,n){e.setAttribute(t,n)}function Zt(e,t){var n=e.data.ref;if(n){var i=e.context,r=e.componentInstance||e.elm,o=i.$refs;t?Array.isArray(o[n])?u(o[n],r):o[n]===r&&(o[n]=void 0):e.data.refInFor?Array.isArray(o[n])&&o[n].indexOf(r)<0?o[n].push(r):o[n]=[r]:o[n]=r}}function Kt(e,t){return e.key===t.key&&e.tag===t.tag&&e.isComment===t.isComment&&i(e.data)===i(t.data)&&$t(e,t)}function $t(e,t){if("input"!==e.tag)return!0;var n;return(i(n=e.data)&&i(n=n.attrs)&&n.type)===(i(n=t.data)&&i(n=n.attrs)&&n.type)}function Qt(e,t,n){var r,o,s={};for(r=t;r<=n;++r)o=e[r].key,i(o)&&(s[o]=r);return s}function qt(e,t){(e.data.directives||t.data.directives)&&Jt(e,t)}function Jt(e,t){var n,i,r,o=e===Ys,s=t===Ys,a=en(e.data.directives,e.context),l=en(t.data.directives,t.context),h=[],c=[];for(n in l)i=a[n],r=l[n],i?(r.oldValue=i.value,nn(r,"update",t,e),r.def&&r.def.componentUpdated&&c.push(r)):(nn(r,"bind",t,e),r.def&&r.def.inserted&&h.push(r));if(h.length){var p=function(){for(var n=0;n<h.length;n++)nn(h[n],"inserted",t,e)};o?ne(t.data.hook||(t.data.hook={}),"insert",p):p()}if(c.length&&ne(t.data.hook||(t.data.hook={}),"postpatch",function(){for(var n=0;n<c.length;n++)nn(c[n],"componentUpdated",t,e)}),!o)for(n in a)l[n]||nn(a[n],"unbind",e,e,s)}function en(e,t){var n=Object.create(null);if(!e)return n;var i,r;for(i=0;i<e.length;i++)r=e[i],r.modifiers||(r.modifiers=Zs),n[tn(r)]=r,r.def=j(t.$options,"directives",r.name,!0);return n}function tn(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function nn(e,t,n,i,r){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,i,r)}catch(i){T(i,n.context,"directive "+e.name+" "+t+" hook")}}function rn(e,t){if(!n(e.data.attrs)||!n(t.data.attrs)){var r,o,s=t.elm,a=e.data.attrs||{},l=t.data.attrs||{};i(l.__ob__)&&(l=t.data.attrs=y({},l));for(r in l)o=l[r],a[r]!==o&&on(s,r,o);co&&l.value!==a.value&&on(s,"value",l.value);for(r in a)n(l[r])&&(Ls(r)?s.removeAttributeNS(Rs,Ps(r)):Os(r)||s.removeAttribute(r))}}function on(e,t,n){Ns(t)?Hs(n)?e.removeAttribute(t):e.setAttribute(t,t):Os(t)?e.setAttribute(t,Hs(n)||"false"===n?"false":"true"):Ls(t)?Hs(n)?e.removeAttributeNS(Rs,Ps(t)):e.setAttributeNS(Rs,t,n):Hs(n)?e.removeAttribute(t):e.setAttribute(t,n)}function sn(e,t){var r=t.elm,o=t.data,s=e.data;if(!(n(o.staticClass)&&n(o.class)&&(n(s)||n(s.staticClass)&&n(s.class)))){var a=Mt(t),l=r._transitionClasses;i(l)&&(a=Ot(a,Nt(l))),a!==r._prevClass&&(r.setAttribute("class",a),r._prevClass=a)}}function an(e){function t(){(s||(s=[])).push(e.slice(d,r).trim()),d=r+1}var n,i,r,o,s,a=!1,l=!1,h=!1,c=!1,p=0,u=0,g=0,d=0;for(r=0;r<e.length;r++)if(i=n,n=e.charCodeAt(r),a)39===n&&92!==i&&(a=!1);else if(l)34===n&&92!==i&&(l=!1);else if(h)96===n&&92!==i&&(h=!1);else if(c)47===n&&92!==i&&(c=!1);else if(124!==n||124===e.charCodeAt(r+1)||124===e.charCodeAt(r-1)||p||u||g){switch(n){case 34:l=!0;break;case 39:a=!0;break;case 96:h=!0;break;case 40:g++;break;case 41:g--;break;case 91:u++;break;case 93:u--;break;case 123:p++;break;case 125:p--}if(47===n){for(var f=r-1,m=void 0;f>=0&&" "===(m=e.charAt(f));f--);m&&qs.test(m)||(c=!0)}}else void 0===o?(d=r+1,o=e.slice(0,r).trim()):t();if(void 0===o?o=e.slice(0,r).trim():0!==d&&t(),s)for(r=0;r<s.length;r++)o=ln(o,s[r]);return o}function ln(e,t){var n=t.indexOf("(");return n<0?'_f("'+t+'")('+e+")":'_f("'+t.slice(0,n)+'")('+e+","+t.slice(n+1)}function hn(e){console.error("[Vue compiler]: "+e)}function cn(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function pn(e,t,n){(e.props||(e.props=[])).push({name:t,value:n})}function un(e,t,n){(e.attrs||(e.attrs=[])).push({name:t,value:n})}function gn(e,t,n,i,r,o){(e.directives||(e.directives=[])).push({name:t,rawName:n,value:i,arg:r,modifiers:o})}function dn(e,t,n,i,r,o){o&&i&&i.prevent&&i.passive&&o("passive and prevent can't be used together. Passive handler can't prevent default event."),i&&i.capture&&(delete i.capture,t="!"+t),i&&i.once&&(delete i.once,t="~"+t),i&&i.passive&&(delete i.passive,t="&"+t);var s;i&&i.native?(delete i.native,s=e.nativeEvents||(e.nativeEvents={})):s=e.events||(e.events={});var a={value:n,modifiers:i},l=s[t];Array.isArray(l)?r?l.unshift(a):l.push(a):s[t]=l?r?[a,l]:[l,a]:a}function fn(e,t,n){var i=mn(e,":"+t)||mn(e,"v-bind:"+t);if(null!=i)return an(i);if(!1!==n){var r=mn(e,t);if(null!=r)return JSON.stringify(r)}}function mn(e,t){var n;if(null!=(n=e.attrsMap[t]))for(var i=e.attrsList,r=0,o=i.length;r<o;r++)if(i[r].name===t){i.splice(r,1);break}return n}function yn(e,t,n){var i=n||{},r=i.number,o=i.trim,s="$$v";o&&(s="(typeof $$v === 'string'? $$v.trim(): $$v)"),r&&(s="_n("+s+")");var a=vn(t,s);e.model={value:"("+t+")",expression:'"'+t+'"',callback:"function ($$v) {"+a+"}"}}function vn(e,t){var n=_n(e);return null===n.idx?e+"="+t:"var $$exp = "+n.exp+", $$idx = "+n.idx+";if (!Array.isArray($$exp)){"+e+"="+t+"}else{$$exp.splice($$idx, 1, "+t+")}"}function _n(e){if(Es=e,_s=Es.length,Cs=ws=As=0,e.indexOf("[")<0||e.lastIndexOf("]")<_s-1)return{exp:e,idx:null};for(;!bn();)bs=En(),Cn(bs)?An(bs):91===bs&&wn(bs);return{exp:e.substring(0,ws),idx:e.substring(ws+1,As)}}function En(){return Es.charCodeAt(++Cs)}function bn(){return Cs>=_s}function Cn(e){return 34===e||39===e}function wn(e){var t=1;for(ws=Cs;!bn();)if(e=En(),Cn(e))An(e);else if(91===e&&t++,93===e&&t--,0===t){As=Cs;break}}function An(e){for(var t=e;!bn()&&(e=En())!==t;);}function Sn(e,t,n){Ss=n;var i=t.value,r=t.modifiers,o=e.tag,s=e.attrsMap.type,a=e.attrsMap["v-bind:type"]||e.attrsMap[":type"];if("input"===o&&a&&Ss('<input :type="'+a+'" v-model="'+i+'">:\nv-model does not support dynamic input types. Use v-if branches instead.'),"input"===o&&"file"===s&&Ss("<"+e.tag+' v-model="'+i+'" type="file">:\nFile inputs are read only. Use a v-on:change listener instead.'),"select"===o)Mn(e,i,r);else if("input"===o&&"checkbox"===s)Tn(e,i,r);else if("input"===o&&"radio"===s)In(e,i,r);else if("input"===o||"textarea"===o)xn(e,i,r);else{if(!Qr.isReservedTag(o))return yn(e,i,r),!1;Ss("<"+e.tag+' v-model="'+i+"\">: v-model is not supported on this element type. If you are working with contenteditable, it's recommended to wrap a library dedicated for that purpose inside a custom component.")}return!0}function Tn(e,t,n){var i=n&&n.number,r=fn(e,"value")||"null",o=fn(e,"true-value")||"true",s=fn(e,"false-value")||"false";pn(e,"checked","Array.isArray("+t+")?_i("+t+","+r+")>-1"+("true"===o?":("+t+")":":_q("+t+","+o+")")),dn(e,ea,"var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+s+");if(Array.isArray($$a)){var $$v="+(i?"_n("+r+")":r)+",$$i=_i($$a,$$v);if($$c){$$i<0&&("+t+"=$$a.concat($$v))}else{$$i>-1&&("+t+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+vn(t,"$$c")+"}",null,!0)}function In(e,t,n){var i=n&&n.number,r=fn(e,"value")||"null";r=i?"_n("+r+")":r,pn(e,"checked","_q("+t+","+r+")"),dn(e,ea,vn(t,r),null,!0)}function Mn(e,t,n){var i=n&&n.number,r='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(i?"_n(val)":"val")+"})",o="var $$selectedVal = "+r+";";o=o+" "+vn(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),dn(e,"change",o,null,!0)}function xn(e,t,n){var i=e.attrsMap.type,r=n||{},o=r.lazy,s=r.number,a=r.trim,l=!o&&"range"!==i,h=o?"change":"range"===i?Js:"input",c="$event.target.value";a&&(c="$event.target.value.trim()"),s&&(c="_n("+c+")");var p=vn(t,c);l&&(p="if($event.target.composing)return;"+p),pn(e,"value","("+t+")"),dn(e,h,p,null,!0),(a||s||"number"===i)&&dn(e,"blur","$forceUpdate()")}function Dn(e){var t;i(e[Js])&&(t=ho?"change":"input",e[t]=[].concat(e[Js],e[t]||[]),delete e[Js]),i(e[ea])&&(t=fo?"click":"change",e[t]=[].concat(e[ea],e[t]||[]),delete e[ea])}function On(e,t,n,i,r){if(n){var o=t,s=Ts;t=function(n){null!==(1===arguments.length?o(n):o.apply(null,arguments))&&Nn(e,t,i,s)}}Ts.addEventListener(e,t,mo?{capture:i,passive:r}:i)}function Nn(e,t,n,i){(i||Ts).removeEventListener(e,t,n)}function Rn(e,t){if(!n(e.data.on)||!n(t.data.on)){var i=t.data.on||{},r=e.data.on||{};Ts=t.elm,Dn(i),te(i,r,On,Nn,t.context)}}function Ln(e,t){if(!n(e.data.domProps)||!n(t.data.domProps)){var r,o,s=t.elm,a=e.data.domProps||{},l=t.data.domProps||{};i(l.__ob__)&&(l=t.data.domProps=y({},l));for(r in a)n(l[r])&&(s[r]="");for(r in l)if(o=l[r],"textContent"!==r&&"innerHTML"!==r||(t.children&&(t.children.length=0),o!==a[r]))if("value"===r){s._value=o;var h=null==o?"":String(o);Pn(s,t,h)&&(s.value=h)}else s[r]=o}}function Pn(e,t,n){return!e.composing&&("option"===t.tag||Hn(e,n)||Bn(e,n))}function Hn(e,t){return document.activeElement!==e&&e.value!==t}function Bn(e,t){var n=e.value,r=e._vModifiers;return i(r)&&r.number||"number"===e.type?c(n)!==c(t):i(r)&&r.trim?n.trim()!==t.trim():n!==t}function kn(e){var t=Un(e.style);return e.staticStyle?y(e.staticStyle,t):t}function Un(e){return Array.isArray(e)?v(e):"string"==typeof e?ia(e):e}function Vn(e,t){var n,i={};if(t)for(var r=e;r.componentInstance;)r=r.componentInstance._vnode,r.data&&(n=kn(r.data))&&y(i,n);(n=kn(e.data))&&y(i,n);for(var o=e;o=o.parent;)o.data&&(n=kn(o.data))&&y(i,n);return i}function Gn(e,t){var r=t.data,o=e.data;if(!(n(r.staticStyle)&&n(r.style)&&n(o.staticStyle)&&n(o.style))){var s,a,l=t.elm,h=o.staticStyle,c=o.normalizedStyle||o.style||{},p=h||c,u=Un(t.data.style)||{};t.data.normalizedStyle=i(u.__ob__)?y({},u):u;var g=Vn(t,!0);for(a in p)n(g[a])&&sa(l,a,"");for(a in g)(s=g[a])!==p[a]&&sa(l,a,null==s?"":s)}}function Wn(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Fn(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t);else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");e.setAttribute("class",n.trim())}}function jn(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&y(t,ca(e.name||"v")),y(t,e),t}return"string"==typeof e?ca(e):void 0}}function Yn(e){va(function(){va(e)})}function zn(e,t){(e._transitionClasses||(e._transitionClasses=[])).push(t),Wn(e,t)}function Xn(e,t){e._transitionClasses&&u(e._transitionClasses,t),Fn(e,t)}function Zn(e,t,n){var i=Kn(e,t),r=i.type,o=i.timeout,s=i.propCount;if(!r)return n();var a=r===ua?fa:ya,l=0,h=function(){e.removeEventListener(a,c),n()},c=function(t){t.target===e&&++l>=s&&h()};setTimeout(function(){l<s&&h()},o+1),e.addEventListener(a,c)}function Kn(e,t){var n,i=window.getComputedStyle(e),r=i[da+"Delay"].split(", "),o=i[da+"Duration"].split(", "),s=$n(r,o),a=i[ma+"Delay"].split(", "),l=i[ma+"Duration"].split(", "),h=$n(a,l),c=0,p=0;return t===ua?s>0&&(n=ua,c=s,p=o.length):t===ga?h>0&&(n=ga,c=h,p=l.length):(c=Math.max(s,h),n=c>0?s>h?ua:ga:null,p=n?n===ua?o.length:l.length:0),{type:n,timeout:c,propCount:p,hasTransform:n===ua&&_a.test(i[da+"Property"])}}function $n(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return Qn(t)+Qn(e[n])}))}function Qn(e){return 1e3*Number(e.slice(0,-1))}function qn(e,t){var r=e.elm;i(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var o=jn(e.data.transition);if(!n(o)&&!i(r._enterCb)&&1===r.nodeType){for(var a=o,l=a.css,h=a.type,p=a.enterClass,u=a.enterToClass,g=a.enterActiveClass,d=a.appearClass,f=a.appearToClass,m=a.appearActiveClass,y=a.beforeEnter,v=a.enter,_=a.afterEnter,E=a.enterCancelled,b=a.beforeAppear,w=a.appear,A=a.afterAppear,S=a.appearCancelled,T=a.duration,I=$o,M=$o.$vnode;M&&M.parent;)M=M.parent,I=M.context;var x=!I._isMounted||!e.isRootInsert;if(!x||w||""===w){var D=x&&d?d:p,O=x&&m?m:g,N=x&&f?f:u,R=x?b||y:y,L=x&&"function"==typeof w?w:v,P=x?A||_:_,H=x?S||E:E,B=c(s(T)?T.enter:T);null!=B&&ei(B,"enter",e);var k=!1!==l&&!co,U=ni(L),V=r._enterCb=C(function(){k&&(Xn(r,N),Xn(r,O)),V.cancelled?(k&&Xn(r,D),H&&H(r)):P&&P(r),r._enterCb=null});e.data.show||ne(e.data.hook||(e.data.hook={}),"insert",function(){var t=r.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),L&&L(r,V)}),R&&R(r),k&&(zn(r,D),zn(r,O),Yn(function(){zn(r,N),Xn(r,D),V.cancelled||U||(ti(B)?setTimeout(V,B):Zn(r,h,V))})),e.data.show&&(t&&t(),L&&L(r,V)),k||U||V()}}}function Jn(e,t){function r(){S.cancelled||(e.data.show||((o.parentNode._pending||(o.parentNode._pending={}))[e.key]=e),f&&f(o),b&&(zn(o,u),zn(o,d),Yn(function(){zn(o,g),Xn(o,u),S.cancelled||w||(ti(A)?setTimeout(S,A):Zn(o,p,S))})),m&&m(o,S),b||w||S())}var o=e.elm;i(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var a=jn(e.data.transition);if(n(a))return t();if(!i(o._leaveCb)&&1===o.nodeType){var l=a,h=l.css,p=l.type,u=l.leaveClass,g=l.leaveToClass,d=l.leaveActiveClass,f=l.beforeLeave,m=l.leave,y=l.afterLeave,v=l.leaveCancelled,_=l.delayLeave,E=l.duration,b=!1!==h&&!co,w=ni(m),A=c(s(E)?E.leave:E);null!=A&&ei(A,"leave",e);var S=o._leaveCb=C(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[e.key]=null),b&&(Xn(o,g),Xn(o,d)),S.cancelled?(b&&Xn(o,u),v&&v(o)):(t(),y&&y(o)),o._leaveCb=null});_?_(r):r()}}function ei(e,t,n){"number"!=typeof e?eo("<transition> explicit "+t+" duration is not a valid number - got "+JSON.stringify(e)+".",n.context):isNaN(e)&&eo("<transition> explicit "+t+" duration is NaN - the duration expression might be incorrect.",n.context)}function ti(e){return"number"==typeof e&&!isNaN(e)}function ni(e){if(n(e))return!1;var t=e.fns;return i(t)?ni(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function ii(e,t){!0!==t.data.show&&qn(t)}function ri(e,t,n){var i=t.value,r=e.multiple;if(r&&!Array.isArray(i))return void eo('<select multiple v-model="'+t.expression+'"> expects an Array value for its binding, but got '+Object.prototype.toString.call(i).slice(8,-1),n);for(var o,s,a=0,l=e.options.length;a<l;a++)if(s=e.options[a],r)o=b(i,si(s))>-1,s.selected!==o&&(s.selected=o);else if(E(si(s),i))return void(e.selectedIndex!==a&&(e.selectedIndex=a));r||(e.selectedIndex=-1)}function oi(e,t){for(var n=0,i=t.length;n<i;n++)if(E(si(t[n]),e))return!1;return!0}function si(e){return"_value"in e?e._value:e.value}function ai(e){e.target.composing=!0}function li(e){e.target.composing=!1,hi(e.target,"input")}function hi(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function ci(e){return!e.componentInstance||e.data&&e.data.transition?e:ci(e.componentInstance._vnode)}function pi(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?pi(ce(t.children)):e}function ui(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var o in r)t[Fr(o)]=r[o];return t}function gi(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function di(e){for(;e=e.parent;)if(e.data.transition)return!0}function fi(e,t){return t.key===e.key&&t.tag===e.tag}function mi(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function yi(e){e.data.newPos=e.elm.getBoundingClientRect()}function vi(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}function _i(e){return Na=Na||document.createElement("div"),Na.innerHTML=e,Na.textContent}function Ei(e,t){var n=t?fl:dl;return e.replace(n,function(e){return gl[e]})}function bi(e,t){function n(t){c+=t,e=e.substring(t)}function i(e,n,i){var r,a;if(null==n&&(n=c),null==i&&(i=c),e&&(a=e.toLowerCase()),e)for(r=s.length-1;r>=0&&s[r].lowerCasedTag!==a;r--);else r=0;if(r>=0){for(var l=s.length-1;l>=r;l--)(l>r||!e)&&t.warn&&t.warn("tag <"+s[l].tag+"> has no matching end tag."),t.end&&t.end(s[l].tag,n,i);s.length=r,o=r&&s[r-1].tag}else"br"===a?t.start&&t.start(e,[],!0,n,i):"p"===a&&(t.start&&t.start(e,[],!1,n,i),t.end&&t.end(e,n,i))}for(var r,o,s=[],a=t.expectHTML,l=t.isUnaryTag||zr,h=t.canBeLeftOpenTag||zr,c=0;e;){if(r=e,o&&pl(o)){var p=o.toLowerCase(),u=ul[p]||(ul[p]=new RegExp("([\\s\\S]*?)(</"+p+"[^>]*>)","i")),g=0,d=e.replace(u,function(e,n,i){return g=i.length,pl(p)||"noscript"===p||(n=n.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),t.chars&&t.chars(n),""});c+=e.length-d.length,e=d,i(p,c-g,c)}else{var f=e.indexOf("<");if(0===f){if(ja.test(e)){var m=e.indexOf("--\x3e");if(m>=0){n(m+3);continue}}if(Ya.test(e)){var y=e.indexOf("]>");if(y>=0){n(y+2);continue}}var v=e.match(Fa);if(v){n(v[0].length);continue}var _=e.match(Wa);if(_){var E=c;n(_[0].length),i(_[1],E,c);continue}var b=function(){var t=e.match(Va);if(t){var i={tagName:t[1],attrs:[],start:c};n(t[0].length);for(var r,o;!(r=e.match(Ga))&&(o=e.match(ka));)n(o[0].length),i.attrs.push(o);if(r)return i.unarySlash=r[1],n(r[0].length),i.end=c,i}}();if(b){!function(e){var n=e.tagName,r=e.unarySlash;a&&("p"===o&&Ha(n)&&i(o),h(n)&&o===n&&i(n));for(var c=l(n)||"html"===n&&"head"===o||!!r,p=e.attrs.length,u=new Array(p),g=0;g<p;g++){var d=e.attrs[g];za&&-1===d[0].indexOf('""')&&(""===d[3]&&delete d[3],""===d[4]&&delete d[4],""===d[5]&&delete d[5]);var f=d[3]||d[4]||d[5]||"";u[g]={name:d[1],value:Ei(f,t.shouldDecodeNewlines)}}c||(s.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:u}),o=n),t.start&&t.start(n,u,c,e.start,e.end)}(b);continue}}var C=void 0,w=void 0,A=void 0;if(f>=0){for(w=e.slice(f);!(Wa.test(w)||Va.test(w)||ja.test(w)||Ya.test(w)||(A=w.indexOf("<",1))<0);)f+=A,w=e.slice(f);C=e.substring(0,f),n(f)}f<0&&(C=e,e=""),t.chars&&C&&t.chars(C)}if(e===r){t.chars&&t.chars(e),!s.length&&t.warn&&t.warn('Mal-formatted tag at end of template: "'+e+'"');break}}i()}function Ci(e,t){var n=t?yl(t):ml;if(n.test(e)){for(var i,r,o=[],s=n.lastIndex=0;i=n.exec(e);){r=i.index,r>s&&o.push(JSON.stringify(e.slice(s,r)));var a=an(i[1].trim());o.push("_s("+a+")"),s=r+i[0].length}return s<e.length&&o.push(JSON.stringify(e.slice(s))),o.join("+")}}function wi(e,t){function n(e){c||(c=!0,Xa(e))}function i(e){e.pre&&(l=!1),qa(e.tag)&&(h=!1)}Xa=t.warn||hn,el=t.getTagNamespace||zr,Ja=t.mustUseProp||zr,qa=t.isPreTag||zr,$a=cn(t.modules,"preTransformNode"),Ka=cn(t.modules,"transformNode"),Qa=cn(t.modules,"postTransformNode"),Za=t.delimiters;var r,o,s=[],a=!1!==t.preserveWhitespace,l=!1,h=!1,c=!1;return bi(e,{warn:Xa,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,start:function(e,a,c){function p(e){"slot"!==e.tag&&"template"!==e.tag||n("Cannot use <"+e.tag+"> as component root element because it may contain multiple nodes."),e.attrsMap.hasOwnProperty("v-for")&&n("Cannot use v-for on stateful component root element because it renders multiple elements.")}var u=o&&o.ns||el(e);ho&&"svg"===u&&(a=Wi(a));var g={type:1,tag:e,attrsList:a,attrsMap:Ui(a),parent:o,children:[]};u&&(g.ns=u),Gi(g)&&!Eo()&&(g.forbidden=!0,Xa("Templates should only be responsible for mapping the state to the UI. Avoid placing tags with side-effects in your templates, such as <"+e+">, as they will not be parsed."));for(var d=0;d<$a.length;d++)$a[d](g,t);if(l||(Ai(g),g.pre&&(l=!0)),qa(g.tag)&&(h=!0),l)Si(g);else{Mi(g),xi(g),Ri(g),Ti(g),g.plain=!g.key&&!a.length,Ii(g),Li(g),Pi(g);for(var f=0;f<Ka.length;f++)Ka[f](g,t);Hi(g)}if(r?s.length||(r.if&&(g.elseif||g.else)?(p(g),Ni(r,{exp:g.elseif,block:g})):n("Component template should contain exactly one root element. If you are using v-if on multiple elements, use v-else-if to chain them instead.")):(r=g,p(r)),o&&!g.forbidden)if(g.elseif||g.else)Di(g,o);else if(g.slotScope){o.plain=!1;var m=g.slotTarget||'"default"';(o.scopedSlots||(o.scopedSlots={}))[m]=g}else o.children.push(g),g.parent=o;c?i(g):(o=g,s.push(g));for(var y=0;y<Qa.length;y++)Qa[y](g,t)},end:function(){var e=s[s.length-1],t=e.children[e.children.length-1];t&&3===t.type&&" "===t.text&&!h&&e.children.pop(),s.length-=1,o=s[s.length-1],i(e)},chars:function(t){if(!o)return void(t===e?n("Component template requires a root element, rather than just text."):(t=t.trim())&&n('text "'+t+'" outside root element will be ignored.'));if(!ho||"textarea"!==o.tag||o.attrsMap.placeholder!==t){var i=o.children;if(t=h||t.trim()?Vi(o)?t:Sl(t):a&&i.length?" ":""){var r;!l&&" "!==t&&(r=Ci(t,Za))?i.push({type:2,expression:r,text:t}):" "===t&&i.length&&" "===i[i.length-1].text||i.push({type:3,text:t})}}}}),r}function Ai(e){null!=mn(e,"v-pre")&&(e.pre=!0)}function Si(e){var t=e.attrsList.length;if(t)for(var n=e.attrs=new Array(t),i=0;i<t;i++)n[i]={name:e.attrsList[i].name,value:JSON.stringify(e.attrsList[i].value)};else e.pre||(e.plain=!0)}function Ti(e){var t=fn(e,"key");t&&("template"===e.tag&&Xa("<template> cannot be keyed. Place the key on real elements instead."),e.key=t)}function Ii(e){var t=fn(e,"ref");t&&(e.ref=t,e.refInFor=Bi(e))}function Mi(e){var t;if(t=mn(e,"v-for")){var n=t.match(El);if(!n)return void Xa("Invalid v-for expression: "+t);e.for=n[2].trim();var i=n[1].trim(),r=i.match(bl);r?(e.alias=r[1].trim(),e.iterator1=r[2].trim(),r[3]&&(e.iterator2=r[3].trim())):e.alias=i}}function xi(e){var t=mn(e,"v-if");if(t)e.if=t,Ni(e,{exp:t,block:e});else{null!=mn(e,"v-else")&&(e.else=!0);var n=mn(e,"v-else-if");n&&(e.elseif=n)}}function Di(e,t){var n=Oi(t.children);n&&n.if?Ni(n,{exp:e.elseif,block:e}):Xa("v-"+(e.elseif?'else-if="'+e.elseif+'"':"else")+" used on element <"+e.tag+"> without corresponding v-if.")}function Oi(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];" "!==e[t].text&&Xa('text "'+e[t].text.trim()+'" between v-if and v-else(-if) will be ignored.'),e.pop()}}function Ni(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function Ri(e){null!=mn(e,"v-once")&&(e.once=!0)}function Li(e){if("slot"===e.tag)e.slotName=fn(e,"name"),e.key&&Xa("`key` does not work on <slot> because slots are abstract outlets and can possibly expand into multiple elements. Use the key on a wrapping element instead.");else{var t=fn(e,"slot");t&&(e.slotTarget='""'===t?'"default"':t),"template"===e.tag&&(e.slotScope=mn(e,"scope"))}}function Pi(e){var t;(t=fn(e,"is"))&&(e.component=t),null!=mn(e,"inline-template")&&(e.inlineTemplate=!0)}function Hi(e){var t,n,i,r,o,s,a,l=e.attrsList;for(t=0,n=l.length;t<n;t++)if(i=r=l[t].name,o=l[t].value,_l.test(i))if(e.hasBindings=!0,s=ki(i),s&&(i=i.replace(Al,"")),wl.test(i))i=i.replace(wl,""),o=an(o),a=!1,s&&(s.prop&&(a=!0,"innerHtml"===(i=Fr(i))&&(i="innerHTML")),s.camel&&(i=Fr(i)),s.sync&&dn(e,"update:"+Fr(i),vn(o,"$event"))),a||Ja(e.tag,e.attrsMap.type,i)?pn(e,i,o):un(e,i,o);else if(vl.test(i))i=i.replace(vl,""),dn(e,i,o,s,!1,Xa);else{i=i.replace(_l,"");var h=i.match(Cl),c=h&&h[1];c&&(i=i.slice(0,-(c.length+1))),gn(e,i,r,o,c,s),"model"===i&&Fi(e,o)}else{var p=Ci(o,Za);p&&Xa(i+'="'+o+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div id="{{ val }}">, use <div :id="val">.'),un(e,i,JSON.stringify(o))}}function Bi(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}function ki(e){var t=e.match(Al);if(t){var n={};return t.forEach(function(e){n[e.slice(1)]=!0}),n}}function Ui(e){for(var t={},n=0,i=e.length;n<i;n++)!t[e[n].name]||ho||po||Xa("duplicate attribute: "+e[n].name),t[e[n].name]=e[n].value;return t}function Vi(e){return"script"===e.tag||"style"===e.tag}function Gi(e){return"style"===e.tag||"script"===e.tag&&(!e.attrsMap.type||"text/javascript"===e.attrsMap.type)}function Wi(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];Tl.test(i.name)||(i.name=i.name.replace(Il,""),t.push(i))}return t}function Fi(e,t){for(var n=e;n;)n.for&&n.alias===t&&Xa("<"+e.tag+' v-model="'+t+'">: You are binding v-model directly to a v-for iteration alias. This will not be able to modify the v-for source array because writing to the alias is like modifying a function local variable. Consider using an array of objects and use v-model on an object property instead.'),n=n.parent}function ji(e,t){e&&(tl=Ml(t.staticKeys||""),nl=t.isReservedTag||zr,zi(e),Xi(e,!1))}function Yi(e){return p("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(e?","+e:""))}function zi(e){if(e.static=Ki(e),1===e.type){if(!nl(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var t=0,n=e.children.length;t<n;t++){var i=e.children[t];zi(i),i.static||(e.static=!1)}}}function Xi(e,t){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=t),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var n=0,i=e.children.length;n<i;n++)Xi(e.children[n],t||!!e.for);e.ifConditions&&Zi(e.ifConditions,t)}}function Zi(e,t){for(var n=1,i=e.length;n<i;n++)Xi(e[n].block,t)}function Ki(e){return 2!==e.type&&(3===e.type||!(!e.pre&&(e.hasBindings||e.if||e.for||Gr(e.tag)||!nl(e.tag)||$i(e)||!Object.keys(e).every(tl))))}function $i(e){for(;e.parent;){if(e=e.parent,"template"!==e.tag)return!1;if(e.for)return!0}return!1}function Qi(e,t,n){var i=t?"nativeOn:{":"on:{";for(var r in e){var o=e[r];"click"===r&&o&&o.modifiers&&o.modifiers.right&&n('Use "contextmenu" instead of "click.right" since right clicks do not actually fire "click" events.'),i+='"'+r+'":'+qi(r,o)+","}return i.slice(0,-1)+"}"}function qi(e,t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(t){return qi(e,t)}).join(",")+"]";var n=Dl.test(t.value),i=xl.test(t.value);if(t.modifiers){var r="",o="",s=[];for(var a in t.modifiers)Rl[a]?(o+=Rl[a],Ol[a]&&s.push(a)):s.push(a);s.length&&(r+=Ji(s)),o&&(r+=o);return"function($event){"+r+(n?t.value+"($event)":i?"("+t.value+")($event)":t.value)+"}"}return n||i?t.value:"function($event){"+t.value+"}"}function Ji(e){return"if(!('button' in $event)&&"+e.map(er).join("&&")+")return null;"}function er(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=Ol[e];return"_k($event.keyCode,"+JSON.stringify(e)+(n?","+JSON.stringify(n):"")+")"}function tr(e,t){e.wrapData=function(n){return"_b("+n+",'"+e.tag+"',"+t.value+(t.modifiers&&t.modifiers.prop?",true":"")+")"}}function nr(e,t){var n=ll,i=ll=[],r=hl;hl=0,cl=t,il=t.warn||hn,rl=cn(t.modules,"transformCode"),ol=cn(t.modules,"genData"),sl=t.directives||{},al=t.isReservedTag||zr;var o=e?ir(e):'_c("div")';return ll=n,hl=r,{render:"with(this){return "+o+"}",staticRenderFns:i}}function ir(e){if(e.staticRoot&&!e.staticProcessed)return rr(e);if(e.once&&!e.onceProcessed)return or(e);if(e.for&&!e.forProcessed)return lr(e);if(e.if&&!e.ifProcessed)return sr(e);if("template"!==e.tag||e.slotTarget){if("slot"===e.tag)return Er(e);var t;if(e.component)t=br(e.component,e);else{var n=e.plain?void 0:hr(e),i=e.inlineTemplate?null:dr(e,!0);t="_c('"+e.tag+"'"+(n?","+n:"")+(i?","+i:"")+")"}for(var r=0;r<rl.length;r++)t=rl[r](e,t);return t}return dr(e)||"void 0"}function rr(e){return e.staticProcessed=!0,ll.push("with(this){return "+ir(e)+"}"),"_m("+(ll.length-1)+(e.staticInFor?",true":"")+")"}function or(e){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return sr(e);if(e.staticInFor){for(var t="",n=e.parent;n;){if(n.for){t=n.key;break}n=n.parent}return t?"_o("+ir(e)+","+hl+++(t?","+t:"")+")":(il("v-once can only be used inside v-for that is keyed. "),ir(e))}return rr(e)}function sr(e){return e.ifProcessed=!0,ar(e.ifConditions.slice())}function ar(e){function t(e){return e.once?or(e):ir(e)}if(!e.length)return"_e()";var n=e.shift();return n.exp?"("+n.exp+")?"+t(n.block)+":"+ar(e):""+t(n.block)}function lr(e){var t=e.for,n=e.alias,i=e.iterator1?","+e.iterator1:"",r=e.iterator2?","+e.iterator2:"";return yr(e)&&"slot"!==e.tag&&"template"!==e.tag&&!e.key&&il("<"+e.tag+' v-for="'+n+" in "+t+'">: component lists rendered with v-for should have explicit keys. See https://vuejs.org/guide/list.html#key for more info.',!0),e.forProcessed=!0,"_l(("+t+"),function("+n+i+r+"){return "+ir(e)+"})"}function hr(e){var t="{",n=cr(e);n&&(t+=n+","),e.key&&(t+="key:"+e.key+","),e.ref&&(t+="ref:"+e.ref+","),e.refInFor&&(t+="refInFor:true,"),e.pre&&(t+="pre:true,"),e.component&&(t+='tag:"'+e.tag+'",');for(var i=0;i<ol.length;i++)t+=ol[i](e);if(e.attrs&&(t+="attrs:{"+Cr(e.attrs)+"},"),e.props&&(t+="domProps:{"+Cr(e.props)+"},"),e.events&&(t+=Qi(e.events,!1,il)+","),e.nativeEvents&&(t+=Qi(e.nativeEvents,!0,il)+","),e.slotTarget&&(t+="slot:"+e.slotTarget+","),e.scopedSlots&&(t+=ur(e.scopedSlots)+","),e.model&&(t+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var r=pr(e);r&&(t+=r+",")}return t=t.replace(/,$/,"")+"}",e.wrapData&&(t=e.wrapData(t)),t}function cr(e){var t=e.directives;if(t){var n,i,r,o,s="directives:[",a=!1;for(n=0,i=t.length;n<i;n++){r=t[n],o=!0;var l=sl[r.name]||Ll[r.name];l&&(o=!!l(e,r,il)),o&&(a=!0,s+='{name:"'+r.name+'",rawName:"'+r.rawName+'"'+(r.value?",value:("+r.value+"),expression:"+JSON.stringify(r.value):"")+(r.arg?',arg:"'+r.arg+'"':"")+(r.modifiers?",modifiers:"+JSON.stringify(r.modifiers):"")+"},")}return a?s.slice(0,-1)+"]":void 0}}function pr(e){var t=e.children[0];if((e.children.length>1||1!==t.type)&&il("Inline-template components must have exactly one child element."),1===t.type){var n=nr(t,cl);return"inlineTemplate:{render:function(){"+n.render+"},staticRenderFns:["+n.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}function ur(e){return"scopedSlots:_u(["+Object.keys(e).map(function(t){return gr(t,e[t])}).join(",")+"])"}function gr(e,t){return"["+e+",function("+String(t.attrsMap.scope)+"){return "+("template"===t.tag?dr(t)||"void 0":ir(t))+"}]"}function dr(e,t){var n=e.children;if(n.length){var i=n[0];if(1===n.length&&i.for&&"template"!==i.tag&&"slot"!==i.tag)return ir(i);var r=t?fr(n):0;return"["+n.map(vr).join(",")+"]"+(r?","+r:"")}}function fr(e){for(var t=0,n=0;n<e.length;n++){var i=e[n];if(1===i.type){if(mr(i)||i.ifConditions&&i.ifConditions.some(function(e){return mr(e.block)})){t=2;break}(yr(i)||i.ifConditions&&i.ifConditions.some(function(e){return yr(e.block)}))&&(t=1)}}return t}function mr(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function yr(e){return!al(e.tag)}function vr(e){return 1===e.type?ir(e):_r(e)}function _r(e){return"_v("+(2===e.type?e.expression:wr(JSON.stringify(e.text)))+")"}function Er(e){var t=e.slotName||'"default"',n=dr(e),i="_t("+t+(n?","+n:""),r=e.attrs&&"{"+e.attrs.map(function(e){return Fr(e.name)+":"+e.value}).join(",")+"}",o=e.attrsMap["v-bind"];return!r&&!o||n||(i+=",null"),r&&(i+=","+r),o&&(i+=(r?"":",null")+","+o),i+")"}function br(e,t){var n=t.inlineTemplate?null:dr(t,!0);return"_c("+e+","+hr(t)+(n?","+n:"")+")"}function Cr(e){for(var t="",n=0;n<e.length;n++){var i=e[n];t+='"'+i.name+'":'+wr(i.value)+","}return t.slice(0,-1)}function wr(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Ar(e){var t=[];return e&&Sr(e,t),t}function Sr(e,t){if(1===e.type){for(var n in e.attrsMap)if(_l.test(n)){var i=e.attrsMap[n];i&&("v-for"===n?Ir(e,'v-for="'+i+'"',t):vl.test(n)?Tr(i,n+'="'+i+'"',t):xr(i,n+'="'+i+'"',t))}if(e.children)for(var r=0;r<e.children.length;r++)Sr(e.children[r],t)}else 2===e.type&&xr(e.expression,e.text,t)}function Tr(e,t,n){var i=e.replace(kl,""),r=i.match(Hl);r&&"$"!==i.charAt(r.index-1)&&n.push('avoid using JavaScript unary operator as property name: "'+r[0]+'" in expression '+t.trim()),xr(e,t,n)}function Ir(e,t,n){xr(e.for||"",t,n),Mr(e.alias,"v-for alias",t,n),Mr(e.iterator1,"v-for iterator",t,n),Mr(e.iterator2,"v-for iterator",t,n)}function Mr(e,t,n,i){"string"!=typeof e||Bl.test(e)||i.push("invalid "+t+' "'+e+'" in expression: '+n.trim())}function xr(e,t,n){try{new Function("return "+e)}catch(r){var i=e.replace(kl,"").match(Pl);i?n.push('avoid using JavaScript keyword as property name: "'+i[0]+'" in expression '+t.trim()):n.push("invalid expression: "+t.trim())}}function Dr(e,t){var n=wi(e.trim(),t);ji(n,t);var i=nr(n,t);return{ast:n,render:i.render,staticRenderFns:i.staticRenderFns}}function Or(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),_}}function Nr(e,t){var n=t.warn||hn,i=mn(e,"class");if(i){Ci(i,t.delimiters)&&n('class="'+i+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div class="{{ val }}">, use <div :class="val">.')}i&&(e.staticClass=JSON.stringify(i));var r=fn(e,"class",!1);r&&(e.classBinding=r)}function Rr(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}function Lr(e,t){var n=t.warn||hn,i=mn(e,"style");if(i){Ci(i,t.delimiters)&&n('style="'+i+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div style="{{ val }}">, use <div :style="val">.'),e.staticStyle=JSON.stringify(ia(i))}var r=fn(e,"style",!1);r&&(e.styleBinding=r)}function Pr(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}function Hr(e,t){t.value&&pn(e,"textContent","_s("+t.value+")")}function Br(e,t){t.value&&pn(e,"innerHTML","_s("+t.value+")")}function kr(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}var Ur,Vr=Object.prototype.toString,Gr=p("slot,component",!0),Wr=Object.prototype.hasOwnProperty,Fr=d(function(e){return e.replace(/-(\w)/g,function(e,t){return t?t.toUpperCase():""})}),jr=d(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),Yr=d(function(e){return e.replace(/([^-])([A-Z])/g,"$1-$2").replace(/([^-])([A-Z])/g,"$1-$2").toLowerCase()}),zr=function(){return!1},Xr=function(e){return e},Zr="data-server-rendered",Kr=["component","directive","filter"],$r=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],Qr={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!0,devtools:!0,performance:!1,errorHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:zr,isReservedAttr:zr,isUnknownElement:zr,getTagNamespace:_,parsePlatformTagName:Xr,mustUseProp:zr,_lifecycleHooks:$r},qr=Object.freeze({}),Jr=/[^\w.$]/,eo=_,to=_,no="undefined"!=typeof console,io=function(e){return e.replace(/(?:^|[-_])(\w)/g,function(e){return e.toUpperCase()}).replace(/[-_]/g,"")};eo=function(e,t){no&&!Qr.silent&&console.error("[Vue warn]: "+e+(t?oo(t):""))},to=function(e,t){no&&!Qr.silent&&console.warn("[Vue tip]: "+e+(t?oo(t):""))},Ur=function(e,t){if(e.$root===e)return"<Root>";var n="string"==typeof e?e:"function"==typeof e&&e.options?e.options.name:e._isVue?e.$options.name||e.$options._componentTag:e.name,i=e._isVue&&e.$options.__file;if(!n&&i){var r=i.match(/([^\/\\]+)\.vue$/);n=r&&r[1]}return(n?"<"+io(n)+">":"<Anonymous>")+(i&&!1!==t?" at "+i:"")};var ro=function(e,t){for(var n="";t;)t%2==1&&(n+=e),t>1&&(e+=e),t>>=1;return n},oo=function(e){if(e._isVue&&e.$parent){for(var t=[],n=0;e;){if(t.length>0){var i=t[t.length-1];if(i.constructor===e.constructor){n++,e=e.$parent;continue}n>0&&(t[t.length-1]=[i,n],n=0)}t.push(e),e=e.$parent}return"\n\nfound in\n\n"+t.map(function(e,t){return""+(0===t?"---\x3e ":ro(" ",5+2*t))+(Array.isArray(e)?Ur(e[0])+"... ("+e[1]+" recursive calls)":Ur(e))}).join("\n")}return"\n\n(found in "+Ur(e)+")"},so="__proto__"in{},ao="undefined"!=typeof window,lo=ao&&window.navigator.userAgent.toLowerCase(),ho=lo&&/msie|trident/.test(lo),co=lo&&lo.indexOf("msie 9.0")>0,po=lo&&lo.indexOf("edge/")>0,uo=lo&&lo.indexOf("android")>0,go=lo&&/iphone|ipad|ipod|ios/.test(lo),fo=lo&&/chrome\/\d+/.test(lo)&&!po,mo=!1;if(ao)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){mo=!0}}),window.addEventListener("test-passive",null,yo)}catch(e){}var vo,_o,Eo=function(){return void 0===vo&&(vo=!ao&&void 0!==t&&"server"===t.process.env.VUE_ENV),vo},bo=ao&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Co="undefined"!=typeof Symbol&&I(Symbol)&&"undefined"!=typeof Reflect&&I(Reflect.ownKeys),wo=function(){function e(){i=!1;var e=n.slice(0);n.length=0;for(var t=0;t<e.length;t++)e[t]()}var t,n=[],i=!1;if("undefined"!=typeof Promise&&I(Promise)){var r=Promise.resolve(),o=function(e){console.error(e)};t=function(){r.then(e).catch(o),go&&setTimeout(_)}}else if("undefined"==typeof MutationObserver||!I(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())t=function(){setTimeout(e,0)};else{var s=1,a=new MutationObserver(e),l=document.createTextNode(String(s));a.observe(l,{characterData:!0}),t=function(){s=(s+1)%2,l.data=String(s)}}return function(e,r){var o;if(n.push(function(){if(e)try{e.call(r)}catch(e){T(e,r,"nextTick")}else o&&o(r)}),i||(i=!0,t()),!e&&"undefined"!=typeof Promise)return new Promise(function(e,t){o=e})}}();_o="undefined"!=typeof Set&&I(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Ao=0,So=function(){this.id=Ao++,this.subs=[]};So.prototype.addSub=function(e){this.subs.push(e)},So.prototype.removeSub=function(e){u(this.subs,e)},So.prototype.depend=function(){So.target&&So.target.addDep(this)},So.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},So.target=null;var To=[],Io=Array.prototype,Mo=Object.create(Io);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=Io[e];A(Mo,e,function(){for(var n=arguments,i=arguments.length,r=new Array(i);i--;)r[i]=n[i];var o,s=t.apply(this,r),a=this.__ob__;switch(e){case"push":case"unshift":o=r;break;case"splice":o=r.slice(2)}return o&&a.observeArray(o),a.dep.notify(),s})});var xo=Object.getOwnPropertyNames(Mo),Do={shouldConvert:!0,isSettingProps:!1},Oo=function(e){if(this.value=e,this.dep=new So,this.vmCount=0,A(e,"__ob__",this),Array.isArray(e)){(so?D:O)(e,Mo,xo),this.observeArray(e)}else this.walk(e)};Oo.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)R(e,t[n],e[t[n]])},Oo.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)N(e[t])};var No=Qr.optionMergeStrategies;No.el=No.propsData=function(e,t,n,i){return n||eo('option "'+i+'" can only be used during instance creation with the `new` keyword.'),Po(e,t)},No.data=function(e,t,n){return n?e||t?function(){var i="function"==typeof t?t.call(n):t,r="function"==typeof e?e.call(n):void 0;return i?B(i,r):r}:void 0:t?"function"!=typeof t?(eo('The "data" option should be a function that returns a per-instance value in component definitions.',n),e):e?function(){return B(t.call(this),e.call(this))}:t:e},$r.forEach(function(e){No[e]=k}),Kr.forEach(function(e){No[e+"s"]=U}),No.watch=function(e,t){if(!t)return Object.create(e||null);if(!e)return t;var n={};y(n,e);for(var i in t){var r=n[i],o=t[i];r&&!Array.isArray(r)&&(r=[r]),n[i]=r?r.concat(o):[o]}return n},No.props=No.methods=No.computed=function(e,t){if(!t)return Object.create(e||null);if(!e)return t;var n=Object.create(null);return y(n,e),y(n,t),n};var Ro,Lo,Po=function(e,t){return void 0===t?e:t},Ho=/^(String|Number|Boolean|Function|Symbol)$/,Bo=ao&&window.performance;Bo&&Bo.mark&&Bo.measure&&Bo.clearMarks&&Bo.clearMeasures&&(Ro=function(e){return Bo.mark(e)},Lo=function(e,t,n){Bo.measure(e,t,n),Bo.clearMarks(t),Bo.clearMarks(n),Bo.clearMeasures(e)});var ko,Uo=p("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,require"),Vo=function(e,t){eo('Property or method "'+t+'" is not defined on the instance but referenced during render. Make sure to declare reactive data properties in the data option.',e)},Go="undefined"!=typeof Proxy&&Proxy.toString().match(/native code/);if(Go){var Wo=p("stop,prevent,self,ctrl,shift,alt,meta");Qr.keyCodes=new Proxy(Qr.keyCodes,{set:function(e,t,n){return Wo(t)?(eo("Avoid overwriting built-in modifier in config.keyCodes: ."+t),!1):(e[t]=n,!0)}})}var Fo={has:function(e,t){var n=t in e,i=Uo(t)||"_"===t.charAt(0);return n||i||Vo(e,t),n||!i}},jo={get:function(e,t){return"string"!=typeof t||t in e||Vo(e,t),e[t]}};ko=function(e){if(Go){var t=e.$options,n=t.render&&t.render._withStripped?jo:Fo;e._renderProxy=new Proxy(e,n)}else e._renderProxy=e};var Yo=function(e,t,n,i,r,o,s){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.functionalContext=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1},zo={child:{}};zo.child.get=function(){return this.componentInstance},Object.defineProperties(Yo.prototype,zo);var Xo,Zo=function(){var e=new Yo;return e.text="",e.isComment=!0,e},Ko=d(function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var i="!"===e.charAt(0);return e=i?e.slice(1):e,{name:e,once:n,capture:i,passive:t}}),$o=null,Qo=100,qo=[],Jo=[],es={},ts={},ns=!1,is=!1,rs=0,os=0,ss=function(e,t,n,i){this.vm=e,e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++os,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new _o,this.newDepIds=new _o,this.expression=t.toString(),"function"==typeof t?this.getter=t:(this.getter=S(t),this.getter||(this.getter=function(){},eo('Failed watching path: "'+t+'" Watcher only accepts simple dot-delimited paths. For full control, use a function instead.',e))),this.value=this.lazy?void 0:this.get()};ss.prototype.get=function(){M(this);var e,t=this.vm;if(this.user)try{e=this.getter.call(t,t)}catch(e){T(e,t,'getter for watcher "'+this.expression+'"')}else e=this.getter.call(t,t);return this.deep&&Oe(e),x(),this.cleanupDeps(),e},ss.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},ss.prototype.cleanupDeps=function(){for(var e=this,t=this.deps.length;t--;){var n=e.deps[t];e.newDepIds.has(n.id)||n.removeSub(e)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},ss.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():De(this)},ss.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||s(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){T(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},ss.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ss.prototype.depend=function(){for(var e=this,t=this.deps.length;t--;)e.deps[t].depend()},ss.prototype.teardown=function(){var e=this;if(this.active){this.vm._isBeingDestroyed||u(this.vm._watchers,this);for(var t=this.deps.length;t--;)e.deps[t].removeSub(e);this.active=!1}};var as=new _o,ls={enumerable:!0,configurable:!0,get:_,set:_},hs={key:1,ref:1,slot:1},cs={lazy:!0},ps={init:function(e,t,n,i){if(!e.componentInstance||e.componentInstance._isDestroyed){(e.componentInstance=$e(e,$o,n,i)).$mount(t?e.elm:void 0,t)}else if(e.data.keepAlive){var r=e;ps.prepatch(r,r)}},prepatch:function(e,t){var n=t.componentOptions;Ee(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Ae(n,"mounted")),e.data.keepAlive&&(t._isMounted?Me(n):Ce(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?we(t,!0):t.$destroy())}},us=Object.keys(ps),gs=1,ds=2,fs=0;!function(e){e.prototype._init=function(e){var t=this;t._uid=fs++;var n,i;Qr.performance&&Ro&&(n="vue-perf-init:"+t._uid,i="vue-perf-end:"+t._uid,Ro(n)),t._isVue=!0,e&&e._isComponent?gt(t,e):t.$options=F(dt(t.constructor),e||{},t),ko(t),t._self=t,ve(t),pe(t),ut(t),Ae(t,"beforeCreate"),Ye(t),Le(t),je(t),Ae(t,"created"),Qr.performance&&Ro&&(t._name=Ur(t,!1),Ro(i),Lo(t._name+" init",n,i)),t.$options.el&&t.$mount(t.$options.el)}}(yt),function(e){var t={};t.get=function(){return this._data};var n={};n.get=function(){return this._props},t.set=function(e){eo("Avoid replacing instance root $data. Use nested data properties instead.",this)},n.set=function(){eo("$props is readonly.",this)},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=L,e.prototype.$delete=P,e.prototype.$watch=function(e,t,n){var i=this;n=n||{},n.user=!0;var r=new ss(i,e,t,n);return n.immediate&&t.call(i,r.value),function(){r.teardown()}}}(yt),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this,r=this;if(Array.isArray(e))for(var o=0,s=e.length;o<s;o++)i.$on(e[o],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){function n(){i.$off(e,n),t.apply(i,arguments)}var i=this;return n.fn=t,i.$on(e,n),i},e.prototype.$off=function(e,t){var n=this,i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(e)){for(var r=0,o=e.length;r<o;r++)n.$off(e[r],t);return i}var s=i._events[e];if(!s)return i;if(1===arguments.length)return i._events[e]=null,i;for(var a,l=s.length;l--;)if((a=s[l])===t||a.fn===t){s.splice(l,1);break}return i},e.prototype.$emit=function(e){var t=this,n=e.toLowerCase();n!==e&&t._events[n]&&to('Event "'+n+'" is emitted in component '+Ur(t)+' but the handler is registered for "'+e+'". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "'+Yr(e)+'" instead of "'+e+'".');var i=t._events[e];if(i){i=i.length>1?m(i):i;for(var r=m(arguments,1),o=0,s=i.length;o<s;o++)i[o].apply(t,r)}return t}}(yt),function(e){e.prototype._update=function(e,t){var n=this;n._isMounted&&Ae(n,"beforeUpdate");var i=n.$el,r=n._vnode,o=$o;$o=n,n._vnode=e,n.$el=r?n.__patch__(r,e):n.__patch__(n.$el,e,t,!1,n.$options._parentElm,n.$options._refElm),$o=o,i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Ae(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||u(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Ae(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$options._parentElm=e.$options._refElm=null}}}(yt),function(e){e.prototype.$nextTick=function(e){return wo(e,this)},e.prototype._render=function(){var e=this,t=e.$options,n=t.render,i=t.staticRenderFns,r=t._parentVnode;if(e._isMounted)for(var o in e.$slots)e.$slots[o]=J(e.$slots[o]);e.$scopedSlots=r&&r.data.scopedSlots||qr,i&&!e._staticTrees&&(e._staticTrees=[]),e.$vnode=r;var s;try{s=n.call(e._renderProxy,e.$createElement)}catch(t){T(t,e,"render function"),s=e.$options.renderError?e.$options.renderError.call(e._renderProxy,e.$createElement,t):e._vnode}return s instanceof Yo||(Array.isArray(s)&&eo("Multiple root nodes returned from render function. Render function should return a single root node.",e),s=Zo()),s.parent=r,s},e.prototype._o=ht,e.prototype._n=c,e.prototype._s=h,e.prototype._l=it,e.prototype._t=rt,e.prototype._q=E,e.prototype._i=b,e.prototype._m=lt,e.prototype._f=ot,e.prototype._k=st,e.prototype._b=at,e.prototype._v=Q,e.prototype._e=Zo,e.prototype._u=ye}(yt);var ms=[String,RegExp],ys={name:"keep-alive",abstract:!0,props:{include:ms,exclude:ms},created:function(){this.cache=Object.create(null)},destroyed:function(){var e=this;for(var t in e.cache)It(e.cache[t])},watch:{include:function(e){Tt(this.cache,this._vnode,function(t){return St(e,t)})},exclude:function(e){Tt(this.cache,this._vnode,function(t){return!St(e,t)})}},render:function(){var e=ce(this.$slots.default),t=e&&e.componentOptions;if(t){var n=At(t);if(n&&(this.include&&!St(this.include,n)||this.exclude&&St(this.exclude,n)))return e;var i=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;this.cache[i]?e.componentInstance=this.cache[i].componentInstance:this.cache[i]=e,e.data.keepAlive=!0}return e}},vs={KeepAlive:ys};!function(e){var t={};t.get=function(){return Qr},t.set=function(){eo("Do not replace the Vue.config object, set individual fields instead.")},Object.defineProperty(e,"config",t),e.util={warn:eo,extend:y,mergeOptions:F,defineReactive:R},e.set=L,e.delete=P,e.nextTick=wo,e.options=Object.create(null),Kr.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,y(e.options.components,vs),vt(e),_t(e),Et(e),wt(e)}(yt),Object.defineProperty(yt.prototype,"$isServer",{get:Eo}),yt.version="2.3.0";var _s,Es,bs,Cs,ws,As,Ss,Ts,Is,Ms=p("style,class"),xs=p("input,textarea,option,select"),Ds=function(e,t,n){return"value"===n&&xs(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Os=p("contenteditable,draggable,spellcheck"),Ns=p("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Rs="http://www.w3.org/1999/xlink",Ls=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Ps=function(e){return Ls(e)?e.slice(6,e.length):""},Hs=function(e){return null==e||!1===e},Bs={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ks=p("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template"),Us=p("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Vs=function(e){return"pre"===e},Gs=function(e){return ks(e)||Us(e)},Ws=Object.create(null),Fs=Object.freeze({createElement:Ht,createElementNS:Bt,createTextNode:kt,createComment:Ut,insertBefore:Vt,removeChild:Gt,appendChild:Wt,parentNode:Ft,nextSibling:jt,tagName:Yt,setTextContent:zt,setAttribute:Xt}),js={create:function(e,t){Zt(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Zt(e,!0),Zt(t))},destroy:function(e){Zt(e,!0)}},Ys=new Yo("",{},[]),zs=["create","activate","update","remove","destroy"],Xs={create:qt,update:qt,destroy:function(e){qt(e,Ys)}},Zs=Object.create(null),Ks=[js,Xs],$s={create:rn,update:rn},Qs={create:sn,update:sn},qs=/[\w).+\-_$\]]/,Js="__r",ea="__c",ta={create:Rn,update:Rn},na={create:Ln,update:Ln},ia=d(function(e){var t={};return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var n=e.split(/:(.+)/);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}),ra=/^--/,oa=/\s*!important$/,sa=function(e,t,n){if(ra.test(t))e.style.setProperty(t,n);else if(oa.test(n))e.style.setProperty(t,n.replace(oa,""),"important");else{var i=la(t);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)e.style[i]=n[r];else e.style[i]=n}},aa=["Webkit","Moz","ms"],la=d(function(e){if(Is=Is||document.createElement("div"),"filter"!==(e=Fr(e))&&e in Is.style)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<aa.length;n++){var i=aa[n]+t;if(i in Is.style)return i}}),ha={create:Gn,update:Gn},ca=d(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),pa=ao&&!co,ua="transition",ga="animation",da="transition",fa="transitionend",ma="animation",ya="animationend";pa&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(da="WebkitTransition",fa="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ma="WebkitAnimation",ya="webkitAnimationEnd"));var va=ao&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,_a=/\b(transform|all)(,|$)/,Ea=ao?{create:ii,activate:ii,remove:function(e,t){!0!==e.data.show?Jn(e,t):t()}}:{},ba=[$s,Qs,ta,na,ha,Ea],Ca=ba.concat(Ks),wa=function(e){function t(e){return new Yo(O.tagName(e).toLowerCase(),{},[],void 0,e)}function s(e,t){function n(){0==--n.listeners&&a(e)}return n.listeners=t,n}function a(e){var t=O.parentNode(e);i(t)&&O.removeChild(t,e)}function l(e,t,n,o,s){if(e.isRootInsert=!s,!h(e,t,n,o)){var a=e.data,l=e.children,c=e.tag;i(c)?(a&&a.pre&&N++,N||e.ns||Qr.ignoredElements.length&&Qr.ignoredElements.indexOf(c)>-1||!Qr.isUnknownElement(c)||eo("Unknown custom element: <"+c+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.',e.context),e.elm=e.ns?O.createElementNS(e.ns,c):O.createElement(c,e),y(e),d(e,l,t),i(a)&&m(e,t),g(n,e.elm,o),a&&a.pre&&N--):r(e.isComment)?(e.elm=O.createComment(e.text),g(n,e.elm,o)):(e.elm=O.createTextNode(e.text),g(n,e.elm,o))}}function h(e,t,n,o){var s=e.data;if(i(s)){var a=i(e.componentInstance)&&s.keepAlive;if(i(s=s.hook)&&i(s=s.init)&&s(e,!1,n,o),i(e.componentInstance))return c(e,t),r(a)&&u(e,t,n,o),!0}}function c(e,t){i(e.data.pendingInsert)&&t.push.apply(t,e.data.pendingInsert),e.elm=e.componentInstance.$el,f(e)?(m(e,t),y(e)):(Zt(e),t.push(e))}function u(e,t,n,r){for(var o,s=e;s.componentInstance;)if(s=s.componentInstance._vnode,i(o=s.data)&&i(o=o.transition)){for(o=0;o<x.activate.length;++o)x.activate[o](Ys,s);t.push(s);break}g(n,e.elm,r)}function g(e,t,n){i(e)&&(i(n)?n.parentNode===e&&O.insertBefore(e,t,n):O.appendChild(e,t))}function d(e,t,n){if(Array.isArray(t))for(var i=0;i<t.length;++i)l(t[i],n,e.elm,null,!0);else o(e.text)&&O.appendChild(e.elm,O.createTextNode(e.text))}function f(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return i(e.tag)}function m(e,t){for(var n=0;n<x.create.length;++n)x.create[n](Ys,e);I=e.data.hook,i(I)&&(i(I.create)&&I.create(Ys,e),i(I.insert)&&t.push(e))}function y(e){for(var t,n=e;n;)i(t=n.context)&&i(t=t.$options._scopeId)&&O.setAttribute(e.elm,t,""),n=n.parent;i(t=$o)&&t!==e.context&&i(t=t.$options._scopeId)&&O.setAttribute(e.elm,t,"")}function v(e,t,n,i,r,o){for(;i<=r;++i)l(n[i],o,e,t)}function _(e){var t,n,r=e.data;if(i(r))for(i(t=r.hook)&&i(t=t.destroy)&&t(e),t=0;t<x.destroy.length;++t)x.destroy[t](e);if(i(t=e.children))for(n=0;n<e.children.length;++n)_(e.children[n])}function E(e,t,n,r){for(;n<=r;++n){var o=t[n];i(o)&&(i(o.tag)?(b(o),_(o)):a(o.elm))}}function b(e,t){if(i(t)||i(e.data)){var n,r=x.remove.length+1;for(i(t)?t.listeners+=r:t=s(e.elm,r),i(n=e.componentInstance)&&i(n=n._vnode)&&i(n.data)&&b(n,t),n=0;n<x.remove.length;++n)x.remove[n](e,t);i(n=e.data.hook)&&i(n=n.remove)?n(e,t):t()}else a(e.elm)}function C(e,t,r,o,s){for(var a,h,c,p,u=0,g=0,d=t.length-1,f=t[0],m=t[d],y=r.length-1,_=r[0],b=r[y],C=!s;u<=d&&g<=y;)n(f)?f=t[++u]:n(m)?m=t[--d]:Kt(f,_)?(w(f,_,o),f=t[++u],_=r[++g]):Kt(m,b)?(w(m,b,o),m=t[--d],b=r[--y]):Kt(f,b)?(w(f,b,o),C&&O.insertBefore(e,f.elm,O.nextSibling(m.elm)),f=t[++u],b=r[--y]):Kt(m,_)?(w(m,_,o),C&&O.insertBefore(e,m.elm,f.elm),m=t[--d],_=r[++g]):(n(a)&&(a=Qt(t,u,d)),h=i(_.key)?a[_.key]:null,n(h)?(l(_,o,e,f.elm),_=r[++g]):(c=t[h],c||eo("It seems there are duplicate keys that is causing an update error. Make sure each v-for item has a unique key."),Kt(c,_)?(w(c,_,o),t[h]=void 0,C&&O.insertBefore(e,_.elm,f.elm),_=r[++g]):(l(_,o,e,f.elm),_=r[++g])));u>d?(p=n(r[y+1])?null:r[y+1].elm,v(e,p,r,g,y,o)):g>y&&E(e,t,u,d)}function w(e,t,o,s){if(e!==t){if(r(t.isStatic)&&r(e.isStatic)&&t.key===e.key&&(r(t.isCloned)||r(t.isOnce)))return t.elm=e.elm,void(t.componentInstance=e.componentInstance);var a,l=t.data;i(l)&&i(a=l.hook)&&i(a=a.prepatch)&&a(e,t);var h=t.elm=e.elm,c=e.children,p=t.children;if(i(l)&&f(t)){for(a=0;a<x.update.length;++a)x.update[a](e,t);i(a=l.hook)&&i(a=a.update)&&a(e,t)}n(t.text)?i(c)&&i(p)?c!==p&&C(h,c,p,o,s):i(p)?(i(e.text)&&O.setTextContent(h,""),v(h,null,p,0,p.length-1,o)):i(c)?E(h,c,0,c.length-1):i(e.text)&&O.setTextContent(h,""):e.text!==t.text&&O.setTextContent(h,t.text),i(l)&&i(a=l.hook)&&i(a=a.postpatch)&&a(e,t)}}function A(e,t,n){if(r(n)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var o=0;o<t.length;++o)t[o].data.hook.insert(t[o])}function S(e,t,n){if(!T(e,t))return!1;t.elm=e;var r=t.tag,o=t.data,s=t.children;if(i(o)&&(i(I=o.hook)&&i(I=I.init)&&I(t,!0),i(I=t.componentInstance)))return c(t,n),!0;if(i(r)){if(i(s))if(e.hasChildNodes()){for(var a=!0,l=e.firstChild,h=0;h<s.length;h++){if(!l||!S(l,s[h],n)){a=!1;break}l=l.nextSibling}if(!a||l)return"undefined"==typeof console||R||(R=!0,console.warn("Parent: ",e),console.warn("Mismatching childNodes vs. VNodes: ",e.childNodes,s)),!1}else d(t,s,n);if(i(o))for(var p in o)if(!L(p)){m(t,n);break}}else e.data!==t.text&&(e.data=t.text);return!0}function T(e,t){return i(t.tag)?0===t.tag.indexOf("vue-component")||t.tag.toLowerCase()===(e.tagName&&e.tagName.toLowerCase()):e.nodeType===(t.isComment?8:3)}var I,M,x={},D=e.modules,O=e.nodeOps;for(I=0;I<zs.length;++I)for(x[zs[I]]=[],M=0;M<D.length;++M)i(D[M][zs[I]])&&x[zs[I]].push(D[M][zs[I]]);var N=0,R=!1,L=p("attrs,style,class,staticClass,staticStyle,key");return function(e,o,s,a,h,c){if(n(o))return void(i(e)&&_(e));var p=!1,u=[];if(n(e))p=!0,l(o,u,h,c);else{var g=i(e.nodeType);if(!g&&Kt(e,o))w(e,o,u,a);else{if(g){if(1===e.nodeType&&e.hasAttribute(Zr)&&(e.removeAttribute(Zr),s=!0),r(s)){if(S(e,o,u))return A(o,u,!0),e;eo("The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.")}e=t(e)}var d=e.elm,m=O.parentNode(d);if(l(o,u,d._leaveCb?null:m,O.nextSibling(d)),i(o.parent)){for(var y=o.parent;y;)y.elm=o.elm,y=y.parent;if(f(o))for(var v=0;v<x.create.length;++v)x.create[v](Ys,o.parent)}i(m)?E(m,[e],0,0):i(e.tag)&&_(e)}}return A(o,u,p),o.elm}}({nodeOps:Fs,modules:Ca});co&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&hi(e,"input")});var Aa={inserted:function(e,t,n){if("select"===n.tag){var i=function(){ri(e,t,n.context)};i(),(ho||po)&&setTimeout(i,0)}else"textarea"!==n.tag&&"text"!==e.type&&"password"!==e.type||(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("change",li),uo||(e.addEventListener("compositionstart",ai),e.addEventListener("compositionend",li)),co&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){ri(e,t,n.context);(e.multiple?t.value.some(function(t){return oi(t,e.options)}):t.value!==t.oldValue&&oi(t.value,e.options))&&hi(e,"change")}}},Sa={bind:function(e,t,n){var i=t.value;n=ci(n);var r=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r&&!co?(n.data.show=!0,qn(n,function(){e.style.display=o})):e.style.display=i?o:"none"},update:function(e,t,n){var i=t.value;i!==t.oldValue&&(n=ci(n),n.data&&n.data.transition&&!co?(n.data.show=!0,i?qn(n,function(){e.style.display=e.__vOriginalDisplay}):Jn(n,function(){e.style.display="none"})):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}},Ta={model:Aa,show:Sa},Ia={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},Ma={name:"transition",props:Ia,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(function(e){return e.tag}),n.length)){n.length>1&&eo("<transition> can only be used on a single element. Use <transition-group> for lists.",this.$parent);var i=this.mode;i&&"in-out"!==i&&"out-in"!==i&&eo("invalid <transition> mode: "+i,this.$parent);var r=n[0];if(di(this.$vnode))return r;var s=pi(r);if(!s)return r;if(this._leaving)return gi(e,r);var a="__transition-"+this._uid+"-";s.key=null==s.key?a+s.tag:o(s.key)?0===String(s.key).indexOf(a)?s.key:a+s.key:s.key;var l=(s.data||(s.data={})).transition=ui(this),h=this._vnode,c=pi(h);if(s.data.directives&&s.data.directives.some(function(e){return"show"===e.name})&&(s.data.show=!0),c&&c.data&&!fi(s,c)){var p=c&&(c.data.transition=y({},l));if("out-in"===i)return this._leaving=!0,ne(p,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),gi(e,r);if("in-out"===i){var u,g=function(){u()};ne(l,"afterEnter",g),ne(l,"enterCancelled",g),ne(p,"delayLeave",function(e){u=e})}}return r}}},xa=y({tag:String,moveClass:String},Ia);delete xa.mode;var Da={props:xa,render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],s=ui(this),a=0;a<r.length;a++){var l=r[a];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=s;else{var h=l.componentOptions,c=h?h.Ctor.options.name||h.tag||"":l.tag;eo("<transition-group> children must be keyed: <"+c+">")}}if(i){for(var p=[],u=[],g=0;g<i.length;g++){var d=i[g];d.data.transition=s,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?p.push(d):u.push(d)}this.kept=e(t,null,p),this.removed=u}return e(t,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";if(e.length&&this.hasMove(e[0].elm,t)){e.forEach(mi),e.forEach(yi),e.forEach(vi);var n=document.body;n.offsetHeight;e.forEach(function(e){if(e.data.moved){var n=e.elm,i=n.style;zn(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(fa,n._moveCb=function e(i){i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(fa,e),n._moveCb=null,Xn(n,t))})}})}},methods:{hasMove:function(e,t){if(!pa)return!1;if(null!=this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){Fn(n,e)}),Wn(n,t),n.style.display="none",this.$el.appendChild(n);var i=Kn(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}},Oa={Transition:Ma,TransitionGroup:Da};yt.config.mustUseProp=Ds,yt.config.isReservedTag=Gs,yt.config.isReservedAttr=Ms,yt.config.getTagNamespace=Rt,yt.config.isUnknownElement=Lt,y(yt.options.directives,Ta),y(yt.options.components,Oa),yt.prototype.__patch__=ao?wa:_,yt.prototype.$mount=function(e,t){return e=e&&ao?Pt(e):void 0,_e(this,e,t)},setTimeout(function(){Qr.devtools&&(bo?bo.emit("init",yt):fo&&console[console.info?"info":"log"]("Download the Vue Devtools extension for a better development experience:\nhttps://github.com/vuejs/vue-devtools")),!1!==Qr.productionTip&&ao&&"undefined"!=typeof console&&console[console.info?"info":"log"]("You are running Vue in development mode.\nMake sure to turn on production mode when deploying for production.\nSee more tips at https://vuejs.org/guide/deployment.html")},0);var Na,Ra=!!ao&&function(e,t){var n=document.createElement("div");return n.innerHTML='<div a="'+e+'">',n.innerHTML.indexOf(t)>0}("\n","&#10;"),La=p("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Pa=p("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Ha=p("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Ba=[/"([^"]*)"+/.source,/'([^']*)'+/.source,/([^\s"'=<>`]+)/.source],ka=new RegExp("^\\s*"+/([^\s"'<>\/=]+)/.source+"(?:\\s*("+/(?:=)/.source+")\\s*(?:"+Ba.join("|")+"))?"),Ua="[a-zA-Z_][\\w\\-\\.]*",Va=new RegExp("^<((?:"+Ua+"\\:)?"+Ua+")"),Ga=/^\s*(\/?)>/,Wa=new RegExp("^<\\/((?:"+Ua+"\\:)?"+Ua+")[^>]*>"),Fa=/^<!DOCTYPE [^>]+>/i,ja=/^<!--/,Ya=/^<!\[/,za=!1;"x".replace(/x(.)?/g,function(e,t){za=""===t});var Xa,Za,Ka,$a,Qa,qa,Ja,el,tl,nl,il,rl,ol,sl,al,ll,hl,cl,pl=p("script,style,textarea",!0),ul={},gl={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n"},dl=/&(?:lt|gt|quot|amp);/g,fl=/&(?:lt|gt|quot|amp|#10);/g,ml=/\{\{((?:.|\n)+?)\}\}/g,yl=d(function(e){var t=e[0].replace(/[-.*+?^${}()|[\]\/\\]/g,"\\$&"),n=e[1].replace(/[-.*+?^${}()|[\]\/\\]/g,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")}),vl=/^@|^v-on:/,_l=/^v-|^@|^:/,El=/(.*?)\s+(?:in|of)\s+(.*)/,bl=/\((\{[^}]*\}|[^,]*),([^,]*)(?:,([^,]*))?\)/,Cl=/:(.*)$/,wl=/^:|^v-bind:/,Al=/\.[^.]+/g,Sl=d(_i),Tl=/^xmlns:NS\d+/,Il=/^NS\d+:/,Ml=d(Yi),xl=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,Dl=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,Ol={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Nl=function(e){return"if("+e+")return null;"},Rl={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Nl("$event.target !== $event.currentTarget"),ctrl:Nl("!$event.ctrlKey"),shift:Nl("!$event.shiftKey"),alt:Nl("!$event.altKey"),meta:Nl("!$event.metaKey"),left:Nl("'button' in $event && $event.button !== 0"),middle:Nl("'button' in $event && $event.button !== 1"),right:Nl("'button' in $event && $event.button !== 2")},Ll={bind:tr,cloak:_},Pl=new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),Hl=new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),Bl=/[A-Za-z_$][\w$]*/,kl=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g,Ul={staticKeys:["staticClass"],transformNode:Nr,genData:Rr},Vl={staticKeys:["staticStyle"],transformNode:Lr,genData:Pr},Gl=[Ul,Vl],Wl={model:Sn,text:Hr,html:Br},Fl={expectHTML:!0,modules:Gl,directives:Wl,isPreTag:Vs,isUnaryTag:La,mustUseProp:Ds,canBeLeftOpenTag:Pa,isReservedTag:Gs,getTagNamespace:Rt,staticKeys:function(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")}(Gl)},jl=function(e){function t(t,n){var i=Object.create(e),r=[],o=[];if(i.warn=function(e,t){(t?o:r).push(e)},n){n.modules&&(i.modules=(e.modules||[]).concat(n.modules)),n.directives&&(i.directives=y(Object.create(e.directives),n.directives));for(var s in n)"modules"!==s&&"directives"!==s&&(i[s]=n[s])}var a=Dr(t,i);return r.push.apply(r,Ar(a.ast)),a.errors=r,a.tips=o,a}function n(e,n,r){n=n||{};try{new Function("return 1")}catch(e){e.toString().match(/unsafe-eval|CSP/)&&eo("It seems you are using the standalone build of Vue.js in an environment with Content Security Policy that prohibits unsafe-eval. The template compiler cannot work in this environment. Consider relaxing the policy to allow unsafe-eval or pre-compiling your templates into render functions.")}var o=n.delimiters?String(n.delimiters)+e:e;if(i[o])return i[o];var s=t(e,n);s.errors&&s.errors.length&&eo("Error compiling template:\n\n"+e+"\n\n"+s.errors.map(function(e){return"- "+e}).join("\n")+"\n",r),s.tips&&s.tips.length&&s.tips.forEach(function(e){return to(e,r)});var a={},l=[];a.render=Or(s.render,l);var h=s.staticRenderFns.length;a.staticRenderFns=new Array(h);for(var c=0;c<h;c++)a.staticRenderFns[c]=Or(s.staticRenderFns[c],l);return s.errors&&s.errors.length||!l.length||eo("Failed to generate render function:\n\n"+l.map(function(e){var t=e.err,n=e.code;return t.toString()+" in\n\n"+n+"\n"}).join("\n"),r),i[o]=a}var i=Object.create(null);return{compile:t,compileToFunctions:n}}(Fl),Yl=jl.compileToFunctions,zl=d(function(e){var t=Pt(e);return t&&t.innerHTML}),Xl=yt.prototype.$mount;yt.prototype.$mount=function(e,t){if((e=e&&Pt(e))===document.body||e===document.documentElement)return eo("Do not mount Vue to <html> or <body> - mount to normal elements instead."),this;var n=this.$options;if(!n.render){var i=n.template;if(i)if("string"==typeof i)"#"===i.charAt(0)&&((i=zl(i))||eo("Template element not found or is empty: "+n.template,this));else{if(!i.nodeType)return eo("invalid template option:"+i,this),this;i=i.innerHTML}else e&&(i=kr(e));if(i){Qr.performance&&Ro&&Ro("compile");var r=Yl(i,{shouldDecodeNewlines:Ra,delimiters:n.delimiters},this),o=r.render,s=r.staticRenderFns;n.render=o,n.staticRenderFns=s,Qr.performance&&Ro&&(Ro("compile end"),Lo(this._name+" compile","compile","compile end"))}}return Xl.call(this,e,t)},yt.compile=Yl,e.exports=yt}).call(t,n(84))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(28),r=n.n(i),o=n(27),s=n.n(o);r.a.config.productionTip=!1,new r.a({el:"#app",template:"<App/>",components:{App:s.a}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),r=n.n(i),o=n(63),s=n.n(o),a=n(31),l=n.n(a);t.default={name:"app",data:function(){return{mode:this.initialMode,svgImExPort:"",zoomValue:this.initialZoom,imexport:"import",loadRelative:!1,image:null,selectedShape:null,backgroundImage:null}},props:{width:{type:Number,default:600},height:{type:Number,default:400},showToolbar:{type:Boolean,default:!0},zoomFactorMax:{type:Number,default:4},initialZoom:{type:Number,default:1},initialImage:{type:String,default:"./assets/earth.jpg"},initialMode:{type:String,default:"HoverMult"},modesEnabled:{type:Array,default:function(){return["Hover","HoverMult","Modify","Create","Select"]}},modesAvailable:{type:Array,default:function(){return[{value:"Hover",text:"Hover"},{value:"HoverMult",text:"Hover (multiple)"},{value:"Modify",text:"Modify"},{value:"Create",text:"Create",disabled:!0},{value:"Select",text:"Select"}]}},style:{type:Object,default:function(){return{strokeColor:"#3B3BFF",fillColor:"#3B3BFF",strokeWidth:2,fillOpacity:.4,hoverable:{strokeColor:"#00ff00",fillColor:"#00ff00",strokeWidth:3,fillOpacity:.4},creatable:{strokeColor:"#ff0000",fillColor:"#ff0000",strokeWidth:3,fillOpacity:.4},selectable:{strokeColor:"#ff00ff",fillColor:"#ff00ff",strokeWidth:3,fillOpacity:.4}}}}},mounted:function(){var e=this;this.image=new s.a.drawing.Drawing(this.$refs.canvas),this.$on("mode-change",function(t,n){e.selectedShape=null}),this.image.eventShapeCreated=function(){e.setMode("HoverMult"),e.applyStyles()},this.image.eventShapeSelected=function(t){e.selectedShape=t},this.backgroundImage=this.initialImage,this.setMode(this.mode),this.loadImage()},methods:{dump:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(t)},loadImage:function(){var e=this;this.image.setBackgroundImage(this.backgroundImage,function(){e.image.getViewbox().fit(!1),e.image.getViewbox().setZoomFactorMax(e.zoomFactorMax),e.zoomValue=e.image.getViewbox().getZoomValue(),e.image.draw()})},setMode:function(e){for(var t,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];"HoverMult"===e?this.image.setModeHover(!0):(t=this.image)["setMode"+e].apply(t,r()(i)),this.$emit("mode-change",this.mode,e),this.mode=e},zoom:function(e){"in"===e?this.image.getViewbox().zoomIn():"out"===e?this.image.getViewbox().zoomOut():"fit"===e?this.image.getViewbox().fit(!0):"width"===e?this.image.getViewbox().fitToWidth(!0):"height"===e?this.image.getViewbox().fitToHeight(!0):this.image.getViewbox().zoomTo(e),this.zoomValue=this.image.getViewbox().getZoomValue(),this.image.draw()},applyStyles:function(){var e=this;this.image.getLayerShape().getShapes().forEach(function(t){l.a.applyStyle(t,e.style)})},drawShape:function(e){var t=new s.a.shape[e](this.image);l.a.applyStyle(t,this.style),this.setMode("Create",t.getCreatable())},removeSelected:function(){this.image.getSelectedShape()?window.confirm("Delete selected shape?")&&(this.image.removeShape(this.image.getSelectedShape()),this.setMode(this.initialMode)):window.alert("Please select a shape")},copyShape:function(){var e=l.a.svgFromShapes(this.image.getSelectedShape());l.a.drawFromSvg(e,this.image),this.applyStyles()},showImexport:function(e){this.imexport=e,this.svgImExPort="import"===this.imexport?"":l.a.svgFromDrawing(this.image),$(this.$refs.imexportModal).modal("show")},loadSvg:function(){this.image.getLayerShape().removeShapes(),l.a.drawFromSvg(this.svgImExPort,this.image,{relative:this.loadRelative}),this.applyStyles(),$(this.$refs.imexportModal).modal("hide")},showImageModal:function(){$(this.$refs.imageModal).modal("show")}}}},function(e,t,n){"use strict";e.exports=n(32),e.exports.CoordUtils=n(14)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return"get"+e.substr(0,1).toUpperCase()+e.substr(1)}function o(e){return"set"+e.substr(0,1).toUpperCase()+e.substr(1)}var s=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=n(85),c=window&&window.goog?window.goog:h.goog,p=n(14);e.exports=function(){function e(){i(this,e)}return l(e,null,[{key:"applyStyle",value:function(t,n){Array.isArray(t)||(t=[t]),t.forEach(function(t){if(t){var i=new h.shape.Style;Object.keys(n).forEach(function(s){var l=n[s];try{"object"===(void 0===l?"undefined":a(l))?e.applyStyle(t[r(s)](),l):i[o(s)](l)}catch(e){throw console.log("Failed for",s,l,t),e}}),t.setStyle(i)}})}},{key:"createDrawing",value:function(e,t,n){var i=c.style.getSize;c.style.getSize=function(r){var o=i(r);return e===r&&(o.width<=0||o.height<=0)?{width:t,height:n}:o};var r=new h.drawing.Drawing(e);if(!r.getEngine().isAvailable())throw new Error("No Engine available :-( Much sadness");return r}},{key:"createShape",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(e in h.shape))throw new Error("No such shape "+e);return new h.shape[e](t)}},{key:"drawFromSvg",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.shapesFromSvg(t,n,i);return n.getLayerShape().addShapes(r),n.draw(),r}},{key:"svgFromShapes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e instanceof h.shape.ShapeGroup&&(e=e.getChildren()),Array.isArray(e)||(e=[e]),0===e.length&&console.warn("Should pass at least one shape to svgFromShape or SVG will be empty");var t=['<?xml version="1.0" encoding="UTF-8" ?>'];t.push(['<svg xmlns="http://www.w3.org/2000/svg" version="1.1"','width="'+e[0].getDrawing().getLayerBackground().getImage().getWidth()+'"','height="'+e[0].getDrawing().getLayerBackground().getImage().getHeight()+'">'].join(" "));var n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;if(l instanceof h.shape.Rect||l instanceof h.shape.Polygon&&p.isRectangle(l.getCoords())){var c=l.getCoords(),u=[Number.MAX_VALUE,Number.MAX_VALUE],g=u[0],d=u[1],f=[Number.MIN_VALUE,Number.MIN_VALUE],m=f[0],y=f[1],v=!0,_=!1,E=void 0;try{for(var b,C=c[Symbol.iterator]();!(v=(b=C.next()).done);v=!0){var w=b.value,A=s(w,2),S=A[0],T=A[1],I=[Math.max(S,m),Math.max(T,y)];m=I[0],y=I[1];var M=[Math.min(S,g),Math.min(T,d)];g=M[0],d=M[1]}}catch(e){_=!0,E=e}finally{try{!v&&C.return&&C.return()}finally{if(_)throw E}}t.push('  <rect x="'+g+'" y="'+d+'" width="'+(m-g)+'" height="'+(y-d)+'"/>')}else if(l instanceof h.shape.Polygon){var x=l.getCoords();t.push('  <polygon points="'+x.map(function(e){return e.join(",")}).join(" ")+'" />')}else if(l instanceof h.shape.Polyline){var D=l.getCoords();t.push('  <polyline points="'+D.map(function(e){return e.join(",")}).join(" ")+'" />')}else if(l instanceof h.shape.Line){var O=l.getCoords();t.push('  <line x1="'+O[0][0]+'" y1="'+O[0][1]+'" x2="'+O[1][0]+'" y2="'+O[1][1]+'"/>')}else if(l instanceof h.shape.Ellipse){var N=l.getCenter(),R=s(N,2),L=R[0],P=R[1],H=[l.getRadiusX(),l.getRadiusY()],B=H[0],k=H[1];t.push('  <ellipse cx="'+L+'" cy="'+P+'" rx="'+B+'" ry="'+k+'"/>')}else if(l instanceof h.shape.Circle){var U=l.getCenter(),V=s(U,2),G=V[0],W=V[1],F=l.getRadius();t.push('  <circle cx="'+G+'" cy="'+W+'" r="'+F+'"/>')}else console.error("SVG Export not implemented for",l)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return t.push("</svg>"),t.join("\n")}},{key:"shapesFromSvg",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===window)throw new Error("shapesFromSvg must be run in a browser");n.relative=n.relative||!1;var i=new window.DOMParser,r=i.parseFromString(e,"image/svg+xml"),o=["height","width"].map(function(e){return parseInt(r.documentElement.getAttribute(e))}),a=s(o,2),l=a[0],c=a[1],p=l>0?t.getLayerBackground().getImage().getWidth()/l:1,u=c>0?t.getLayerBackground().getImage().getHeight()/c:1,g=[];Array.from(r.querySelectorAll("rect")).forEach(function(e){var i=new h.shape.Rect(t),r=["x","y","width","height"].map(function(t){return parseFloat(e.getAttribute(t))}),o=s(r,4),a=o[0],l=o[1],c=o[2],d=o[3];if(n.relative){var f=[a*p,l*u,c*p,d*u];a=f[0],l=f[1],c=f[2],d=f[3]}var m=[[a,l],[a+c,l],[a+c,l+d],[a,l+d]];i.setCoords(m),g.push(i)}),Array.from(r.querySelectorAll("polygon")).forEach(function(e){var i=new h.shape.Polygon(t),r=e.getAttribute("points").split(" ").map(function(e){return e.split(",").map(function(e){return parseInt(e)})});n.relative&&(r=r.map(function(e){var t=s(e,2),n=t[0],i=t[1];return[n*p,i*u]})),i.setCoords(r),g.push(i)}),Array.from(r.querySelectorAll("polyline")).forEach(function(e){var i=new h.shape.Polyline(t),r=e.getAttribute("points").split(" ").map(function(e){return e.split(",").map(function(e){return parseInt(e)})});n.relative&&(r=r.map(function(e){var t=s(e,2),n=t[0],i=t[1];return[n*p,i*u]})),i.setCoords(r),g.push(i)}),Array.from(r.querySelectorAll("circle")).forEach(function(e){var i=new h.shape.Circle(t),r=[parseFloat(e.getAttribute("cx")),parseFloat(e.getAttribute("cy"))],o=parseFloat(e.getAttribute("r"));n.relative&&(r[0]=r[0]*p,r[1]=r[1]*u,o*=Math.min(p,u)),i.setCenter.apply(i,r),i.setRadius(o),g.push(i)}),Array.from(r.querySelectorAll("ellipse")).forEach(function(e){var i=new h.shape.Ellipse(t),r=[parseFloat(e.getAttribute("cx")),parseFloat(e.getAttribute("cy"))],o=[parseFloat(e.getAttribute("rx")),parseFloat(e.getAttribute("ry"))];n.relative&&(r[0]=r[0]*p,r[1]=r[1]*u,o[0]=o[0]*p,o[1]=o[1]*u),i.setCenter.apply(i,r),i.setRadiusX(o[0]),i.setRadiusY(o[1]),g.push(i)}),Array.from(r.querySelectorAll("line")).forEach(function(e){var i=new h.shape.Line(t),r=[["x1","y1"],["x2","y2"]].map(function(t){return[parseFloat(e.getAttribute(t[0])),parseFloat(e.getAttribute(t[1]))]});n.relative&&(r=r.map(function(e){var t=s(e,2),n=t[0],i=t[1];return[n*p,i*u]})),i.setCoords(r),g.push(i)});var d=new h.shape.ShapeGroup(t);return d.addChildren(g),d}},{key:"svgFromDrawing",value:function(t){return e.svgFromShapes(t.getLayerShape().getShapes())}},{key:"navigationThumb",value:function(e,t){if(!e||!t)throw new Error("Call 'navigationThumb' with the xrx canvasses for the thumb and the image");var n=t.getViewbox().ctmDump(),i=new c.math.AffineTransform(n[0],n[1],n[2],n[3],n[4],n[5]),r=Math.sqrt(Math.pow(i.getScaleX(),2)+Math.pow(i.getShearX(),2)),o=Math.sqrt(Math.pow(i.getScaleY(),2)+Math.pow(i.getShearY(),2)),s=e.getLayerBackground().getImage().getWidth(),l=e.getLayerBackground().getImage().getHeight(),u=t.getLayerBackground().getImage().getWidth(),g=t.getLayerBackground().getImage().getHeight(),d=s/(u*r),f=l/(g*o),m=[];i.transform([0,0],0,m,0,1);var y=t.getCanvas().getWidth(),v=t.getCanvas().getHeight(),_=(new h.shape.Rect(e),[]),E=p.angleFromMatrix(n[0],n[1]);270==E?(_[0]=[(0-m[1])*f,(m[0]-y)*d],_[1]=[(v-m[1])*f,(m[0]-y)*d],_[2]=[(v-m[1])*f,m[0]*d],_[3]=[(0-m[1])*f,m[0]*d]):180==E?(_[0]=[(m[0]-y)*d,(m[1]-v)*f],_[1]=[m[0]*d,(m[1]-v)*f],_[2]=[m[0]*d,m[1]*f],_[3]=[(m[0]-y)*d,m[1]*f]):90==E?(_[0]=[(m[1]-v)*f,(0-m[0])*d],_[1]=[m[1]*f,(0-m[0])*d],_[2]=[m[1]*f,(y-m[0])*d],_[3]=[(m[1]-v)*f,(y-m[0])*d]):(_[0]=[(0-m[0])*d,(0-m[1])*f],_[1]=[(y-m[0])*d,(0-m[1])*f],_[2]=[(y-m[0])*d,(v-m[1])*f],_[3]=[(0-m[0])*d,(v-m[1])*f]);var b=new h.shape.Rect(e);b.setCoords(_),b.setStrokeWidth(1.5);var C="#A00000";"object"==("undefined"==typeof zonecolor?"undefined":a(zonecolor))&&zonecolor.length>3&&(C="#"+zonecolor[0]),b.setStrokeColor(C),b.setFillColor(C),b.setFillOpacity(.15),[].push(b),e.getLayerShape().removeShapes(),e.getLayerShape().addShapes(b),e.draw()}}]),e}()},function(e,t,n){e.exports={default:n(35),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(33),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}},function(e,t,n){n(60),n(59),e.exports=n(7).Array.from},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(23),r=n(24),o=n(56);e.exports=function(e){return function(t,n,s){var a,l=i(t),h=r(l.length),c=o(s,h);if(e&&n!=n){for(;h>c;)if((a=l[c++])!=a)return!0}else for(;h>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var i=n(15),r=n(0)("toStringTag"),o="Arguments"==i(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),r))?n:o?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";var i=n(6),r=n(11);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){e.exports=n(1).document&&document.documentElement},function(e,t,n){e.exports=!n(3)&&!n(20)(function(){return 7!=Object.defineProperty(n(17)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(15);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){var i=n(10),r=n(0)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},function(e,t,n){var i=n(2);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){"use strict";var i=n(49),r=n(11),o=n(21),s={};n(5)(s,n(0)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(s,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var i=n(48),r=n(19),o=n(54),s=n(5),a=n(4),l=n(10),h=n(45),c=n(21),p=n(51),u=n(0)("iterator"),g=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,f,m,y,v){h(n,t,f);var _,E,b,C=function(e){if(!g&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",A="values"==m,S=!1,T=e.prototype,I=T[u]||T["@@iterator"]||m&&T[m],M=I||C(m),x=m?A?C("entries"):M:void 0,D="Array"==t?T.entries||I:I;if(D&&(b=p(D.call(new e)))!==Object.prototype&&(c(b,w,!0),i||a(b,u)||s(b,u,d)),A&&I&&"values"!==I.name&&(S=!0,M=function(){return I.call(this)}),i&&!v||!g&&!S&&T[u]||s(T,u,M),l[t]=M,l[w]=d,m)if(_={values:A?M:C("values"),keys:y?M:C("keys"),entries:x},v)for(E in _)E in T||o(T,E,_[E]);else r(r.P+r.F*(g||S),t,_);return _}},function(e,t,n){var i=n(0)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},e(o)}catch(e){}return n}},function(e,t){e.exports=!0},function(e,t,n){var i=n(2),r=n(50),o=n(18),s=n(12)("IE_PROTO"),a=function(){},l=function(){var e,t=n(17)("iframe"),i=o.length;for(t.style.display="none",n(40).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=i(e),n=new a,a.prototype=null,n[s]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(6),r=n(2),o=n(53);e.exports=n(3)?Object.defineProperties:function(e,t){r(e);for(var n,s=o(t),a=s.length,l=0;a>l;)i.f(e,n=s[l++],t[n]);return e}},function(e,t,n){var i=n(4),r=n(25),o=n(12)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var i=n(4),r=n(23),o=n(37)(!1),s=n(12)("IE_PROTO");e.exports=function(e,t){var n,a=r(e),l=0,h=[];for(n in a)n!=s&&i(a,n)&&h.push(n);for(;t.length>l;)i(a,n=t[l++])&&(~o(h,n)||h.push(n));return h}},function(e,t,n){var i=n(52),r=n(18);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){e.exports=n(5)},function(e,t,n){var i=n(13),r=n(8);e.exports=function(e){return function(t,n){var o,s,a=String(r(t)),l=i(n),h=a.length;return l<0||l>=h?e?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===h||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536)}}},function(e,t,n){var i=n(13),r=Math.max,o=Math.min;e.exports=function(e,t){return e=i(e),e<0?r(e+t,0):o(e,t)}},function(e,t,n){var i=n(9);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(38),r=n(0)("iterator"),o=n(10);e.exports=n(7).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t,n){"use strict";var i=n(16),r=n(19),o=n(25),s=n(44),a=n(43),l=n(24),h=n(39),c=n(58);r(r.S+r.F*!n(47)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,p,u=o(e),g="function"==typeof this?this:Array,d=arguments.length,f=d>1?arguments[1]:void 0,m=void 0!==f,y=0,v=c(u);if(m&&(f=i(f,d>2?arguments[2]:void 0,2)),void 0==v||g==Array&&a(v))for(t=l(u.length),n=new g(t);t>y;y++)h(n,y,m?f(u[y],y):u[y]);else for(p=v.call(u),n=new g;!(r=p.next()).done;y++)h(n,y,m?s(p,f,[r.value,y],!0):r.value);return n.length=y,n}})},function(e,t,n){"use strict";var i=n(55)(!0);n(46)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){t=e.exports=n(62)(),t.push([e.i,".panel[data-v-76fcf456]{background:transparent}.panel .panel-heading[data-v-76fcf456]{padding:0}.panel .xrx-toolbar .dropdown-toggle[data-v-76fcf456],.panel .xrx-toolbar .input-group[data-v-76fcf456],.panel .xrx-toolbar button[data-v-76fcf456],.panel .xrx-toolbar select[data-v-76fcf456]{height:32px}.panel .xrx-toolbar .dropdown-toggle>img[data-v-76fcf456],.panel .xrx-toolbar .input-group>img[data-v-76fcf456],.panel .xrx-toolbar button>img[data-v-76fcf456],.panel .xrx-toolbar select>img[data-v-76fcf456]{height:20px}.panel .xrx-toolbar .dropdown-toggle.btn[data-v-76fcf456],.panel .xrx-toolbar .input-group.btn[data-v-76fcf456],.panel .xrx-toolbar button.btn[data-v-76fcf456],.panel .xrx-toolbar select.btn[data-v-76fcf456]{padding-left:6px;padding-right:6px}.imexport-modal textarea[data-v-76fcf456]{font-family:monospace;min-height:200px}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,t){var n=n||{};n.global=this,n.isDef=function(e){return void 0!==e},n.exportPath_=function(e,t,i){e=e.split("."),i=i||n.global,e[0]in i||!i.execScript||i.execScript("var "+e[0]);for(var r;e.length&&(r=e.shift());)!e.length&&n.isDef(t)?i[r]=t:i=i[r]?i[r]:i[r]={}},n.define=function(e,t){var i=t;n.exportPath_(e,i)},n.DEBUG=!0,n.LOCALE="en",n.TRUSTED_SITE=!0,n.STRICT_MODE_COMPATIBLE=!1,n.provide=function(e){n.exportPath_(e)},n.setTestOnly=function(e){if(!n.DEBUG)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},n.forwardDeclare=function(e){},n.getObjectByName=function(e,t){for(var i,r=e.split("."),o=t||n.global;i=r.shift();){if(!n.isDefAndNotNull(o[i]))return null;o=o[i]}return o},n.globalize=function(e,t){var i,r=t||n.global;for(i in e)r[i]=e[i]},n.addDependency=function(e,t,i){if(n.DEPENDENCIES_ENABLED){var r;e=e.replace(/\\/g,"/");for(var o=n.dependencies_,s=0;r=t[s];s++)o.nameToPath[r]=e,e in o.pathToNames||(o.pathToNames[e]={}),o.pathToNames[e][r]=!0;for(r=0;t=i[r];r++)e in o.requires||(o.requires[e]={}),o.requires[e][t]=!0}},n.ENABLE_DEBUG_LOADER=!0,n.require=function(e){},n.basePath="",n.nullFunction=function(){},n.identityFunction=function(e,t){return e},n.abstractMethod=function(){throw Error("unimplemented abstract method")},n.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(n.DEBUG&&(n.instantiatedSingletons_[n.instantiatedSingletons_.length]=e),e.instance_=new e)}},n.instantiatedSingletons_=[],n.DEPENDENCIES_ENABLED=!1,n.DEPENDENCIES_ENABLED&&(n.included_={},n.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},n.inHtmlDocument_=function(){var e=n.global.document;return void 0!==e&&"write"in e},n.findBasePath_=function(){if(n.global.CLOSURE_BASE_PATH)n.basePath=n.global.CLOSURE_BASE_PATH;else if(n.inHtmlDocument_())for(var e=n.global.document.getElementsByTagName("script"),t=e.length-1;0<=t;--t){var i=e[t].src,r=i.lastIndexOf("?"),r=-1==r?i.length:r;if("base.js"==i.substr(r-7,7)){n.basePath=i.substr(0,r-7);break}}},n.importScript_=function(e){var t=n.global.CLOSURE_IMPORT_SCRIPT||n.writeScriptTag_;!n.dependencies_.written[e]&&t(e)&&(n.dependencies_.written[e]=!0)},n.writeScriptTag_=function(e){if(n.inHtmlDocument_()){var t=n.global.document;if("complete"==t.readyState){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}return t.write('<script type="text/javascript" src="'+e+'"><\/script>'),!0}return!1},n.writeScripts_=function(){function e(t){if(!(t in o.written)){if(!(t in o.visited)&&(o.visited[t]=!0,t in o.requires))for(var s in o.requires[t])if(!n.isProvided_(s)){if(!(s in o.nameToPath))throw Error("Undefined nameToPath for "+s);e(o.nameToPath[s])}t in r||(r[t]=!0,i.push(t))}}var t,i=[],r={},o=n.dependencies_;for(t in n.included_)o.written[t]||e(t);for(t=0;t<i.length;t++){if(!i[t])throw Error("Undefined script input");n.importScript_(n.basePath+i[t])}},n.getPathFromDeps_=function(e){return e in n.dependencies_.nameToPath?n.dependencies_.nameToPath[e]:null},n.findBasePath_(),n.global.CLOSURE_NO_DEPS||n.importScript_(n.basePath+"deps.js")),n.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},n.isNull=function(e){return null===e},n.isDefAndNotNull=function(e){return null!=e},n.isArray=function(e){return"array"==n.typeOf(e)},n.isArrayLike=function(e){var t=n.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},n.isDateLike=function(e){return n.isObject(e)&&"function"==typeof e.getFullYear},n.isString=function(e){return"string"==typeof e},n.isBoolean=function(e){return"boolean"==typeof e},n.isNumber=function(e){return"number"==typeof e},n.isFunction=function(e){return"function"==n.typeOf(e)},n.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},n.getUid=function(e){return e[n.UID_PROPERTY_]||(e[n.UID_PROPERTY_]=++n.uidCounter_)},n.hasUid=function(e){return!!e[n.UID_PROPERTY_]},n.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(n.UID_PROPERTY_);try{delete e[n.UID_PROPERTY_]}catch(e){}},n.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),n.uidCounter_=0,n.getHashCode=n.getUid,n.removeHashCode=n.removeUid,n.cloneObject=function(e){var t=n.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var i,t="array"==t?[]:{};for(i in e)t[i]=n.cloneObject(e[i]);return t}return e},n.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},n.bindJs_=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},n.bind=function(e,t,i){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n.bind=n.bindNative_:n.bind=n.bindJs_,n.bind.apply(null,arguments)},n.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}},n.mixin=function(e,t){for(var n in t)e[n]=t[n]},n.now=n.TRUSTED_SITE&&Date.now||function(){return+new Date},n.globalEval=function(e){if(n.global.execScript)n.global.execScript(e,"JavaScript");else{if(!n.global.eval)throw Error("goog.globalEval not available");if(null==n.evalWorksForGlobals_&&(n.global.eval("var _et_ = 1;"),void 0!==n.global._et_?(delete n.global._et_,n.evalWorksForGlobals_=!0):n.evalWorksForGlobals_=!1),n.evalWorksForGlobals_)n.global.eval(e);else{var t=n.global.document,i=t.createElement("script");i.type="text/javascript",i.defer=!1,i.appendChild(t.createTextNode(e)),t.body.appendChild(i),t.body.removeChild(i)}}},n.evalWorksForGlobals_=null,n.getCssName=function(e,t){var i=function(e){return n.cssNameMapping_[e]||e},r=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(i(e[n]));return t.join("-")},r=n.cssNameMapping_?"BY_WHOLE"==n.cssNameMappingStyle_?i:r:function(e){return e};return t?e+"-"+r(t):r(e)},n.setCssNameMapping=function(e,t){n.cssNameMapping_=e,n.cssNameMappingStyle_=t},n.getMsg=function(e,t){var n,i=t||{};for(n in i){var r=(""+i[n]).replace(/\$/g,"$$$$");e=e.replace(new RegExp("\\{\\$"+n+"\\}","gi"),r)}return e},n.getMsgWithFallback=function(e,t){return e},n.exportSymbol=function(e,t,i){n.exportPath_(e,t,i)},n.exportProperty=function(e,t,n){e[t]=n},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,i){var r=Array.prototype.slice.call(arguments,2);return t.prototype[n].apply(e,r)}},n.base=function(e,t,i){var r=arguments.callee.caller;if(n.STRICT_MODE_COMPATIBLE||n.DEBUG&&!r)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(r.superClass_)return r.superClass_.constructor.apply(e,Array.prototype.slice.call(arguments,1));for(var o=Array.prototype.slice.call(arguments,2),s=!1,a=e.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[t]===r)s=!0;else if(s)return a.prototype[t].apply(e,o);if(e[t]===r)return e.constructor.prototype[t].apply(e,o);throw Error("goog.base called from a method of one name to a method of a different name")},n.scope=function(e){e.call(n.global)};var i={drawing:function(){}};i.drawing.State={DRAG:1,NONE:2},i.drawing.Mode={VIEW:1,MODIFY:2,DELETE:3,CREATE:4,DISABLED:5,SELECT:6,HOVER:7,HOVERMULTIPLE:8},i.drawing.Orientation={C:"C",NE:"NE",SE:"SE",SW:"SW",NW:"NW"},i.drawing.Position={NE:"NE",SE:"SE",SW:"SW",NW:"NW"},i.drawing.EventType={VIEWBOX_CHANGE:"eventViewboxChange",SHAPE_MODIFY:"eventShapeModify",SHAPE_CREATED:"eventShapeCreated",SHAPE_SELECTED:"eventShapeSelected",SHAPE_HOVER_IN:"eventShapeHoverIn",SHAPE_HOVER_MOVE:"eventShapeHoverMove",SHAPE_HOVER_OUT:"eventShapeHoverOut",SHAPE_BEFORE_DRAW:"eventShapeBeforeDraw"},n.object={},n.object.forEach=function(e,t,n){for(var i in e)t.call(n,e[i],i,e)},n.object.filter=function(e,t,n){var i,r={};for(i in e)t.call(n,e[i],i,e)&&(r[i]=e[i]);return r},n.object.map=function(e,t,n){var i,r={};for(i in e)r[i]=t.call(n,e[i],i,e);return r},n.object.some=function(e,t,n){for(var i in e)if(t.call(n,e[i],i,e))return!0;return!1},n.object.every=function(e,t,n){for(var i in e)if(!t.call(n,e[i],i,e))return!1;return!0},n.object.getCount=function(e){var t,n=0;for(t in e)n++;return n},n.object.getAnyKey=function(e){for(var t in e)return t},n.object.getAnyValue=function(e){for(var t in e)return e[t]},n.object.contains=function(e,t){return n.object.containsValue(e,t)},n.object.getValues=function(e){var t,n=[],i=0;for(t in e)n[i++]=e[t];return n},n.object.getKeys=function(e){var t,n=[],i=0;for(t in e)n[i++]=t;return n},n.object.getValueByKeys=function(e,t){for(var i=n.isArrayLike(t),r=i?t:arguments,i=i?0:1;i<r.length&&(e=e[r[i]],n.isDef(e));i++);return e},n.object.containsKey=function(e,t){return t in e},n.object.containsValue=function(e,t){for(var n in e)if(e[n]==t)return!0;return!1},n.object.findKey=function(e,t,n){for(var i in e)if(t.call(n,e[i],i,e))return i},n.object.findValue=function(e,t,i){return(t=n.object.findKey(e,t,i))&&e[t]},n.object.isEmpty=function(e){for(var t in e)return!1;return!0},n.object.clear=function(e){for(var t in e)delete e[t]},n.object.remove=function(e,t){var n;return(n=t in e)&&delete e[t],n},n.object.add=function(e,t,i){if(t in e)throw Error('The object already contains the key "'+t+'"');n.object.set(e,t,i)},n.object.get=function(e,t,n){return t in e?e[t]:n},n.object.set=function(e,t,n){e[t]=n},n.object.setIfUndefined=function(e,t,n){return t in e?e[t]:e[t]=n},n.object.clone=function(e){var t,n={};for(t in e)n[t]=e[t];return n},n.object.unsafeClone=function(e){var t=n.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var i,t="array"==t?[]:{};for(i in e)t[i]=n.object.unsafeClone(e[i]);return t}return e},n.object.transpose=function(e){var t,n={};for(t in e)n[e[t]]=t;return n},n.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),n.object.extend=function(e,t){for(var i,r,o=1;o<arguments.length;o++){r=arguments[o];for(i in r)e[i]=r[i];for(var s=0;s<n.object.PROTOTYPE_FIELDS_.length;s++)i=n.object.PROTOTYPE_FIELDS_[s],Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}},n.object.create=function(e){var t=arguments.length;if(1==t&&n.isArray(arguments[0]))return n.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var i={},r=0;r<t;r+=2)i[arguments[r]]=arguments[r+1];return i},n.object.createSet=function(e){var t=arguments.length;if(1==t&&n.isArray(arguments[0]))return n.object.createSet.apply(null,arguments[0]);for(var i={},r=0;r<t;r++)i[arguments[r]]=!0;return i},n.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},n.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},n.string={},n.string.DETECT_DOUBLE_ESCAPING=!1,n.string.Unicode={NBSP:""},n.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},n.string.endsWith=function(e,t){var n=e.length-t.length;return 0<=n&&e.indexOf(t,n)==n},n.string.caseInsensitiveStartsWith=function(e,t){return 0==n.string.caseInsensitiveCompare(t,e.substr(0,t.length))},n.string.caseInsensitiveEndsWith=function(e,t){return 0==n.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},n.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},n.string.subs=function(e,t){for(var n=e.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")},n.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},n.string.isEmpty=function(e){return/^[\s\xa0]*$/.test(e)},n.string.isEmptySafe=function(e){return n.string.isEmpty(n.string.makeSafe(e))},n.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},n.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},n.string.isNumeric=function(e){return!/[^0-9]/.test(e)},n.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},n.string.isSpace=function(e){return" "==e},n.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"">=e},n.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},n.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},n.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},n.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},n.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},n.string.trim=function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},n.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},n.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},n.string.caseInsensitiveCompare=function(e,t){var n=String(e).toLowerCase(),i=String(t).toLowerCase();return n<i?-1:n==i?0:1},n.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,n.string.numerateCompare=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var i=e.toLowerCase().match(n.string.numerateCompareRegExp_),r=t.toLowerCase().match(n.string.numerateCompareRegExp_),o=Math.min(i.length,r.length),s=0;s<o;s++){var a=i[s],l=r[s];if(a!=l)return i=parseInt(a,10),!isNaN(i)&&(r=parseInt(l,10),!isNaN(r)&&i-r)?i-r:a<l?-1:1}return i.length!=r.length?i.length-r.length:e<t?-1:1},n.string.urlEncode=function(e){return encodeURIComponent(String(e))},n.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},n.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},n.string.htmlEscape=function(e,t){if(t)e=e.replace(n.string.AMP_RE_,"&amp;").replace(n.string.LT_RE_,"&lt;").replace(n.string.GT_RE_,"&gt;").replace(n.string.QUOT_RE_,"&quot;").replace(n.string.SINGLE_QUOTE_RE_,"&#39;").replace(n.string.NULL_RE_,"&#0;"),n.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(n.string.E_RE_,"&#101;"));else{if(!n.string.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(n.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(n.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(n.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(n.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(n.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(n.string.NULL_RE_,"&#0;")),n.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")&&(e=e.replace(n.string.E_RE_,"&#101;"))}return e},n.string.AMP_RE_=/&/g,n.string.LT_RE_=/</g,n.string.GT_RE_=/>/g,n.string.QUOT_RE_=/"/g,n.string.SINGLE_QUOTE_RE_=/'/g,n.string.NULL_RE_=/\x00/g,n.string.E_RE_=/e/g,n.string.ALL_RE_=n.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,n.string.unescapeEntities=function(e){return n.string.contains(e,"&")?"document"in n.global?n.string.unescapeEntitiesUsingDom_(e):n.string.unescapePureXmlEntities_(e):e},n.string.unescapeEntitiesWithDocument=function(e,t){return n.string.contains(e,"&")?n.string.unescapeEntitiesUsingDom_(e,t):e},n.string.unescapeEntitiesUsingDom_=function(e,t){var i,r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return i=t?t.createElement("div"):n.global.document.createElement("div"),e.replace(n.string.HTML_ENTITY_PATTERN_,function(e,t){var n=r[e];if(n)return n;if("#"==t.charAt(0)){var o=Number("0"+t.substr(1));isNaN(o)||(n=String.fromCharCode(o))}return n||(i.innerHTML=e+" ",n=i.firstChild.nodeValue.slice(0,-1)),r[e]=n})},n.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var n=Number("0"+t.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return e}})},n.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,n.string.whitespaceEscape=function(e,t){return n.string.newLineToBr(e.replace(/  /g," &#160;"),t)},n.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+n.string.Unicode.NBSP)},n.string.stripQuotes=function(e,t){for(var n=t.length,i=0;i<n;i++){var r=1==n?t:t.charAt(i);if(e.charAt(0)==r&&e.charAt(e.length-1)==r)return e.substring(1,e.length-1)}return e},n.string.truncate=function(e,t,i){return i&&(e=n.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),i&&(e=n.string.htmlEscape(e)),e},n.string.truncateMiddle=function(e,t,i,r){if(i&&(e=n.string.unescapeEntities(e)),r&&e.length>t){r>t&&(r=t);var o=e.length-r;e=e.substring(0,t-r)+"..."+e.substring(o)}else e.length>t&&(r=Math.floor(t/2),o=e.length-r,e=e.substring(0,r+t%2)+"..."+e.substring(o));return i&&(e=n.string.htmlEscape(e)),e},n.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\"},n.string.jsEscapeCache_={"'":"\\'"},n.string.quote=function(e){if(e=String(e),e.quote)return e.quote();for(var t=['"'],i=0;i<e.length;i++){var r=e.charAt(i),o=r.charCodeAt(0);t[i+1]=n.string.specialEscapeChars_[r]||(31<o&&127>o?r:n.string.escapeChar(r))}return t.push('"'),t.join("")},n.string.escapeString=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=n.string.escapeChar(e.charAt(i));return t.join("")},n.string.escapeChar=function(e){if(e in n.string.jsEscapeCache_)return n.string.jsEscapeCache_[e];if(e in n.string.specialEscapeChars_)return n.string.jsEscapeCache_[e]=n.string.specialEscapeChars_[e];var t=e,i=e.charCodeAt(0);return 31<i&&127>i?t=e:(256>i?(t="\\x",(16>i||256<i)&&(t+="0")):(t="\\u",4096>i&&(t+="0")),t+=i.toString(16).toUpperCase()),n.string.jsEscapeCache_[e]=t},n.string.toMap=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=!0;return t},n.string.contains=function(e,t){return-1!=e.indexOf(t)},n.string.caseInsensitiveContains=function(e,t){return n.string.contains(e.toLowerCase(),t.toLowerCase())},n.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},n.string.removeAt=function(e,t,n){var i=e;return 0<=t&&t<e.length&&0<n&&(i=e.substr(0,t)+e.substr(t+n,e.length-t-n)),i},n.string.remove=function(e,t){var i=new RegExp(n.string.regExpEscape(t),"");return e.replace(i,"")},n.string.removeAll=function(e,t){var i=new RegExp(n.string.regExpEscape(t),"g");return e.replace(i,"")},n.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},n.string.repeat=function(e,t){return Array(t+1).join(e)},n.string.padNumber=function(e,t,i){return e=n.isDef(i)?e.toFixed(i):String(e),i=e.indexOf("."),-1==i&&(i=e.length),n.string.repeat("0",Math.max(0,t-i))+e},n.string.makeSafe=function(e){return null==e?"":String(e)},n.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},n.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^n.now()).toString(36)},n.string.compareVersions=function(e,t){for(var i=0,r=n.string.trim(String(e)).split("."),o=n.string.trim(String(t)).split("."),s=Math.max(r.length,o.length),a=0;0==i&&a<s;a++){var l=r[a]||"",h=o[a]||"",c=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var u=c.exec(l)||["","",""],g=p.exec(h)||["","",""];if(0==u[0].length&&0==g[0].length)break;var i=0==u[1].length?0:parseInt(u[1],10),d=0==g[1].length?0:parseInt(g[1],10),i=n.string.compareElements_(i,d)||n.string.compareElements_(0==u[2].length,0==g[2].length)||n.string.compareElements_(u[2],g[2])}while(0==i)}return i},n.string.compareElements_=function(e,t){return e<t?-1:e>t?1:0},n.string.HASHCODE_MAX_=4294967296,n.string.hashCode=function(e){for(var t=0,i=0;i<e.length;++i)t=31*t+e.charCodeAt(i),t%=n.string.HASHCODE_MAX_;return t},n.string.uniqueStringCounter_=2147483648*Math.random()|0,n.string.createUniqueString=function(){return"goog_"+n.string.uniqueStringCounter_++},n.string.toNumber=function(e){var t=Number(e);return 0==t&&n.string.isEmpty(e)?NaN:t},n.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},n.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},n.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},n.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},n.string.toTitleCase=function(e,t){var i=n.isString(t)?n.string.regExpEscape(t):"\\s";return e.replace(new RegExp("(^"+(i?"|["+i+"]+":"")+")([a-z])","g"),function(e,t,n){return t+n.toUpperCase()})},n.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),n.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},n.string.splitLimit=function(e,t,n){e=e.split(t);for(var i=[];0<n&&e.length;)i.push(e.shift()),n--;return e.length&&i.push(e.join(t)),i},n.labs={},n.labs.userAgent={},n.labs.userAgent.util={},n.labs.userAgent.util.getNativeUserAgentString_=function(){var e=n.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},n.labs.userAgent.util.getNavigator_=function(){return n.global.navigator},n.labs.userAgent.util.userAgent_=n.labs.userAgent.util.getNativeUserAgentString_(),n.labs.userAgent.util.setUserAgent=function(e){n.labs.userAgent.util.userAgent_=e||n.labs.userAgent.util.getNativeUserAgentString_()},n.labs.userAgent.util.getUserAgent=function(){return n.labs.userAgent.util.userAgent_},n.labs.userAgent.util.matchUserAgent=function(e){var t=n.labs.userAgent.util.getUserAgent();return n.string.contains(t,e)},n.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=n.labs.userAgent.util.getUserAgent();return n.string.caseInsensitiveContains(t,e)},n.labs.userAgent.util.extractVersionTuples=function(e){for(var t,n=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),i=[];t=n.exec(e);)i.push([t[1],t[2],t[3]||void 0]);return i},n.dom={},n.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},n.debug={},n.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,n.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))},n.inherits(n.debug.Error,Error),n.debug.Error.prototype.name="CustomError",n.asserts={},n.asserts.ENABLE_ASSERTS=n.DEBUG,n.asserts.AssertionError=function(e,t){t.unshift(e),n.debug.Error.call(this,n.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},n.inherits(n.asserts.AssertionError,n.debug.Error),n.asserts.AssertionError.prototype.name="AssertionError",n.asserts.doAssertFailure_=function(e,t,i,r){var o="Assertion failed";if(i)var o=o+": "+i,s=r;else e&&(o+=": "+e,s=t);throw new n.asserts.AssertionError(""+o,s||[])},n.asserts.assert=function(e,t,i){return n.asserts.ENABLE_ASSERTS&&!e&&n.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},n.asserts.fail=function(e,t){if(n.asserts.ENABLE_ASSERTS)throw new n.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},n.asserts.assertNumber=function(e,t,i){return n.asserts.ENABLE_ASSERTS&&!n.isNumber(e)&&n.asserts.doAssertFailure_("Expected number but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertString=function(e,t,i){return n.asserts.ENABLE_ASSERTS&&!n.isString(e)&&n.asserts.doAssertFailure_("Expected string but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertFunction=function(e,t,i){return n.asserts.ENABLE_ASSERTS&&!n.isFunction(e)&&n.asserts.doAssertFailure_("Expected function but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertObject=function(e,t,i){return n.asserts.ENABLE_ASSERTS&&!n.isObject(e)&&n.asserts.doAssertFailure_("Expected object but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertArray=function(e,t,i){return n.asserts.ENABLE_ASSERTS&&!n.isArray(e)&&n.asserts.doAssertFailure_("Expected array but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertBoolean=function(e,t,i){return n.asserts.ENABLE_ASSERTS&&!n.isBoolean(e)&&n.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertElement=function(e,t,i){return!n.asserts.ENABLE_ASSERTS||n.isObject(e)&&e.nodeType==n.dom.NodeType.ELEMENT||n.asserts.doAssertFailure_("Expected Element but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertInstanceof=function(e,t,i,r){return!n.asserts.ENABLE_ASSERTS||e instanceof t||n.asserts.doAssertFailure_("instanceof check failed.",null,i,Array.prototype.slice.call(arguments,3)),e},n.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)n.asserts.fail(e+" should not be enumerable in Object.prototype.")},n.array={},n.NATIVE_ARRAY_PROTOTYPES=n.TRUSTED_SITE,n.array.ASSUME_NATIVE_FUNCTIONS=!1,n.array.peek=function(e){return e[e.length-1]},n.array.last=n.array.peek,n.array.ARRAY_PROTOTYPE_=Array.prototype,n.array.indexOf=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.indexOf)?function(e,t,i){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.indexOf.call(e,t,i)}:function(e,t,i){if(i=null==i?0:0>i?Math.max(0,e.length+i):i,n.isString(e))return n.isString(t)&&1==t.length?e.indexOf(t,i):-1;for(;i<e.length;i++)if(i in e&&e[i]===t)return i;return-1},n.array.lastIndexOf=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(e,t,i){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e,t,null==i?e.length-1:i)}:function(e,t,i){if(i=null==i?e.length-1:i,0>i&&(i=Math.max(0,e.length+i)),n.isString(e))return n.isString(t)&&1==t.length?e.lastIndexOf(t,i):-1;for(;0<=i;i--)if(i in e&&e[i]===t)return i;return-1},n.array.forEach=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.forEach)?function(e,t,i){n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.forEach.call(e,t,i)}:function(e,t,i){for(var r=e.length,o=n.isString(e)?e.split(""):e,s=0;s<r;s++)s in o&&t.call(i,o[s],s,e)},n.array.forEachRight=function(e,t,i){for(var r=e.length,o=n.isString(e)?e.split(""):e,r=r-1;0<=r;--r)r in o&&t.call(i,o[r],r,e)},n.array.filter=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.filter)?function(e,t,i){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.filter.call(e,t,i)}:function(e,t,i){for(var r=e.length,o=[],s=0,a=n.isString(e)?e.split(""):e,l=0;l<r;l++)if(l in a){var h=a[l];t.call(i,h,l,e)&&(o[s++]=h)}return o},n.array.map=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.map)?function(e,t,i){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.map.call(e,t,i)}:function(e,t,i){for(var r=e.length,o=Array(r),s=n.isString(e)?e.split(""):e,a=0;a<r;a++)a in s&&(o[a]=t.call(i,s[a],a,e));return o},n.array.reduce=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.reduce)?function(e,t,i,r){return n.asserts.assert(null!=e.length),r&&(t=n.bind(t,r)),n.array.ARRAY_PROTOTYPE_.reduce.call(e,t,i)}:function(e,t,i,r){var o=i;return n.array.forEach(e,function(n,i){o=t.call(r,o,n,i,e)}),o},n.array.reduceRight=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.reduceRight)?function(e,t,i,r){return n.asserts.assert(null!=e.length),r&&(t=n.bind(t,r)),n.array.ARRAY_PROTOTYPE_.reduceRight.call(e,t,i)}:function(e,t,i,r){var o=i;return n.array.forEachRight(e,function(n,i){o=t.call(r,o,n,i,e)}),o},n.array.some=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.some)?function(e,t,i){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.some.call(e,t,i)}:function(e,t,i){for(var r=e.length,o=n.isString(e)?e.split(""):e,s=0;s<r;s++)if(s in o&&t.call(i,o[s],s,e))return!0;return!1},n.array.every=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.every)?function(e,t,i){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.every.call(e,t,i)}:function(e,t,i){for(var r=e.length,o=n.isString(e)?e.split(""):e,s=0;s<r;s++)if(s in o&&!t.call(i,o[s],s,e))return!1;return!0},n.array.count=function(e,t,i){var r=0;return n.array.forEach(e,function(e,n,o){t.call(i,e,n,o)&&++r},i),r},n.array.find=function(e,t,i){return t=n.array.findIndex(e,t,i),0>t?null:n.isString(e)?e.charAt(t):e[t]},n.array.findIndex=function(e,t,i){for(var r=e.length,o=n.isString(e)?e.split(""):e,s=0;s<r;s++)if(s in o&&t.call(i,o[s],s,e))return s;return-1},n.array.findRight=function(e,t,i){return t=n.array.findIndexRight(e,t,i),0>t?null:n.isString(e)?e.charAt(t):e[t]},n.array.findIndexRight=function(e,t,i){for(var r=e.length,o=n.isString(e)?e.split(""):e,r=r-1;0<=r;r--)if(r in o&&t.call(i,o[r],r,e))return r;return-1},n.array.contains=function(e,t){return 0<=n.array.indexOf(e,t)},n.array.isEmpty=function(e){return 0==e.length},n.array.clear=function(e){if(!n.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},n.array.insert=function(e,t){n.array.contains(e,t)||e.push(t)},n.array.insertAt=function(e,t,i){n.array.splice(e,i,0,t)},n.array.insertArrayAt=function(e,t,i){n.partial(n.array.splice,e,i,0).apply(null,t)},n.array.insertBefore=function(e,t,i){var r;2==arguments.length||0>(r=n.array.indexOf(e,i))?e.push(t):n.array.insertAt(e,t,r)},n.array.remove=function(e,t){var i,r=n.array.indexOf(e,t);return(i=0<=r)&&n.array.removeAt(e,r),i},n.array.removeAt=function(e,t){return n.asserts.assert(null!=e.length),1==n.array.ARRAY_PROTOTYPE_.splice.call(e,t,1).length},n.array.removeIf=function(e,t,i){return 0<=(t=n.array.findIndex(e,t,i))&&(n.array.removeAt(e,t),!0)},n.array.concat=function(e){return n.array.ARRAY_PROTOTYPE_.concat.apply(n.array.ARRAY_PROTOTYPE_,arguments)},n.array.join=function(e){return n.array.ARRAY_PROTOTYPE_.concat.apply(n.array.ARRAY_PROTOTYPE_,arguments)},n.array.toArray=function(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]},n.array.clone=n.array.toArray,n.array.extend=function(e,t){for(var i=1;i<arguments.length;i++){var r,o=arguments[i];if(n.isArray(o)||(r=n.isArrayLike(o))&&Object.prototype.hasOwnProperty.call(o,"callee"))e.push.apply(e,o);else if(r)for(var s=e.length,a=o.length,l=0;l<a;l++)e[s+l]=o[l];else e.push(o)}},n.array.splice=function(e,t,i,r){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.splice.apply(e,n.array.slice(arguments,1))},n.array.slice=function(e,t,i){return n.asserts.assert(null!=e.length),2>=arguments.length?n.array.ARRAY_PROTOTYPE_.slice.call(e,t):n.array.ARRAY_PROTOTYPE_.slice.call(e,t,i)},n.array.removeDuplicates=function(e,t,i){t=t||e;var r=function(e){return n.isObject(a)?"o"+n.getUid(a):(typeof a).charAt(0)+a};i=i||r;for(var r={},o=0,s=0;s<e.length;){var a=e[s++],l=i(a);Object.prototype.hasOwnProperty.call(r,l)||(r[l]=!0,t[o++]=a)}t.length=o},n.array.binarySearch=function(e,t,i){return n.array.binarySearch_(e,i||n.array.defaultCompare,!1,t)},n.array.binarySelect=function(e,t,i){return n.array.binarySearch_(e,t,!0,void 0,i)},n.array.binarySearch_=function(e,t,n,i,r){for(var o,s=0,a=e.length;s<a;){var l,h=s+a>>1;l=n?t.call(r,e[h],h,e):t(i,e[h]),0<l?s=h+1:(a=h,o=!l)}return o?s:~s},n.array.sort=function(e,t){e.sort(t||n.array.defaultCompare)},n.array.stableSort=function(e,t){for(var i=0;i<e.length;i++)e[i]={index:i,value:e[i]};var r=t||n.array.defaultCompare;for(n.array.sort(e,function(e,t){return r(e.value,t.value)||e.index-t.index}),i=0;i<e.length;i++)e[i]=e[i].value},n.array.sortObjectsByKey=function(e,t,i){var r=i||n.array.defaultCompare;n.array.sort(e,function(e,n){return r(e[t],n[t])})};n.array.isSorted=function(e,t,i){t=t||n.array.defaultCompare;for(var r=1;r<e.length;r++){var o=t(e[r-1],e[r]);if(0<o||0==o&&i)return!1}return!0},n.array.equals=function(e,t,i){if(!n.isArrayLike(e)||!n.isArrayLike(t)||e.length!=t.length)return!1;var r=e.length;i=i||n.array.defaultCompareEquality;for(var o=0;o<r;o++)if(!i(e[o],t[o]))return!1;return!0},n.array.compare3=function(e,t,i){i=i||n.array.defaultCompare;for(var r=Math.min(e.length,t.length),o=0;o<r;o++){var s=i(e[o],t[o]);if(0!=s)return s}return n.array.defaultCompare(e.length,t.length)},n.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},n.array.defaultCompareEquality=function(e,t){return e===t},n.array.binaryInsert=function(e,t,i){return 0>(i=n.array.binarySearch(e,t,i))&&(n.array.insertAt(e,t,-(i+1)),!0)},n.array.binaryRemove=function(e,t,i){return 0<=(t=n.array.binarySearch(e,t,i))&&n.array.removeAt(e,t)},n.array.bucket=function(e,t,i){for(var r={},o=0;o<e.length;o++){var s=e[o],a=t.call(i,s,o,e);n.isDef(a)&&(r[a]||(r[a]=[])).push(s)}return r},n.array.toObject=function(e,t,i){var r={};return n.array.forEach(e,function(n,o){r[t.call(i,n,o,e)]=n}),r},n.array.range=function(e,t,n){var i=[],r=0,o=e;if(n=n||1,void 0!==t&&(r=e,o=t),0>n*(o-r))return[];if(0<n)for(e=r;e<o;e+=n)i.push(e);else for(e=r;e>o;e+=n)i.push(e);return i},n.array.repeat=function(e,t){for(var n=[],i=0;i<t;i++)n[i]=e;return n},n.array.flatten=function(e){for(var t=[],i=0;i<arguments.length;i++){var r=arguments[i];n.isArray(r)?t.push.apply(t,n.array.flatten.apply(null,r)):t.push(r)}return t},n.array.rotate=function(e,t){return n.asserts.assert(null!=e.length),e.length&&(t%=e.length,0<t?n.array.ARRAY_PROTOTYPE_.unshift.apply(e,e.splice(-t,t)):0>t&&n.array.ARRAY_PROTOTYPE_.push.apply(e,e.splice(0,-t))),e},n.array.moveItem=function(e,t,i){n.asserts.assert(0<=t&&t<e.length),n.asserts.assert(0<=i&&i<e.length),t=n.array.ARRAY_PROTOTYPE_.splice.call(e,t,1),n.array.ARRAY_PROTOTYPE_.splice.call(e,i,0,t[0])},n.array.zip=function(e){if(!arguments.length)return[];for(var t=[],n=0;;n++){for(var i=[],r=0;r<arguments.length;r++){var o=arguments[r];if(n>=o.length)return t;i.push(o[n])}t.push(i)}},n.array.shuffle=function(e,t){for(var n=t||Math.random,i=e.length-1;0<i;i--){var r=Math.floor(n()*(i+1)),o=e[i];e[i]=e[r],e[r]=o}},n.labs.userAgent.browser={},n.labs.userAgent.browser.matchOpera_=function(){return n.labs.userAgent.util.matchUserAgent("Opera")||n.labs.userAgent.util.matchUserAgent("OPR")},n.labs.userAgent.browser.matchIE_=function(){return n.labs.userAgent.util.matchUserAgent("Trident")||n.labs.userAgent.util.matchUserAgent("MSIE")},n.labs.userAgent.browser.matchFirefox_=function(){return n.labs.userAgent.util.matchUserAgent("Firefox")},n.labs.userAgent.browser.matchSafari_=function(){return n.labs.userAgent.util.matchUserAgent("Safari")&&!n.labs.userAgent.util.matchUserAgent("Chrome")&&!n.labs.userAgent.util.matchUserAgent("CriOS")&&!n.labs.userAgent.util.matchUserAgent("Android")},n.labs.userAgent.browser.matchChrome_=function(){return n.labs.userAgent.util.matchUserAgent("Chrome")||n.labs.userAgent.util.matchUserAgent("CriOS")},n.labs.userAgent.browser.matchAndroidBrowser_=function(){return n.labs.userAgent.util.matchUserAgent("Android")&&!n.labs.userAgent.util.matchUserAgent("Chrome")&&!n.labs.userAgent.util.matchUserAgent("CriOS")},n.labs.userAgent.browser.isOpera=n.labs.userAgent.browser.matchOpera_,n.labs.userAgent.browser.isIE=n.labs.userAgent.browser.matchIE_,n.labs.userAgent.browser.isFirefox=n.labs.userAgent.browser.matchFirefox_,n.labs.userAgent.browser.isSafari=n.labs.userAgent.browser.matchSafari_,n.labs.userAgent.browser.isChrome=n.labs.userAgent.browser.matchChrome_,n.labs.userAgent.browser.isAndroidBrowser=n.labs.userAgent.browser.matchAndroidBrowser_,n.labs.userAgent.browser.isSilk=function(){return n.labs.userAgent.util.matchUserAgent("Silk")},n.labs.userAgent.browser.getVersion=function(){var e=n.labs.userAgent.util.getUserAgent();return n.labs.userAgent.browser.isIE()?n.labs.userAgent.browser.getIEVersion_(e):n.labs.userAgent.browser.isOpera()?n.labs.userAgent.browser.getOperaVersion_(e):(e=n.labs.userAgent.util.extractVersionTuples(e),n.labs.userAgent.browser.getVersionFromTuples_(e))},n.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=n.string.compareVersions(n.labs.userAgent.browser.getVersion(),e)},n.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];var t="",n=/MSIE +([\d\.]+)/.exec(e);if(n&&n[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==n[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=n[1];return t},n.labs.userAgent.browser.getOperaVersion_=function(e){e=n.labs.userAgent.util.extractVersionTuples(e);var t=n.array.peek(e);return"OPR"==t[0]&&t[1]?t[1]:n.labs.userAgent.browser.getVersionFromTuples_(e)},n.labs.userAgent.browser.getVersionFromTuples_=function(e){return n.asserts.assert(2<e.length,"Couldn't extract version tuple from user agent string"),e[2]&&e[2][1]?e[2][1]:""},n.labs.userAgent.engine={},n.labs.userAgent.engine.isPresto=function(){return n.labs.userAgent.util.matchUserAgent("Presto")},n.labs.userAgent.engine.isTrident=function(){return n.labs.userAgent.util.matchUserAgent("Trident")||n.labs.userAgent.util.matchUserAgent("MSIE")},n.labs.userAgent.engine.isWebKit=function(){return n.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")},n.labs.userAgent.engine.isGecko=function(){return n.labs.userAgent.util.matchUserAgent("Gecko")&&!n.labs.userAgent.engine.isWebKit()&&!n.labs.userAgent.engine.isTrident()},n.labs.userAgent.engine.getVersion=function(){var e=n.labs.userAgent.util.getUserAgent();if(e){var e=n.labs.userAgent.util.extractVersionTuples(e),t=e[1];if(t)return"Gecko"==t[0]?n.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):t[1];var i,e=e[0];if(e&&(i=e[2])&&(i=/Trident\/([^\s;]+)/.exec(i)))return i[1]}return""},n.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=n.string.compareVersions(n.labs.userAgent.engine.getVersion(),e)},n.labs.userAgent.engine.getVersionForKey_=function(e,t){var i=n.array.find(e,function(e){return t==e[0]});return i&&i[1]||""},n.userAgent={},n.userAgent.ASSUME_IE=!1,n.userAgent.ASSUME_GECKO=!1,n.userAgent.ASSUME_WEBKIT=!1,n.userAgent.ASSUME_MOBILE_WEBKIT=!1,n.userAgent.ASSUME_OPERA=!1,n.userAgent.ASSUME_ANY_VERSION=!1,n.userAgent.BROWSER_KNOWN_=n.userAgent.ASSUME_IE||n.userAgent.ASSUME_GECKO||n.userAgent.ASSUME_MOBILE_WEBKIT||n.userAgent.ASSUME_WEBKIT||n.userAgent.ASSUME_OPERA,n.userAgent.getUserAgentString=function(){return n.labs.userAgent.util.getUserAgent()},n.userAgent.getNavigator=function(){return n.global.navigator||null},n.userAgent.OPERA=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_OPERA:n.labs.userAgent.browser.isOpera(),n.userAgent.IE=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_IE:n.labs.userAgent.browser.isIE(),n.userAgent.GECKO=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_GECKO:n.labs.userAgent.engine.isGecko(),n.userAgent.WEBKIT=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_WEBKIT||n.userAgent.ASSUME_MOBILE_WEBKIT:n.labs.userAgent.engine.isWebKit(),n.userAgent.isMobile_=function(){return n.userAgent.WEBKIT&&n.labs.userAgent.util.matchUserAgent("Mobile")},n.userAgent.MOBILE=n.userAgent.ASSUME_MOBILE_WEBKIT||n.userAgent.isMobile_(),n.userAgent.SAFARI=n.userAgent.WEBKIT,n.userAgent.determinePlatform_=function(){var e=n.userAgent.getNavigator();return e&&e.platform||""},n.userAgent.PLATFORM=n.userAgent.determinePlatform_(),n.userAgent.ASSUME_MAC=!1,n.userAgent.ASSUME_WINDOWS=!1,n.userAgent.ASSUME_LINUX=!1,n.userAgent.ASSUME_X11=!1,n.userAgent.ASSUME_ANDROID=!1,n.userAgent.ASSUME_IPHONE=!1,n.userAgent.ASSUME_IPAD=!1,n.userAgent.PLATFORM_KNOWN_=n.userAgent.ASSUME_MAC||n.userAgent.ASSUME_WINDOWS||n.userAgent.ASSUME_LINUX||n.userAgent.ASSUME_X11||n.userAgent.ASSUME_ANDROID||n.userAgent.ASSUME_IPHONE||n.userAgent.ASSUME_IPAD,n.userAgent.initPlatform_=function(){n.userAgent.detectedMac_=n.string.contains(n.userAgent.PLATFORM,"Mac"),n.userAgent.detectedWindows_=n.string.contains(n.userAgent.PLATFORM,"Win"),n.userAgent.detectedLinux_=n.string.contains(n.userAgent.PLATFORM,"Linux"),n.userAgent.detectedX11_=!!n.userAgent.getNavigator()&&n.string.contains(n.userAgent.getNavigator().appVersion||"","X11");var e=n.userAgent.getUserAgentString();n.userAgent.detectedAndroid_=!!e&&n.string.contains(e,"Android"),n.userAgent.detectedIPhone_=!!e&&n.string.contains(e,"iPhone"),n.userAgent.detectedIPad_=!!e&&n.string.contains(e,"iPad")},n.userAgent.PLATFORM_KNOWN_||n.userAgent.initPlatform_(),n.userAgent.MAC=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_MAC:n.userAgent.detectedMac_,n.userAgent.WINDOWS=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_WINDOWS:n.userAgent.detectedWindows_,n.userAgent.LINUX=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_LINUX:n.userAgent.detectedLinux_,n.userAgent.X11=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_X11:n.userAgent.detectedX11_,n.userAgent.ANDROID=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_ANDROID:n.userAgent.detectedAndroid_,n.userAgent.IPHONE=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_IPHONE:n.userAgent.detectedIPhone_,n.userAgent.IPAD=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_IPAD:n.userAgent.detectedIPad_,n.userAgent.determineVersion_=function(){var e,t="";return n.userAgent.OPERA&&n.global.opera?(t=n.global.opera.version,n.isFunction(t)?t():t):(n.userAgent.GECKO?e=/rv\:([^\);]+)(\)|;)/:n.userAgent.IE?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:n.userAgent.WEBKIT&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(n.userAgent.getUserAgentString()))?t[1]:""),n.userAgent.IE&&(e=n.userAgent.getDocumentMode_())>parseFloat(t)?String(e):t)},n.userAgent.getDocumentMode_=function(){var e=n.global.document;return e?e.documentMode:void 0},n.userAgent.VERSION=n.userAgent.determineVersion_(),n.userAgent.compare=function(e,t){return n.string.compareVersions(e,t)},n.userAgent.isVersionOrHigherCache_={},n.userAgent.isVersionOrHigher=function(e){return n.userAgent.ASSUME_ANY_VERSION||n.userAgent.isVersionOrHigherCache_[e]||(n.userAgent.isVersionOrHigherCache_[e]=0<=n.string.compareVersions(n.userAgent.VERSION,e))},n.userAgent.isVersion=n.userAgent.isVersionOrHigher,n.userAgent.isDocumentModeOrHigher=function(e){return n.userAgent.IE&&n.userAgent.DOCUMENT_MODE>=e},n.userAgent.isDocumentMode=n.userAgent.isDocumentModeOrHigher,n.userAgent.DOCUMENT_MODE=function(){var e=n.global.document;return e&&n.userAgent.IE?n.userAgent.getDocumentMode_()||("CSS1Compat"==e.compatMode?parseInt(n.userAgent.VERSION,10):5):void 0}(),i.engine=function(){},i.engine.CANVAS="canvas",i.engine.SVG="svg",i.engine.VML="vml",i.engine.hasDom=function(e){return e===i.engine.SVG||e===i.engine.VML},i.engine.isSupported=function(e){if(e===i.engine.CANVAS)return!!document.createElement("canvas").getContext;if(e===i.engine.SVG)return!!document.createElementNS&&!!document.createElementNS(i.svg.Namespace.svg,"svg").createSVGRect;if(e===i.engine.VML)return!!document.namespaces;throw Error("Unknown engine.")},i.shape=function(){},i.shape.EventType={SHAPE_BEFORE_DRAW:"eventShapeBeforeDraw"},n.disposable={},n.disposable.IDisposable=function(){},n.Disposable=function(){n.Disposable.MONITORING_MODE!=n.Disposable.MonitoringMode.OFF&&(n.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),n.Disposable.instances_[n.getUid(this)]=this)},n.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},n.Disposable.MONITORING_MODE=0,n.Disposable.INCLUDE_STACK_ON_CREATION=!0,n.Disposable.instances_={},n.Disposable.getUndisposedObjects=function(){var e,t=[];for(e in n.Disposable.instances_)n.Disposable.instances_.hasOwnProperty(e)&&t.push(n.Disposable.instances_[Number(e)]);return t},n.Disposable.clearUndisposedObjects=function(){n.Disposable.instances_={}},n.Disposable.prototype.disposed_=!1,n.Disposable.prototype.isDisposed=function(){return this.disposed_},n.Disposable.prototype.getDisposed=n.Disposable.prototype.isDisposed,n.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),n.Disposable.MONITORING_MODE!=n.Disposable.MonitoringMode.OFF)){var e=n.getUid(this);if(n.Disposable.MONITORING_MODE==n.Disposable.MonitoringMode.PERMANENT&&!n.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete n.Disposable.instances_[e]}},n.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(n.partial(n.dispose,e))},n.Disposable.prototype.addOnDisposeCallback=function(e,t){this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(n.isDef(t)?n.bind(e,t):e)},n.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},n.Disposable.isDisposed=function(e){return!(!e||"function"!=typeof e.isDisposed)&&e.isDisposed()},n.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},n.disposeAll=function(e){for(var t=0,i=arguments.length;t<i;++t){var r=arguments[t];n.isArrayLike(r)?n.disposeAll.apply(null,r):n.dispose(r)}},i.shape.Style=function(){n.Disposable.call(this),this.fill_={color:"",opacity:0},this.stroke_={color:"black",width:1}},n.inherits(i.shape.Style,n.Disposable),i.shape.Style.prototype.setStyle=function(e){this.stroke_.color=e.getStrokeColor(),this.stroke_.width=e.getStrokeWidth(),this.fill_.color=e.getFillColor(),this.fill_.opacity=e.getFillOpacity()},i.shape.Style.prototype.getStrokeWidth=function(){return this.stroke_.width},i.shape.Style.prototype.setStrokeWidth=function(e){void 0!==e&&(this.stroke_.width=e)},i.shape.Style.prototype.getStrokeColor=function(){return this.stroke_.color},i.shape.Style.prototype.setStrokeColor=function(e){void 0!==e&&(this.stroke_.color=e)},i.shape.Style.prototype.getFillColor=function(){return this.fill_.color},i.shape.Style.prototype.setFillColor=function(e){0===this.fill_.opacity&&(this.fill_.opacity=1),void 0!==e&&(this.fill_.color=e)},i.shape.Style.prototype.getFillOpacity=function(){return this.fill_.opacity},i.shape.Style.prototype.setFillOpacity=function(e){void 0!==e&&(this.fill_.opacity=e)},i.shape.Style.prototype.disposeInternal=function(){this.stroke_=this.fill_=null,i.shape.Style.superClass_.disposeInternal.call(this)},i.shape.RenderStylable=function(e){i.shape.Style.call(this),this.zoomFactor_=1,this.hasDom_=i.engine.hasDom(e.getEngine().getName()),this.fillChanged_={color:!0,opacity:!0},this.strokeChanged_={color:!0,width:!0}},n.inherits(i.shape.RenderStylable,i.shape.Style),i.shape.RenderStylable.prototype.getShapeGroup=function(){return this.shapeGroup_},i.shape.RenderStylable.prototype.setShapeGroup=function(e){this.shapeGroup_=e},i.shape.RenderStylable.prototype.getEngineElement=function(){return this.engineElement_},i.shape.RenderStylable.prototype.setZoomFactor=function(e){this.zoomFactor_=e},i.shape.RenderStylable.prototype.setStyles=function(e){this.setStyle(e),this.getHoverable().setStyle(e.getHoverable()),this.getModifiable().setStyle(e.getModifiable()),this.getSelectable().setStyle(e.getSelectable())},i.shape.RenderStylable.prototype.setStyle=function(e){i.shape.RenderStylable.superClass_.setStyle.call(this,e),this.fillChanged_.color=!0,this.fillChanged_.opacity=!0,this.strokeChanged_.color=!0,this.strokeChanged_.width=!0},i.shape.RenderStylable.prototype.setFillColor=function(e){i.shape.RenderStylable.superClass_.setFillColor.call(this,e),this.fillChanged_.color=!0},i.shape.RenderStylable.prototype.getRenderingFillColor=function(){var e=this.shapeGroup_?this.shapeGroup_.getFillColor():this.hasDom_&&!1===this.fillChanged_.color?void 0:this.fill_.color;return this.fillChanged_.color=!1,e},i.shape.RenderStylable.prototype.setFillOpacity=function(e){i.shape.RenderStylable.superClass_.setFillOpacity.call(this,e),this.fillChanged_.opacity=!0},i.shape.RenderStylable.prototype.getRenderingFillOpacity=function(){var e=this.shapeGroup_?this.shapeGroup_.getFillOpacity():this.hasDom_&&!1===this.fillChanged_.opacity?void 0:this.fill_.opacity;return this.fillChanged_.opacity=!1,e},i.shape.RenderStylable.prototype.setStrokeColor=function(e){i.shape.RenderStylable.superClass_.setStrokeColor.call(this,e),this.strokeChanged_.color=!0},i.shape.RenderStylable.prototype.getRenderingStrokeColor=function(){var e=this.shapeGroup_?this.shapeGroup_.getStrokeColor():this.hasDom_&&!1===this.strokeChanged_.color?void 0:this.stroke_.color;return this.strokeChanged_.color=!1,e},i.shape.RenderStylable.prototype.setStrokeWidth=function(e){i.shape.RenderStylable.superClass_.setStrokeWidth.call(this,e),this.strokeChanged_.width=!0},i.shape.RenderStylable.prototype.getRenderingStrokeWidth=function(){var e=this.shapeGroup_?this.shapeGroup_.getStrokeWidth()/this.zoomFactor_:this.hasDom_&&!1===this.strokeChanged_.width?void 0:this.stroke_.width/this.zoomFactor_;return this.strokeChanged_.width=!1,e},i.shape.RenderStylable.prototype.startDrawing_=function(){this.drawing_.eventBeforeRendering(this),this.engineElement_.applyTransform(this.ctm_),this.engineElement_.startDrawing()},i.shape.RenderStylable.prototype.finishDrawing_=function(){this.engineElement_.finishDrawing()},i.shape.RenderStylable.prototype.disposeInternal=function(){this.engineElement_.dispose(),this.engineElement_=null,n.dispose(this.shapeGroup_),this.shapeGroup_=null,i.shape.RenderStylable.superClass_.disposeInternal.call(this)},n.dom.classes={},n.dom.classes.set=function(e,t){e.className=t},n.dom.classes.get=function(e){return e=e.className,n.isString(e)&&e.match(/\S+/g)||[]},n.dom.classes.add=function(e,t){var i=n.dom.classes.get(e),r=n.array.slice(arguments,1),o=i.length+r.length;return n.dom.classes.add_(i,r),n.dom.classes.set(e,i.join(" ")),i.length==o},n.dom.classes.remove=function(e,t){var i=n.dom.classes.get(e),r=n.array.slice(arguments,1),o=n.dom.classes.getDifference_(i,r);return n.dom.classes.set(e,o.join(" ")),o.length==i.length-r.length},n.dom.classes.add_=function(e,t){for(var i=0;i<t.length;i++)n.array.contains(e,t[i])||e.push(t[i])},n.dom.classes.getDifference_=function(e,t){return n.array.filter(e,function(e){return!n.array.contains(t,e)})},n.dom.classes.swap=function(e,t,i){for(var r=n.dom.classes.get(e),o=!1,s=0;s<r.length;s++)r[s]==t&&(n.array.splice(r,s--,1),o=!0);return o&&(r.push(i),n.dom.classes.set(e,r.join(" "))),o},n.dom.classes.addRemove=function(e,t,i){var r=n.dom.classes.get(e);n.isString(t)?n.array.remove(r,t):n.isArray(t)&&(r=n.dom.classes.getDifference_(r,t)),n.isString(i)&&!n.array.contains(r,i)?r.push(i):n.isArray(i)&&n.dom.classes.add_(r,i),n.dom.classes.set(e,r.join(" "))},n.dom.classes.has=function(e,t){return n.array.contains(n.dom.classes.get(e),t)},n.dom.classes.enable=function(e,t,i){i?n.dom.classes.add(e,t):n.dom.classes.remove(e,t)},n.dom.classes.toggle=function(e,t){var i=!n.dom.classes.has(e,t);return n.dom.classes.enable(e,t,i),i},n.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"},n.math={},n.math.Size=function(e,t){this.width=e,this.height=t},n.math.Size.equals=function(e,t){return e==t||!(!e||!t)&&(e.width==t.width&&e.height==t.height)},n.math.Size.prototype.clone=function(){return new n.math.Size(this.width,this.height)},n.DEBUG&&(n.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),n.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},n.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},n.math.Size.prototype.area=function(){return this.width*this.height},n.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},n.math.Size.prototype.aspectRatio=function(){return this.width/this.height},n.math.Size.prototype.isEmpty=function(){return!this.area()},n.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},n.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},n.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},n.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},n.math.Size.prototype.scale=function(e,t){var i=n.isNumber(t)?t:e;return this.width*=e,this.height*=i,this},n.math.Size.prototype.scaleToFit=function(e){return e=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},n.functions={},n.functions.constant=function(e){return function(){return e}},n.functions.FALSE=n.functions.constant(!1),n.functions.TRUE=n.functions.constant(!0),n.functions.NULL=n.functions.constant(null),n.functions.identity=function(e,t){return e},n.functions.error=function(e){return function(){throw Error(e)}},n.functions.fail=function(e){return function(){throw e}},n.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},n.functions.nth=function(e){return function(){return arguments[e]}},n.functions.withReturnValue=function(e,t){return n.functions.sequence(e,n.functions.constant(t))},n.functions.compose=function(e,t){var n=arguments,i=n.length;return function(){var e;i&&(e=n[i-1].apply(this,arguments));for(var t=i-2;0<=t;t--)e=n[t].call(this,e);return e}},n.functions.sequence=function(e){var t=arguments,n=t.length;return function(){for(var e,i=0;i<n;i++)e=t[i].apply(this,arguments);return e}},n.functions.and=function(e){var t=arguments,n=t.length;return function(){for(var e=0;e<n;e++)if(!t[e].apply(this,arguments))return!1;return!0}},n.functions.or=function(e){var t=arguments,n=t.length;return function(){for(var e=0;e<n;e++)if(t[e].apply(this,arguments))return!0;return!1}},n.functions.not=function(e){return function(){return!e.apply(this,arguments)}},n.functions.create=function(e,t){var n=function(){};return n.prototype=e.prototype,n=new n,e.apply(n,Array.prototype.slice.call(arguments,1)),n},n.functions.CACHE_RETURN_VALUE=!0,n.functions.cacheReturnValue=function(e){var t,i=!1;return function(){return n.functions.CACHE_RETURN_VALUE?(i||(t=e(),i=!0),t):e()}},n.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!n.userAgent.GECKO&&!n.userAgent.IE||n.userAgent.IE&&n.userAgent.isDocumentModeOrHigher(9)||n.userAgent.GECKO&&n.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:n.userAgent.IE&&!n.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:n.userAgent.IE||n.userAgent.OPERA||n.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:n.userAgent.IE},n.math.randomInt=function(e){return Math.floor(Math.random()*e)},n.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)},n.math.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)};n.math.modulo=function(e,t){var n=e%t;return 0>n*t?n+t:n},n.math.lerp=function(e,t,n){return e+n*(t-e)},n.math.nearlyEquals=function(e,t,n){return Math.abs(e-t)<=(n||1e-6)},n.math.standardAngle=function(e){return n.math.modulo(e,360)},n.math.standardAngleInRadians=function(e){return n.math.modulo(e,2*Math.PI)},n.math.toRadians=function(e){return e*Math.PI/180},n.math.toDegrees=function(e){return 180*e/Math.PI},n.math.angleDx=function(e,t){return t*Math.cos(n.math.toRadians(e))},n.math.angleDy=function(e,t){return t*Math.sin(n.math.toRadians(e))},n.math.angle=function(e,t,i,r){return n.math.standardAngle(n.math.toDegrees(Math.atan2(r-t,i-e)))},n.math.angleDifference=function(e,t){var i=n.math.standardAngle(t)-n.math.standardAngle(e);return 180<i?i-=360:-180>=i&&(i=360+i),i},n.math.sign=function(e){return 0==e?0:0>e?-1:1},n.math.longestCommonSubsequence=function(e,t,n,i){n=n||function(e,t){return e==t},i=i||function(t,n){return e[t]};for(var r=e.length,o=t.length,s=[],a=0;a<r+1;a++)s[a]=[],s[a][0]=0;for(var l=0;l<o+1;l++)s[0][l]=0;for(a=1;a<=r;a++)for(l=1;l<=o;l++)n(e[a-1],t[l-1])?s[a][l]=s[a-1][l-1]+1:s[a][l]=Math.max(s[a-1][l],s[a][l-1]);for(var h=[],a=r,l=o;0<a&&0<l;)n(e[a-1],t[l-1])?(h.unshift(i(a-1,l-1)),a--,l--):s[a-1][l]>s[a][l-1]?a--:l--;return h},n.math.sum=function(e){return n.array.reduce(arguments,function(e,t){return e+t},0)},n.math.average=function(e){return n.math.sum.apply(null,arguments)/arguments.length},n.math.sampleVariance=function(e){var t=arguments.length;if(2>t)return 0;var i=n.math.average.apply(null,arguments);return n.math.sum.apply(null,n.array.map(arguments,function(e){return Math.pow(e-i,2)}))/(t-1)},n.math.standardDeviation=function(e){return Math.sqrt(n.math.sampleVariance.apply(null,arguments))},n.math.isInt=function(e){return isFinite(e)&&0==e%1},n.math.isFiniteNumber=function(e){return isFinite(e)&&!isNaN(e)},n.math.log10Floor=function(e){if(0<e){var t=Math.round(Math.log(e)*Math.LOG10E);return t-(parseFloat("1e"+t)>e)}return 0==e?-1/0:NaN},n.math.safeFloor=function(e,t){return n.asserts.assert(!n.isDef(t)||0<t),Math.floor(e+(t||2e-15))},n.math.safeCeil=function(e,t){return n.asserts.assert(!n.isDef(t)||0<t),Math.ceil(e-(t||2e-15))},n.math.Coordinate=function(e,t){this.x=n.isDef(e)?e:0,this.y=n.isDef(t)?t:0},n.math.Coordinate.prototype.clone=function(){return new n.math.Coordinate(this.x,this.y)},n.DEBUG&&(n.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),n.math.Coordinate.equals=function(e,t){return e==t||!(!e||!t)&&(e.x==t.x&&e.y==t.y)},n.math.Coordinate.distance=function(e,t){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},n.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.math.Coordinate.azimuth=function(e){return n.math.angle(0,0,e.x,e.y)},n.math.Coordinate.squaredDistance=function(e,t){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},n.math.Coordinate.difference=function(e,t){return new n.math.Coordinate(e.x-t.x,e.y-t.y)},n.math.Coordinate.sum=function(e,t){return new n.math.Coordinate(e.x+t.x,e.y+t.y)},n.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},n.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},n.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},n.math.Coordinate.prototype.translate=function(e,t){return e instanceof n.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=e,n.isNumber(t)&&(this.y+=t)),this},n.math.Coordinate.prototype.scale=function(e,t){var i=n.isNumber(t)?t:e;return this.x*=e,this.y*=i,this},n.math.Coordinate.prototype.rotateRadians=function(e,t){var i=t||new n.math.Coordinate(0,0),r=this.x,o=this.y,s=Math.cos(e),a=Math.sin(e);this.x=(r-i.x)*s-(o-i.y)*a+i.x,this.y=(r-i.x)*a+(o-i.y)*s+i.y},n.math.Coordinate.prototype.rotateDegrees=function(e,t){this.rotateRadians(n.math.toRadians(e),t)},n.dom.ASSUME_QUIRKS_MODE=!1,n.dom.ASSUME_STANDARDS_MODE=!1,n.dom.COMPAT_MODE_KNOWN_=n.dom.ASSUME_QUIRKS_MODE||n.dom.ASSUME_STANDARDS_MODE,n.dom.getDomHelper=function(e){return e?new n.dom.DomHelper(n.dom.getOwnerDocument(e)):n.dom.defaultDomHelper_||(n.dom.defaultDomHelper_=new n.dom.DomHelper)},n.dom.getDocument=function(){return document},n.dom.getElement=function(e){return n.dom.getElementHelper_(document,e)},n.dom.getElementHelper_=function(e,t){return n.isString(t)?e.getElementById(t):t},n.dom.getRequiredElement=function(e){return n.dom.getRequiredElementHelper_(document,e)},n.dom.getRequiredElementHelper_=function(e,t){n.asserts.assertString(t);var i=n.dom.getElementHelper_(e,t);return i=n.asserts.assertElement(i,"No element found with id: "+t)},n.dom.$=n.dom.getElement,n.dom.getElementsByTagNameAndClass=function(e,t,i){return n.dom.getElementsByTagNameAndClass_(document,e,t,i)},n.dom.getElementsByClass=function(e,t){var i=t||document;return n.dom.canUseQuerySelector_(i)?i.querySelectorAll("."+e):n.dom.getElementsByTagNameAndClass_(document,"*",e,t)},n.dom.getElementByClass=function(e,t){var i=t||document;return(n.dom.canUseQuerySelector_(i)?i.querySelector("."+e):n.dom.getElementsByTagNameAndClass_(document,"*",e,t)[0])||null},n.dom.getRequiredElementByClass=function(e,t){var i=n.dom.getElementByClass(e,t);return n.asserts.assert(i,"No element found with className: "+e)},n.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},n.dom.getElementsByTagNameAndClass_=function(e,t,i,r){if(e=r||e,t=t&&"*"!=t?t.toUpperCase():"",n.dom.canUseQuerySelector_(e)&&(t||i))return e.querySelectorAll(t+(i?"."+i:""));if(i&&e.getElementsByClassName){if(e=e.getElementsByClassName(i),t){r={};for(var o,s=0,a=0;o=e[a];a++)t==o.nodeName&&(r[s++]=o);return r.length=s,r}return e}if(e=e.getElementsByTagName(t||"*"),i){for(r={},a=s=0;o=e[a];a++)t=o.className,"function"==typeof t.split&&n.array.contains(t.split(/\s+/),i)&&(r[s++]=o);return r.length=s,r}return e},n.dom.$$=n.dom.getElementsByTagNameAndClass,n.dom.setProperties=function(e,t){n.object.forEach(t,function(t,i){"style"==i?e.style.cssText=t:"class"==i?e.className=t:"for"==i?e.htmlFor=t:i in n.dom.DIRECT_ATTRIBUTE_MAP_?e.setAttribute(n.dom.DIRECT_ATTRIBUTE_MAP_[i],t):n.string.startsWith(i,"aria-")||n.string.startsWith(i,"data-")?e.setAttribute(i,t):e[i]=t})},n.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},n.dom.getViewportSize=function(e){return n.dom.getViewportSize_(e||window)},n.dom.getViewportSize_=function(e){return e=e.document,e=n.dom.isCss1CompatMode_(e)?e.documentElement:e.body,new n.math.Size(e.clientWidth,e.clientHeight)},n.dom.getDocumentHeight=function(){return n.dom.getDocumentHeight_(window)},n.dom.getDocumentHeight_=function(e){var t=e.document,i=0;if(t){var i=t.body,r=t.documentElement;if(!i&&!r)return 0;if(e=n.dom.getViewportSize_(e).height,n.dom.isCss1CompatMode_(t)&&r.scrollHeight)i=r.scrollHeight!=e?r.scrollHeight:r.offsetHeight;else{var t=r.scrollHeight,o=r.offsetHeight;r.clientHeight!=o&&(t=i.scrollHeight,o=i.offsetHeight),i=t>e?t>o?t:o:t<o?t:o}}return i},n.dom.getPageScroll=function(e){return n.dom.getDomHelper((e||n.global||window).document).getDocumentScroll()},n.dom.getDocumentScroll=function(){return n.dom.getDocumentScroll_(document)},n.dom.getDocumentScroll_=function(e){var t=n.dom.getDocumentScrollElement_(e);return e=n.dom.getWindow_(e),n.userAgent.IE&&n.userAgent.isVersionOrHigher("10")&&e.pageYOffset!=t.scrollTop?new n.math.Coordinate(t.scrollLeft,t.scrollTop):new n.math.Coordinate(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)},n.dom.getDocumentScrollElement=function(){return n.dom.getDocumentScrollElement_(document)},n.dom.getDocumentScrollElement_=function(e){return!n.userAgent.WEBKIT&&n.dom.isCss1CompatMode_(e)?e.documentElement:e.body||e.documentElement},n.dom.getWindow=function(e){return e?n.dom.getWindow_(e):window},n.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},n.dom.createDom=function(e,t,i){return n.dom.createDom_(document,arguments)},n.dom.createDom_=function(e,t){var i=t[0],r=t[1];if(!n.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&r&&(r.name||r.type)){if(i=["<",i],r.name&&i.push(' name="',n.string.htmlEscape(r.name),'"'),r.type){i.push(' type="',n.string.htmlEscape(r.type),'"');var o={};n.object.extend(o,r),delete o.type,r=o}i.push(">"),i=i.join("")}return i=e.createElement(i),r&&(n.isString(r)?i.className=r:n.isArray(r)?n.dom.classes.add.apply(null,[i].concat(r)):n.dom.setProperties(i,r)),2<t.length&&n.dom.append_(e,i,t,2),i},n.dom.append_=function(e,t,i,r){function o(i){i&&t.appendChild(n.isString(i)?e.createTextNode(i):i)}for(;r<i.length;r++){var s=i[r];n.isArrayLike(s)&&!n.dom.isNodeLike(s)?n.array.forEach(n.dom.isNodeList(s)?n.array.toArray(s):s,o):o(s)}},n.dom.$dom=n.dom.createDom,n.dom.createElement=function(e){return document.createElement(e)},n.dom.createTextNode=function(e){return document.createTextNode(String(e))},n.dom.createTable=function(e,t,i){return n.dom.createTable_(document,e,t,!!i)},n.dom.createTable_=function(e,t,i,r){for(var o=["<tr>"],s=0;s<i;s++)o.push(r?"<td>&nbsp;</td>":"<td></td>");for(o.push("</tr>"),o=o.join(""),i=["<table>"],s=0;s<t;s++)i.push(o);return i.push("</table>"),e=e.createElement(n.dom.TagName.DIV),e.innerHTML=i.join(""),e.removeChild(e.firstChild)},n.dom.htmlToDocumentFragment=function(e){return n.dom.htmlToDocumentFragment_(document,e)},n.dom.htmlToDocumentFragment_=function(e,t){var i=e.createElement("div");if(n.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(i.innerHTML="<br>"+t,i.removeChild(i.firstChild)):i.innerHTML=t,1==i.childNodes.length)return i.removeChild(i.firstChild);for(var r=e.createDocumentFragment();i.firstChild;)r.appendChild(i.firstChild);return r},n.dom.isCss1CompatMode=function(){return n.dom.isCss1CompatMode_(document)},n.dom.isCss1CompatMode_=function(e){return n.dom.COMPAT_MODE_KNOWN_?n.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},n.dom.canHaveChildren=function(e){if(e.nodeType!=n.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case n.dom.TagName.APPLET:case n.dom.TagName.AREA:case n.dom.TagName.BASE:case n.dom.TagName.BR:case n.dom.TagName.COL:case n.dom.TagName.COMMAND:case n.dom.TagName.EMBED:case n.dom.TagName.FRAME:case n.dom.TagName.HR:case n.dom.TagName.IMG:case n.dom.TagName.INPUT:case n.dom.TagName.IFRAME:case n.dom.TagName.ISINDEX:case n.dom.TagName.KEYGEN:case n.dom.TagName.LINK:case n.dom.TagName.NOFRAMES:case n.dom.TagName.NOSCRIPT:case n.dom.TagName.META:case n.dom.TagName.OBJECT:case n.dom.TagName.PARAM:case n.dom.TagName.SCRIPT:case n.dom.TagName.SOURCE:case n.dom.TagName.STYLE:case n.dom.TagName.TRACK:case n.dom.TagName.WBR:return!1}return!0},n.dom.appendChild=function(e,t){e.appendChild(t)},n.dom.append=function(e,t){n.dom.append_(n.dom.getOwnerDocument(e),e,arguments,1)},n.dom.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},n.dom.insertSiblingBefore=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)},n.dom.insertSiblingAfter=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},n.dom.insertChildAt=function(e,t,n){e.insertBefore(t,e.childNodes[n]||null)},n.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},n.dom.replaceNode=function(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)},n.dom.flattenElement=function(e){var t,i=e.parentNode;if(i&&i.nodeType!=n.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;t=e.firstChild;)i.insertBefore(t,e);return n.dom.removeNode(e)}},n.dom.getChildren=function(e){return n.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=e.children?e.children:n.array.filter(e.childNodes,function(e){return e.nodeType==n.dom.NodeType.ELEMENT})},n.dom.getFirstElementChild=function(e){return void 0!=e.firstElementChild?e.firstElementChild:n.dom.getNextElementNode_(e.firstChild,!0)},n.dom.getLastElementChild=function(e){return void 0!=e.lastElementChild?e.lastElementChild:n.dom.getNextElementNode_(e.lastChild,!1)},n.dom.getNextElementSibling=function(e){return void 0!=e.nextElementSibling?e.nextElementSibling:n.dom.getNextElementNode_(e.nextSibling,!0)},n.dom.getPreviousElementSibling=function(e){return void 0!=e.previousElementSibling?e.previousElementSibling:n.dom.getNextElementNode_(e.previousSibling,!1)},n.dom.getNextElementNode_=function(e,t){for(;e&&e.nodeType!=n.dom.NodeType.ELEMENT;)e=t?e.nextSibling:e.previousSibling;return e},n.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},n.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},n.dom.isNodeLike=function(e){return n.isObject(e)&&0<e.nodeType},n.dom.isElement=function(e){return n.isObject(e)&&e.nodeType==n.dom.NodeType.ELEMENT},n.dom.isWindow=function(e){return n.isObject(e)&&e.window==e},n.dom.getParentElement=function(e){var t;return!n.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY||n.userAgent.IE&&n.userAgent.isVersionOrHigher("9")&&!n.userAgent.isVersionOrHigher("10")&&n.global.SVGElement&&e instanceof n.global.SVGElement||!(t=e.parentElement)?(t=e.parentNode,n.dom.isElement(t)?t:null):t},n.dom.contains=function(e,t){if(e.contains&&t.nodeType==n.dom.NodeType.ELEMENT)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||Boolean(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e},n.dom.compareNodeOrder=function(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if(n.userAgent.IE&&!n.userAgent.isDocumentModeOrHigher(9)){if(e.nodeType==n.dom.NodeType.DOCUMENT)return-1;if(t.nodeType==n.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var i=e.nodeType==n.dom.NodeType.ELEMENT,r=t.nodeType==n.dom.NodeType.ELEMENT;if(i&&r)return e.sourceIndex-t.sourceIndex;var o=e.parentNode,s=t.parentNode;return o==s?n.dom.compareSiblingOrder_(e,t):!i&&n.dom.contains(o,t)?-1*n.dom.compareParentsDescendantNodeIe_(e,t):!r&&n.dom.contains(s,e)?n.dom.compareParentsDescendantNodeIe_(t,e):(i?e.sourceIndex:o.sourceIndex)-(r?t.sourceIndex:s.sourceIndex)}return r=n.dom.getOwnerDocument(e),i=r.createRange(),i.selectNode(e),i.collapse(!0),r=r.createRange(),r.selectNode(t),r.collapse(!0),i.compareBoundaryPoints(n.global.Range.START_TO_END,r)},n.dom.compareParentsDescendantNodeIe_=function(e,t){var i=e.parentNode;if(i==t)return-1;for(var r=t;r.parentNode!=i;)r=r.parentNode;return n.dom.compareSiblingOrder_(r,e)},n.dom.compareSiblingOrder_=function(e,t){for(var n=t;n=n.previousSibling;)if(n==e)return-1;return 1},n.dom.findCommonAncestor=function(e){var t,n=arguments.length;if(!n)return null;if(1==n)return arguments[0];var i=[],r=1/0;for(t=0;t<n;t++){for(var o=[],s=arguments[t];s;)o.unshift(s),s=s.parentNode;i.push(o),r=Math.min(r,o.length)}for(o=null,t=0;t<r;t++){for(var s=i[0][t],a=1;a<n;a++)if(s!=i[a][t])return o;o=s}return o},n.dom.getOwnerDocument=function(e){return n.asserts.assert(e,"Node cannot be null or undefined."),e.nodeType==n.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},n.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},n.dom.getFrameContentWindow=function(e){return e.contentWindow||n.dom.getWindow(n.dom.getFrameContentDocument(e))},n.dom.setTextContent=function(e,t){if(n.asserts.assert(null!=e,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in e)e.textContent=t;else if(e.nodeType==n.dom.NodeType.TEXT)e.data=t;else if(e.firstChild&&e.firstChild.nodeType==n.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=t}else{n.dom.removeChildren(e);var i=n.dom.getOwnerDocument(e);e.appendChild(i.createTextNode(String(t)))}},n.dom.getOuterHtml=function(e){if("outerHTML"in e)return e.outerHTML;var t=n.dom.getOwnerDocument(e).createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},n.dom.findNode=function(e,t){var i=[];return n.dom.findNodes_(e,t,i,!0)?i[0]:void 0},n.dom.findNodes=function(e,t){var i=[];return n.dom.findNodes_(e,t,i,!1),i},n.dom.findNodes_=function(e,t,i,r){if(null!=e)for(e=e.firstChild;e;){if(t(e)&&(i.push(e),r)||n.dom.findNodes_(e,t,i,r))return!0;e=e.nextSibling}return!1},n.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},n.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},n.dom.isFocusableTabIndex=function(e){return n.dom.hasSpecifiedTabIndex_(e)&&n.dom.isTabIndexFocusable_(e)},n.dom.setFocusableTabIndex=function(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},n.dom.isFocusable=function(e){var t;return(t=n.dom.nativelySupportsFocus_(e)?!e.disabled&&(!n.dom.hasSpecifiedTabIndex_(e)||n.dom.isTabIndexFocusable_(e)):n.dom.isFocusableTabIndex(e))&&n.userAgent.IE?n.dom.hasNonZeroBoundingRect_(e):t},n.dom.hasSpecifiedTabIndex_=function(e){return e=e.getAttributeNode("tabindex"),n.isDefAndNotNull(e)&&e.specified},n.dom.isTabIndexFocusable_=function(e){return e=e.tabIndex,n.isNumber(e)&&0<=e&&32768>e},n.dom.nativelySupportsFocus_=function(e){return e.tagName==n.dom.TagName.A||e.tagName==n.dom.TagName.INPUT||e.tagName==n.dom.TagName.TEXTAREA||e.tagName==n.dom.TagName.SELECT||e.tagName==n.dom.TagName.BUTTON},n.dom.hasNonZeroBoundingRect_=function(e){return e=n.isFunction(e.getBoundingClientRect)?e.getBoundingClientRect():{height:e.offsetHeight,width:e.offsetWidth},n.isDefAndNotNull(e)&&0<e.height&&0<e.width},n.dom.getTextContent=function(e){if(n.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in e)e=n.string.canonicalizeNewlines(e.innerText);else{var t=[];n.dom.getTextContent_(e,t,!0),e=t.join("")}return e=e.replace(/ \xAD /g," ").replace(/\xAD/g,""),e=e.replace(/\u200B/g,""),n.dom.BrowserFeature.CAN_USE_INNER_TEXT||(e=e.replace(/ +/g," "))," "!=e&&(e=e.replace(/^\s*/,"")),e},n.dom.getRawTextContent=function(e){var t=[];return n.dom.getTextContent_(e,t,!1),t.join("")},n.dom.getTextContent_=function(e,t,i){if(!(e.nodeName in n.dom.TAGS_TO_IGNORE_))if(e.nodeType==n.dom.NodeType.TEXT)i?t.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in n.dom.PREDEFINED_TAG_VALUES_)t.push(n.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(e=e.firstChild;e;)n.dom.getTextContent_(e,t,i),e=e.nextSibling},n.dom.getNodeTextLength=function(e){return n.dom.getTextContent(e).length},n.dom.getNodeTextOffset=function(e,t){for(var i=t||n.dom.getOwnerDocument(e).body,r=[];e&&e!=i;){for(var o=e;o=o.previousSibling;)r.unshift(n.dom.getTextContent(o));e=e.parentNode}return n.string.trimLeft(r.join("")).replace(/ +/g," ").length},n.dom.getNodeAtOffset=function(e,t,i){e=[e];for(var r=0,o=null;0<e.length&&r<t;)if(o=e.pop(),!(o.nodeName in n.dom.TAGS_TO_IGNORE_))if(o.nodeType==n.dom.NodeType.TEXT)var s=o.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," "),r=r+s.length;else if(o.nodeName in n.dom.PREDEFINED_TAG_VALUES_)r+=n.dom.PREDEFINED_TAG_VALUES_[o.nodeName].length;else for(s=o.childNodes.length-1;0<=s;s--)e.push(o.childNodes[s]);return n.isObject(i)&&(i.remainder=o?o.nodeValue.length+t-r-1:0,i.node=o),o},n.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(n.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(n.isFunction(e))return"function"==typeof e.item}return!1},n.dom.getAncestorByTagNameAndClass=function(e,t,i){if(!t&&!i)return null;var r=t?t.toUpperCase():null;return n.dom.getAncestor(e,function(e){return(!r||e.nodeName==r)&&(!i||n.dom.classes.has(e,i))},!0)},n.dom.getAncestorByClass=function(e,t){return n.dom.getAncestorByTagNameAndClass(e,null,t)},n.dom.getAncestor=function(e,t,n,i){n||(e=e.parentNode),n=null==i;for(var r=0;e&&(n||r<=i);){if(t(e))return e;e=e.parentNode,r++}return null},n.dom.getActiveElement=function(e){try{return e&&e.activeElement}catch(e){}return null},n.dom.getPixelRatio=n.functions.cacheReturnValue(function(){var e=n.dom.getWindow(),t=n.userAgent.GECKO&&n.userAgent.MOBILE;return n.isDef(e.devicePixelRatio)&&!t?e.devicePixelRatio:e.matchMedia?n.dom.matchesPixelRatio_(.75)||n.dom.matchesPixelRatio_(1.5)||n.dom.matchesPixelRatio_(2)||n.dom.matchesPixelRatio_(3)||1:1}),n.dom.matchesPixelRatio_=function(e){return n.dom.getWindow().matchMedia("(-webkit-min-device-pixel-ratio: "+e+"),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+e+"dppx)").matches?e:0},n.dom.DomHelper=function(e){this.document_=e||n.global.document||document},n.dom.DomHelper.prototype.getDomHelper=n.dom.getDomHelper,n.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},n.dom.DomHelper.prototype.getDocument=function(){return this.document_},n.dom.DomHelper.prototype.getElement=function(e){return n.dom.getElementHelper_(this.document_,e)},n.dom.DomHelper.prototype.getRequiredElement=function(e){return n.dom.getRequiredElementHelper_(this.document_,e)},n.dom.DomHelper.prototype.$=n.dom.DomHelper.prototype.getElement,n.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,t,i){return n.dom.getElementsByTagNameAndClass_(this.document_,e,t,i)},n.dom.DomHelper.prototype.getElementsByClass=function(e,t){return n.dom.getElementsByClass(e,t||this.document_)},n.dom.DomHelper.prototype.getElementByClass=function(e,t){return n.dom.getElementByClass(e,t||this.document_)},n.dom.DomHelper.prototype.getRequiredElementByClass=function(e,t){return n.dom.getRequiredElementByClass(e,t||this.document_)},n.dom.DomHelper.prototype.$$=n.dom.DomHelper.prototype.getElementsByTagNameAndClass,n.dom.DomHelper.prototype.setProperties=n.dom.setProperties,n.dom.DomHelper.prototype.getViewportSize=function(e){return n.dom.getViewportSize(e||this.getWindow())},n.dom.DomHelper.prototype.getDocumentHeight=function(){return n.dom.getDocumentHeight_(this.getWindow())},n.dom.DomHelper.prototype.createDom=function(e,t,i){return n.dom.createDom_(this.document_,arguments)},n.dom.DomHelper.prototype.$dom=n.dom.DomHelper.prototype.createDom,n.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},n.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(String(e))},n.dom.DomHelper.prototype.createTable=function(e,t,i){return n.dom.createTable_(this.document_,e,t,!!i)},n.dom.DomHelper.prototype.htmlToDocumentFragment=function(e){return n.dom.htmlToDocumentFragment_(this.document_,e)},n.dom.DomHelper.prototype.isCss1CompatMode=function(){return n.dom.isCss1CompatMode_(this.document_)},n.dom.DomHelper.prototype.getWindow=function(){return n.dom.getWindow_(this.document_)},n.dom.DomHelper.prototype.getDocumentScrollElement=function(){return n.dom.getDocumentScrollElement_(this.document_)},n.dom.DomHelper.prototype.getDocumentScroll=function(){return n.dom.getDocumentScroll_(this.document_)},n.dom.DomHelper.prototype.getActiveElement=function(e){return n.dom.getActiveElement(e||this.document_)},n.dom.DomHelper.prototype.appendChild=n.dom.appendChild,n.dom.DomHelper.prototype.append=n.dom.append,n.dom.DomHelper.prototype.canHaveChildren=n.dom.canHaveChildren,n.dom.DomHelper.prototype.removeChildren=n.dom.removeChildren,n.dom.DomHelper.prototype.insertSiblingBefore=n.dom.insertSiblingBefore,n.dom.DomHelper.prototype.insertSiblingAfter=n.dom.insertSiblingAfter,n.dom.DomHelper.prototype.insertChildAt=n.dom.insertChildAt,n.dom.DomHelper.prototype.removeNode=n.dom.removeNode,n.dom.DomHelper.prototype.replaceNode=n.dom.replaceNode,n.dom.DomHelper.prototype.flattenElement=n.dom.flattenElement,n.dom.DomHelper.prototype.getChildren=n.dom.getChildren,n.dom.DomHelper.prototype.getFirstElementChild=n.dom.getFirstElementChild,n.dom.DomHelper.prototype.getLastElementChild=n.dom.getLastElementChild,n.dom.DomHelper.prototype.getNextElementSibling=n.dom.getNextElementSibling,n.dom.DomHelper.prototype.getPreviousElementSibling=n.dom.getPreviousElementSibling,n.dom.DomHelper.prototype.getNextNode=n.dom.getNextNode,n.dom.DomHelper.prototype.getPreviousNode=n.dom.getPreviousNode,n.dom.DomHelper.prototype.isNodeLike=n.dom.isNodeLike,n.dom.DomHelper.prototype.isElement=n.dom.isElement,n.dom.DomHelper.prototype.isWindow=n.dom.isWindow,n.dom.DomHelper.prototype.getParentElement=n.dom.getParentElement,n.dom.DomHelper.prototype.contains=n.dom.contains,n.dom.DomHelper.prototype.compareNodeOrder=n.dom.compareNodeOrder,n.dom.DomHelper.prototype.findCommonAncestor=n.dom.findCommonAncestor,n.dom.DomHelper.prototype.getOwnerDocument=n.dom.getOwnerDocument,n.dom.DomHelper.prototype.getFrameContentDocument=n.dom.getFrameContentDocument,n.dom.DomHelper.prototype.getFrameContentWindow=n.dom.getFrameContentWindow,n.dom.DomHelper.prototype.setTextContent=n.dom.setTextContent,n.dom.DomHelper.prototype.getOuterHtml=n.dom.getOuterHtml,n.dom.DomHelper.prototype.findNode=n.dom.findNode,n.dom.DomHelper.prototype.findNodes=n.dom.findNodes,n.dom.DomHelper.prototype.isFocusableTabIndex=n.dom.isFocusableTabIndex,n.dom.DomHelper.prototype.setFocusableTabIndex=n.dom.setFocusableTabIndex,n.dom.DomHelper.prototype.isFocusable=n.dom.isFocusable,n.dom.DomHelper.prototype.getTextContent=n.dom.getTextContent,n.dom.DomHelper.prototype.getNodeTextLength=n.dom.getNodeTextLength;n.dom.DomHelper.prototype.getNodeTextOffset=n.dom.getNodeTextOffset,n.dom.DomHelper.prototype.getNodeAtOffset=n.dom.getNodeAtOffset,n.dom.DomHelper.prototype.isNodeList=n.dom.isNodeList,n.dom.DomHelper.prototype.getAncestorByTagNameAndClass=n.dom.getAncestorByTagNameAndClass,n.dom.DomHelper.prototype.getAncestorByClass=n.dom.getAncestorByClass,n.dom.DomHelper.prototype.getAncestor=n.dom.getAncestor,n.math.Box=function(e,t,n,i){this.top=e,this.right=t,this.bottom=n,this.left=i},n.math.Box.boundingBox=function(e){for(var t=new n.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),i=1;i<arguments.length;i++){var r=arguments[i];t.top=Math.min(t.top,r.y),t.right=Math.max(t.right,r.x),t.bottom=Math.max(t.bottom,r.y),t.left=Math.min(t.left,r.x)}return t},n.math.Box.prototype.clone=function(){return new n.math.Box(this.top,this.right,this.bottom,this.left)},n.DEBUG&&(n.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),n.math.Box.prototype.contains=function(e){return n.math.Box.contains(this,e)},n.math.Box.prototype.expand=function(e,t,i,r){return n.isObject(e)?(this.top-=e.top,this.right+=e.right,this.bottom+=e.bottom,this.left-=e.left):(this.top-=e,this.right+=t,this.bottom+=i,this.left-=r),this},n.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},n.math.Box.equals=function(e,t){return e==t||!(!e||!t)&&(e.top==t.top&&e.right==t.right&&e.bottom==t.bottom&&e.left==t.left)},n.math.Box.contains=function(e,t){return!(!e||!t)&&(t instanceof n.math.Box?t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom:t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom)},n.math.Box.relativePositionX=function(e,t){return t.x<e.left?t.x-e.left:t.x>e.right?t.x-e.right:0},n.math.Box.relativePositionY=function(e,t){return t.y<e.top?t.y-e.top:t.y>e.bottom?t.y-e.bottom:0},n.math.Box.distance=function(e,t){var i=n.math.Box.relativePositionX(e,t),r=n.math.Box.relativePositionY(e,t);return Math.sqrt(i*i+r*r)},n.math.Box.intersects=function(e,t){return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom},n.math.Box.intersectsWithPadding=function(e,t,n){return e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},n.math.Box.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},n.math.Box.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},n.math.Box.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},n.math.Box.prototype.translate=function(e,t){return e instanceof n.math.Coordinate?(this.left+=e.x,this.right+=e.x,this.top+=e.y,this.bottom+=e.y):(this.left+=e,this.right+=e,n.isNumber(t)&&(this.top+=t,this.bottom+=t)),this},n.math.Box.prototype.scale=function(e,t){var i=n.isNumber(t)?t:e;return this.left*=e,this.right*=e,this.top*=i,this.bottom*=i,this},n.math.Rect=function(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i},n.math.Rect.prototype.clone=function(){return new n.math.Rect(this.left,this.top,this.width,this.height)},n.math.Rect.prototype.toBox=function(){return new n.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)},n.math.Rect.createFromBox=function(e){return new n.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},n.DEBUG&&(n.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),n.math.Rect.equals=function(e,t){return e==t||!(!e||!t)&&(e.left==t.left&&e.width==t.width&&e.top==t.top&&e.height==t.height)},n.math.Rect.prototype.intersection=function(e){var t=Math.max(this.left,e.left),n=Math.min(this.left+this.width,e.left+e.width);if(t<=n){var i=Math.max(this.top,e.top);if(e=Math.min(this.top+this.height,e.top+e.height),i<=e)return this.left=t,this.top=i,this.width=n-t,this.height=e-i,!0}return!1},n.math.Rect.intersection=function(e,t){var i=Math.max(e.left,t.left),r=Math.min(e.left+e.width,t.left+t.width);if(i<=r){var o=Math.max(e.top,t.top),s=Math.min(e.top+e.height,t.top+t.height);if(o<=s)return new n.math.Rect(i,o,r-i,s-o)}return null},n.math.Rect.intersects=function(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height},n.math.Rect.prototype.intersects=function(e){return n.math.Rect.intersects(this,e)},n.math.Rect.difference=function(e,t){var i=n.math.Rect.intersection(e,t);if(!i||!i.height||!i.width)return[e.clone()];var i=[],r=e.top,o=e.height,s=e.left+e.width,a=e.top+e.height,l=t.left+t.width,h=t.top+t.height;return t.top>e.top&&(i.push(new n.math.Rect(e.left,e.top,e.width,t.top-e.top)),r=t.top,o-=t.top-e.top),h<a&&(i.push(new n.math.Rect(e.left,h,e.width,a-h)),o=h-r),t.left>e.left&&i.push(new n.math.Rect(e.left,r,t.left-e.left,o)),l<s&&i.push(new n.math.Rect(l,r,s-l,o)),i},n.math.Rect.prototype.difference=function(e){return n.math.Rect.difference(this,e)},n.math.Rect.prototype.boundingRect=function(e){var t=Math.max(this.left+this.width,e.left+e.width),n=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=t-this.left,this.height=n-this.top},n.math.Rect.boundingRect=function(e,t){if(!e||!t)return null;var n=e.clone();return n.boundingRect(t),n},n.math.Rect.prototype.contains=function(e){return e instanceof n.math.Rect?this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height:e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height},n.math.Rect.prototype.squaredDistance=function(e){var t=e.x<this.left?this.left-e.x:Math.max(e.x-(this.left+this.width),0);return e=e.y<this.top?this.top-e.y:Math.max(e.y-(this.top+this.height),0),t*t+e*e},n.math.Rect.prototype.distance=function(e){return Math.sqrt(this.squaredDistance(e))},n.math.Rect.prototype.getSize=function(){return new n.math.Size(this.width,this.height)},n.math.Rect.prototype.getTopLeft=function(){return new n.math.Coordinate(this.left,this.top)},n.math.Rect.prototype.getCenter=function(){return new n.math.Coordinate(this.left+this.width/2,this.top+this.height/2)},n.math.Rect.prototype.getBottomRight=function(){return new n.math.Coordinate(this.left+this.width,this.top+this.height)},n.math.Rect.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},n.math.Rect.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},n.math.Rect.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},n.math.Rect.prototype.translate=function(e,t){return e instanceof n.math.Coordinate?(this.left+=e.x,this.top+=e.y):(this.left+=e,n.isNumber(t)&&(this.top+=t)),this},n.math.Rect.prototype.scale=function(e,t){var i=n.isNumber(t)?t:e;return this.left*=e,this.width*=e,this.top*=i,this.height*=i,this},n.dom.vendor={},n.dom.vendor.getVendorJsPrefix=function(){return n.userAgent.WEBKIT?"Webkit":n.userAgent.GECKO?"Moz":n.userAgent.IE?"ms":n.userAgent.OPERA?"O":null},n.dom.vendor.getVendorPrefix=function(){return n.userAgent.WEBKIT?"-webkit":n.userAgent.GECKO?"-moz":n.userAgent.IE?"-ms":n.userAgent.OPERA?"-o":null},n.dom.vendor.getPrefixedPropertyName=function(e,t){if(t&&e in t)return e;var i=n.dom.vendor.getVendorJsPrefix();return i?(i=i.toLowerCase(),i+=n.string.toTitleCase(e),!n.isDef(t)||i in t?i:null):null},n.dom.vendor.getPrefixedEventType=function(e){return((n.dom.vendor.getVendorJsPrefix()||"")+e).toLowerCase()},n.style={},n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS=!1,n.style.setStyle=function(e,t,i){n.isString(t)?n.style.setStyle_(e,i,t):n.object.forEach(t,n.partial(n.style.setStyle_,e))},n.style.setStyle_=function(e,t,i){(i=n.style.getVendorJsStyleName_(e,i))&&(e.style[i]=t)},n.style.getVendorJsStyleName_=function(e,t){var i=n.string.toCamelCase(t);if(void 0===e.style[i]){var r=n.dom.vendor.getVendorJsPrefix()+n.string.toTitleCase(i);if(void 0!==e.style[r])return r}return i},n.style.getVendorStyleName_=function(e,t){var i=n.string.toCamelCase(t);return void 0===e.style[i]&&(i=n.dom.vendor.getVendorJsPrefix()+n.string.toTitleCase(i),void 0!==e.style[i])?n.dom.vendor.getVendorPrefix()+"-"+t:t},n.style.getStyle=function(e,t){var i=e.style[n.string.toCamelCase(t)];return void 0!==i?i:e.style[n.style.getVendorJsStyleName_(e,t)]||""},n.style.getComputedStyle=function(e,t){var i=n.dom.getOwnerDocument(e);return i.defaultView&&i.defaultView.getComputedStyle&&(i=i.defaultView.getComputedStyle(e,null))?i[t]||i.getPropertyValue(t)||"":""},n.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},n.style.getStyle_=function(e,t){return n.style.getComputedStyle(e,t)||n.style.getCascadedStyle(e,t)||e.style&&e.style[t]},n.style.getComputedBoxSizing=function(e){return n.style.getStyle_(e,"boxSizing")||n.style.getStyle_(e,"MozBoxSizing")||n.style.getStyle_(e,"WebkitBoxSizing")||null},n.style.getComputedPosition=function(e){return n.style.getStyle_(e,"position")},n.style.getBackgroundColor=function(e){return n.style.getStyle_(e,"backgroundColor")},n.style.getComputedOverflowX=function(e){return n.style.getStyle_(e,"overflowX")},n.style.getComputedOverflowY=function(e){return n.style.getStyle_(e,"overflowY")},n.style.getComputedZIndex=function(e){return n.style.getStyle_(e,"zIndex")},n.style.getComputedTextAlign=function(e){return n.style.getStyle_(e,"textAlign")},n.style.getComputedCursor=function(e){return n.style.getStyle_(e,"cursor")},n.style.getComputedTransform=function(e){var t=n.style.getVendorStyleName_(e,"transform");return n.style.getStyle_(e,t)||n.style.getStyle_(e,"transform")},n.style.setPosition=function(e,t,i){var r,o=n.userAgent.GECKO&&(n.userAgent.MAC||n.userAgent.X11)&&n.userAgent.isVersionOrHigher("1.9");t instanceof n.math.Coordinate?(r=t.x,t=t.y):(r=t,t=i),e.style.left=n.style.getPixelStyleValue_(r,o),e.style.top=n.style.getPixelStyleValue_(t,o)},n.style.getPosition=function(e){return new n.math.Coordinate(e.offsetLeft,e.offsetTop)},n.style.getClientViewportElement=function(e){return e=e?n.dom.getOwnerDocument(e):n.dom.getDocument(),!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9)||n.dom.getDomHelper(e).isCss1CompatMode()?e.documentElement:e.body},n.style.getViewportPageOffset=function(e){var t=e.body;return e=e.documentElement,new n.math.Coordinate(t.scrollLeft||e.scrollLeft,t.scrollTop||e.scrollTop)},n.style.getBoundingClientRect_=function(e){var t;try{t=e.getBoundingClientRect()}catch(e){return{left:0,top:0,right:0,bottom:0}}return n.userAgent.IE&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t},n.style.getOffsetParent=function(e){if(n.userAgent.IE&&!n.userAgent.isDocumentModeOrHigher(8))return e.offsetParent;var t=n.dom.getOwnerDocument(e),i=n.style.getStyle_(e,"position"),r="fixed"==i||"absolute"==i;for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(i=n.style.getStyle_(e,"position"),!(r=r&&"static"==i&&e!=t.documentElement&&e!=t.body)&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight||"fixed"==i||"absolute"==i||"relative"==i))return e;return null},n.style.getVisibleRectForElement=function(e){for(var t=new n.math.Box(0,1/0,1/0,0),i=n.dom.getDomHelper(e),r=i.getDocument().body,o=i.getDocument().documentElement,s=i.getDocumentScrollElement();e=n.style.getOffsetParent(e);)if(!(n.userAgent.IE&&0==e.clientWidth||n.userAgent.WEBKIT&&0==e.clientHeight&&e==r)&&e!=r&&e!=o&&"visible"!=n.style.getStyle_(e,"overflow")){var a=n.style.getPageOffset(e),l=n.style.getClientLeftTop(e);a.x+=l.x,a.y+=l.y,t.top=Math.max(t.top,a.y),t.right=Math.min(t.right,a.x+e.clientWidth),t.bottom=Math.min(t.bottom,a.y+e.clientHeight),t.left=Math.max(t.left,a.x)}return r=s.scrollLeft,s=s.scrollTop,t.left=Math.max(t.left,r),t.top=Math.max(t.top,s),i=i.getViewportSize(),t.right=Math.min(t.right,r+i.width),t.bottom=Math.min(t.bottom,s+i.height),0<=t.top&&0<=t.left&&t.bottom>t.top&&t.right>t.left?t:null},n.style.getContainerOffsetToScrollInto=function(e,t,i){var r=n.style.getPageOffset(e),o=n.style.getPageOffset(t),s=n.style.getBorderBox(t),a=r.x-o.x-s.left,r=r.y-o.y-s.top,o=t.clientWidth-e.offsetWidth;return e=t.clientHeight-e.offsetHeight,s=t.scrollLeft,t=t.scrollTop,i?(s+=a-o/2,t+=r-e/2):(s+=Math.min(a,Math.max(a-o,0)),t+=Math.min(r,Math.max(r-e,0))),new n.math.Coordinate(s,t)},n.style.scrollIntoContainerView=function(e,t,i){e=n.style.getContainerOffsetToScrollInto(e,t,i),t.scrollLeft=e.x,t.scrollTop=e.y},n.style.getClientLeftTop=function(e){if(n.userAgent.GECKO&&!n.userAgent.isVersionOrHigher("1.9")){var t=parseFloat(n.style.getComputedStyle(e,"borderLeftWidth"));if(n.style.isRightToLeft(e))var i=e.offsetWidth-e.clientWidth-t-parseFloat(n.style.getComputedStyle(e,"borderRightWidth")),t=t+i;return new n.math.Coordinate(t,parseFloat(n.style.getComputedStyle(e,"borderTopWidth")))}return new n.math.Coordinate(e.clientLeft,e.clientTop)},n.style.getPageOffset=function(e){var t,i=n.dom.getOwnerDocument(e),r=n.style.getStyle_(e,"position");n.asserts.assertObject(e,"Parameter is required");var o=!n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS&&n.userAgent.GECKO&&i.getBoxObjectFor&&!e.getBoundingClientRect&&"absolute"==r&&(t=i.getBoxObjectFor(e))&&(0>t.screenX||0>t.screenY),s=new n.math.Coordinate(0,0),a=n.style.getClientViewportElement(i);if(e==a)return s;if(n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS||e.getBoundingClientRect)t=n.style.getBoundingClientRect_(e),e=n.dom.getDomHelper(i).getDocumentScroll(),s.x=t.left+e.x,s.y=t.top+e.y;else if(i.getBoxObjectFor&&!o)t=i.getBoxObjectFor(e),e=i.getBoxObjectFor(a),s.x=t.screenX-e.screenX,s.y=t.screenY-e.screenY;else{t=e;do{if(s.x+=t.offsetLeft,s.y+=t.offsetTop,t!=e&&(s.x+=t.clientLeft||0,s.y+=t.clientTop||0),n.userAgent.WEBKIT&&"fixed"==n.style.getComputedPosition(t)){s.x+=i.body.scrollLeft,s.y+=i.body.scrollTop;break}t=t.offsetParent}while(t&&t!=e);for((n.userAgent.OPERA||n.userAgent.WEBKIT&&"absolute"==r)&&(s.y-=i.body.offsetTop),t=e;(t=n.style.getOffsetParent(t))&&t!=i.body&&t!=a;)s.x-=t.scrollLeft,n.userAgent.OPERA&&"TR"==t.tagName||(s.y-=t.scrollTop)}return s},n.style.getPageOffsetLeft=function(e){return n.style.getPageOffset(e).x},n.style.getPageOffsetTop=function(e){return n.style.getPageOffset(e).y},n.style.getFramedPageOffset=function(e,t){var i=new n.math.Coordinate(0,0),r=n.dom.getWindow(n.dom.getOwnerDocument(e)),o=e;do{var s=r==t?n.style.getPageOffset(o):n.style.getClientPositionForElement_(n.asserts.assert(o));i.x+=s.x,i.y+=s.y}while(r&&r!=t&&(o=r.frameElement)&&(r=r.parent));return i},n.style.translateRectForAnotherFrame=function(e,t,i){if(t.getDocument()!=i.getDocument()){var r=t.getDocument().body;i=n.style.getFramedPageOffset(r,i.getWindow()),i=n.math.Coordinate.difference(i,n.style.getPageOffset(r)),n.userAgent.IE&&!t.isCss1CompatMode()&&(i=n.math.Coordinate.difference(i,t.getDocumentScroll())),e.left+=i.x,e.top+=i.y}},n.style.getRelativePosition=function(e,t){var i=n.style.getClientPosition(e),r=n.style.getClientPosition(t);return new n.math.Coordinate(i.x-r.x,i.y-r.y)},n.style.getClientPositionForElement_=function(e){var t;if(n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS||e.getBoundingClientRect)t=n.style.getBoundingClientRect_(e),t=new n.math.Coordinate(t.left,t.top);else{t=n.dom.getDomHelper(e).getDocumentScroll();var i=n.style.getPageOffset(e);t=new n.math.Coordinate(i.x-t.x,i.y-t.y)}return n.userAgent.GECKO&&!n.userAgent.isVersionOrHigher(12)?n.math.Coordinate.sum(t,n.style.getCssTranslation(e)):t},n.style.getClientPosition=function(e){if(n.asserts.assert(e),e.nodeType==n.dom.NodeType.ELEMENT)return n.style.getClientPositionForElement_(e);var t=n.isFunction(e.getBrowserEvent),i=e;return e.targetTouches?i=e.targetTouches[0]:t&&e.getBrowserEvent().targetTouches&&(i=e.getBrowserEvent().targetTouches[0]),new n.math.Coordinate(i.clientX,i.clientY)},n.style.setPageOffset=function(e,t,i){var r=n.style.getPageOffset(e);t instanceof n.math.Coordinate&&(i=t.y,t=t.x),n.style.setPosition(e,e.offsetLeft+(t-r.x),e.offsetTop+(i-r.y))},n.style.setSize=function(e,t,i){if(t instanceof n.math.Size)i=t.height,t=t.width;else if(void 0==i)throw Error("missing height argument");n.style.setWidth(e,t),n.style.setHeight(e,i)},n.style.getPixelStyleValue_=function(e,t){return"number"==typeof e&&(e=(t?Math.round(e):e)+"px"),e},n.style.setHeight=function(e,t){e.style.height=n.style.getPixelStyleValue_(t,!0)},n.style.setWidth=function(e,t){e.style.width=n.style.getPixelStyleValue_(t,!0)},n.style.getSize=function(e){return n.style.evaluateWithTemporaryDisplay_(n.style.getSizeWithDisplay_,e)},n.style.evaluateWithTemporaryDisplay_=function(e,t){if("none"!=n.style.getStyle_(t,"display"))return e(t);var i=t.style,r=i.display,o=i.visibility,s=i.position;i.visibility="hidden",i.position="absolute",i.display="inline";var a=e(t);return i.display=r,i.position=s,i.visibility=o,a},n.style.getSizeWithDisplay_=function(e){var t=e.offsetWidth,i=e.offsetHeight,r=n.userAgent.WEBKIT&&!t&&!i;return n.isDef(t)&&!r||!e.getBoundingClientRect?new n.math.Size(t,i):(e=n.style.getBoundingClientRect_(e),new n.math.Size(e.right-e.left,e.bottom-e.top))},n.style.getTransformedSize=function(e){return e.getBoundingClientRect?(e=n.style.evaluateWithTemporaryDisplay_(n.style.getBoundingClientRect_,e),new n.math.Size(e.right-e.left,e.bottom-e.top)):null},n.style.getBounds=function(e){var t=n.style.getPageOffset(e);return e=n.style.getSize(e),new n.math.Rect(t.x,t.y,e.width,e.height)},n.style.toCamelCase=function(e){return n.string.toCamelCase(String(e))},n.style.toSelectorCase=function(e){return n.string.toSelectorCase(e)},n.style.getOpacity=function(e){var t=e.style;return e="","opacity"in t?e=t.opacity:"MozOpacity"in t?e=t.MozOpacity:"filter"in t&&(t=t.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(e=String(t[1]/100)),""==e?e:Number(e)},n.style.setOpacity=function(e,t){var n=e.style;"opacity"in n?n.opacity=t:"MozOpacity"in n?n.MozOpacity=t:"filter"in n&&(n.filter=""===t?"":"alpha(opacity="+100*t+")")},n.style.setTransparentBackgroundImage=function(e,t){var i=e.style;n.userAgent.IE&&!n.userAgent.isVersionOrHigher("8")?i.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+t+'", sizingMethod="crop")':(i.backgroundImage="url("+t+")",i.backgroundPosition="top left",i.backgroundRepeat="no-repeat")},n.style.clearTransparentBackgroundImage=function(e){e=e.style,"filter"in e?e.filter="":e.backgroundImage="none"},n.style.showElement=function(e,t){n.style.setElementShown(e,t)},n.style.setElementShown=function(e,t){e.style.display=t?"":"none"},n.style.isElementShown=function(e){return"none"!=e.style.display},n.style.installStyles=function(e,t){var i=n.dom.getDomHelper(t),r=null,o=i.getDocument();return n.userAgent.IE&&o.createStyleSheet?(r=o.createStyleSheet(),n.style.setStyles(r,e)):(o=i.getElementsByTagNameAndClass("head")[0],o||(r=i.getElementsByTagNameAndClass("body")[0],o=i.createDom("head"),r.parentNode.insertBefore(o,r)),r=i.createDom("style"),n.style.setStyles(r,e),i.appendChild(o,r)),r},n.style.uninstallStyles=function(e){n.dom.removeNode(e.ownerNode||e.owningElement||e)},n.style.setStyles=function(e,t){n.userAgent.IE&&n.isDef(e.cssText)?e.cssText=t:e.innerHTML=t},n.style.setPreWrap=function(e){e=e.style,n.userAgent.IE&&!n.userAgent.isVersionOrHigher("8")?(e.whiteSpace="pre",e.wordWrap="break-word"):e.whiteSpace=n.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},n.style.setInlineBlock=function(e){e=e.style,e.position="relative",n.userAgent.IE&&!n.userAgent.isVersionOrHigher("8")?(e.zoom="1",e.display="inline"):e.display=n.userAgent.GECKO?n.userAgent.isVersionOrHigher("1.9a")?"inline-block":"-moz-inline-box":"inline-block"},n.style.isRightToLeft=function(e){return"rtl"==n.style.getStyle_(e,"direction")},n.style.unselectableStyle_=n.userAgent.GECKO?"MozUserSelect":n.userAgent.WEBKIT?"WebkitUserSelect":null,n.style.isUnselectable=function(e){return n.style.unselectableStyle_?"none"==e.style[n.style.unselectableStyle_].toLowerCase():!(!n.userAgent.IE&&!n.userAgent.OPERA)&&"on"==e.getAttribute("unselectable")},n.style.setUnselectable=function(e,t,i){i=i?null:e.getElementsByTagName("*");var r=n.style.unselectableStyle_;if(r){if(t=t?"none":"",e.style[r]=t,i){e=0;for(var o;o=i[e];e++)o.style[r]=t}}else if((n.userAgent.IE||n.userAgent.OPERA)&&(t=t?"on":"",e.setAttribute("unselectable",t),i))for(e=0;o=i[e];e++)o.setAttribute("unselectable",t)},n.style.getBorderBoxSize=function(e){return new n.math.Size(e.offsetWidth,e.offsetHeight)},n.style.setBorderBoxSize=function(e,t){var i=n.dom.getOwnerDocument(e),r=n.dom.getDomHelper(i).isCss1CompatMode();if(!n.userAgent.IE||r&&n.userAgent.isVersionOrHigher("8"))n.style.setBoxSizingSize_(e,t,"border-box");else if(i=e.style,r){var r=n.style.getPaddingBox(e),o=n.style.getBorderBox(e);i.pixelWidth=t.width-o.left-r.left-r.right-o.right,i.pixelHeight=t.height-o.top-r.top-r.bottom-o.bottom}else i.pixelWidth=t.width,i.pixelHeight=t.height},n.style.getContentBoxSize=function(e){var t=n.dom.getOwnerDocument(e),i=n.userAgent.IE&&e.currentStyle;return i&&n.dom.getDomHelper(t).isCss1CompatMode()&&"auto"!=i.width&&"auto"!=i.height&&!i.boxSizing?(t=n.style.getIePixelValue_(e,i.width,"width","pixelWidth"),e=n.style.getIePixelValue_(e,i.height,"height","pixelHeight"),new n.math.Size(t,e)):(i=n.style.getBorderBoxSize(e),t=n.style.getPaddingBox(e),e=n.style.getBorderBox(e),new n.math.Size(i.width-e.left-t.left-t.right-e.right,i.height-e.top-t.top-t.bottom-e.bottom))},n.style.setContentBoxSize=function(e,t){var i=n.dom.getOwnerDocument(e),r=n.dom.getDomHelper(i).isCss1CompatMode();if(!n.userAgent.IE||r&&n.userAgent.isVersionOrHigher("8"))n.style.setBoxSizingSize_(e,t,"content-box");else if(i=e.style,r)i.pixelWidth=t.width,i.pixelHeight=t.height;else{var r=n.style.getPaddingBox(e),o=n.style.getBorderBox(e);i.pixelWidth=t.width+o.left+r.left+r.right+o.right,i.pixelHeight=t.height+o.top+r.top+r.bottom+o.bottom}},n.style.setBoxSizingSize_=function(e,t,i){e=e.style,n.userAgent.GECKO?e.MozBoxSizing=i:n.userAgent.WEBKIT?e.WebkitBoxSizing=i:e.boxSizing=i,e.width=Math.max(t.width,0)+"px",e.height=Math.max(t.height,0)+"px"},n.style.getIePixelValue_=function(e,t,n,i){if(/^\d+px?$/.test(t))return parseInt(t,10);var r=e.style[n],o=e.runtimeStyle[n];return e.runtimeStyle[n]=e.currentStyle[n],e.style[n]=t,t=e.style[i],e.style[n]=r,e.runtimeStyle[n]=o,t},n.style.getIePixelDistance_=function(e,t){var i=n.style.getCascadedStyle(e,t);return i?n.style.getIePixelValue_(e,i,"left","pixelLeft"):0},n.style.getBox_=function(e,t){if(n.userAgent.IE){var i=n.style.getIePixelDistance_(e,t+"Left"),r=n.style.getIePixelDistance_(e,t+"Right"),o=n.style.getIePixelDistance_(e,t+"Top"),s=n.style.getIePixelDistance_(e,t+"Bottom");return new n.math.Box(o,r,s,i)}return i=n.style.getComputedStyle(e,t+"Left"),r=n.style.getComputedStyle(e,t+"Right"),o=n.style.getComputedStyle(e,t+"Top"),s=n.style.getComputedStyle(e,t+"Bottom"),new n.math.Box(parseFloat(o),parseFloat(r),parseFloat(s),parseFloat(i))},n.style.getPaddingBox=function(e){return n.style.getBox_(e,"padding")},n.style.getMarginBox=function(e){return n.style.getBox_(e,"margin")},n.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},n.style.getIePixelBorder_=function(e,t){if("none"==n.style.getCascadedStyle(e,t+"Style"))return 0;var i=n.style.getCascadedStyle(e,t+"Width");return i in n.style.ieBorderWidthKeywords_?n.style.ieBorderWidthKeywords_[i]:n.style.getIePixelValue_(e,i,"left","pixelLeft")},n.style.getBorderBox=function(e){if(n.userAgent.IE&&!n.userAgent.isDocumentModeOrHigher(9)){var t=n.style.getIePixelBorder_(e,"borderLeft"),i=n.style.getIePixelBorder_(e,"borderRight"),r=n.style.getIePixelBorder_(e,"borderTop");return e=n.style.getIePixelBorder_(e,"borderBottom"),new n.math.Box(r,i,e,t)}return t=n.style.getComputedStyle(e,"borderLeftWidth"),i=n.style.getComputedStyle(e,"borderRightWidth"),r=n.style.getComputedStyle(e,"borderTopWidth"),e=n.style.getComputedStyle(e,"borderBottomWidth"),new n.math.Box(parseFloat(r),parseFloat(i),parseFloat(e),parseFloat(t))},n.style.getFontFamily=function(e){var t=n.dom.getOwnerDocument(e),i="";if(t.body.createTextRange&&n.dom.contains(t,e)){t=t.body.createTextRange(),t.moveToElementText(e);try{i=t.queryCommandValue("FontName")}catch(e){i=""}}return i||(i=n.style.getStyle_(e,"fontFamily")),e=i.split(","),1<e.length&&(i=e[0]),n.string.stripQuotes(i,"\"'")},n.style.lengthUnitRegex_=/[^\d]+$/,n.style.getLengthUnits=function(e){return(e=e.match(n.style.lengthUnitRegex_))&&e[0]||null},n.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,in:1,mm:1,pc:1,pt:1},n.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},n.style.getFontSize=function(e){var t=n.style.getStyle_(e,"fontSize"),i=n.style.getLengthUnits(t);if(t&&"px"==i)return parseInt(t,10);if(n.userAgent.IE){if(i in n.style.ABSOLUTE_CSS_LENGTH_UNITS_)return n.style.getIePixelValue_(e,t,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==n.dom.NodeType.ELEMENT&&i in n.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return e=e.parentNode,i=n.style.getStyle_(e,"fontSize"),n.style.getIePixelValue_(e,t==i?"1em":t,"left","pixelLeft")}return i=n.dom.createDom("span",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"}),n.dom.appendChild(e,i),t=i.offsetHeight,n.dom.removeNode(i),t},n.style.parseStyleAttribute=function(e){var t={};return n.array.forEach(e.split(/\s*;\s*/),function(e){e=e.split(/\s*:\s*/),2==e.length&&(t[n.string.toCamelCase(e[0].toLowerCase())]=e[1])}),t},n.style.toStyleAttribute=function(e){var t=[];return n.object.forEach(e,function(e,i){t.push(n.string.toSelectorCase(i),":",e,";")}),t.join("")},n.style.setFloat=function(e,t){e.style[n.userAgent.IE?"styleFloat":"cssFloat"]=t},n.style.getFloat=function(e){return e.style[n.userAgent.IE?"styleFloat":"cssFloat"]||""},n.style.getScrollbarWidth=function(e){var t=n.dom.createElement("div");return e&&(t.className=e),t.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px",e=n.dom.createElement("div"),n.style.setSize(e,"200px","200px"),t.appendChild(e),n.dom.appendChild(n.dom.getDocument().body,t),e=t.offsetWidth-t.clientWidth,n.dom.removeNode(t),e},n.style.MATRIX_TRANSLATION_REGEX_=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/,n.style.getCssTranslation=function(e){return e=n.style.getComputedTransform(e),e&&(e=e.match(n.style.MATRIX_TRANSLATION_REGEX_))?new n.math.Coordinate(parseFloat(e[1]),parseFloat(e[2])):new n.math.Coordinate(0,0)},i.vml=function(){},i.vml.browserEnabled=!1,i.vml.initVmlRendering=function(){i.vml.browserEnabled||(n.style.installStyles(".xrx-vml{behavior:url(#default#VML);display:inline-block}"),i.vml.browserEnabled=!0)},i.vml.createFillAndCo=function(e){var t=document.createElement("xrxvml:fill"),i=document.createElement("xrxvml:stroke"),r=document.createElement("xrxvml:skew");t.setAttribute("class","xrx-vml"),i.setAttribute("class","xrx-vml"),r.setAttribute("class","xrx-vml"),n.dom.appendChild(e,t),n.dom.appendChild(e,i),n.dom.appendChild(e,r)},i.vml.createElement=function(e,t){var n;return!document.namespaces.xrxvml&&document.namespaces.add("xrxvml","urn:schemas-microsoft-com:vml"),n=document.createElement("xrxvml:"+e),n.setAttribute("class","xrx-vml"),!1!==t&&i.vml.createFillAndCo(n),n},i.vml.setPath=function(e,t,n){for(var i="m ",r=0,o=t.length;r<o;r++)i+=t[r][0]+","+t[r][1],0!==r&&r!==o-1&&(i+=", "),0===r&&(i+=" l ");n&&(i+=" x "),e.path=i+" e"},i.engine.Element=function(){n.Disposable.call(this)},n.inherits(i.engine.Element,n.Disposable),i.engine.Element.prototype.startDrawing=function(){},i.engine.Element.prototype.finishDrawing=function(){},i.engine.Element.prototype.disposeInternal=function(){i.engine.Element.superClass_.disposeInternal.call(this)},i.vml.Element=function(e){i.engine.Element.call(this),this.element_=e},n.inherits(i.vml.Element,i.engine.Element),i.vml.Element.prototype.getElement=function(){return this.element_},i.vml.Element.prototype.applyTransform=function(e){e&&(e=e.m00_+","+e.m10_+","+e.m01_+","+e.m11_+","+e.m02_+","+e.m12_,console.log(e),this.element_.setAttribute("matrix",e))},i.vml.Stylable=function(e){i.vml.Element.call(this,e),e=n.dom.getChildren(e),this.fill_=e[0],this.stroke_=e[1],this.skew_=e[2]},n.inherits(i.vml.Stylable,i.vml.Element),i.vml.Stylable.prototype.strokeAndFill_=function(e,t,n,i){void 0!==e&&this.setFillColor(e),void 0!==t&&this.setFillOpacity(t),void 0!==n&&this.setStrokeColor(n),void 0!==i&&this.setStrokeWidth(i)},i.vml.Stylable.prototype.setStrokeWidth=function(e){this.stroke_.weight=""+e},i.vml.Stylable.prototype.setStrokeColor=function(e){this.stroke_.color=""+e},i.vml.Stylable.prototype.setFillColor=function(e){this.fill_.color=""+e},i.vml.Stylable.prototype.setFillOpacity=function(e){this.fill_.opacity=""+e},i.vml.Rect=function(e){i.vml.Stylable.call(this,e)},n.inherits(i.vml.Rect,i.vml.Stylable),i.vml.Rect.prototype.setX=function(e){this.element_.style.left=e+"px"},i.vml.Rect.prototype.setY=function(e){this.element_.style.top=e+"px"},i.vml.Rect.prototype.setWidth=function(e){this.element_.style.width=e+"px"},i.vml.Rect.prototype.setHeight=function(e){this.element_.style.height=e+"px"},i.vml.Rect.prototype.draw=function(e,t,n,i,r,o,s,a){void 0!==e&&this.setX(e),void 0!==t&&this.setY(t),void 0!==n&&this.setWidth(n),void 0!==i&&this.setHeight(i),this.strokeAndFill_(r,o,s,a)},i.vml.Rect.create=function(e){return e=i.vml.createElement("rect"),e.style.position="absolute",new i.vml.Rect(e)},i.canvas=function(){},i.canvas.Element=function(e){i.engine.Element.call(this),this.canvas_=e,this.context_=this.canvas_.getElement().getContext("2d")},n.inherits(i.canvas.Element,i.engine.Element),i.canvas.Element.prototype.getCanvas=function(){return this.canvas_},i.canvas.Element.prototype.getContext=function(){return this.context_},i.canvas.Element.prototype.applyTransform=function(e){e&&this.context_.setTransform(e.m00_,e.m10_,e.m01_,e.m11_,e.m02_,e.m12_)},i.canvas.Element.prototype.disposeInternal=function(){this.canvas_.dispose(),this.context_=null,i.canvas.Element.superClass_.disposeInternal.call(this)},i.canvas.Stylable=function(e){i.canvas.Element.call(this,e)},n.inherits(i.canvas.Stylable,i.canvas.Element),i.canvas.Stylable.prototype.strokeAndFill_=function(e,t,n,i){this.context_.fillStyle=e,this.context_.globalAlpha=t,this.context_.fill(),this.context_.globalAlpha=1,this.context_.strokeStyle=n,this.context_.lineWidth=i,0<i&&this.context_.stroke()},i.canvas.Stylable.prototype.disposeInternal=function(){i.canvas.Stylable.superClass_.disposeInternal.call(this)},i.canvas.Image=function(e){i.canvas.Stylable.call(this,e)},n.inherits(i.canvas.Image,i.canvas.Stylable),i.canvas.Image.prototype.draw=function(e){e&&this.context_.drawImage(e,0,0,e.width,e.height)},i.canvas.Image.create=function(e){return new i.canvas.Image(e)},i.canvas.Image.prototype.disposeInternal=function(){i.canvas.Image.superClass_.disposeInternal.call(this)},i.canvas.Circle=function(e){i.canvas.Stylable.call(this,e)},n.inherits(i.canvas.Circle,i.canvas.Stylable),i.canvas.Circle.prototype.draw=function(e,t,n,i,r,o,s){this.context_.beginPath(),this.context_.arc(e,t,n,0,2*Math.PI),this.strokeAndFill_(i,r,o,s)},i.canvas.Circle.create=function(e){return new i.canvas.Circle(e)},i.canvas.Circle.prototype.disposeInternal=function(){i.canvas.Circle.superClass_.disposeInternal.call(this)},i.vml.Polyline=function(e){i.vml.Stylable.call(this,e)},n.inherits(i.vml.Polyline,i.vml.Stylable);i.vml.Polyline.prototype.setCoords=function(e){i.vml.setPath(this.element_,e)},i.vml.Polyline.prototype.draw=function(e,t,n,i,r){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,i,r)},i.vml.Polyline.create=function(e){var t=i.vml.createElement("shape");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new i.vml.Polyline(t)},i.vml.Ellipse=function(e){i.vml.Stylable.call(this,e),this.rx_,this.ry_},n.inherits(i.vml.Ellipse,i.vml.Stylable),i.vml.Ellipse.prototype.setCenter=function(e,t){var n=e-this.rx_,i=t-this.ry_;void 0!==e&&(this.element_.style.left=n+"px"),void 0!==t&&(this.element_.style.top=i+"px")},i.vml.Ellipse.prototype.setRadiusX=function(e){this.rx_=e,this.element_.style.width=2*this.rx_+"px"},i.vml.Ellipse.prototype.setRadiusY=function(e){this.ry_=e,this.element_.style.height=2*this.ry_+"px"},i.vml.Ellipse.prototype.draw=function(e,t,n,i,r,o,s,a){void 0!==n&&this.setRadiusX(n),void 0!==i&&this.setRadiusY(i),this.setCenter(e,t),this.strokeAndFill_(r,o,s,a)},i.vml.Ellipse.create=function(e){return e=i.vml.createElement("oval"),e.style.position="absolute",new i.vml.Ellipse(e)},i.canvas.Polygon=function(e){i.canvas.Stylable.call(this,e)},n.inherits(i.canvas.Polygon,i.canvas.Stylable),i.canvas.Polygon.prototype.drawPath_=function(e){if(e[0]){this.context_.beginPath(),this.context_.moveTo(e[0][0],e[0][1]);for(var t=1,n=e.length;t<n;t++)this.context_.lineTo(e[t][0],e[t][1]);this.context_.lineTo(e[0][0],e[0][1]),this.context_.closePath()}},i.canvas.Polygon.prototype.draw=function(e,t,n,i,r){this.drawPath_(e),this.strokeAndFill_(t,n,i,r)},i.canvas.Polygon.create=function(e){return new i.canvas.Polygon(e)},i.canvas.Polygon.prototype.disposeInternal=function(){i.canvas.Polygon.superClass_.disposeInternal.call(this)},i.canvas.Container=function(e){i.canvas.Element.call(this,e),this.childs_=[]},n.inherits(i.canvas.Container,i.canvas.Element),i.canvas.Container.prototype.addChild=function(e){this.childs_.push(e)},i.canvas.Container.prototype.getChildren=function(){return this.childs_},i.canvas.Container.prototype.removeChildren=function(){this.childs_=[]},i.canvas.Container.prototype.removeChildAt=function(e){this.childs_.splice(e,1)},i.canvas.Container.prototype.disposeInternal=function(){for(var e;e=this.childs_.pop();)e.dispose();this.childs_=null,i.canvas.Container.superClass_.disposeInternal.call(this)},i.canvas.Canvas=function(e){this.element_=e,this.height_=this.width_=0,i.canvas.Container.call(this,this)},n.inherits(i.canvas.Canvas,i.canvas.Container),i.canvas.Canvas.prototype.getElement=function(){return this.element_},i.canvas.Canvas.prototype.getEventTarget=function(){return this.element_},i.canvas.Canvas.prototype.getWidth=function(){return this.width_},i.canvas.Canvas.prototype.setWidth=function(e){this.width_=e,this.element_.setAttribute("width",e)},i.canvas.Canvas.prototype.getHeight=function(){return this.height_},i.canvas.Canvas.prototype.setHeight=function(e){this.height_=e,this.element_.setAttribute("height",e)},i.canvas.Canvas.prototype.startDrawing=function(){this.context_.save(),this.context_.clearRect(0,0,this.width_,this.height_),this.context_.beginPath()},i.canvas.Canvas.prototype.finishDrawing=function(){this.context_.closePath(),this.context_.restore()},i.canvas.Canvas.create=function(e){return e=n.dom.createElement("canvas"),new i.canvas.Canvas(e)},i.canvas.Canvas.prototype.disposeInternal=function(){n.dom.removeNode(this.element_),this.element_=null,i.canvas.Canvas.superClass_.disposeInternal.call(this)},i.canvas.Group=function(e){i.canvas.Container.call(this,e)},n.inherits(i.canvas.Group,i.canvas.Container),i.canvas.Group.create=function(e){return new i.canvas.Group(e)},i.canvas.Group.prototype.disposeInternal=function(){i.canvas.Group.superClass_.disposeInternal.call(this)},i.svg=function(){},i.svg.Namespace={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},i.svg.isSupported=function(){return!!document.createElementNS&&!!document.createElementNS(i.svg.Namespace.svg,"svg").createSVGRect},i.svg.setCoords=function(e,t){for(var n="",i=0,r=t.length;i<r;i++)n+=Math.round(t[i][0])+","+Math.round(t[i][1])+" ";e.setAttribute("points",n)},i.svg.Element=function(e){i.engine.Element.call(this),this.element_=e},n.inherits(i.svg.Element,i.engine.Element),i.svg.Element.prototype.getElement=function(){return this.element_},i.svg.Element.prototype.applyTransform=function(e){e&&this.element_.setAttribute("transform","matrix("+e.m00_+","+e.m10_+","+e.m01_+","+e.m11_+","+e.m02_+","+e.m12_+")")},i.svg.Element.prototype.disposeInternal=function(){n.dom.removeNode(this.element_),this.element_=this.element_.style=null,i.svg.Element.superClass_.disposeInternal.call(this)},i.svg.Stylable=function(e){i.svg.Element.call(this,e)},n.inherits(i.svg.Stylable,i.svg.Element),i.svg.Stylable.prototype.strokeAndFill_=function(e,t,n,i){void 0!==e&&this.setFillColor(e),void 0!==t&&this.setFillOpacity(t),void 0!==n&&this.setStrokeColor(n),void 0!==i&&this.setStrokeWidth(i)},i.svg.Stylable.prototype.setStrokeWidth=function(e){this.element_.setAttribute("stroke-width",Math.round(e))},i.svg.Stylable.prototype.setStrokeColor=function(e){this.element_.setAttribute("stroke",e),this.element_.setAttribute("stroke-color",e)},i.svg.Stylable.prototype.setFillColor=function(e){this.element_.setAttribute("fill",e)},i.svg.Stylable.prototype.setFillOpacity=function(e){this.element_.setAttribute("fill-opacity",e)},i.svg.Stylable.prototype.disposeInternal=function(){i.svg.Stylable.superClass_.disposeInternal.call(this)},i.svg.Line=function(e){i.svg.Stylable.call(this,e)},n.inherits(i.svg.Line,i.svg.Stylable),i.svg.Line.prototype.setCoords=function(e,t,n,i){void 0!==e&&this.element_.setAttribute("x1",e),void 0!==t&&this.element_.setAttribute("y1",t),void 0!==n&&this.element_.setAttribute("x2",n),void 0!==i&&this.element_.setAttribute("y2",i)},i.svg.Line.prototype.draw=function(e,t,n,i,r,o){this.setCoords(e,t,n,i),this.strokeAndFill_(void 0,void 0,r,o)},i.svg.Line.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"line"),new i.svg.Line(e)},i.svg.Line.prototype.disposeInternal=function(){i.svg.Line.superClass_.disposeInternal.call(this)},i.canvas.Rect=function(e){i.canvas.Stylable.call(this,e)},n.inherits(i.canvas.Rect,i.canvas.Stylable),i.canvas.Rect.prototype.drawPath_=function(e,t,n,i){this.context_.beginPath(),this.context_.moveTo(e,t),this.context_.lineTo(e+n,t),this.context_.lineTo(e+n,t+i),this.context_.lineTo(e,t+i),this.context_.closePath()},i.canvas.Rect.prototype.draw=function(e,t,n,i,r,o,s,a){this.drawPath_(e,t,n,i),this.strokeAndFill_(r,o,s,a)},i.canvas.Rect.create=function(e){return new i.canvas.Rect(e)},i.canvas.Rect.prototype.disposeInternal=function(){i.canvas.Rect.superClass_.disposeInternal.call(this)},i.canvas.Polyline=function(e){i.canvas.Stylable.call(this,e)},n.inherits(i.canvas.Polyline,i.canvas.Stylable),i.canvas.Polyline.prototype.drawPath_=function(e){this.context_.beginPath(),this.context_.moveTo(e[0][0],e[0][1]);for(var t=1,n=e.length;t<n;t++)this.context_.lineTo(e[t][0],e[t][1])},i.canvas.Polyline.prototype.draw=function(e,t,n,i,r){this.drawPath_(e),this.strokeAndFill_(t,n,i,r)},i.canvas.Polyline.create=function(e){return new i.canvas.Polyline(e)},i.canvas.Polyline.prototype.disposeInternal=function(){i.canvas.Polyline.superClass_.disposeInternal.call(this)},i.vml.Image=function(e){i.vml.Stylable.call(this,e)},n.inherits(i.vml.Image,i.vml.Stylable),i.vml.Image.prototype.setImage=function(e){var t=n.style.getSize(e);this.element_.src=e.src,this.element_.style.width=t.width+"px",this.element_.style.height=t.height+"px"},i.vml.Image.prototype.draw=function(e){void 0!==e&&this.setImage(e)},i.vml.Image.create=function(e){return e=i.vml.createElement("image",!1),e.setAttribute("class","xrx-vml"),e.setAttribute("src","about:blank"),e.style.position="absolute",e.style.left="0px",e.style.top="0px",new i.vml.Image(e)},i.svg.Container=function(e){i.svg.Element.call(this,e),this.childs_=[]},n.inherits(i.svg.Container,i.svg.Element),i.svg.Container.prototype.addChild=function(e){this.childs_.push(e),n.dom.append(this.element_,e.getElement())},i.svg.Container.prototype.getChildren=function(){return this.childs_},i.svg.Container.prototype.removeChildren=function(){n.dom.removeChildren(this.element_),this.childs_=[]},i.svg.Container.prototype.removeChildAt=function(e){n.dom.removeNode(this.childs_[e].getElement()),this.childs_.splice(e,1)},i.svg.Container.prototype.disposeInternal=function(){for(var e;e=this.childs_.pop();)e.dispose();this.childs_=null,i.svg.Container.superClass_.disposeInternal.call(this)},i.svg.Canvas=function(e){i.svg.Container.call(this,e),this.height_=this.width_=0},n.inherits(i.svg.Canvas,i.svg.Container),i.svg.Canvas.prototype.getEventTarget=function(){return this.element_},i.svg.Canvas.prototype.getWidth=function(){return this.width_},i.svg.Canvas.prototype.setWidth=function(e){this.width_=e,this.element_.setAttribute("width",e)},i.svg.Canvas.prototype.getHeight=function(){return this.height_},i.svg.Canvas.prototype.setHeight=function(e){this.height_=e,this.element_.setAttribute("height",e)},i.svg.Canvas.prototype.startDrawing=function(){},i.svg.Canvas.prototype.finishDrawing=function(){},i.svg.Canvas.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"svg"),n.style.setStyle(e,"overflow","hidden"),new i.svg.Canvas(e)},i.svg.Canvas.prototype.disposeInternal=function(){i.svg.Canvas.superClass_.disposeInternal.call(this)},i.canvas.Line=function(e){i.canvas.Stylable.call(this,e)},n.inherits(i.canvas.Line,i.canvas.Stylable),i.canvas.Line.prototype.drawPath_=function(e,t,n,i){this.context_.beginPath(),this.context_.moveTo(e,t),this.context_.lineTo(n,i)},i.canvas.Line.prototype.draw=function(e,t,n,i,r,o){this.drawPath_(e,t,n,i),this.strokeAndFill_(void 0,void 0,r,o)},i.canvas.Line.create=function(e){return new i.canvas.Line(e)},i.canvas.Line.prototype.disposeInternal=function(){i.canvas.Line.superClass_.disposeInternal.call(this)},i.svg.Polygon=function(e){i.svg.Stylable.call(this,e)},n.inherits(i.svg.Polygon,i.svg.Stylable),i.svg.Polygon.prototype.setCoords=function(e){i.svg.setCoords(this.element_,e)},i.svg.Polygon.prototype.draw=function(e,t,n,i,r){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,i,r)},i.svg.Polygon.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"polygon"),new i.svg.Polygon(e)},i.svg.Polygon.prototype.disposeInternal=function(){i.svg.Polygon.superClass_.disposeInternal.call(this)},i.svg.Circle=function(e){i.svg.Stylable.call(this,e)},n.inherits(i.svg.Circle,i.svg.Stylable),i.svg.Circle.prototype.setCenter=function(e,t){void 0!==e&&this.element_.setAttribute("cx",e),void 0!==t&&this.element_.setAttribute("cy",t)},i.svg.Circle.prototype.setRadius=function(e){this.element_.setAttribute("r",e)},i.svg.Circle.prototype.draw=function(e,t,n,i,r,o,s){this.setCenter(e,t),void 0!==n&&this.setRadius(n),this.strokeAndFill_(i,r,o,s)},i.svg.Circle.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"circle"),new i.svg.Circle(e)},i.svg.Circle.prototype.disposeInternal=function(){i.svg.Circle.superClass_.disposeInternal.call(this)},i.canvas.Ellipse=function(e){i.canvas.Stylable.call(this,e)},n.inherits(i.canvas.Ellipse,i.canvas.Stylable),i.canvas.Ellipse.prototype.draw=function(e,t,n,i,r,o,s,a){if(this.context_.ellipse)this.context_.beginPath(),this.context_.ellipse(e,t,n,i,0,0,2*Math.PI,!0),this.context_.closePath();else for(var l,h,c=0;c<=2*Math.PI;c+=.01)l=e+n*Math.sin(c),h=t-i*Math.cos(c),0===c?this.context_.moveTo(l,h):this.context_.lineTo(l,h);this.strokeAndFill_(r,o,s,a)},i.canvas.Ellipse.create=function(e){return new i.canvas.Ellipse(e)},i.canvas.Ellipse.prototype.disposeInternal=function(){i.canvas.Ellipse.superClass_.disposeInternal.call(this)},i.svg.Ellipse=function(e){i.svg.Stylable.call(this,e)},n.inherits(i.svg.Ellipse,i.svg.Stylable),i.svg.Ellipse.prototype.setCenter=function(e,t){void 0!==e&&this.element_.setAttribute("cx",e),void 0!==t&&this.element_.setAttribute("cy",t)},i.svg.Ellipse.prototype.setRadiusX=function(e){this.element_.setAttribute("rx",e)},i.svg.Ellipse.prototype.setRadiusY=function(e){this.element_.setAttribute("ry",e)},i.svg.Ellipse.prototype.draw=function(e,t,n,i,r,o,s,a){this.setCenter(e,t),void 0!==n&&this.setRadiusX(n),void 0!==i&&this.setRadiusY(i),this.strokeAndFill_(r,o,s,a)},i.svg.Ellipse.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"ellipse"),new i.svg.Ellipse(e)},i.svg.Ellipse.prototype.disposeInternal=function(){i.svg.Ellipse.superClass_.disposeInternal.call(this)},i.vml.Container=function(e){i.vml.Element.call(this,e),this.childs_=[]},n.inherits(i.vml.Container,i.vml.Element),i.vml.Container.prototype.addChild=function(e){this.childs_.push(e),this.element_.appendChild(e.getElement())},i.vml.Container.prototype.getChildren=function(){return this.childs_},i.vml.Container.prototype.removeChildren=function(){n.dom.removeChildren(this.element_),this.childs_=[]},i.vml.Container.prototype.removeChildAt=function(e){n.dom.removeNode(this.childs_[e].getElement()),this.childs_.splice(e,1)},i.vml.Canvas=function(e){i.vml.Container.call(this,e),this.height_=this.width_=0},n.inherits(i.vml.Canvas,i.vml.Container),i.vml.Canvas.prototype.getEventTarget=function(){return this.element_},i.vml.Canvas.prototype.getWidth=function(){return this.width_},i.vml.Canvas.prototype.setWidth=function(e){this.width_=e,this.element_.parentElement.style.width=e+"px",this.element_.style.width=e+"px",this.element_.coordorigin="0, 0",this.element_.coordsize=this.width_+", "+this.height_},i.vml.Canvas.prototype.getHeight=function(){return this.height_},i.vml.Canvas.prototype.setHeight=function(e){this.height_=e,this.element_.parentElement.style.height=e+"px",this.element_.style.height=e+"px",this.element_.coordorigin="0, 0",this.element_.coordsize=this.width_+", "+this.height_},i.vml.Canvas.prototype.startDrawing=function(){},i.vml.Canvas.prototype.finishDrawing=function(){},i.vml.Canvas.create=function(e){i.vml.initVmlRendering();var t=n.dom.createElement("div");t.style.display="inline-block",t.style.position="relative",t.style.overflow="hidden",t.style.width="100px",t.style.height="100px";var r=i.vml.createElement("group",!1);return n.dom.appendChild(t,r),n.dom.appendChild(e,t),r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.width="100px",r.style.height="100px",new i.vml.Canvas(r)},i.vml.Polygon=function(e){i.vml.Stylable.call(this,e)},n.inherits(i.vml.Polygon,i.vml.Stylable),i.vml.Polygon.prototype.setCoords=function(e){i.vml.setPath(this.element_,e,!0)},i.vml.Polygon.prototype.draw=function(e,t,n,i,r){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,i,r)},i.vml.Polygon.create=function(e){var t=i.vml.createElement("shape");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new i.vml.Polygon(t)},i.svg.Group=function(e){i.svg.Container.call(this,e)},n.inherits(i.svg.Group,i.svg.Container),i.svg.Group.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"g"),new i.svg.Group(e)},i.svg.Group.prototype.disposeInternal=function(){i.svg.Group.superClass_.disposeInternal.call(this)},i.vml.Group=function(e){i.vml.Container.call(this,e)},n.inherits(i.vml.Group,i.vml.Container),i.vml.Group.create=function(e){var t=i.vml.createElement("group",!1);return t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new i.vml.Group(t)},i.svg.Image=function(e){i.svg.Stylable.call(this,e)},n.inherits(i.svg.Image,i.svg.Stylable),i.svg.Image.prototype.setWidth=function(e){this.element_.setAttribute("width",e)},i.svg.Image.prototype.setHeight=function(e){this.element_.setAttribute("height",e)},i.svg.Image.prototype.setImage=function(e){this.element_.setAttributeNS(i.svg.Namespace.xlink,"xlink:href",e.src)},i.svg.Image.prototype.draw=function(e){void 0!==e&&this.setImage(e)},i.svg.Image.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"image"),new i.svg.Image(e)},i.svg.Image.prototype.disposeInternal=function(){i.svg.Image.superClass_.disposeInternal.call(this)},i.vml.Circle=function(e){i.vml.Stylable.call(this,e),this.r_},n.inherits(i.vml.Circle,i.vml.Stylable),i.vml.Circle.prototype.setCenter=function(e,t,n){n=e-this.r_;var i=t-this.r_;void 0!==e&&(this.element_.style.left=n+"px"),void 0!==t&&(this.element_.style.top=i+"px")},i.vml.Circle.prototype.setRadius=function(e){this.r_=e,e=2*this.r_,this.element_.style.width=e+"px",this.element_.style.height=e+"px"},i.vml.Circle.prototype.draw=function(e,t,n,i,r,o,s){void 0!==n&&this.setRadius(n),this.setCenter(e,t,n),this.strokeAndFill_(i,r,o,s)},i.vml.Circle.create=function(e){return e=i.vml.createElement("oval"),e.style.position="absolute",new i.vml.Circle(e)},i.svg.Rect=function(e){i.svg.Stylable.call(this,e)},n.inherits(i.svg.Rect,i.svg.Stylable),i.svg.Rect.prototype.setX=function(e){this.element_.setAttribute("x",e)},i.svg.Rect.prototype.setY=function(e){this.element_.setAttribute("y",e)},i.svg.Rect.prototype.setWidth=function(e){this.element_.setAttribute("width",e)},i.svg.Rect.prototype.setHeight=function(e){this.element_.setAttribute("height",e)},i.svg.Rect.prototype.draw=function(e,t,n,i,r,o,s,a){void 0!==e&&this.setX(e),void 0!==t&&this.setY(t),void 0!==n&&this.setWidth(n),void 0!==i&&this.setHeight(i),this.strokeAndFill_(r,o,s,a)},i.svg.Rect.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"rect"),new i.svg.Rect(e)},i.svg.Rect.prototype.disposeInternal=function(){i.svg.Rect.superClass_.disposeInternal.call(this)},i.svg.Polyline=function(e){i.svg.Stylable.call(this,e)},n.inherits(i.svg.Polyline,i.svg.Stylable),i.svg.Polyline.prototype.setCoords=function(e){i.svg.setCoords(this.element_,e)},i.svg.Polyline.prototype.draw=function(e,t,n,i,r){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,i,r)},i.svg.Polyline.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"polyline"),new i.svg.Polyline(e)},i.svg.Polyline.prototype.disposeInternal=function(){i.svg.Polyline.superClass_.disposeInternal.call(this)},i.vml.Line=function(e){i.vml.Stylable.call(this,e)},n.inherits(i.vml.Line,i.vml.Stylable),i.vml.Line.prototype.setCoords=function(e){i.vml.setPath(this.element_,e,!1)},i.vml.Line.prototype.draw=function(e,t,n,i,r,o){this.setCoords([[e,t],[n,i]]),this.strokeAndFill_(void 0,void 0,r,o)},i.vml.Line.create=function(e){var t=i.vml.createElement("shape");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new i.vml.Line(t)},i.engine.Engines=function(){},i.shape.Shape=function(e){i.shape.RenderStylable.call(this,e),this.drawing_=e,this.isModifiable_=!0},n.inherits(i.shape.Shape,i.shape.RenderStylable),i.shape.Shape.prototype.getDrawing=function(){return this.drawing_},i.shape.Shape.prototype.setModifiable=function(e){this.isModifiable_=!1!==e},i.shape.Shape.prototype.isModifiable=function(){return this.isModifiable_},i.shape.Shape.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,n.dispose(this.hoverable_),this.hoverable_=null,n.dispose(this.selectable_),this.selectable_=null,n.dispose(this.modifiable_),this.modifiable_=null,n.dispose(this.creatable_),this.creatable_=null,i.shape.Shape.superClass_.disposeInternal.call(this)},i.shape.Geometry=function(e,t){i.shape.Shape.call(this,e),this.geometry_=t,this.zoomFactor_=1},n.inherits(i.shape.Geometry,i.shape.Shape);i.shape.Geometry.prototype.setZoomFactor=function(e){this.zoomFactor_=e},i.shape.Geometry.prototype.getGeometry=function(){return this.geometry_},i.shape.Geometry.prototype.setCTM=function(e){this.ctm_=e},i.shape.Geometry.prototype.getCoordsCopy=function(){for(var e=this.getCoords(),t=e.length,n=Array(t),i=0;i<t;i++)n[i]=Array(2),n[i][0]=e[i][0],n[i][1]=e[i][1];return n},i.shape.Geometry.prototype.disposeInternal=function(){n.dispose(this.geometry_),this.geometry_=null,n.dispose(this.ctm_),this.ctm_=null,i.shape.Geometry.superClass_.disposeInternal.call(this)},i.geometry=function(){},i.geometry.addCoordsX=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n][0]+=t},i.geometry.addCoordsY=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n][1]+=t},i.geometry.getBBox=function(e){for(var t,n,i={x:e[0][0],y:e[0][1],x2:e[0][0],y2:e[0][1],width:0,height:0},r=1,o=e.length;r<o;r++)t=e[r][0],n=e[r][1],t<i.x&&(i.x=t),n<i.y&&(i.y=n),t>i.x2&&(i.x2=t),n>i.y2&&(i.y2=n);return i.width=i.x2-i.x,i.height=i.y2-i.y,i},i.geometry.Geometry=function(){n.Disposable.call(this)},n.inherits(i.geometry.Geometry,n.Disposable),i.geometry.Geometry.prototype.disposeInternal=function(){i.geometry.Geometry.superClass_.disposeInternal.call(this)},i.geometry.Group=function(){i.geometry.Geometry.call(this),this.childs_=[]},n.inherits(i.geometry.Group,i.geometry.Geometry),i.geometry.Group.prototype.addChild=function(e){this.childs_.push(e)},i.geometry.Group.prototype.containsPoint=function(e){for(var t=0,n=this.childs_.length;t<n;t++)if(this.childs_[t].containsPoint(e))return!0;return!1},i.shape.Container=function(e){i.shape.Geometry.call(this,e,new i.geometry.Group),this.childs_=[]},n.inherits(i.shape.Container,i.shape.Geometry),i.shape.Container.prototype.getChildren=function(){return this.childs_},i.shape.Container.prototype.getChild=function(e){return this.childs_[e]},i.shape.Container.prototype.addChildren=function(e){n.isArray(e)||(e=[e]);for(var t=0,i=e.length;t<i;t++)this.childs_.push(e[t]),this.engineElement_.addChild(e[t].getEngineElement())},i.shape.Container.prototype.removeChildren=function(){this.childs_=[],this.engineElement_.removeChildren()},i.shape.Container.prototype.removeChildAt=function(e){this.childs_.splice(e,1),this.engineElement_.removeChildAt(e)},i.shape.Container.prototype.disposeInternal=function(){for(var e;e=this.childs_.pop();)e.dispose();this.childs_=null,i.shape.Container.superClass_.disposeInternal.call(this)},i.shape.Group=function(e){i.shape.Container.call(this,e),this.engineElement_=this.drawing_.getEngine().createGroup()},n.inherits(i.shape.Group,i.shape.Container),i.shape.Group.prototype.draw=function(){this.startDrawing_();for(var e=this.getChildren(),t=0,n=e.length;t<n;t++)e[t].draw();this.finishDrawing_()},i.shape.Group.prototype.disposeInternal=function(){i.shape.Group.superClass_.disposeInternal.call(this)},i.drawing.Layer=function(e){n.Disposable.call(this),this.drawing_=e,this.locked_=!1,this.shapes_=[],this.create_()},n.inherits(i.drawing.Layer,n.Disposable),i.drawing.Layer.prototype.getDrawing=function(){return this.drawing_},i.drawing.Layer.prototype.setLocked=function(e){this.locked_=!0===e},i.drawing.Layer.prototype.isLocked=function(){return this.locked_},i.drawing.Layer.prototype.getGroup=function(){return this.group_},i.drawing.Layer.prototype.getShapes=function(){return this.shapes_},i.drawing.Layer.prototype.draw=function(){for(var e=0,t=this.shapes_.length;e<t;e++)this.shapes_[e].draw(this.drawing_.getViewbox().getZoomValue())},i.drawing.Layer.prototype.addShapes=function(e){n.isArray(e)||(e=[e]);for(var t=0,i=e.length;t<i;t++)this.shapes_.push(e[t]);this.group_.addChildren(e)},i.drawing.Layer.prototype.removeShapes=function(){this.shapes_=[],this.group_.removeChildren()},i.drawing.Layer.prototype.removeShape=function(e){for(var t=0,n=this.shapes_.length;t<n;t++)if(this.shapes_[t]===e){this.group_.removeChildAt(t),this.shapes_.splice(t,1);break}},i.drawing.Layer.prototype.create_=function(){this.group_=new i.shape.Group(this.drawing_)},i.drawing.Layer.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,this.group_.dispose(),this.group_=null;for(var e;e=this.shapes_.pop();)e.dispose();this.shapes_=null,i.drawing.Layer.superClass_.disposeInternal.call(this)},i.drawing.LayerShapeCreate=function(e){i.drawing.Layer.call(this,e)},n.inherits(i.drawing.LayerShapeCreate,i.drawing.Layer),i.drawing.LayerShapeCreate.prototype.disposeInternal=function(){i.drawing.LayerShapeCreate.superClass_.disposeInternal.call(this)},i.drawing.LayerShape=function(e){i.drawing.Layer.call(this,e)},n.inherits(i.drawing.LayerShape,i.drawing.Layer),i.drawing.LayerShape.prototype.disposeInternal=function(){i.drawing.LayerShape.superClass_.disposeInternal.call(this)},n.events={},n.events.EventId=function(e){this.id=e},n.events.EventId.prototype.toString=function(){return this.id},n.events.Listenable=function(){},n.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),n.events.Listenable.addImplementation=function(e){e.prototype[n.events.Listenable.IMPLEMENTED_BY_PROP]=!0},n.events.Listenable.isImplementedBy=function(e){return!(!e||!e[n.events.Listenable.IMPLEMENTED_BY_PROP])},n.events.ListenableKey=function(){},n.events.ListenableKey.counter_=0,n.events.ListenableKey.reserveKey=function(){return++n.events.ListenableKey.counter_},n.events.Listener=function(e,t,i,r,o,s){n.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack),this.listener=e,this.proxy=t,this.src=i,this.type=r,this.capture=!!o,this.handler=s,this.key=n.events.ListenableKey.reserveKey(),this.removed=this.callOnce=!1},n.events.Listener.ENABLE_MONITORING=!1,n.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.handler=this.src=this.proxy=this.listener=null},n.events.ListenerMap=function(e){this.src=e,this.listeners={},this.typeCount_=0},n.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},n.events.ListenerMap.prototype.getListenerCount=function(){var e,t=0;for(e in this.listeners)t+=this.listeners[e].length;return t},n.events.ListenerMap.prototype.add=function(e,t,i,r,o){var s=e.toString();(e=this.listeners[s])||(e=this.listeners[s]=[],this.typeCount_++);var a=n.events.ListenerMap.findListenerIndex_(e,t,r,o);return-1<a?(t=e[a],i||(t.callOnce=!1)):(t=new n.events.Listener(t,null,this.src,s,!!r,o),t.callOnce=i,e.push(t)),t},n.events.ListenerMap.prototype.remove=function(e,t,i,r){if(!((e=e.toString())in this.listeners))return!1;var o=this.listeners[e];return-1<(t=n.events.ListenerMap.findListenerIndex_(o,t,i,r))&&(o[t].markAsRemoved(),n.array.removeAt(o,t),0==o.length&&(delete this.listeners[e],this.typeCount_--),!0)},n.events.ListenerMap.prototype.removeByKey=function(e){var t=e.type;if(!(t in this.listeners))return!1;var i=n.array.remove(this.listeners[t],e);return i&&(e.markAsRemoved(),0==this.listeners[t].length&&(delete this.listeners[t],this.typeCount_--)),i},n.events.ListenerMap.prototype.removeAll=function(e){e=e&&e.toString();var t,n=0;for(t in this.listeners)if(!e||t==e){for(var i=this.listeners[t],r=0;r<i.length;r++)++n,i[r].markAsRemoved();delete this.listeners[t],this.typeCount_--}return n},n.events.ListenerMap.prototype.getListeners=function(e,t){var n=this.listeners[e.toString()],i=[];if(n)for(var r=0;r<n.length;++r){var o=n[r];o.capture==t&&i.push(o)}return i},n.events.ListenerMap.prototype.getListener=function(e,t,i,r){e=this.listeners[e.toString()];var o=-1;return e&&(o=n.events.ListenerMap.findListenerIndex_(e,t,i,r)),-1<o?e[o]:null},n.events.ListenerMap.prototype.hasListener=function(e,t){var i=n.isDef(e),r=i?e.toString():"",o=n.isDef(t);return n.object.some(this.listeners,function(e,n){for(var s=0;s<e.length;++s)if(!(i&&e[s].type!=r||o&&e[s].capture!=t))return!0;return!1})},n.events.ListenerMap.findListenerIndex_=function(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.removed&&o.listener==t&&o.capture==!!n&&o.handler==i)return r}return-1},n.events.BrowserFeature={HAS_W3C_BUTTON:!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:n.userAgent.IE&&!n.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!n.userAgent.WEBKIT||n.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:n.userAgent.GECKO&&n.userAgent.isVersionOrHigher("1.9b")||n.userAgent.IE&&n.userAgent.isVersionOrHigher("8")||n.userAgent.OPERA&&n.userAgent.isVersionOrHigher("9.5")||n.userAgent.WEBKIT&&n.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:n.userAgent.GECKO&&!n.userAgent.isVersionOrHigher("8")||n.userAgent.IE&&!n.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in n.global||!!(n.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!n.global.navigator||!n.global.navigator.msMaxTouchPoints)},n.debug.entryPointRegistry={},n.debug.EntryPointMonitor=function(){},n.debug.entryPointRegistry.refList_=[],n.debug.entryPointRegistry.monitors_=[],n.debug.entryPointRegistry.monitorsMayExist_=!1,n.debug.entryPointRegistry.register=function(e){if(n.debug.entryPointRegistry.refList_[n.debug.entryPointRegistry.refList_.length]=e,n.debug.entryPointRegistry.monitorsMayExist_)for(var t=n.debug.entryPointRegistry.monitors_,i=0;i<t.length;i++)e(n.bind(t[i].wrap,t[i]))},n.debug.entryPointRegistry.monitorAll=function(e){n.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=n.bind(e.wrap,e),i=0;i<n.debug.entryPointRegistry.refList_.length;i++)n.debug.entryPointRegistry.refList_[i](t);n.debug.entryPointRegistry.monitors_.push(e)},n.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=n.debug.entryPointRegistry.monitors_;n.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped."),e=n.bind(e.unwrap,e);for(var i=0;i<n.debug.entryPointRegistry.refList_.length;i++)n.debug.entryPointRegistry.refList_[i](e);t.length--},n.events.getVendorPrefixedName_=function(e){return n.userAgent.WEBKIT?"webkit"+e:n.userAgent.OPERA?"o"+e.toLowerCase():e.toLowerCase()},n.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:n.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:n.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",ANIMATIONSTART:n.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:n.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:n.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:n.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXTINPUT:"textinput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified"},n.events.Event=function(e,t){this.type=e instanceof n.events.EventId?String(e):e,this.currentTarget=this.target=t,this.defaultPrevented=this.propagationStopped_=!1,this.returnValue_=!0},n.events.Event.prototype.disposeInternal=function(){},n.events.Event.prototype.dispose=function(){},n.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},n.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},n.events.Event.stopPropagation=function(e){e.stopPropagation()},n.events.Event.preventDefault=function(e){e.preventDefault()},n.reflect={},n.reflect.object=function(e,t){return t},n.reflect.sinkValue=function(e){return n.reflect.sinkValue[" "](e),e},n.reflect.sinkValue[" "]=n.nullFunction,n.reflect.canAccessProperty=function(e,t){try{return n.reflect.sinkValue(e[t]),!0}catch(e){}return!1},n.events.BrowserEvent=function(e,t){n.events.Event.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.platformModifierKey=!1,this.event_=null,e&&this.init(e,t)},n.inherits(n.events.BrowserEvent,n.events.Event),n.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},n.events.BrowserEvent.IEButtonMap=[1,4,2],n.events.BrowserEvent.prototype.init=function(e,t){var i=this.type=e.type;this.target=e.target||e.srcElement,this.currentTarget=t;var r=e.relatedTarget;r?n.userAgent.GECKO&&(n.reflect.canAccessProperty(r,"nodeName")||(r=null)):i==n.events.EventType.MOUSEOVER?r=e.fromElement:i==n.events.EventType.MOUSEOUT&&(r=e.toElement),this.relatedTarget=r,this.offsetX=n.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=n.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0,this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==i?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=n.userAgent.MAC?e.metaKey:e.ctrlKey,this.state=e.state,this.event_=e,e.defaultPrevented&&this.preventDefault()},n.events.BrowserEvent.prototype.isButton=function(e){return n.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==n.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&n.events.BrowserEvent.IEButtonMap[e])},n.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(n.events.BrowserEvent.MouseButton.LEFT)&&!(n.userAgent.WEBKIT&&n.userAgent.MAC&&this.ctrlKey)},n.events.BrowserEvent.prototype.stopPropagation=function(){n.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},n.events.BrowserEvent.prototype.preventDefault=function(){n.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,n.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},n.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},n.events.BrowserEvent.prototype.disposeInternal=function(){},n.events.listeners_={},n.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),n.events.onString_="on",n.events.onStringMap_={},n.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},n.events.CAPTURE_SIMULATION_MODE=2,n.events.listenerCountEstimate_=0,n.events.listen=function(e,t,i,r,o){if(n.isArray(t)){for(var s=0;s<t.length;s++)n.events.listen(e,t[s],i,r,o);return null}return i=n.events.wrapListener(i),n.events.Listenable.isImplementedBy(e)?e.listen(t,i,r,o):n.events.listen_(e,t,i,!1,r,o)},n.events.listen_=function(e,t,i,r,o,s){if(!t)throw Error("Invalid event type");var a=!!o;if(a&&!n.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(n.events.CAPTURE_SIMULATION_MODE==n.events.CaptureSimulationMode.OFF_AND_FAIL)return n.asserts.fail("Can not register capture listener in IE8-."),null;if(n.events.CAPTURE_SIMULATION_MODE==n.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var l=n.events.getListenerMap_(e);return l||(e[n.events.LISTENER_MAP_PROP_]=l=new n.events.ListenerMap(e)),i=l.add(t,i,r,o,s),i.proxy?i:(r=n.events.getProxy(),i.proxy=r,r.src=e,r.listener=i,e.addEventListener?e.addEventListener(t.toString(),r,a):e.attachEvent(n.events.getOnString_(t.toString()),r),n.events.listenerCountEstimate_++,i)},n.events.getProxy=function(){var e=n.events.handleBrowserEvent_,t=n.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t},n.events.listenOnce=function(e,t,i,r,o){if(n.isArray(t)){for(var s=0;s<t.length;s++)n.events.listenOnce(e,t[s],i,r,o);return null}return i=n.events.wrapListener(i),n.events.Listenable.isImplementedBy(e)?e.listenOnce(t,i,r,o):n.events.listen_(e,t,i,!0,r,o)},n.events.listenWithWrapper=function(e,t,n,i,r){t.listen(e,n,i,r)},n.events.unlisten=function(e,t,i,r,o){if(n.isArray(t)){for(var s=0;s<t.length;s++)n.events.unlisten(e,t[s],i,r,o);return null}return i=n.events.wrapListener(i),n.events.Listenable.isImplementedBy(e)?e.unlisten(t,i,r,o):!!e&&(r=!!r,!(!(e=n.events.getListenerMap_(e))||!(t=e.getListener(t,i,r,o)))&&n.events.unlistenByKey(t))},n.events.unlistenByKey=function(e){if(n.isNumber(e)||!e||e.removed)return!1;var t=e.src;if(n.events.Listenable.isImplementedBy(t))return t.unlistenByKey(e);var i=e.type,r=e.proxy;return t.removeEventListener?t.removeEventListener(i,r,e.capture):t.detachEvent&&t.detachEvent(n.events.getOnString_(i),r),n.events.listenerCountEstimate_--,(i=n.events.getListenerMap_(t))?(i.removeByKey(e),0==i.getTypeCount()&&(i.src=null,t[n.events.LISTENER_MAP_PROP_]=null)):e.markAsRemoved(),!0},n.events.unlistenWithWrapper=function(e,t,n,i,r){t.unlisten(e,n,i,r)},n.events.removeAll=function(e,t){if(!e)return 0;if(n.events.Listenable.isImplementedBy(e))return e.removeAllListeners(t);var i=n.events.getListenerMap_(e);if(!i)return 0;var r,o=0,s=t&&t.toString();for(r in i.listeners)if(!s||r==s)for(var a=i.listeners[r].concat(),l=0;l<a.length;++l)n.events.unlistenByKey(a[l])&&++o;return o},n.events.removeAllNativeListeners=function(){return n.events.listenerCountEstimate_=0},n.events.getListeners=function(e,t,i){return n.events.Listenable.isImplementedBy(e)?e.getListeners(t,i):e&&(e=n.events.getListenerMap_(e))?e.getListeners(t,i):[]},n.events.getListener=function(e,t,i,r,o){return i=n.events.wrapListener(i),r=!!r,n.events.Listenable.isImplementedBy(e)?e.getListener(t,i,r,o):e&&(e=n.events.getListenerMap_(e))?e.getListener(t,i,r,o):null},n.events.hasListener=function(e,t,i){return n.events.Listenable.isImplementedBy(e)?e.hasListener(t,i):!!(e=n.events.getListenerMap_(e))&&e.hasListener(t,i)},n.events.expose=function(e){var t,n=[];for(t in e)e[t]&&e[t].id?n.push(t+" = "+e[t]+" ("+e[t].id+")"):n.push(t+" = "+e[t]);return n.join("\n")},n.events.getOnString_=function(e){return e in n.events.onStringMap_?n.events.onStringMap_[e]:n.events.onStringMap_[e]=n.events.onString_+e},n.events.fireListeners=function(e,t,i,r){return n.events.Listenable.isImplementedBy(e)?e.fireListeners(t,i,r):n.events.fireListeners_(e,t,i,r)},n.events.fireListeners_=function(e,t,i,r){var o=1;if((e=n.events.getListenerMap_(e))&&(t=e.listeners[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var s=t[e];s&&s.capture==i&&!s.removed&&(o&=!1!==n.events.fireListener(s,r))}return Boolean(o)},n.events.fireListener=function(e,t){var i=e.listener,r=e.handler||e.src;return e.callOnce&&n.events.unlistenByKey(e),i.call(r,t)},n.events.getTotalListenerCount=function(){return n.events.listenerCountEstimate_},n.events.dispatchEvent=function(e,t){return n.asserts.assert(n.events.Listenable.isImplementedBy(e),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),e.dispatchEvent(t)},n.events.protectBrowserEventEntryPoint=function(e){n.events.handleBrowserEvent_=e.protectEntryPoint(n.events.handleBrowserEvent_)},n.events.handleBrowserEvent_=function(e,t){if(e.removed)return!0;if(!n.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var i=t||n.getObjectByName("window.event"),r=new n.events.BrowserEvent(i,this),o=!0;if(n.events.CAPTURE_SIMULATION_MODE==n.events.CaptureSimulationMode.ON){if(!n.events.isMarkedIeEvent_(i)){n.events.markIeEvent_(i);for(var i=[],s=r.currentTarget;s;s=s.parentNode)i.push(s);for(var s=e.type,a=i.length-1;!r.propagationStopped_&&0<=a;a--)r.currentTarget=i[a],o&=n.events.fireListeners_(i[a],s,!0,r);for(a=0;!r.propagationStopped_&&a<i.length;a++)r.currentTarget=i[a],o&=n.events.fireListeners_(i[a],s,!1,r)}}else o=n.events.fireListener(e,r);return o}return n.events.fireListener(e,new n.events.BrowserEvent(t,this))},n.events.markIeEvent_=function(e){var t=!1;if(0==e.keyCode)try{return void(e.keyCode=-1)}catch(e){t=!0}(t||void 0==e.returnValue)&&(e.returnValue=!0)},n.events.isMarkedIeEvent_=function(e){return 0>e.keyCode||void 0!=e.returnValue},n.events.uniqueIdCounter_=0,n.events.getUniqueId=function(e){return e+"_"+n.events.uniqueIdCounter_++},n.events.getListenerMap_=function(e){return e=e[n.events.LISTENER_MAP_PROP_],e instanceof n.events.ListenerMap?e:null},n.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),n.events.wrapListener=function(e){return n.asserts.assert(e,"Listener can not be null."),n.isFunction(e)?e:(n.asserts.assert(e.handleEvent,"An object listener must have handleEvent method."),e[n.events.LISTENER_WRAPPER_PROP_]||(e[n.events.LISTENER_WRAPPER_PROP_]=function(t){return e.handleEvent(t)}))},n.debug.entryPointRegistry.register(function(e){n.events.handleBrowserEvent_=e(n.events.handleBrowserEvent_)}),n.events.EventHandler=function(e){n.Disposable.call(this),this.handler_=e,this.keys_={}},n.inherits(n.events.EventHandler,n.Disposable),n.events.EventHandler.typeArray_=[],n.events.EventHandler.prototype.listen=function(e,t,n,i){return this.listen_(e,t,n,i)},n.events.EventHandler.prototype.listenWithScope=function(e,t,n,i,r){return this.listen_(e,t,n,i,r)},n.events.EventHandler.prototype.listen_=function(e,t,i,r,o){n.isArray(t)||(t&&(n.events.EventHandler.typeArray_[0]=t.toString()),t=n.events.EventHandler.typeArray_);for(var s=0;s<t.length;s++){var a=n.events.listen(e,t[s],i||this.handleEvent,r||!1,o||this.handler_||this);if(!a)break;this.keys_[a.key]=a}return this},n.events.EventHandler.prototype.listenOnce=function(e,t,n,i){return this.listenOnce_(e,t,n,i)},n.events.EventHandler.prototype.listenOnceWithScope=function(e,t,n,i,r){return this.listenOnce_(e,t,n,i,r)},n.events.EventHandler.prototype.listenOnce_=function(e,t,i,r,o){if(n.isArray(t))for(var s=0;s<t.length;s++)this.listenOnce_(e,t[s],i,r,o);else{if(!(e=n.events.listenOnce(e,t,i||this.handleEvent,r,o||this.handler_||this)))return this;this.keys_[e.key]=e}return this},n.events.EventHandler.prototype.listenWithWrapper=function(e,t,n,i){return this.listenWithWrapper_(e,t,n,i)},n.events.EventHandler.prototype.listenWithWrapperAndScope=function(e,t,n,i,r){return this.listenWithWrapper_(e,t,n,i,r)},n.events.EventHandler.prototype.listenWithWrapper_=function(e,t,n,i,r){return t.listen(e,n,i,r||this.handler_||this,this),this},n.events.EventHandler.prototype.getListenerCount=function(){var e,t=0;for(e in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,e)&&t++;return t},n.events.EventHandler.prototype.unlisten=function(e,t,i,r,o){if(n.isArray(t))for(var s=0;s<t.length;s++)this.unlisten(e,t[s],i,r,o);else(e=n.events.getListener(e,t,i||this.handleEvent,r,o||this.handler_||this))&&(n.events.unlistenByKey(e),delete this.keys_[e.key]);return this},n.events.EventHandler.prototype.unlistenWithWrapper=function(e,t,n,i,r){return t.unlisten(e,n,i,r||this.handler_||this,this),this},n.events.EventHandler.prototype.removeAll=function(){n.object.forEach(this.keys_,n.events.unlistenByKey),this.keys_={}},n.events.EventHandler.prototype.disposeInternal=function(){n.events.EventHandler.superClass_.disposeInternal.call(this),this.removeAll()},n.events.EventHandler.prototype.handleEvent=function(e){throw Error("EventHandler.handleEvent not implemented")},n.style.bidi={},n.style.bidi.getScrollLeft=function(e){var t=n.style.isRightToLeft(e);return t&&n.userAgent.GECKO?-e.scrollLeft:!t||n.userAgent.IE&&n.userAgent.isVersionOrHigher("8")||"visible"==n.style.getComputedOverflowX(e)?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft},n.style.bidi.getOffsetStart=function(e){var t=e.offsetLeft,i=e.offsetParent;if(i||"fixed"!=n.style.getComputedPosition(e)||(i=n.dom.getOwnerDocument(e).documentElement),!i)return t;if(n.userAgent.GECKO)var r=n.style.getBorderBox(i),t=t+r.left;else n.userAgent.isDocumentModeOrHigher(8)&&(r=n.style.getBorderBox(i),t-=r.left);return n.style.isRightToLeft(i)?i.clientWidth-(t+e.offsetWidth):t},n.style.bidi.setScrollOffset=function(e,t){t=Math.max(t,0),n.style.isRightToLeft(e)?n.userAgent.GECKO?e.scrollLeft=-t:n.userAgent.IE&&n.userAgent.isVersionOrHigher("8")?e.scrollLeft=t:e.scrollLeft=e.scrollWidth-t-e.clientWidth:e.scrollLeft=t},n.style.bidi.setPosition=function(e,t,i,r){n.isNull(i)||(e.style.top=i+"px"),r?(e.style.right=t+"px",e.style.left=""):(e.style.left=t+"px",e.style.right="")},n.events.EventTarget=function(){n.Disposable.call(this),this.eventTargetListeners_=new n.events.ListenerMap(this),this.actualEventTarget_=this},n.inherits(n.events.EventTarget,n.Disposable),n.events.Listenable.addImplementation(n.events.EventTarget),n.events.EventTarget.MAX_ANCESTORS_=1e3,n.events.EventTarget.prototype.parentEventTarget_=null,n.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},n.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},n.events.EventTarget.prototype.addEventListener=function(e,t,i,r){n.events.listen(this,e,t,i,r)},n.events.EventTarget.prototype.removeEventListener=function(e,t,i,r){n.events.unlisten(this,e,t,i,r)},n.events.EventTarget.prototype.dispatchEvent=function(e){this.assertInitialized_();var t,i=this.getParentEventTarget();if(i){t=[];for(var r=1;i;i=i.getParentEventTarget())t.push(i),n.asserts.assert(++r<n.events.EventTarget.MAX_ANCESTORS_,"infinite loop")}return n.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,t)},n.events.EventTarget.prototype.disposeInternal=function(){n.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},n.events.EventTarget.prototype.listen=function(e,t,n,i){return this.assertInitialized_(),this.eventTargetListeners_.add(String(e),t,!1,n,i)},n.events.EventTarget.prototype.listenOnce=function(e,t,n,i){return this.eventTargetListeners_.add(String(e),t,!0,n,i)},n.events.EventTarget.prototype.unlisten=function(e,t,n,i){return this.eventTargetListeners_.remove(String(e),t,n,i)},n.events.EventTarget.prototype.unlistenByKey=function(e){return this.eventTargetListeners_.removeByKey(e)},n.events.EventTarget.prototype.removeAllListeners=function(e){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(e):0},n.events.EventTarget.prototype.fireListeners=function(e,t,n){if(!(e=this.eventTargetListeners_.listeners[String(e)]))return!0;e=e.concat();for(var i=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.removed&&o.capture==t){var s=o.listener,a=o.handler||o.src;o.callOnce&&this.unlistenByKey(o),i=!1!==s.call(a,n)&&i}}return i&&0!=n.returnValue_},n.events.EventTarget.prototype.getListeners=function(e,t){return this.eventTargetListeners_.getListeners(String(e),t)},n.events.EventTarget.prototype.getListener=function(e,t,n,i){return this.eventTargetListeners_.getListener(String(e),t,n,i)},n.events.EventTarget.prototype.hasListener=function(e,t){var i=n.isDef(e)?String(e):void 0;return this.eventTargetListeners_.hasListener(i,t)},n.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},n.events.EventTarget.prototype.assertInitialized_=function(){n.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},n.events.EventTarget.dispatchEventInternal_=function(e,t,i){var r=t.type||t;if(n.isString(t))t=new n.events.Event(t,e);else if(t instanceof n.events.Event)t.target=t.target||e;else{var o=t;t=new n.events.Event(r,e),n.object.extend(t,o)}var s,o=!0;if(i)for(var a=i.length-1;!t.propagationStopped_&&0<=a;a--)s=t.currentTarget=i[a],o=s.fireListeners(r,!0,t)&&o;if(t.propagationStopped_||(s=t.currentTarget=e,o=s.fireListeners(r,!0,t)&&o,t.propagationStopped_||(o=s.fireListeners(r,!1,t)&&o)),i)for(a=0;!t.propagationStopped_&&a<i.length;a++)s=t.currentTarget=i[a],o=s.fireListeners(r,!1,t)&&o;return o},n.fx={},n.fx.Dragger=function(e,t,i){n.events.EventTarget.call(this),this.target=e,this.handle=t||e,this.limits=i||new n.math.Rect(NaN,NaN,NaN,NaN),this.document_=n.dom.getOwnerDocument(e),this.eventHandler_=new n.events.EventHandler(this),this.registerDisposable(this.eventHandler_),n.events.listen(this.handle,[n.events.EventType.TOUCHSTART,n.events.EventType.MOUSEDOWN],this.startDrag,!1,this)},n.inherits(n.fx.Dragger,n.events.EventTarget),n.fx.Dragger.HAS_SET_CAPTURE_=n.userAgent.IE||n.userAgent.GECKO&&n.userAgent.isVersionOrHigher("1.9.3"),n.fx.Dragger.cloneNode=function(e){for(var t=e.cloneNode(!0),i=e.getElementsByTagName("textarea"),r=t.getElementsByTagName("textarea"),o=0;o<i.length;o++)r[o].value=i[o].value;switch(e.tagName.toLowerCase()){case"tr":return n.dom.createDom("table",null,n.dom.createDom("tbody",null,t));case"td":case"th":return n.dom.createDom("table",null,n.dom.createDom("tbody",null,n.dom.createDom("tr",null,t)));case"textarea":t.value=e.value;default:return t}},n.fx.Dragger.EventType={EARLY_CANCEL:"earlycancel",START:"start",BEFOREDRAG:"beforedrag",DRAG:"drag",END:"end"},n.fx.Dragger.prototype.clientX=0,n.fx.Dragger.prototype.clientY=0,n.fx.Dragger.prototype.screenX=0,n.fx.Dragger.prototype.screenY=0,n.fx.Dragger.prototype.startX=0,n.fx.Dragger.prototype.startY=0;n.fx.Dragger.prototype.deltaX=0,n.fx.Dragger.prototype.deltaY=0,n.fx.Dragger.prototype.enabled_=!0,n.fx.Dragger.prototype.dragging_=!1,n.fx.Dragger.prototype.hysteresisDistanceSquared_=0,n.fx.Dragger.prototype.mouseDownTime_=0,n.fx.Dragger.prototype.ieDragStartCancellingOn_=!1,n.fx.Dragger.prototype.useRightPositioningForRtl_=!1,n.fx.Dragger.prototype.enableRightPositioningForRtl=function(e){this.useRightPositioningForRtl_=e},n.fx.Dragger.prototype.getHandler=function(){return this.eventHandler_},n.fx.Dragger.prototype.setLimits=function(e){this.limits=e||new n.math.Rect(NaN,NaN,NaN,NaN)},n.fx.Dragger.prototype.setHysteresis=function(e){this.hysteresisDistanceSquared_=Math.pow(e,2)},n.fx.Dragger.prototype.getHysteresis=function(){return Math.sqrt(this.hysteresisDistanceSquared_)},n.fx.Dragger.prototype.setScrollTarget=function(e){this.scrollTarget_=e},n.fx.Dragger.prototype.setCancelIeDragStart=function(e){this.ieDragStartCancellingOn_=e},n.fx.Dragger.prototype.getEnabled=function(){return this.enabled_},n.fx.Dragger.prototype.setEnabled=function(e){this.enabled_=e},n.fx.Dragger.prototype.disposeInternal=function(){n.fx.Dragger.superClass_.disposeInternal.call(this),n.events.unlisten(this.handle,[n.events.EventType.TOUCHSTART,n.events.EventType.MOUSEDOWN],this.startDrag,!1,this),this.cleanUpAfterDragging_(),this.handle=this.target=null},n.fx.Dragger.prototype.isRightToLeft_=function(){return n.isDef(this.rightToLeft_)||(this.rightToLeft_=n.style.isRightToLeft(this.target)),this.rightToLeft_},n.fx.Dragger.prototype.startDrag=function(e){var t=e.type==n.events.EventType.MOUSEDOWN;if(!this.enabled_||this.dragging_||t&&!e.isMouseActionButton())this.dispatchEvent(n.fx.Dragger.EventType.EARLY_CANCEL);else{if(this.maybeReinitTouchEvent_(e),0==this.hysteresisDistanceSquared_){if(!this.fireDragStart_(e))return;this.dragging_=!0,e.preventDefault()}else e.preventDefault();this.setupDragHandlers(),this.clientX=this.startX=e.clientX,this.clientY=this.startY=e.clientY,this.screenX=e.screenX,this.screenY=e.screenY,this.computeInitialPosition(),this.pageScroll=n.dom.getDomHelper(this.document_).getDocumentScroll(),this.mouseDownTime_=n.now()}},n.fx.Dragger.prototype.setupDragHandlers=function(){var e=this.document_,t=e.documentElement,i=!n.fx.Dragger.HAS_SET_CAPTURE_;this.eventHandler_.listen(e,[n.events.EventType.TOUCHMOVE,n.events.EventType.MOUSEMOVE],this.handleMove_,i),this.eventHandler_.listen(e,[n.events.EventType.TOUCHEND,n.events.EventType.MOUSEUP],this.endDrag,i),n.fx.Dragger.HAS_SET_CAPTURE_?(t.setCapture(!1),this.eventHandler_.listen(t,n.events.EventType.LOSECAPTURE,this.endDrag)):this.eventHandler_.listen(n.dom.getWindow(e),n.events.EventType.BLUR,this.endDrag),n.userAgent.IE&&this.ieDragStartCancellingOn_&&this.eventHandler_.listen(e,n.events.EventType.DRAGSTART,n.events.Event.preventDefault),this.scrollTarget_&&this.eventHandler_.listen(this.scrollTarget_,n.events.EventType.SCROLL,this.onScroll_,i)},n.fx.Dragger.prototype.fireDragStart_=function(e){return this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.START,this,e.clientX,e.clientY,e))},n.fx.Dragger.prototype.cleanUpAfterDragging_=function(){this.eventHandler_.removeAll(),n.fx.Dragger.HAS_SET_CAPTURE_&&this.document_.releaseCapture()},n.fx.Dragger.prototype.endDrag=function(e,t){if(this.cleanUpAfterDragging_(),this.dragging_){this.maybeReinitTouchEvent_(e),this.dragging_=!1;var i=this.limitX(this.deltaX),r=this.limitY(this.deltaY);this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.END,this,e.clientX,e.clientY,e,i,r,t||e.type==n.events.EventType.TOUCHCANCEL))}else this.dispatchEvent(n.fx.Dragger.EventType.EARLY_CANCEL)},n.fx.Dragger.prototype.endDragCancel=function(e){this.endDrag(e,!0)},n.fx.Dragger.prototype.maybeReinitTouchEvent_=function(e){var t=e.type;t==n.events.EventType.TOUCHSTART||t==n.events.EventType.TOUCHMOVE?e.init(e.getBrowserEvent().targetTouches[0],e.currentTarget):t!=n.events.EventType.TOUCHEND&&t!=n.events.EventType.TOUCHCANCEL||e.init(e.getBrowserEvent().changedTouches[0],e.currentTarget)},n.fx.Dragger.prototype.handleMove_=function(e){if(this.enabled_){this.maybeReinitTouchEvent_(e);var t=(this.useRightPositioningForRtl_&&this.isRightToLeft_()?-1:1)*(e.clientX-this.clientX),i=e.clientY-this.clientY;if(this.clientX=e.clientX,this.clientY=e.clientY,this.screenX=e.screenX,this.screenY=e.screenY,!this.dragging_){var r=this.startX-this.clientX,o=this.startY-this.clientY;if(r*r+o*o>this.hysteresisDistanceSquared_){if(!this.fireDragStart_(e))return void(this.isDisposed()||this.endDrag(e));this.dragging_=!0}}i=this.calculatePosition_(t,i),t=i.x,i=i.y,this.dragging_&&this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.BEFOREDRAG,this,e.clientX,e.clientY,e,t,i))&&(this.doDrag(e,t,i,!1),e.preventDefault())}},n.fx.Dragger.prototype.calculatePosition_=function(e,t){var i=n.dom.getDomHelper(this.document_).getDocumentScroll();e+=i.x-this.pageScroll.x,t+=i.y-this.pageScroll.y,this.pageScroll=i,this.deltaX+=e,this.deltaY+=t;var i=this.limitX(this.deltaX),r=this.limitY(this.deltaY);return new n.math.Coordinate(i,r)},n.fx.Dragger.prototype.onScroll_=function(e){var t=this.calculatePosition_(0,0);e.clientX=this.clientX,e.clientY=this.clientY,this.doDrag(e,t.x,t.y,!0)},n.fx.Dragger.prototype.doDrag=function(e,t,i,r){this.defaultAction(t,i),this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.DRAG,this,e.clientX,e.clientY,e,t,i))},n.fx.Dragger.prototype.limitX=function(e){var t=this.limits,n=isNaN(t.left)?null:t.left,t=isNaN(t.width)?0:t.width;return Math.min(null!=n?n+t:1/0,Math.max(null!=n?n:-1/0,e))},n.fx.Dragger.prototype.limitY=function(e){var t=this.limits,n=isNaN(t.top)?null:t.top,t=isNaN(t.height)?0:t.height;return Math.min(null!=n?n+t:1/0,Math.max(null!=n?n:-1/0,e))},n.fx.Dragger.prototype.computeInitialPosition=function(){this.deltaX=this.useRightPositioningForRtl_?n.style.bidi.getOffsetStart(this.target):this.target.offsetLeft,this.deltaY=this.target.offsetTop},n.fx.Dragger.prototype.defaultAction=function(e,t){this.useRightPositioningForRtl_&&this.isRightToLeft_()?this.target.style.right=e+"px":this.target.style.left=e+"px",this.target.style.top=t+"px"},n.fx.Dragger.prototype.isDragging=function(){return this.dragging_},n.fx.DragEvent=function(e,t,i,r,o,s,a,l){n.events.Event.call(this,e),this.clientX=i,this.clientY=r,this.browserEvent=o,this.left=n.isDef(s)?s:t.deltaX,this.top=n.isDef(a)?a:t.deltaY,this.dragger=t,this.dragCanceled=!!l},n.inherits(n.fx.DragEvent,n.events.Event),n.math.AffineTransform=function(e,t,n,i,r,o){if(6==arguments.length)this.setTransform(e,t,n,i,r,o);else{if(0!=arguments.length)throw Error("Insufficient matrix parameters");this.m00_=this.m11_=1,this.m10_=this.m01_=this.m02_=this.m12_=0}},n.math.AffineTransform.prototype.isIdentity=function(){return 1==this.m00_&&0==this.m10_&&0==this.m01_&&1==this.m11_&&0==this.m02_&&0==this.m12_},n.math.AffineTransform.prototype.clone=function(){return new n.math.AffineTransform(this.m00_,this.m10_,this.m01_,this.m11_,this.m02_,this.m12_)},n.math.AffineTransform.prototype.setTransform=function(e,t,i,r,o,s){if(!(n.isNumber(e)&&n.isNumber(t)&&n.isNumber(i)&&n.isNumber(r)&&n.isNumber(o)&&n.isNumber(s)))throw Error("Invalid transform parameters");return this.m00_=e,this.m10_=t,this.m01_=i,this.m11_=r,this.m02_=o,this.m12_=s,this},n.math.AffineTransform.prototype.copyFrom=function(e){return this.m00_=e.m00_,this.m10_=e.m10_,this.m01_=e.m01_,this.m11_=e.m11_,this.m02_=e.m02_,this.m12_=e.m12_,this},n.math.AffineTransform.prototype.scale=function(e,t){return this.m00_*=e,this.m10_*=e,this.m01_*=t,this.m11_*=t,this},n.math.AffineTransform.prototype.preScale=function(e,t){return this.m00_*=e,this.m01_*=e,this.m02_*=e,this.m10_*=t,this.m11_*=t,this.m12_*=t,this},n.math.AffineTransform.prototype.translate=function(e,t){return this.m02_+=e*this.m00_+t*this.m01_,this.m12_+=e*this.m10_+t*this.m11_,this},n.math.AffineTransform.prototype.preTranslate=function(e,t){return this.m02_+=e,this.m12_+=t,this},n.math.AffineTransform.prototype.rotate=function(e,t,i){return this.concatenate(n.math.AffineTransform.getRotateInstance(e,t,i))},n.math.AffineTransform.prototype.preRotate=function(e,t,i){return this.preConcatenate(n.math.AffineTransform.getRotateInstance(e,t,i))},n.math.AffineTransform.prototype.shear=function(e,t){var n=this.m00_,i=this.m10_;return this.m00_+=t*this.m01_,this.m10_+=t*this.m11_,this.m01_+=e*n,this.m11_+=e*i,this},n.math.AffineTransform.prototype.preShear=function(e,t){var n=this.m00_,i=this.m01_,r=this.m02_;return this.m00_+=e*this.m10_,this.m01_+=e*this.m11_,this.m02_+=e*this.m12_,this.m10_+=t*n,this.m11_+=t*i,this.m12_+=t*r,this},n.math.AffineTransform.prototype.toString=function(){return"matrix("+[this.m00_,this.m10_,this.m01_,this.m11_,this.m02_,this.m12_].join()+")"},n.math.AffineTransform.prototype.getScaleX=function(){return this.m00_},n.math.AffineTransform.prototype.getScaleY=function(){return this.m11_},n.math.AffineTransform.prototype.getTranslateX=function(){return this.m02_},n.math.AffineTransform.prototype.getTranslateY=function(){return this.m12_},n.math.AffineTransform.prototype.getShearX=function(){return this.m01_},n.math.AffineTransform.prototype.getShearY=function(){return this.m10_},n.math.AffineTransform.prototype.concatenate=function(e){var t=this.m00_,n=this.m01_;return this.m00_=e.m00_*t+e.m10_*n,this.m01_=e.m01_*t+e.m11_*n,this.m02_+=e.m02_*t+e.m12_*n,t=this.m10_,n=this.m11_,this.m10_=e.m00_*t+e.m10_*n,this.m11_=e.m01_*t+e.m11_*n,this.m12_+=e.m02_*t+e.m12_*n,this},n.math.AffineTransform.prototype.preConcatenate=function(e){var t=this.m00_,n=this.m10_;return this.m00_=e.m00_*t+e.m01_*n,this.m10_=e.m10_*t+e.m11_*n,t=this.m01_,n=this.m11_,this.m01_=e.m00_*t+e.m01_*n,this.m11_=e.m10_*t+e.m11_*n,t=this.m02_,n=this.m12_,this.m02_=e.m00_*t+e.m01_*n+e.m02_,this.m12_=e.m10_*t+e.m11_*n+e.m12_,this},n.math.AffineTransform.prototype.transform=function(e,t,n,i,r){var o=t;for(t+=2*r;o<t;){r=e[o++];var s=e[o++];n[i++]=r*this.m00_+s*this.m01_+this.m02_,n[i++]=r*this.m10_+s*this.m11_+this.m12_}},n.math.AffineTransform.prototype.getDeterminant=function(){return this.m00_*this.m11_-this.m01_*this.m10_},n.math.AffineTransform.prototype.isInvertible=function(){var e=this.getDeterminant();return n.math.isFiniteNumber(e)&&n.math.isFiniteNumber(this.m02_)&&n.math.isFiniteNumber(this.m12_)&&0!=e},n.math.AffineTransform.prototype.createInverse=function(){var e=this.getDeterminant();return new n.math.AffineTransform(this.m11_/e,-this.m10_/e,-this.m01_/e,this.m00_/e,(this.m01_*this.m12_-this.m11_*this.m02_)/e,(this.m10_*this.m02_-this.m00_*this.m12_)/e)},n.math.AffineTransform.getScaleInstance=function(e,t){return(new n.math.AffineTransform).setToScale(e,t)},n.math.AffineTransform.getTranslateInstance=function(e,t){return(new n.math.AffineTransform).setToTranslation(e,t)},n.math.AffineTransform.getShearInstance=function(e,t){return(new n.math.AffineTransform).setToShear(e,t)},n.math.AffineTransform.getRotateInstance=function(e,t,i){return(new n.math.AffineTransform).setToRotation(e,t,i)},n.math.AffineTransform.prototype.setToScale=function(e,t){return this.setTransform(e,0,0,t,0,0)},n.math.AffineTransform.prototype.setToTranslation=function(e,t){return this.setTransform(1,0,0,1,e,t)},n.math.AffineTransform.prototype.setToShear=function(e,t){return this.setTransform(1,t,e,1,0,0)},n.math.AffineTransform.prototype.setToRotation=function(e,t,n){var i=Math.cos(e);return e=Math.sin(e),this.setTransform(i,e,-e,i,t-t*i+n*e,n-t*e-n*i)},n.math.AffineTransform.prototype.equals=function(e){return this==e||!!e&&(this.m00_==e.m00_&&this.m01_==e.m01_&&this.m02_==e.m02_&&this.m10_==e.m10_&&this.m11_==e.m11_&&this.m12_==e.m12_)},i.drawing.tool={},i.drawing.tool.Tool=function(e,t,n){this.drawing_=e,this.isActive_=!1,this.element_=t,this.canvas_=n},i.drawing.tool.Tool.prototype.isActive=function(){return this.isActive_},i.drawing.tool.Tool.prototype.getCanvas=function(){return this.canvas_},i.drawing.tool.Magnifier=function(e,t,r,o,s){i.drawing.tool.Tool.call(this,e,t,r),this.group_=o,this.image_=s,this.width_=110,this.height_=100,this.ctm_=new n.math.AffineTransform},n.inherits(i.drawing.tool.Magnifier,i.drawing.tool.Tool),i.drawing.tool.Magnifier.prototype.hide=function(){n.style.setStyle(this.element_,"display","none"),this.isActive_=!1},i.drawing.tool.Magnifier.prototype.show=function(){n.style.setStyle(this.element_,"display","block"),this.isActive_=!0},i.drawing.tool.Magnifier.prototype.reset=function(){var e=this.canvas_;e.setWidth(this.width_),e.setHeight(this.height_),n.style.setStyle(this.element_,"position","absolute"),n.style.setStyle(this.element_,"display","block"),n.style.setStyle(this.element_,"z-index","1001"),n.style.setStyle(this.element_,"left","50px"),n.style.setStyle(this.element_,"top","50px"),n.style.setStyle(this.element_,"border","solid black 4px"),this.group_.draw()},i.drawing.tool.Magnifier.prototype.handleDrag_=function(e,t){var n;n=[t.deltaX+this.width_/2,t.deltaY];var r=Array(2),o=this.drawing_.getViewbox().getCTM(),s=this.drawing_.getEngine();if(o.createInverse().transform(n,0,r,0,1),n=this.ctm_.createInverse().translate(-r[0],-r[1]),s.typeOf(i.engine.CANVAS))s=this.canvas_.getElement(),r=s.getContext("2d"),r.save(),r.fillStyle="white",r.fillRect(0,0,s.width,s.height),r.beginPath(),i.canvas.setTransform_(r,n),this.group_.draw(),r.closePath(),r.restore();else if(s.typeOf(i.engine.SVG))i.svg.render(this.group_.getElement(),n);else{if(!s.typeOf(i.engine.VML))throw Error("Unknown engine.");i.vml.render(this.group_.getRaphael(),n)}},i.drawing.tool.Magnifier.prototype.registerDrag_=function(){var e=n.style.getSize(this.drawing_.getElement()),e=new n.math.Rect(0,0,e.width,e.height),t=new n.fx.Dragger(this.element_,this.element_,e);n.events.listen(t,n.events.EventType.DRAG,function(e){this.handleDrag_(e,t)},!1,this)},i.drawing.tool.Magnifier.create=function(e){var t=e.getGraphics(),r=e.getLayerBackground().getImage(),o=n.dom.createElement("div"),s=t.Canvas.create(e.getElement()),a=t.Group.create(s),t=t.Image.create(r.getImage(),s),r=new i.drawing.tool.Magnifier(e,o,s,a,t);return n.dom.appendChild(o,s.getElement()),s.addChild(a),a.addChildren(t),n.dom.appendChild(e.getElement(),o),r.reset(),r.registerDrag_(),r},i.drawing.LayerTool=function(e){i.drawing.Layer.call(this,e),this.magnifier_},n.inherits(i.drawing.LayerTool,i.drawing.Layer),i.drawing.LayerTool.prototype.toggleMagnifier=function(){this.magnifier_||(this.magnifier_=i.drawing.tool.Magnifier.create(this.drawing_)),this.magnifier_.isActive()?this.magnifier_.hide():this.magnifier_.show()},i.drawing.LayerTool.prototype.disposeInternal=function(){this.magnifier_=null,i.drawing.LayerTool.superClass_.disposeInternal.call(this)},n.events.MouseWheelHandler=function(e,t){n.events.EventTarget.call(this),this.element_=e;var i=n.dom.isElement(this.element_)?this.element_:this.element_?this.element_.body:null;this.isRtl_=!!i&&n.style.isRightToLeft(i),this.listenKey_=n.events.listen(this.element_,n.userAgent.GECKO?"DOMMouseScroll":"mousewheel",this,t)},n.inherits(n.events.MouseWheelHandler,n.events.EventTarget),n.events.MouseWheelHandler.EventType={MOUSEWHEEL:"mousewheel"},n.events.MouseWheelHandler.prototype.setMaxDeltaX=function(e){this.maxDeltaX_=e},n.events.MouseWheelHandler.prototype.setMaxDeltaY=function(e){this.maxDeltaY_=e},n.events.MouseWheelHandler.prototype.handleEvent=function(e){var t=0,i=0,r=0;e=e.getBrowserEvent(),"mousewheel"==e.type?(i=1,(n.userAgent.IE||n.userAgent.WEBKIT&&(n.userAgent.WINDOWS||n.userAgent.isVersionOrHigher("532.0")))&&(i=40),r=n.events.MouseWheelHandler.smartScale_(-e.wheelDelta,i),n.isDef(e.wheelDeltaX)?(t=n.events.MouseWheelHandler.smartScale_(-e.wheelDeltaX,i),i=n.events.MouseWheelHandler.smartScale_(-e.wheelDeltaY,i)):i=r):(r=e.detail,100<r?r=3:-100>r&&(r=-3),n.isDef(e.axis)&&e.axis===e.HORIZONTAL_AXIS?t=r:i=r),n.isNumber(this.maxDeltaX_)&&(t=n.math.clamp(t,-this.maxDeltaX_,this.maxDeltaX_)),n.isNumber(this.maxDeltaY_)&&(i=n.math.clamp(i,-this.maxDeltaY_,this.maxDeltaY_)),this.isRtl_&&(t=-t),t=new n.events.MouseWheelEvent(r,e,t,i),this.dispatchEvent(t)},n.events.MouseWheelHandler.smartScale_=function(e,t){return n.userAgent.WEBKIT&&(n.userAgent.MAC||n.userAgent.LINUX)&&0!=e%t?e:e/t},n.events.MouseWheelHandler.prototype.disposeInternal=function(){n.events.MouseWheelHandler.superClass_.disposeInternal.call(this),n.events.unlistenByKey(this.listenKey_),this.listenKey_=null},n.events.MouseWheelEvent=function(e,t,i,r){n.events.BrowserEvent.call(this,t),this.type=n.events.MouseWheelHandler.EventType.MOUSEWHEEL,this.detail=e,this.deltaX=i,this.deltaY=r},n.inherits(n.events.MouseWheelEvent,n.events.BrowserEvent),n.Timer=function(e,t){n.events.EventTarget.call(this),this.interval_=e||1,this.timerObject_=t||n.Timer.defaultTimerObject,this.boundTick_=n.bind(this.tick_,this),this.last_=n.now()},n.inherits(n.Timer,n.events.EventTarget),n.Timer.MAX_TIMEOUT_=2147483647,n.Timer.prototype.enabled=!1,n.Timer.defaultTimerObject=n.global,n.Timer.intervalScale=.8,n.Timer.prototype.timer_=null,n.Timer.prototype.getInterval=function(){return this.interval_},n.Timer.prototype.setInterval=function(e){this.interval_=e,this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()},n.Timer.prototype.tick_=function(){if(this.enabled){var e=n.now()-this.last_;0<e&&e<this.interval_*n.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-e):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=n.now()))}},n.Timer.prototype.dispatchTick=function(){this.dispatchEvent(n.Timer.TICK)},n.Timer.prototype.start=function(){this.enabled=!0,this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=n.now())},n.Timer.prototype.stop=function(){this.enabled=!1,this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)},n.Timer.prototype.disposeInternal=function(){n.Timer.superClass_.disposeInternal.call(this),this.stop(),delete this.timerObject_},n.Timer.TICK="tick",n.Timer.callOnce=function(e,t,i){if(n.isFunction(e))i&&(e=n.bind(e,i));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=n.bind(e.handleEvent,e)}return t>n.Timer.MAX_TIMEOUT_?-1:n.Timer.defaultTimerObject.setTimeout(e,t||0)},n.Timer.clear=function(e){n.Timer.defaultTimerObject.clearTimeout(e)},i.event={},i.event.Type=function(){},i.event.Type.CLICK=n.userAgent.MOBILE?n.events.EventType.TOUCHSTART:n.events.EventType.CLICK,i.event.Type.DBLCLICK=n.events.EventType.DBLCLICK,i.event.Type.DOWN=n.userAgent.MOBILE?n.events.EventType.TOUCHSTART:n.events.EventType.MOUSEDOWN,i.event.Type.IN=n.events.EventType.MOUSEOVER,i.event.Type.INPUT=function(){return n.userAgent.IE&&!n.userAgent.isVersionOrHigher(9)?n.events.EventType.PROPERTYCHANGE:n.userAgent.IE&&n.userAgent.isVersionOrHigher(9)&&!n.userAgent.isVersionOrHigher(10)?n.events.EventType.KEYUP:n.events.EventType.INPUT}(),i.event.Type.MOVE=n.userAgent.MOBILE?n.events.EventType.TOUCHMOVE:n.events.EventType.MOUSEMOVE,i.event.Type.OUT=n.events.EventType.MOUSEOUT,i.event.Type.UP=n.userAgent.MOBILE?n.events.EventType.TOUCHEND:n.events.EventType.MOUSEUP,i.event.Type.WHEEL=n.events.MouseWheelHandler.EventType.MOUSEWHEEL,i.drawing.Cursor=function(e){n.Disposable.call(this),this.drawing_=e,this.event_=this.shapes_=this.shape_=this.pointTransformed_=this.point=null},n.inherits(i.drawing.Cursor,n.Disposable),i.drawing.Cursor.prototype.getPoint=function(){return null===this.point_&&this.calculatePoint_(),this.point_},i.drawing.Cursor.prototype.getPointTransformed=function(){return null===this.pointTransformed_&&this.calculatePointTransformed_(),this.pointTransformed_},i.drawing.Cursor.prototype.getShape=function(){return null===this.shape_&&this.calculateShape_(),this.shape_},i.drawing.Cursor.prototype.getShapes=function(){return null===this.shapes_&&this.calculateShapes_(),this.shapes_},i.drawing.Cursor.prototype.calculatePoint_=function(){this.point_=this.drawing_.getOffsetPoint(this.event_)},i.drawing.Cursor.prototype.calculatePointTransformed_=function(){null===this.point_&&this.calculatePoint_(),this.pointTransformed_=this.drawing_.getViewbox().getCTM().transformPoint(this.point_)},i.drawing.Cursor.prototype.calculateShape_=function(){null===this.pointTransformed_&&this.calculatePointTransformed_(),this.shape_=this.drawing_.getShapeSelected(this.pointTransformed_)},i.drawing.Cursor.prototype.calculateShapes_=function(){null===this.pointTransformed_&&this.calculatePointTransformed_(),this.shapes_=this.drawing_.getShapesSelected(this.pointTransformed_)},i.drawing.Cursor.prototype.init=function(e){this.shapes_=this.shape_=this.pointTransformed_=this.point_=null,this.event_=e},i.event.Handler={CLICK:"handleClick",DBLCLICK:"handleDblClick",DOWN:"handleDown",IN:"handleIn",INPUT:"handleInput",MOVE:"handleMove",OUT:"handleOut",UP:"handleUp",WHEEL:"handleWheel"},i.geometry.Rect=function(){i.geometry.Geometry.call(this),this.height=this.width=this.y=this.x=0},n.inherits(i.geometry.Rect,i.geometry.Geometry),i.geometry.Rect.prototype.getBox=function(){return new n.math.Box(this.y,this.x+this.width,this.y+this.height,this.x)},i.geometry.Rect.prototype.containsPoint=function(e){return e[0]>=this.x&&e[1]>=this.y&&e[0]<=this.x+this.width&&e[1]<=this.y+this.height},i.geometry.Rect.prototype.disposeInternal=function(){i.geometry.Rect.superClass_.disposeInternal.call(this)},i.shape.Image=function(e){i.shape.Geometry.call(this,e,new i.geometry.Rect),this.engineElement_=this.drawing_.getEngine().createImage()},n.inherits(i.shape.Image,i.shape.Geometry),i.shape.Image.prototype.getImage=function(){return this.image_},i.shape.Image.prototype.setImage=function(e){this.image_=e,this.geometry_.width=e.naturalWidth,this.geometry_.height=e.naturalHeight},i.shape.Image.prototype.getHeight=function(){return this.geometry_.height},i.shape.Image.prototype.getWidth=function(){return this.geometry_.width},i.shape.Image.prototype.draw=function(){this.startDrawing_(),this.image_&&this.engineElement_.draw(this.image_),this.finishDrawing_()},i.shape.Image.prototype.disposeInternal=function(){this.image_=null,i.shape.Image.superClass_.disposeInternal.call(this)},i.shape.Modifiable=function(e){i.shape.Style.call(this),this.shape_=e,this.dragger_=[],this.store_=new i.shape.Style,this.store_.setStyle(this.shape_),this.setStyle(this.shape_)},n.inherits(i.shape.Modifiable,i.shape.Style),i.shape.Modifiable.prototype.selectOn=function(){this.store_.setStyle(this.shape_),this.shape_.setStyle(this)},i.shape.Modifiable.prototype.selectOff=function(){this.shape_.setStyle(this.store_)},i.shape.Modifiable.prototype.getShape=function(){return this.shape_},i.shape.Modifiable.prototype.getDragger=function(){return this.dragger_},i.shape.Modifiable.prototype.setDragger=function(e){this.dragger_=e},i.shape.Modifiable.prototype.disposeInternal=function(){var e;for(this.shape_.dispose(),this.shape_=null;e=this.dragger_.pop();)e.dispose();this.dragger_=null,i.shape.Modifiable.superClass_.disposeInternal.call(this)},i.shape.Hoverable=function(e){i.shape.Style.call(this),this.shape_=e,this.store_=new i.shape.Style},n.inherits(i.shape.Hoverable,i.shape.Style),i.shape.Hoverable.prototype.hoverOn=function(){this.store_.setStyle(this.shape_),this.shape_.setStyle(this)},i.shape.Hoverable.prototype.hoverOff=function(){this.shape_.setStyle(this.store_)},i.shape.Hoverable.prototype.disposeInternal=function(){this.shape_.dispose(),this.shape_=null,this.store_.dispose(),this.store_=null,i.shape.Hoverable.superClass_.disposeInternal.call(this)},i.geometry.Ellipse=function(){i.geometry.Geometry.call(this),this.ry=this.rx=this.cy=this.cx=0},n.inherits(i.geometry.Ellipse,i.geometry.Geometry),i.geometry.Ellipse.prototype.containsPoint=function(e){return 1>=(e[0]-this.cx)*(e[0]-this.cx)/(this.rx*this.rx)+(e[1]-this.cy)*(e[1]-this.cy)/(this.ry*this.ry)},i.geometry.Ellipse.prototype.disposeInternal=function(){i.geometry.Ellipse.superClass_.disposeInternal.call(this)},i.shape.Creatable=function(e,t){this.target_=e,this.preview_=t},i.shape.Creatable.prototype.getTarget=function(){return this.target_},i.shape.Creatable.prototype.getPreview=function(){return this.preview_},i.shape.Creatable.prototype.setStyle=function(e){this.preview_.setStyle(e)},i.shape.Creatable.prototype.setFillColor=function(e){this.preview_.setFillColor(e)},i.shape.Creatable.prototype.setFillOpacity=function(e){this.preview_.setFillOpacity(e)},i.shape.Creatable.prototype.setStrokeColor=function(e){this.preview_.setStrokeColor(e)},i.shape.Creatable.prototype.setStrokeWidth=function(e){this.preview_.setStrokeWidth(e)},i.shape.Selectable=function(e){i.shape.Style.call(this),this.shape_=e,this.store_=new i.shape.Style},n.inherits(i.shape.Selectable,i.shape.Style),i.shape.Selectable.prototype.selectOn=function(){this.store_.setStyle(this.shape_),this.shape_.setStyle(this)},i.shape.Selectable.prototype.selectOff=function(){this.shape_.setStyle(this.store_)},i.shape.Selectable.prototype.disposeInternal=function(){this.shape_.dispose(),this.shape_=null,this.store_.dispose(),this.store_=null,i.shape.Selectable.superClass_.disposeInternal.call(this)},i.shape.Ellipse=function(e){i.shape.Geometry.call(this,e,new i.geometry.Ellipse),this.engineElement_=this.drawing_.getEngine().createEllipse()},n.inherits(i.shape.Ellipse,i.shape.Geometry),i.shape.Ellipse.prototype.getCenter=function(){return[this.geometry_.cx,this.geometry_.cy]},i.shape.Ellipse.prototype.setCenter=function(e,t){this.geometry_.cx=e,this.geometry_.cy=t},i.shape.Ellipse.prototype.getRadiusX=function(){return this.geometry_.rx},i.shape.Ellipse.prototype.setRadiusX=function(e){this.geometry_.rx=e},i.shape.Ellipse.prototype.getRadiusY=function(){return this.geometry_.ry},i.shape.Ellipse.prototype.setRadiusY=function(e){this.geometry_.ry=e},i.shape.Ellipse.prototype.getCoords=function(){return[this.getCenter()]},i.shape.Ellipse.prototype.setCoords=function(e){this.setCenter(e[0][0],e[0][1])},i.shape.Ellipse.prototype.draw=function(){this.startDrawing_();var e=this.getCenter();this.engineElement_.draw(e[0],e[1],this.getRadiusX(),this.getRadiusY(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},i.shape.Ellipse.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new i.shape.EllipseHoverable(this)),this.hoverable_},i.shape.Ellipse.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new i.shape.EllipseSelectable(this)),this.selectable_},i.shape.Ellipse.prototype.getModifiable=function(){return this.modifiable_||(this.modifiable_=new i.shape.EllipseModifiable(this)),this.modifiable_},i.shape.Ellipse.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new i.shape.EllipseCreatable(this)),this.creatable_},i.shape.Ellipse.prototype.disposeInternal=function(){i.shape.Ellipse.superClass_.disposeInternal.call(this)},i.shape.EllipseHoverable=function(e){i.shape.Hoverable.call(this,e)},n.inherits(i.shape.EllipseHoverable,i.shape.Hoverable),i.shape.EllipseHoverable.prototype.disposeInternal=function(){i.shape.EllipseHoverable.superClass_.disposeInternal.call(this)};i.shape.EllipseSelectable=function(e){i.shape.Selectable.call(this,e)},n.inherits(i.shape.EllipseSelectable,i.shape.Selectable),i.shape.EllipseSelectable.prototype.disposeInternal=function(){i.shape.EllipseSelectable.superClass_.disposeInternal.call(this)},i.shape.EllipseModifiable=function(e){i.shape.Modifiable.call(this,e),this.init_()},n.inherits(i.shape.EllipseModifiable,i.shape.Modifiable),i.shape.EllipseModifiable.prototype.setCoords=function(e){this.shape_.setCoords(e),this.dragger_[0].setCoordX(e[0][0]+this.shape_.getRadiusX()),this.dragger_[0].setCoordY(e[0][1]),this.dragger_[1].setCoordX(e[0][0]),this.dragger_[1].setCoordY(e[0][1]+this.shape_.getRadiusY())},i.shape.EllipseModifiable.prototype.setCoordAt=function(e,t){0===e?(this.dragger_[0].setCoordX(t[0]),this.shape_.setRadiusX(Math.abs(t[0]-this.shape_.getCenter()[0]))):(this.dragger_[1].setCoordY(t[1]),this.shape_.setRadiusY(Math.abs(t[1]-this.shape_.getCenter()[1])))},i.shape.EllipseModifiable.prototype.move=function(e,t){var n=this.shape_.getCoordsCopy();n[0][0]+=e,n[0][1]+=t,this.setCoords(n)},i.shape.EllipseModifiable.prototype.init_=function(){var e=this.shape_.getCenter(),t=this.shape_.getRadiusX(),n=this.shape_.getRadiusY(),r=new i.shape.Dragger(this,0);r.setCoords([[e[0]+t,e[1]]]),t=new i.shape.Dragger(this,1),t.setCoords([[e[0],e[1]+n]]),this.setDragger([r,t])},i.shape.EllipseModifiable.prototype.disposeInternal=function(){i.shape.EllipseModifiable.superClass_.disposeInternal.call(this)},i.shape.EllipseCreatable=function(e){i.shape.Creatable.call(this,e,new i.shape.Ellipse(e.getDrawing())),this.point_=Array(2)},n.inherits(i.shape.EllipseCreatable,i.shape.Creatable),i.shape.EllipseCreatable.prototype.getCoords=function(){return this.helper_.getCoords()},i.shape.EllipseCreatable.prototype.handleDown=function(e,t){var n=t.getPointTransformed();this.point_[0]=n[0],this.point_[1]=n[1],this.preview_.setCenter(n[0],n[1]),this.preview_.setRadiusX(0),this.preview_.setRadiusY(0),this.target_.getDrawing().handleShapeCreate([this.preview_])},i.shape.EllipseCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed(),i=n[0]-this.point_[0],r=n[1]-this.point_[1];this.preview_.setCenter(n[0]-i/2,n[1]-r/2),this.preview_.setRadiusX(Math.abs(i/2)),this.preview_.setRadiusY(Math.abs(r/2))},i.shape.EllipseCreatable.prototype.handleUp=function(e,t){var n=new i.shape.Ellipse(this.target_.getDrawing()),r=this.preview_.getCenter();n.setStyle(this.target_),n.setCenter(r[0],r[1]),n.setRadiusX(this.preview_.getRadiusX()),n.setRadiusY(this.preview_.getRadiusY()),this.target_.getDrawing().handleShapeCreated(n)},i.shape.EllipseCreatable.prototype.disposeInternal=function(){this.point_=null,i.shape.EllipseCreatable.superClass_.disposeInternal.call(this)},i.geometry.Line=function(){i.geometry.Geometry.call(this),this.y2=this.x2=this.y1=this.x1=0,this.arr_=[[this.x1,this.y1],[this.x2,this.y2]]},n.inherits(i.geometry.Line,i.geometry.Geometry),i.geometry.Line.containsPoint=function(e,t){var n,i,r,o,s=e[0][0],a=e[0][1],l=e[1][0],h=e[1][1];return s<l?(n=s,i=l):(n=l,i=s),a<h?(r=a,o=h):(r=h,o=a),!(t[0]<n-7||t[0]>i+7||t[1]<r-7||t[1]>o+7)&&(7>Math.abs(s-l)?7>Math.abs(t[0]-s):7>Math.abs(a-h)?7>Math.abs(t[1]-a):(n=(h-a)/(l-s),7>Math.abs(t[1]-(n*t[0]+(a-n*s)))))},i.geometry.Line.prototype.containsPoint=function(e){return this.arr_[0][0]=this.x1,this.arr_[0][1]=this.y1,this.arr_[1][0]=this.x2,this.arr_[1][1]=this.y2,i.geometry.Line.containsPoint(this.arr_,e)},i.geometry.Line.prototype.disposeInternal=function(){this.arr_=null,i.geometry.Line.superClass_.disposeInternal.call(this)},i.geometry.Polyline=function(e){if(i.geometry.Geometry.call(this),this.coords=void 0===e?[]:Array(e),void 0!==e)for(var t=0;t<e;t++)this.coords[t]=Array(2)},n.inherits(i.geometry.Polyline,i.geometry.Geometry),i.geometry.Polyline.prototype.containsPoint=function(e){for(var t=!1,n=0,r=this.coords.length-1;n<r&&!0!==(t=i.geometry.Line.containsPoint([this.coords[n],this.coords[n+1]],e));n++);return t},i.geometry.Polyline.prototype.disposeInternal=function(){this.coords=null,i.geometry.Polyline.superClass_.disposeInternal.call(this)},i.shape.PathLike=function(e,t){i.shape.Geometry.call(this,e,t)},n.inherits(i.shape.PathLike,i.shape.Geometry),i.shape.PathLike.prototype.setCoords=function(e){this.geometry_.coords=e},i.shape.PathLike.prototype.getCoords=function(e){return this.geometry_.coords},i.shape.PathLike.prototype.setCoordAt=function(e,t){this.geometry_.coords[e][0]=t[0],this.geometry_.coords[e][1]=t[1]},i.shape.PathLike.prototype.setCoordXAt=function(e,t){this.geometry_.coords[e][0]=t},i.shape.PathLike.prototype.setCoordYAt=function(e,t){this.geometry_.coords[e][1]=t},i.shape.PathLike.prototype.setLastCoord=function(e){var t=this.geometry_.coords.length-1;this.geometry_.coords[t][0]=e[0],this.geometry_.coords[t][1]=e[1]},i.shape.PathLike.prototype.appendCoord=function(e){this.geometry_.coords.push(e)},i.shape.PathLike.prototype.disposeInternal=function(){i.shape.PathLike.superClass_.disposeInternal.call(this)},i.shape.Polyline=function(e){i.shape.PathLike.call(this,e,new i.geometry.Polyline),this.engineElement_=this.drawing_.getEngine().createPolyline()},n.inherits(i.shape.Polyline,i.shape.PathLike),i.shape.Polyline.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.getCoords(),this.getRenderingFillColor(),0,this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},i.shape.Polyline.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new i.shape.PolylineHoverable(this)),this.hoverable_},i.shape.Polyline.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new i.shape.PolylineSelectable(this)),this.selectable_},i.shape.Polyline.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new i.shape.PolylineModifiable(this)),this.modifiable_},i.shape.Polyline.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new i.shape.PolylineCreatable(this)),this.creatable_},i.shape.Polyline.prototype.disposeInternal=function(){i.shape.Polyline.superClass_.disposeInternal.call(this)},i.shape.PolylineHoverable=function(e){i.shape.Hoverable.call(this,e)},n.inherits(i.shape.PolylineHoverable,i.shape.Hoverable),i.shape.PolylineHoverable.prototype.disposeInternal=function(){i.shape.PolylineHoverable.superClass_.disposeInternal.call(this)},i.shape.PolylineSelectable=function(e){i.shape.Selectable.call(this,e)},n.inherits(i.shape.PolylineSelectable,i.shape.Selectable),i.shape.PolylineSelectable.prototype.disposeInternal=function(){i.shape.PolylineSelectable.superClass_.disposeInternal.call(this)},i.shape.PolylineModifiable=function(e,t){i.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(i.shape.PolylineModifiable,i.shape.Modifiable),i.shape.PolylineModifiable.prototype.setCoords=function(e,t){for(var n=0,i=this.dragger_.length;n<i;n++)n!==t&&(this.dragger_[n].setCoordX(e[n][0]),this.dragger_[n].setCoordY(e[n][1]));this.shape_.setCoords(e)},i.shape.PolylineModifiable.prototype.setCoordAt=function(e,t){this.dragger_[e].setCoordX(t[0]),this.dragger_[e].setCoordY(t[1]),this.shape_.setCoordXAt(e,t[0]),this.shape_.setCoordYAt(e,t[1])},i.shape.PolylineModifiable.prototype.init_=function(){for(var e,t=this.shape_.getCoords(),n=[],r=0,o=t.length;r<o;r++)e=new i.shape.Dragger(this,r),e.setCoords([t[r]]),n.push(e);this.setDragger(n)},i.shape.PolylineModifiable.prototype.disposeInternal=function(){i.shape.PolylineModifiable.superClass_.disposeInternal.call(this)},i.shape.PolylineModifiable.prototype.move=function(e,t){for(var n=this.shape_.getCoordsCopy(),i=0,r=n.length;i<r;i++)n[i][0]+=e,n[i][1]+=t;this.setCoords(n)},i.shape.PolylineCreatable=function(e){i.shape.Creatable.call(this,e,new i.shape.Polyline(e.getDrawing())),this.count_=0},n.inherits(i.shape.PolylineCreatable,i.shape.Creatable),i.shape.PolylineCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},i.shape.PolylineCreatable.prototype.handleDown=function(e,t){var i=t.getShape(),r=t.getPointTransformed();0===this.count_?(this.preview_.setCoords([r,n.array.clone(r)]),this.count_+=1,this.target_.getDrawing().handleShapeCreate([this.preview_])):this.close_&&i===this.close_&&1===this.count_||this.preview_.setLastCoord(r)},i.shape.PolylineCreatable.prototype.handleMove=function(e,t){var n=t.getShape(),i=t.getPointTransformed();0!==this.count_&&(this.preview_.setLastCoord(i),this.close_&&n===this.close_?(this.close_.setStrokeColor("red"),this.close_.setStrokeWidth(3)):this.close_&&(this.close_.setStrokeColor("black"),this.close_.setStrokeWidth(1)))},i.shape.PolylineCreatable.prototype.handleUp=function(e,t){var n=t.getShape(),r=t.getPointTransformed();this.close_&&n===this.close_?(n=new i.shape.Polyline(this.target_.getDrawing()),n.setStyle(this.target_),n.setCoords(this.preview_.getCoordsCopy().splice(0,this.count_)),this.target_.getDrawing().handleShapeCreated(n),this.close_=null,this.count_=0):(this.preview_.appendCoord(r),1===this.count_&&(this.close_=new i.shape.Dragger(this.target_.getModifiable(),0),this.target_.getDrawing().handleShapeCreate([this.close_])),this.close_.setCoords([r]),this.count_+=1)},i.shape.PolylineCreatable.prototype.disposeInternal=function(){this.close_.dispose(),this.close_=null,i.shape.PolylineCreatable.superClass_.disposeInternal.call(this)},i.geometry.Path=function(e){if(i.geometry.Geometry.call(this),this.coords=void 0===e?[]:Array(e),void 0!==e)for(var t=0;t<e;t++)this.coords[t]=Array(2)},n.inherits(i.geometry.Path,i.geometry.Geometry),i.geometry.Path.prototype.containsPoint=function(e){var t=e[0];e=e[1];for(var n,i,r=this.coords,o=!1,s=0,a=r.length-1;s<r.length;a=s++)n=r[s][0],yi=r[s][1],i=r[a][0],yj=r[a][1],(n=yi>e!=yj>e&&t<(i-n)*(e-yi)/(yj-yi)+n)&&(o=!o);return o},i.geometry.Path.prototype.disposeInternal=function(){this.coords=null,i.geometry.Path.superClass_.disposeInternal.call(this)},i.geometry.Circle=function(){i.geometry.Geometry.call(this),this.r=this.cy=this.cx=0},n.inherits(i.geometry.Circle,i.geometry.Geometry),i.geometry.Circle.prototype.containsPoint=function(e){return(this.cx-e[0])*(this.cx-e[0])+(this.cy-e[1])*(this.cy-e[1])<=this.r*this.r},i.geometry.Circle.prototype.disposeInternal=function(){i.geometry.Circle.superClass_.disposeInternal.call(this)},i.shape.Circle=function(e){i.shape.Geometry.call(this,e,new i.geometry.Circle),this.engineElement_=this.drawing_.getEngine().createCircle()},n.inherits(i.shape.Circle,i.shape.Geometry),i.shape.Circle.prototype.getCenter=function(){return[this.geometry_.cx,this.geometry_.cy]},i.shape.Circle.prototype.setCenter=function(e,t){this.geometry_.cx=e,this.geometry_.cy=t},i.shape.Circle.prototype.getRadius=function(){return this.geometry_.r},i.shape.Circle.prototype.setRadius=function(e){this.geometry_.r=e},i.shape.Circle.prototype.getCoords=function(){return[this.getCenter()]},i.shape.Circle.prototype.setCoords=function(e){this.setCenter(e[0][0],e[0][1])},i.shape.Circle.prototype.setCoordX=function(e){this.geometry_.cx=e},i.shape.Circle.prototype.setCoordY=function(e){this.geometry_.cy=e},i.shape.Circle.prototype.draw=function(){this.startDrawing_();var e=this.getCenter();this.engineElement_.draw(e[0],e[1],this.getRadius(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},i.shape.Circle.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new i.shape.CircleHoverable(this)),this.hoverable_},i.shape.Circle.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new i.shape.CircleSelectable(this)),this.selectable_},i.shape.Circle.prototype.getModifiable=function(){return this.modifiable_||(this.modifiable_=new i.shape.CircleModifiable(this)),this.modifiable_},i.shape.Circle.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new i.shape.CircleCreatable(this)),this.creatable_},i.shape.Circle.prototype.disposeInternal=function(){i.shape.Circle.superClass_.disposeInternal.call(this)},i.shape.CircleHoverable=function(e){i.shape.Hoverable.call(this,e)},n.inherits(i.shape.CircleHoverable,i.shape.Hoverable),i.shape.CircleHoverable.prototype.disposeInternal=function(){i.shape.CircleHoverable.superClass_.disposeInternal.call(this)},i.shape.CircleSelectable=function(e){i.shape.Selectable.call(this,e)},n.inherits(i.shape.CircleSelectable,i.shape.Selectable),i.shape.CircleSelectable.prototype.disposeInternal=function(){i.shape.CircleSelectable.superClass_.disposeInternal.call(this)},i.shape.CircleModifiable=function(e){i.shape.Modifiable.call(this,e),this.init_()},n.inherits(i.shape.CircleModifiable,i.shape.Modifiable),i.shape.CircleModifiable.prototype.setCoords=function(e){this.shape_.setCoords(e),this.dragger_[0].setCoordX(e[0][0]+this.shape_.getRadius()),this.dragger_[0].setCoordY(e[0][1])},i.shape.CircleModifiable.prototype.setCoordAt=function(e,t){this.shape_.setRadius(Math.abs(t[0]-this.shape_.getCenter()[0])),this.dragger_[0].setCoordX(t[0])},i.shape.CircleModifiable.prototype.move=function(e,t){var n=this.shape_.getCoordsCopy();n[0][0]+=e,n[0][1]+=t,this.setCoords(n)},i.shape.CircleModifiable.prototype.init_=function(){var e=this.shape_.getCenter(),t=this.shape_.getRadius(),n=new i.shape.Dragger(this,0);n.setCoords([[e[0]+t,e[1]]]),this.setDragger([n])},i.shape.CircleModifiable.prototype.disposeInternal=function(){i.shape.CircleModifiable.superClass_.disposeInternal.call(this)},i.shape.CircleCreatable=function(e){i.shape.Creatable.call(this,e,new i.shape.Circle(e.getDrawing())),this.point_=Array(2)},n.inherits(i.shape.CircleCreatable,i.shape.Creatable),i.shape.CircleCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},i.shape.CircleCreatable.prototype.handleDown=function(e,t){var n=t.getPointTransformed();this.point_[0]=n[0],this.point_[1]=n[1],this.preview_.setCenter(n[0],n[1]),this.preview_.setRadius(0),this.target_.getDrawing().handleShapeCreate([this.preview_])},i.shape.CircleCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed(),i=n[0]-this.point_[0],r=n[1]-this.point_[1];this.preview_.setCenter(n[0]-i/2,n[1]-r/2),this.preview_.setRadius(Math.sqrt(i*i+r*r)/2)},i.shape.CircleCreatable.prototype.handleUp=function(e,t){t.getPointTransformed();var n=new i.shape.Circle(this.target_.getDrawing()),r=this.preview_.getCenter();n.setStyle(this.target_),n.setCenter(r[0],r[1]),n.setRadius(this.preview_.getRadius()),this.target_.getDrawing().handleShapeCreated(n)},i.shape.CircleCreatable.prototype.disposeInternal=function(){this.point_=null,i.shape.CircleCreatable.superClass_.disposeInternal.call(this)},i.shape.Dragger=function(e,t){var n=e.getShape().getDrawing();i.shape.Circle.call(this,n,n.getEngine().createCircle(n.getCanvas().getEngineElement())),this.modifiable_=e,this.pos_=t,this.init_()},n.inherits(i.shape.Dragger,i.shape.Circle),i.shape.Dragger.prototype.setCoord=function(e){this.modifiable_.setCoordAt(this.pos_,e)},i.shape.Dragger.prototype.getPosition=function(){return this.pos_},i.shape.Dragger.prototype.getRadius=function(){return this.geometry_.r/this.zoomFactor_},i.shape.Dragger.prototype.init_=function(e,t){this.setRadius(3),this.setStrokeColor("black"),this.setStrokeWidth(1),this.setFillColor("white"),this.setFillOpacity(1)},i.shape.Dragger.prototype.disposeInternal=function(){n.dispose(this.modifiable_),this.modifiable_=null,i.shape.Dragger.superClass_.disposeInternal.call(this)},i.shape.Polygon=function(e){i.shape.PathLike.call(this,e,new i.geometry.Path),this.engineElement_=this.drawing_.getEngine().createPolygon()},n.inherits(i.shape.Polygon,i.shape.PathLike),i.shape.Polygon.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.getCoords(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},i.shape.Polygon.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new i.shape.PolygonHoverable(this)),this.hoverable_},i.shape.Polygon.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new i.shape.PolygonSelectable(this)),this.selectable_},i.shape.Polygon.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new i.shape.PolygonModifiable(this)),this.modifiable_},i.shape.Polygon.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new i.shape.PolygonCreatable(this)),this.creatable_},i.shape.Polygon.prototype.disposeInternal=function(){i.shape.Polygon.superClass_.disposeInternal.call(this)},i.shape.PolygonHoverable=function(e){i.shape.Hoverable.call(this,e)},n.inherits(i.shape.PolygonHoverable,i.shape.Hoverable),i.shape.PolygonHoverable.prototype.disposeInternal=function(){i.shape.PolygonHoverable.superClass_.disposeInternal.call(this)},i.shape.PolygonSelectable=function(e){i.shape.Selectable.call(this,e)},n.inherits(i.shape.PolygonSelectable,i.shape.Selectable),i.shape.PolygonSelectable.prototype.disposeInternal=function(){i.shape.PolygonSelectable.superClass_.disposeInternal.call(this)},i.shape.PolygonModifiable=function(e,t){i.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(i.shape.PolygonModifiable,i.shape.Modifiable),i.shape.PolygonModifiable.prototype.setCoords=function(e,t){for(var n=0,i=this.dragger_.length;n<i;n++)n!==t&&(this.dragger_[n].setCoordX(e[n][0]),this.dragger_[n].setCoordY(e[n][1]));this.shape_.setCoords(e)},i.shape.PolygonModifiable.prototype.setCoordAt=function(e,t){this.dragger_[e].setCoordX(t[0]),this.dragger_[e].setCoordY(t[1]),this.shape_.setCoordXAt(e,t[0]),this.shape_.setCoordYAt(e,t[1])},i.shape.PolygonModifiable.prototype.move=function(e,t){for(var n=this.shape_.getCoordsCopy(),i=0,r=n.length;i<r;i++)n[i][0]+=e,n[i][1]+=t;this.setCoords(n)},i.shape.PolygonModifiable.prototype.disposeInternal=function(){i.shape.PolygonModifiable.superClass_.disposeInternal.call(this)},i.shape.PolygonModifiable.prototype.init_=function(){for(var e,t=this.shape_.getCoords(),n=[],r=0,o=t.length;r<o;r++)e=new i.shape.Dragger(this,r),e.setCoords([t[r]]),n.push(e);this.setDragger(n)},i.shape.PolygonCreatable=function(e){i.shape.Creatable.call(this,e,new i.shape.Polyline(e.getDrawing())),this.count_=0},n.inherits(i.shape.PolygonCreatable,i.shape.Creatable),i.shape.PolygonCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},i.shape.PolygonCreatable.prototype.handleDown=function(e,t){var r=t.getShape(),o=t.getPointTransformed();0===this.count_?(this.preview_.setCoords([o,n.array.clone(o)]),this.close_=new i.shape.Dragger(this.target_.getModifiable(),0),this.close_.setCoords([o]),this.count_+=1,this.target_.getDrawing().handleShapeCreate([this.preview_,this.close_])):this.close_&&r===this.close_&&1===this.count_||this.preview_.setLastCoord(o)},i.shape.PolygonCreatable.prototype.handleMove=function(e,t){var n=t.getShape(),i=t.getPointTransformed();0!==this.count_&&(this.preview_.setLastCoord(i),n===this.close_?(this.close_.setStrokeColor("red"),this.close_.setStrokeWidth(3)):(this.close_.setStrokeColor("black"),this.close_.setStrokeWidth(1)))},i.shape.PolygonCreatable.prototype.handleUp=function(e,t){var n=t.getShape(),r=t.getPointTransformed();this.close_&&n===this.close_?(n=new i.shape.Polygon(this.target_.getDrawing()),n.setStyle(this.target_),n.setCoords(this.preview_.getCoordsCopy().splice(0,this.count_)),this.target_.getDrawing().handleShapeCreated(n),this.close_=null,this.count_=0):(this.preview_.setLastCoord(r),this.preview_.appendCoord(r),this.count_+=1)},i.shape.PolygonCreatable.prototype.disposeInternal=function(){this.close_.dispose(),this.close_=null,i.shape.PolygonCreatable.superClass_.disposeInternal.call(this)},i.shape.Line=function(e){i.shape.Geometry.call(this,e,new i.geometry.Line),this.engineElement_=this.drawing_.getEngine().createLine()},n.inherits(i.shape.Line,i.shape.Geometry),i.shape.Line.prototype.getX1=function(){return this.geometry_.x1},i.shape.Line.prototype.setX1=function(e){this.geometry_.x1=e},i.shape.Line.prototype.getY1=function(){return this.geometry_.y1},i.shape.Line.prototype.setY1=function(e){this.geometry_.y1=e},i.shape.Line.prototype.getX2=function(){return this.geometry_.x2},i.shape.Line.prototype.setX2=function(e){this.geometry_.x2=e},i.shape.Line.prototype.getY2=function(){return this.geometry_.y2},i.shape.Line.prototype.setY2=function(e){this.geometry_.y2=e},i.shape.Line.prototype.getCoords=function(){return[[this.geometry_.x1,this.geometry_.y1],[this.geometry_.x2,this.geometry_.y2]]},i.shape.Line.prototype.setCoords=function(e){this.geometry_.x1=e[0][0],this.geometry_.y1=e[0][1],this.geometry_.x2=e[1][0],this.geometry_.y2=e[1][1]},i.shape.Line.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.geometry_.x1,this.geometry_.y1,this.geometry_.x2,this.geometry_.y2,this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},i.shape.Line.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new i.shape.LineHoverable(this)),this.hoverable_},i.shape.Line.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new i.shape.LineSelectable(this)),this.selectable_},i.shape.Line.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new i.shape.LineModifiable(this)),this.modifiable_},i.shape.Line.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new i.shape.LineCreatable(this)),this.creatable_},i.shape.Line.prototype.disposeInternal=function(){i.shape.Line.superClass_.disposeInternal.call(this)},i.shape.LineHoverable=function(e){i.shape.Hoverable.call(this,e)},n.inherits(i.shape.LineHoverable,i.shape.Hoverable),i.shape.LineHoverable.prototype.disposeInternal=function(){i.shape.LineHoverable.superClass_.disposeInternal.call(this)},i.shape.LineSelectable=function(e){i.shape.Selectable.call(this,e)},n.inherits(i.shape.LineSelectable,i.shape.Selectable),i.shape.LineSelectable.prototype.disposeInternal=function(){i.shape.LineSelectable.superClass_.disposeInternal.call(this)},i.shape.LineModifiable=function(e,t){i.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(i.shape.LineModifiable,i.shape.Modifiable),i.shape.LineModifiable.prototype.disposeInternal=function(){i.shape.LineModifiable.superClass_.disposeInternal.call(this)},i.shape.LineModifiable.prototype.setCoords=function(e){this.shape_.setCoords(e),this.dragger_[0].setCoordX(e[0][0]),this.dragger_[0].setCoordY(e[0][1]),this.dragger_[1].setCoordX(e[1][0]),this.dragger_[1].setCoordY(e[1][1])},i.shape.LineModifiable.prototype.setCoordAt=function(e,t){0===e?(this.dragger_[0].setCoordX(t[0]),this.dragger_[0].setCoordY(t[1]),this.shape_.setX1(t[0]),this.shape_.setY1(t[1])):(this.dragger_[1].setCoordX(t[0]),this.dragger_[1].setCoordY(t[1]),this.shape_.setX2(t[0]),this.shape_.setY2(t[1]))},i.shape.LineModifiable.prototype.move=function(e,t){var n=this.shape_.getCoordsCopy();n[0][0]+=e,n[0][1]+=t,n[1][0]+=e,n[1][1]+=t,this.setCoords(n)},i.shape.LineModifiable.prototype.init_=function(){var e=new i.shape.Dragger(this,0);e.setCoords([[this.shape_.getX1(),this.shape_.getY1()]]);var t=new i.shape.Dragger(this,1);t.setCoords([[this.shape_.getX2(),this.shape_.getY2()]]),this.setDragger([e,t])},i.shape.LineModifiable.prototype.disposeInternal=function(){i.shape.LineModifiable.superClass_.disposeInternal.call(this)},i.shape.LineCreatable=function(e){i.shape.Creatable.call(this,e,new i.shape.Line(e.getDrawing()))},n.inherits(i.shape.LineCreatable,i.shape.Creatable),i.shape.LineCreatable.prototype.getCoords=function(){return this.helper_.getCoords()},i.shape.LineCreatable.prototype.handleDown=function(e,t){var n=t.getPointTransformed();this.preview_.setX1(n[0]),this.preview_.setY1(n[1]),this.preview_.setX2(n[0]),this.preview_.setY2(n[1]),this.target_.getDrawing().handleShapeCreate([this.preview_])},i.shape.LineCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed();this.preview_.setX2(n[0]),this.preview_.setY2(n[1])},i.shape.LineCreatable.prototype.handleUp=function(e,t){var n=t.getPointTransformed(),r=new i.shape.Line(this.target_.getDrawing());r.setStyle(this.target_),r.setX1(this.preview_.getX1()),r.setY1(this.preview_.getY1()),r.setX2(n[0]),r.setY2(n[1]),this.target_.getDrawing().handleShapeCreated(r)},i.shape.LineCreatable.prototype.disposeInternal=function(){i.shape.LineCreatable.superClass_.disposeInternal.call(this)},i.shape.Rect=function(e){i.shape.PathLike.call(this,e,new i.geometry.Path(4)),this.engineElement_=this.drawing_.getEngine().createRect()},n.inherits(i.shape.Rect,i.shape.PathLike),i.shape.Rect.prototype.setX=function(e){this.geometry_.coords[0][0]=e,this.geometry_.coords[3][0]=e},i.shape.Rect.prototype.getX=function(){return this.geometry_.coords[0][0]},i.shape.Rect.prototype.setY=function(e){this.geometry_.coords[0][1]=e,this.geometry_.coords[1][1]=e},i.shape.Rect.prototype.getY=function(){return this.geometry_.coords[0][1]},i.shape.Rect.prototype.setWidth=function(e){var t=this.geometry_.coords[0][0];this.geometry_.coords[1][0]=t+e,this.geometry_.coords[2][0]=t+e},i.shape.Rect.prototype.getWidth=function(){var e=this.geometry_.coords;return e[1][0]-e[0][0]},i.shape.Rect.prototype.setHeight=function(e){var t=this.geometry_.coords[0][1];this.geometry_.coords[2][1]=t+e,this.geometry_.coords[3][1]=t+e},i.shape.Rect.prototype.getHeight=function(){var e=this.geometry_.coords;return e[3][1]-e[0][1]},i.shape.Rect.prototype.setAffineCoords=function(e){var t=this.getCoords();return 0===e||2===e?(t[1][0]=t[2][0],t[1][1]=t[0][1],t[3][0]=t[0][0],t[3][1]=t[2][1]):(t[0][0]=t[3][0],t[0][1]=t[1][1],t[2][0]=t[1][0],t[2][1]=t[3][1]),t},i.shape.Rect.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.getCoords(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},i.shape.Rect.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new i.shape.RectHoverable(this)),this.hoverable_},i.shape.Rect.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new i.shape.RectSelectable(this)),this.selectable_},i.shape.Rect.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new i.shape.RectModifiable(this)),this.modifiable_},i.shape.Rect.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new i.shape.RectCreatable(this)),this.creatable_},i.shape.Rect.prototype.disposeInternal=function(){i.shape.Rect.superClass_.disposeInternal.call(this)},i.shape.RectHoverable=function(e){i.shape.Hoverable.call(this,e)};n.inherits(i.shape.RectHoverable,i.shape.Hoverable),i.shape.RectHoverable.prototype.disposeInternal=function(){i.shape.RectHoverable.superClass_.disposeInternal.call(this)},i.shape.RectSelectable=function(e){i.shape.Selectable.call(this,e)},n.inherits(i.shape.RectSelectable,i.shape.Selectable),i.shape.RectSelectable.prototype.disposeInternal=function(){i.shape.RectSelectable.superClass_.disposeInternal.call(this)},i.shape.RectModifiable=function(e,t){i.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(i.shape.RectModifiable,i.shape.Modifiable),i.shape.RectModifiable.prototype.setCoords=function(e,t){for(var n=0,i=this.dragger_.length;n<i;n++)n!==t&&(this.dragger_[n].setCoordX(e[n][0]),this.dragger_[n].setCoordY(e[n][1]));this.shape_.setCoords(e)},i.shape.RectModifiable.prototype.setCoordAt=function(e,t){var n;this.shape_.setCoordAt(e,t),this.shape_.setAffineCoords(e),n=this.shape_.getCoords(),this.dragger_[0].setCoordX(n[0][0]),this.dragger_[0].setCoordY(n[0][1]),this.dragger_[1].setCoordX(n[1][0]),this.dragger_[1].setCoordY(n[1][1]),this.dragger_[2].setCoordX(n[2][0]),this.dragger_[2].setCoordY(n[2][1]),this.dragger_[3].setCoordX(n[3][0]),this.dragger_[3].setCoordY(n[3][1])},i.shape.RectModifiable.prototype.move=function(e,t){for(var n=this.shape_.getCoordsCopy(),i=0,r=n.length;i<r;i++)n[i][0]+=e,n[i][1]+=t;this.setCoords(n)},i.shape.RectModifiable.prototype.disposeInternal=function(){i.shape.RectModifiable.superClass_.disposeInternal.call(this)},i.shape.RectModifiable.prototype.init_=function(){for(var e,t=this.shape_.getCoords(),n=[],r=0,o=t.length;r<o;r++)e=new i.shape.Dragger(this,r),e.setCoords([t[r]]),n.push(e);this.setDragger(n)},i.shape.RectCreatable=function(e){i.shape.Creatable.call(this,e,new i.shape.Rect(e.getDrawing()))},n.inherits(i.shape.RectCreatable,i.shape.Creatable),i.shape.RectCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},i.shape.RectCreatable.prototype.handleDown=function(e,t){var i=t.getPointTransformed(),r=Array(4);r[0]=n.array.clone(i),r[1]=n.array.clone(i),r[2]=n.array.clone(i),r[3]=n.array.clone(i),this.preview_.setCoords(r),this.target_.getDrawing().handleShapeCreate([this.preview_])},i.shape.RectCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed();this.preview_.setCoordAt(2,n),this.preview_.setAffineCoords(2)},i.shape.RectCreatable.prototype.handleUp=function(e,t){var n=new i.shape.Rect(this.target_.getDrawing());n.setStyle(this.target_),n.setCoords(this.preview_.getCoordsCopy()),this.target_.getDrawing().handleShapeCreated(n)},i.shape.RectCreatable.prototype.disposeInternal=function(){i.shape.RectCreatable.superClass_.disposeInternal.call(this)},i.shape.ShapeGroup=function(e){i.shape.Group.call(this,e)},n.inherits(i.shape.ShapeGroup,i.shape.Group),i.shape.ShapeGroup.prototype.addChildren=function(e){i.shape.ShapeGroup.superClass_.addChildren.call(this,e),e=0;for(var t=this.childs_.length;e<t;e++)this.childs_[e].setShapeGroup(this),this.geometry_.addChild(this.childs_[e].getGeometry())},i.shape.ShapeGroup.prototype.getHoverable=function(){return void 0===this.hoverable_&&(this.hoverable_=new i.shape.ShapeGroupHoverable(this)),this.hoverable_},i.shape.ShapeGroup.prototype.getSelectable=function(){return void 0===this.selectable_&&(this.selectable_=new i.shape.ShapeGroupSelectable(this)),this.selectable_},i.shape.ShapeGroup.prototype.getModifiable=function(){return void 0===this.modifiable_&&(this.modifiable_=new i.shape.ShapeGroupModifiable(this)),this.modifiable_},i.shape.ShapeGroup.prototype.getCreatable=function(){return void 0===this.creatable_&&(this.creatable_=new i.shape.ShapeGroupCreatable(this)),this.creatable_},i.shape.ShapeGroupHoverable=function(e){i.shape.Hoverable.call(this,e)},n.inherits(i.shape.ShapeGroupHoverable,i.shape.Hoverable),i.shape.ShapeGroupSelectable=function(e){i.shape.Selectable.call(this,e)},n.inherits(i.shape.ShapeGroupSelectable,i.shape.Selectable),i.shape.ShapeGroupModifiable=function(e){i.shape.Modifiable.call(this,e)},n.inherits(i.shape.ShapeGroupModifiable,i.shape.Modifiable),i.shape.ShapeGroupModifiable.prototype.getDragger=function(){for(var e=this.shape_.getChildren(),t=[],n=0,i=e.length;n<i;n++)t=t.concat(e[n].getModifiable().getDragger());return t},i.shape.ShapeGroupModifiable.prototype.move=function(e,t){for(var n=this.shape_.getChildren(),i=0,r=n.length;i<r;i++)n[i].getModifiable().move(e,t)},i.shape.ShapeGroupCreatable=function(e){i.shape.Creatable.call(this,e,new i.shape.ShapeGroup(e.getDrawing())),this.current=0},n.inherits(i.shape.ShapeGroupCreatable,i.shape.Creatable),i.shape.ShapeGroupCreatable.prototype.allShapesCreated=function(){return this.current===this.target_.getChildren().length-1},i.shape.ShapeGroupCreatable.prototype.reset=function(){this.current=0,this.preview_.removeChildren()},i.shape.ShapeGroupCreatable.prototype.handleDown=function(e,t){this.target_.getChild(this.current).getCreatable().handleDown(e,t)},i.shape.ShapeGroupCreatable.prototype.handleMove=function(e,t){this.target_.getChild(this.current).getCreatable().handleMove(e,t)},i.shape.ShapeGroupCreatable.prototype.handleUp=function(e,t){this.target_.getChild(this.current).getCreatable().handleUp(e,t)},i.shape.Canvas=function(e){i.shape.Container.call(this,e),this.engineElement_=this.drawing_.getEngine().getCanvas(),n.dom.append(this.drawing_.getElement(),this.engineElement_.getElement())},n.inherits(i.shape.Canvas,i.shape.Container),i.shape.Canvas.prototype.getElement=function(){return this.drawing_.getElement()},i.shape.Canvas.prototype.getEngine=function(){return this.drawing_.getEngine()},i.shape.Canvas.prototype.getHeight=function(){return this.engineElement_.getHeight()},i.shape.Canvas.prototype.setHeight=function(e){this.engineElement_.setHeight(e)},i.shape.Canvas.prototype.getWidth=function(){return this.engineElement_.getWidth()},i.shape.Canvas.prototype.setWidth=function(e){this.engineElement_.setWidth(e)},i.shape.Canvas.prototype.draw=function(){this.startDrawing_();for(var e=0,t=this.childs_.length;e<t;e++)this.childs_[e].draw();this.finishDrawing_()},i.shape.Canvas.prototype.disposeInternal=function(){i.shape.Canvas.superClass_.disposeInternal.call(this)},i.shape.Shapes=function(){},i.drawing.EventTarget=function(){n.Disposable.call(this),this.handler_=new n.events.EventHandler(this),this.cursor_=new i.drawing.Cursor(this),this.eventTarget_=i.drawing.EventTarget.DRAWING},n.inherits(i.drawing.EventTarget,n.Disposable),i.drawing.EventTarget.DRAWING="DRAWING",i.drawing.EventTarget.VIEWBOX="VIEWBOX",i.drawing.EventTarget.prototype.setEventTarget=function(e){if(e!==i.drawing.EventTarget.DRAWING&&e!==i.drawing.EventTarget.VIEWBOX)throw Error("xrx.drawing.EventTarget.DRAWING or xrx.drawing.EventTarget.VIEWBOX expected.");this.eventTarget_=e},i.drawing.EventTarget.prototype.getHandler=function(){return this.handler_},i.drawing.EventTarget.prototype.registerEvent_=function(e,t,n){this.cursor_.init(e);var r=this.viewbox_.containsPoint(this.cursor_.getPoint());(this.eventTarget_===i.drawing.EventTarget.VIEWBOX&&r||this.eventTarget_===i.drawing.EventTarget.DRAWING)&&(e.preventDefault(),e.stopPropagation(),e.getBrowserEvent().changedTouches&&e.init(e.getBrowserEvent().changedTouches[0],e.currentTarget),t[n](e,this.cursor_),this.draw())},i.drawing.EventTarget.prototype.registerClick=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),i.event.Type.CLICK,function(n){t.registerEvent_(n,e,i.event.Handler.CLICK)},!1)},i.drawing.EventTarget.prototype.registerDblClick=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),i.event.Type.DBLCLICK,function(n){t.registerEvent_(n,e,i.event.Handler.DBLCLICK)},!1)},i.drawing.EventTarget.prototype.registerDown=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),i.event.Type.DOWN,function(n){t.registerEvent_(n,e,i.event.Handler.DOWN)},!1)},i.drawing.EventTarget.prototype.registerDrag=function(e){this.registerDown(e),this.registerMove(e),this.registerUp(e)},i.drawing.EventTarget.prototype.registerMove=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),i.event.Type.MOVE,function(n){t.registerEvent_(n,e,i.event.Handler.MOVE)},!1)},i.drawing.EventTarget.prototype.registerHover=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),i.event.Type.MOVE,function(n){t.registerEvent_(n,e,i.event.Handler.MOVE)},!1)},i.drawing.EventTarget.prototype.registerOut=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),i.event.Type.OUT,function(n){t.registerEvent_(n,e,i.event.Handler.OUT)},!1)},i.drawing.EventTarget.prototype.registerUp=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),i.event.Type.UP,function(n){t.registerEvent_(n,e,i.event.Handler.UP)},!1)},i.drawing.EventTarget.prototype.registerWheel=function(e){if(!n.userAgent.MOBILE){var t=this,r=new n.events.MouseWheelHandler(t.canvas_.getEngineElement().getEventTarget());this.handler_.listen(r,i.event.Type.WHEEL,function(n){t.registerEvent_(n,e,i.event.Handler.WHEEL)},!1)}},i.drawing.EventTarget.prototype.disposeInternal=function(){this.handler_&&(this.handler_.dispose(),this.handler_=null)},i.drawing.EventTarget.prototype.registerEvents=function(e){switch(this.handler_.removeAll(),e){case void 0:case i.drawing.Mode.DISABLED:break;case i.drawing.Mode.VIEW:this.registerDblClick(this.viewbox_),this.registerDrag(this.viewbox_),this.registerOut(this.viewbox_),this.registerWheel(this.viewbox_);break;case i.drawing.Mode.SELECT:this.registerDown(this.selectable_),this.registerWheel(this.viewbox_);break;case i.drawing.Mode.MODIFY:this.registerDrag(this.modifiable_),this.registerWheel(this.viewbox_);break;case i.drawing.Mode.CREATE:this.registerDown(this.creatable_),this.registerMove(this.creatable_),this.registerUp(this.creatable_),this.registerWheel(this.viewbox_);break;case i.drawing.Mode.HOVER:case i.drawing.Mode.HOVERMULTIPLE:this.registerHover(this.hoverable_),this.registerOut(this.hoverable_),this.registerWheel(this.viewbox_),this.registerDrag(this.viewbox_);break;default:throw Error("Unknown mode.")}},i.drawing.EventTarget.prototype.disposeInternal=function(){this.handler_.removeAll(),this.handler_.dispose(),this.handler_=null,this.cursor_.dispose(),this.cursor_=null,i.drawing.EventTarget.superClass_.disposeInternal.call(this)},i.drawing.EventHandler=function(){i.drawing.EventTarget.call(this)},n.inherits(i.drawing.EventHandler,i.drawing.EventTarget),i.drawing.EventHandler.prototype.handleShapeCreate=function(e){this.creatable_.handleCreate(e)},i.drawing.EventHandler.prototype.handleShapeCreated=function(e){this.creatable_.handleCreated(e)},i.drawing.EventHandler.prototype.getClientPoint=function(e){var t,n=e.getBrowserEvent().changedTouches;return n?(t=n[0].clientX,e=n[0].clientY):(t=e.clientX,e=e.clientY),[t,e]},i.drawing.EventHandler.prototype.getOffsetPoint=function(e,t){var i=n.style.getClientPosition(this.canvas_.getEngineElement().getEventTarget()),r=this.getClientPoint(e),i=[r[0]-i.x,r[1]-i.y];return!0===t?this.getViewbox().getCTM().transformPoint(i):i},i.drawing.EventHandler.prototype.getShapeSelected=function(e){for(var t,n,i=!1,r=this.layer_.length-1;0<=r;r--){if(t=this.layer_[r],!t.isLocked()){t=t.getShapes()||[];for(var o=t.length-1;0<=o;o--)if(n=t[o],n.getGeometry().containsPoint(e)){i=!0;break}}if(!0===i)break}return i?n:void 0},i.drawing.EventHandler.prototype.getShapesSelected=function(e){for(var t,n,i=[],r=this.layer_.length-1;0<=r;r--)if(t=this.layer_[r],!t.isLocked()){t=t.getShapes()||[];for(var o=t.length-1;0<=o;o--)n=t[o],n.getGeometry().containsPoint(e)&&i.push(n)}return i},i.drawing.EventHandler.prototype.disposeInternal=function(){i.drawing.EventHandler.superClass_.disposeInternal.call(this)},i.drawing.LayerShapeModify=function(e){i.drawing.Layer.call(this,e)},n.inherits(i.drawing.LayerShapeModify,i.drawing.Layer),i.drawing.LayerShapeModify.prototype.activate=function(e){this.removeShapes(),this.addShapes(e.getDragger())},i.drawing.LayerShapeModify.prototype.disposeInternal=function(){i.drawing.LayerShapeModify.superClass_.disposeInternal.call(this)},n.net={},n.net.EventType={COMPLETE:"complete",SUCCESS:"success",ERROR:"error",ABORT:"abort",READY:"ready",READY_STATE_CHANGE:"readystatechange",TIMEOUT:"timeout",INCREMENTAL_DATA:"incrementaldata",PROGRESS:"progress"},n.net.ImageLoader=function(e){n.events.EventTarget.call(this),this.imageIdToRequestMap_={},this.imageIdToImageMap_={},this.handler_=new n.events.EventHandler(this),this.parent_=e},n.inherits(n.net.ImageLoader,n.events.EventTarget),n.net.ImageLoader.CorsRequestType={ANONYMOUS:"anonymous",USE_CREDENTIALS:"use-credentials"},n.net.ImageLoader.IMAGE_LOAD_EVENTS_=[n.userAgent.IE&&!n.userAgent.isVersionOrHigher("11")?n.net.EventType.READY_STATE_CHANGE:n.events.EventType.LOAD,n.net.EventType.ABORT,n.net.EventType.ERROR],n.net.ImageLoader.prototype.addImage=function(e,t,i){(t=n.isString(t)?t:t.src)&&(this.imageIdToRequestMap_[e]={src:t,corsRequestType:n.isDef(i)?i:null})},n.net.ImageLoader.prototype.removeImage=function(e){delete this.imageIdToRequestMap_[e];var t=this.imageIdToImageMap_[e];t&&(delete this.imageIdToImageMap_[e],this.handler_.unlisten(t,n.net.ImageLoader.IMAGE_LOAD_EVENTS_,this.onNetworkEvent_),n.object.isEmpty(this.imageIdToImageMap_)&&n.object.isEmpty(this.imageIdToRequestMap_)&&this.dispatchEvent(n.net.EventType.COMPLETE))},n.net.ImageLoader.prototype.start=function(){var e=this.imageIdToRequestMap_;n.array.forEach(n.object.getKeys(e),function(t){var n=e[t];n&&(delete e[t],this.loadImage_(n,t))},this)},n.net.ImageLoader.prototype.loadImage_=function(e,t){if(!this.isDisposed()){var i;i=this.parent_?n.dom.getDomHelper(this.parent_).createDom("img"):new Image,e.corsRequestType&&(i.crossOrigin=e.corsRequestType),this.handler_.listen(i,n.net.ImageLoader.IMAGE_LOAD_EVENTS_,this.onNetworkEvent_),this.imageIdToImageMap_[t]=i,i.id=t,i.src=e.src}},n.net.ImageLoader.prototype.onNetworkEvent_=function(e){var t=e.currentTarget;if(t){if(e.type==n.net.EventType.READY_STATE_CHANGE){if(t.readyState!=n.net.EventType.COMPLETE)return;e.type=n.events.EventType.LOAD}void 0===t.naturalWidth&&(e.type==n.events.EventType.LOAD?(t.naturalWidth=t.width,t.naturalHeight=t.height):(t.naturalWidth=0,t.naturalHeight=0)),this.dispatchEvent({type:e.type,target:t}),this.isDisposed()||this.removeImage(t.id)}},n.net.ImageLoader.prototype.disposeInternal=function(){delete this.imageIdToRequestMap_,delete this.imageIdToImageMap_,n.dispose(this.handler_),n.net.ImageLoader.superClass_.disposeInternal.call(this)},i.EventTarget=function(){n.Disposable.call(this)},n.inherits(i.EventTarget,n.Disposable),i.EventTarget.prototype.dispatchExternal=function(e,t){if(!n.string.startsWith(e,"event"))throw Error('Invalid event-type "". Prefix "event*" expected.');var i;i=void 0!==t?t:this,i[e]&&(2>=arguments.length?i[e].apply(i):i[e].apply(i,this.argsArray_(arguments)))},i.EventTarget.prototype.argsArray_=function(e){for(var t=e.length-2,n=Array(t),i=0;i<t;i++)n[i]=e[i+2];return n},i.EventTarget.prototype.disposeInternal=function(){i.EventTarget.superClass_.disposeInternal.call(this)},i.geometry.Box=function(){i.geometry.Geometry.call(this)},n.inherits(i.geometry.Box,i.geometry.Geometry),i.geometry.Box.containsPoint=function(e,t){return t[0]>=e[3]&&t[0]<=e[1]&&t[1]>=e[0]&&t[1]<=e[2]},i.geometry.Point=function(){i.geometry.Geometry.call(this)},n.inherits(i.geometry.Point,i.geometry.Geometry),i.geometry.Point.distancePoint=function(e,t){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)},i.geometry.Point.prototype.disposeInternal=function(){i.geometry.Point.superClass_.disposeInternal.call(this)},i.viewbox={},i.viewbox.ViewboxGeometry=function(){i.EventTarget.call(this),this.box_=Array(4),this.xy_=Array(2),this.wh_=Array(2)},n.inherits(i.viewbox.ViewboxGeometry,i.EventTarget),i.viewbox.ViewboxGeometry.prototype.getWidth=function(e,t){if(!0===t&&this.isHorizontal())return this.getHeight(e);var n=this.getDrawing().getLayerBackground().getImage(),n=n.getImage()?n.getWidth():this.drawing_.getWidth();return e?n*this.ctm_.getScale():n},i.viewbox.ViewboxGeometry.prototype.getHeight=function(e,t){if(!0===t&&this.isHorizontal())return this.getWidth(e);var n=this.getDrawing().getLayerBackground().getImage(),n=n.getImage()?n.getHeight():this.drawing_.getHeight();return e?n*this.ctm_.getScale():n},i.viewbox.ViewboxGeometry.prototype.getBox=function(){var e=this.getRotation(),t=this.getWidth(!1,!1),n=this.getHeight(!1,!1);return this.ctm_.transform([0,0],0,this.xy_,0,1),this.ctm_.transform([t,n],0,this.wh_,0,1),0===e?(this.box_[0]=this.xy_[1],this.box_[1]=this.wh_[0],this.box_[2]=this.wh_[1],this.box_[3]=this.xy_[0]):90===e?(this.box_[0]=this.xy_[1],this.box_[1]=this.xy_[0],this.box_[2]=this.wh_[1],this.box_[3]=this.wh_[0]):180===e?(this.box_[0]=this.wh_[1],this.box_[1]=this.xy_[0],this.box_[2]=this.xy_[1],this.box_[3]=this.wh_[0]):(this.box_[0]=this.wh_[1],this.box_[1]=this.wh_[0],this.box_[2]=this.xy_[1],this.box_[3]=this.xy_[0]),this.box_},i.viewbox.ViewboxGeometry.prototype.containsPoint=function(e){var t=this.getBox();return i.geometry.Box.containsPoint(t,e)},i.viewbox.ViewboxGeometry.prototype.getCenterPoint_=function(e){var t=[this.getWidth()/2,this.getHeight()/2];return!0!==e?t:(e=Array(2),this.ctm_.transform(t,0,e,0,1),e)},i.viewbox.ViewboxGeometry.prototype.getVisibleOrientation_=function(e){var t=["NW","SW","SE","NE"];return e=n.array.indexOf(t,e),t[(e+this.getRotation()/90)%4]},i.viewbox.ViewboxGeometry.prototype.FixPoints_={C:[0,0],NE:[0,0],SE:[0,0],SW:[0,0],NW:[0,0]},i.viewbox.ViewboxGeometry.prototype.getFixPoints_=function(){var e=this.getWidth(),t=this.getHeight();return this.FixPoints_.C=[e/2,t/2],this.FixPoints_.NE=[e,0],this.FixPoints_.SE=[e,t],this.FixPoints_.SW=[0,t],this.FixPoints_.NW=[0,0],this.FixPoints_},i.viewbox.ViewboxGeometry.prototype.getFixPoint_=function(e,t,n){var i=this.getFixPoints_();return(e=n?i[this.getVisibleOrientation_(e)]:i[e])||console.error("fixPoint could not be determined. Is the element containing the canvas visible?"),!0===t?(t=Array(2),this.ctm_.transform(e,0,t,0,1),t):e},i.viewbox.ViewboxGeometry.prototype.disposeInternal=function(){this.box_=null,i.viewbox.ViewboxGeometry.superClass_.disposeInternal.call(this)},i.viewbox.ViewboxRotate=function(){i.viewbox.ViewboxGeometry.call(this)},n.inherits(i.viewbox.ViewboxRotate,i.viewbox.ViewboxGeometry),i.viewbox.ViewboxRotate.prototype.getRotation=function(){return this.ctm_.getRotation()},i.viewbox.ViewboxRotate.prototype.isValidRotation=function(e){return 0===(e=Math.abs(e))||90===e||180===e||270===e},i.viewbox.ViewboxRotate.prototype.isVertical=function(){var e=this.ctm_.getRotation();return 0===e||180===e},i.viewbox.ViewboxRotate.prototype.isHorizontal=function(){var e=this.ctm_.getRotation();return 90===e||270===e},i.viewbox.ViewboxRotate.Direction_={0:0,90:1,180:2,270:3},i.viewbox.ViewboxRotate.prototype.direction_=function(){var e=this.ctm_.getRotation();return i.viewbox.ViewboxRotate.Direction_[parseInt(e)]},i.viewbox.ViewboxRotate.prototype.rotateBy=function(e,t){if(void 0===t)this.rotateBy_(e,void 0,void 0);else if(this.isFixPoint_(t))this.rotateBy_(e,void 0,t);else{if(!this.isOrientation_(t))throw Error("Invalid fix-point. Array[2] or xrx.drawing.Orientation.* expected.");this.rotateBy_(e,t,void 0)}this.drawing_.draw()},i.viewbox.ViewboxRotate.prototype.rotateLeft=function(e){this.rotateBy(-90,e)},i.viewbox.ViewboxRotate.prototype.rotateRight=function(e){this.rotateBy(90,e)},i.viewbox.ViewboxRotate.prototype.isFixPoint_=function(e){return e instanceof Array&&2===e.length},i.viewbox.ViewboxRotate.prototype.isOrientation_=function(e){return"string"==typeof e&&n.object.containsValue(i.drawing.Orientation,e)},i.viewbox.ViewboxRotate.prototype.rotateBy_=function(e,t,r){if(0!==e){if(!this.isValidRotation(e))throw Error("Invalid rotation. 0, 90, 180 or 270 expected.");var o,s=!(0<e);void 0!==t&&(o=this.getPivotPoint_(t,s,!0)),void 0!==r&&(o=this.containsPoint(r)?this.ctm_.transformPoint(r):this.getPivotPoint_(i.drawing.Orientation.C,s,!0)),void 0===o&&(o=this.getPivotPoint_(i.drawing.Orientation.C,s,!0)),this.ctm_.rotate(n.math.toRadians(e),o[0],o[1]),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)}},i.viewbox.ViewboxRotate.prototype.getPivotPoint_=function(e,t,n){var i=this.getPivotPoints_(t);return e={C:function(e,t){return t.getCenterPoint_()},NE:function(e,t,n){return console.log(t.direction_()),e[[0,1,2,3][t.direction_()]]},SE:function(e,t,n){return e[[3,0,1,2][t.direction_()]]},SW:function(e,t,n){return e[[2,3,0,1][t.direction_()]]},NW:function(e,t,n){return e[[1,2,3,0][t.direction_()]]}}[e](i,this,t),!0===n&&this.ctm_.transformPoint(e),e},i.viewbox.ViewboxRotate.prototype.getPivotPoints_=function(e){var t=this.getWidth(),n=this.getHeight();return e?[[-n/2+t,n/2],[t/2,t/2],[n/2,n/2],[t/2,t/2+n/2]]:[[t/2,t/2],[n/2,n/2],[t/2,t/2+n/2],[-n/2+t,n/2]]},i.viewbox.ViewboxRotate.prototype.disposeInternal=function(){i.viewbox.ViewboxRotate.superClass_.disposeInternal.call(this)},i.viewbox.ViewboxZoom=function(){i.viewbox.ViewboxRotate.call(this)},n.inherits(i.viewbox.ViewboxZoom,i.viewbox.ViewboxRotate),i.viewbox.ViewboxZoom.prototype.zoomFactor_=.1,i.viewbox.ViewboxZoom.prototype.getZoomFactor=function(){return this.zoomFactor_},i.viewbox.ViewboxZoom.prototype.setZoomFactor=function(e){this.zoomFactor_=e},i.viewbox.ViewboxZoom.prototype.getZoomValue=function(e){return void 0===e?this.ctm_.getScale():this.zoomMin_+e*this.zoomFactor_},i.viewbox.ViewboxZoom.prototype.zoomMin_=.1,i.viewbox.ViewboxZoom.prototype.getZoomMin=function(){return this.zoomMin_},i.viewbox.ViewboxZoom.prototype.setZoomFactorMin=function(e){this.zoomMin_=e},i.viewbox.ViewboxZoom.prototype.zoomMax_=2,i.viewbox.ViewboxZoom.prototype.getZoomMax=function(){return this.zoomMax_},i.viewbox.ViewboxZoom.prototype.setZoomFactorMax=function(e){this.zoomMax_=e},i.viewbox.ViewboxZoom.prototype.getZoomStep=function(e){return e=void 0!==e?e:this.getZoomValue(),Math.round((e-this.zoomMin_)/this.zoomFactor_)},i.viewbox.ViewboxZoom.prototype.zoomOffset_=function(e,t){this.ctm_.setTransform(this.ctm_.getScaleX(),this.ctm_.getShearY(),this.ctm_.getShearX(),this.ctm_.getScaleY(),(this.ctm_.getTranslateX()-e[0])*t+e[0],(this.ctm_.getTranslateY()-e[1])*t+e[1])},i.viewbox.ViewboxZoom.prototype.zoomTo=function(e,t){var n;n=void 0!==t&&this.containsPoint(t)?t:this.getCenterPoint_(!0),e<this.zoomMin_&&(e=this.zoomMin_),e>this.zoomMax_&&(e=this.zoomMax_);var r=1/this.getZoomValue()*e;this.zoomOffset_(n,r),this.ctm_.scale(r,r),this.drawing_.draw(),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},i.viewbox.ViewboxZoom.prototype.zoomIn=function(e){this.zoomTo(this.ctm_.getScale()+this.zoomFactor_,e)},i.viewbox.ViewboxZoom.prototype.zoomOut=function(e){this.zoomTo(this.ctm_.getScale()-this.zoomFactor_,e)},i.viewbox.ViewboxZoom.prototype.disposeInternal=function(){i.viewbox.ViewboxZoom.superClass_.disposeInternal.call(this)},i.viewbox.ViewboxTranslate=function(){i.viewbox.ViewboxZoom.call(this)},n.inherits(i.viewbox.ViewboxTranslate,i.viewbox.ViewboxZoom),i.viewbox.ViewboxTranslate.prototype.translate=function(e,t){var n=this.ctm_.getIdentity(),r=n.transformPoint([e,t]);this.ctm_=n.translate(r[0],r[1]).concatenate(this.ctm_),this.drawing_.draw(),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},i.viewbox.ViewboxTranslate.prototype.center=function(){this.centerHorizontally(),this.centerVertically()},i.viewbox.ViewboxTranslate.prototype.centerHorizontally=function(){var e=this.getFixPoint_(i.drawing.Orientation.NW,!0,!0),t=this.getWidth(!0,!0),e=this.getDrawing().getWidth()/2-(e[0]+t/2);this.translate(e,0),this.drawing_.draw(),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},i.viewbox.ViewboxTranslate.prototype.centerVertically=function(){var e=this.getFixPoint_(i.drawing.Orientation.NW,!0,!0),t=this.getHeight(!0,!0),e=this.getDrawing().getHeight()/2-(e[1]+t/2);this.translate(0,e),this.drawing_.draw(),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},i.viewbox.ViewboxTranslate.prototype.setPosition=function(e){var t=this.drawing_.getWidth(),n=this.drawing_.getHeight(),r=this.getFixPoint_(e,!0,!0);if(e===i.drawing.Position.NW)this.translate(-r[0],-r[1]);else if(e===i.drawing.Position.NE)this.translate(t-r[0],-r[1]);else if(e===i.drawing.Position.SE)this.translate(t-r[0],n-r[1]);else{if(e!==i.drawing.Position.SW)throw Error("Unknown position.");this.translate(-r[0],n-r[1])}this.drawing_.draw(),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},i.viewbox.ViewboxTranslate.prototype.disposeInternal=function(){i.viewbox.ViewboxTranslate.superClass_.disposeInternal.call(this)},i.viewbox.FastAffineTransform=function(){n.math.AffineTransform.call(this),this.identity_,this.inverse_,this.clone_},n.inherits(i.viewbox.FastAffineTransform,n.math.AffineTransform),i.viewbox.FastAffineTransform.prototype.getIdentity=function(){return this.identity_||(this.identity_=new i.viewbox.FastAffineTransform),this.identity_.setTransform(1,0,0,1,0,0),this.identity_},i.viewbox.FastAffineTransform.prototype.getInverse=function(){this.inverse_||(this.inverse_=new i.viewbox.FastAffineTransform);var e=this.getDeterminant();return this.inverse_.setTransform(this.m11_/e,-this.m10_/e,-this.m01_/e,this.m00_/e,(this.m01_*this.m12_-this.m11_*this.m02_)/e,(this.m10_*this.m02_-this.m00_*this.m12_)/e),this.inverse_},i.viewbox.FastAffineTransform.prototype.getClone=function(){return this.clone_||(this.clone_=new i.viewbox.FastAffineTransform),this.clone_.copyFrom(this)},i.viewbox.FastAffineTransform.prototype.transformPoint=function(e,t){var n=void 0!==t?t:Array(2);return this.createInverse().transform(e,0,n,0,1),n},i.viewbox.FastAffineTransform.prototype.getScale=function(){var e=this.getRotation();return this.getClone().rotate(n.math.toRadians(360-e)),this.clone_.getScaleX()},i.viewbox.FastAffineTransform.prototype.getRotation=function(){return{0:0,2:90,3:180,"-2":270}[Math.round(Math.atan2(this.getShearY(),this.getScaleY()))]},i.viewbox.FastAffineTransform.prototype.disposeInternal=function(){this.clone_=this.inverse_=this.identity_=null},i.viewbox.ViewboxTransform=function(){this.ctm_=new i.viewbox.FastAffineTransform,i.viewbox.ViewboxTranslate.call(this)},n.inherits(i.viewbox.ViewboxTransform,i.viewbox.ViewboxTranslate),i.viewbox.ViewboxTransform.prototype.getCTM=function(){return this.ctm_},i.viewbox.ViewboxTransform.prototype.setCTM=function(e){this.ctm_=e,this.drawing_.draw()},i.viewbox.ViewboxTransform.prototype.ctmDump=function(){return[this.ctm_.m00_,this.ctm_.m10_,this.ctm_.m01_,this.ctm_.m11_,this.ctm_.m02_,this.ctm_.m12_]},i.viewbox.ViewboxTransform.prototype.ctmRestore=function(e){if(6!==e.length)throw Error("Invalid CTM dump.");this.ctm_.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),this.drawing_.draw()},i.viewbox.ViewboxTransform.prototype.fitToWidth=function(e){var t=this.getWidth(!0,!0),t=this.drawing_.getCanvas().getWidth()/t;this.ctm_.scale(t,t),!1!==e&&this.center(),this.drawing_.draw(),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},i.viewbox.ViewboxTransform.prototype.fitToHeight=function(e){var t=this.getHeight(!0,!0),t=this.drawing_.getCanvas().getHeight()/t;this.ctm_.scale(t,t),!1!==e&&this.center(),this.drawing_.draw(),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},i.viewbox.ViewboxTransform.prototype.fit=function(e){this.getWidth(!0,!0)>this.getHeight(!0,!0)?this.fitToWidth():this.fitToHeight(),!1!==e&&this.center(),this.drawing_.draw()},i.viewbox.ViewboxTransform.prototype.disposeInternal=function(){this.ctm_.disposeInternal(),this.ctm_=null,i.viewbox.ViewboxTransform.superClass_.disposeInternal.call(this)},i.viewbox.Viewbox=function(e){i.viewbox.ViewboxTransform.call(this),this.drawing_=e,this.group_=new i.shape.Group(this.drawing_),this.state_=i.drawing.State.NONE},n.inherits(i.viewbox.Viewbox,i.viewbox.ViewboxTransform),i.viewbox.Viewbox.prototype.getDrawing=function(){return this.drawing_},i.viewbox.Viewbox.prototype.getGroup=function(){return this.group_},i.viewbox.Viewbox.prototype.handleDblClick=function(e,t){this.rotateRight(t.getPoint())},i.viewbox.Viewbox.prototype.handleDown=function(e,t){this.origin_=t.getPoint(),this.state_=i.drawing.State.DRAG},i.viewbox.Viewbox.prototype.handleMove=function(e,t){if(this.state_===i.drawing.State.DRAG){var n=t.getPoint()[0]-this.origin_[0],r=t.getPoint()[1]-this.origin_[1];this.translate(n,r),this.origin_=t.getPoint()}},i.viewbox.Viewbox.prototype.handleOut=function(e){this.resetState_()},i.viewbox.Viewbox.prototype.handleUp=function(e){this.resetState_()},i.viewbox.Viewbox.prototype.handleWheel=function(e,t){0>e.deltaY?this.zoomIn(t.getPoint()):this.zoomOut(t.getPoint())},i.viewbox.Viewbox.prototype.resetState_=function(){this.state_=i.drawing.State.NONE,this.origin_=null},i.viewbox.Viewbox.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,this.group_.dispose(),this.origin_=this.group_=null,i.viewbox.Viewbox.superClass_.disposeInternal.call(this)},i.drawing.LayerBackground=function(e){i.drawing.Layer.call(this,e)},n.inherits(i.drawing.LayerBackground,i.drawing.Layer),i.drawing.LayerBackground.prototype.getImage=function(e){return this.image_},i.drawing.LayerBackground.prototype.setImage=function(e){this.image_.setImage(e)},i.drawing.LayerBackground.prototype.create_=function(){this.group_=new i.shape.Group(this.drawing_),this.image_=new i.shape.Image(this.drawing_),this.group_.addChildren(this.image_)};i.drawing.LayerBackground.prototype.disposeInternal=function(){this.image_.dispose(),this.image_=null,i.drawing.LayerBackground.superClass_.disposeInternal.call(this)},i.drawing.Creatable=function(e){i.EventTarget.call(this),this.drawing_=e,this.newShapes_=[],this.previewShapes_=[]},n.inherits(i.drawing.Creatable,i.EventTarget),i.drawing.Creatable.prototype.setShapeCreatable=function(e){this.shapeCreatable_=e},i.drawing.Creatable.prototype.handleCreate=function(e){if(this.shapeCreatable_ instanceof i.shape.ShapeGroupCreatable){0===this.shapeCreatable_.current&&this.drawing_.getLayerShapeCreate().addShapes(this.shapeCreatable_.getPreview());for(var t=0;t<e.length;t++)e[t]instanceof i.shape.Dragger?this.drawing_.getLayerShapeModify().addShapes(e[t]):this.shapeCreatable_.getPreview().addChildren(e[t])}else this.drawing_.getLayerShapeCreate().addShapes(e)},i.drawing.Creatable.prototype.handleCreated=function(e){if(this.shapeCreatable_ instanceof i.shape.ShapeGroupCreatable)if(this.newShapes_.push(e),this.drawing_.getLayerShapeModify().removeShapes(),this.shapeCreatable_.allShapesCreated()){var t=new i.shape.ShapeGroup(this.drawing_);t.addChildren(this.newShapes_),t.setStyles(this.shapeCreatable_.getTarget()),this.drawing_.getLayerShape().addShapes(t),this.drawing_.getLayerShapeCreate().removeShapes(),this.drawing_.draw(),this.shapeCreatable_.reset(),this.newShapes_=[]}else this.shapeCreatable_.current++;else this.drawing_.getLayerShape().addShapes(e),this.drawing_.getLayerShapeCreate().removeShapes(),this.drawing_.draw();this.dispatchExternal(i.drawing.EventType.SHAPE_CREATED,this.drawing_,e)},i.drawing.Creatable.prototype.handleDown=function(e,t){this.shapeCreatable_.handleDown(e,t)},i.drawing.Creatable.prototype.handleMove=function(e,t){this.shapeCreatable_.handleMove(e,t)},i.drawing.Creatable.prototype.handleUp=function(e,t){this.shapeCreatable_.handleUp(e,t)},i.drawing.Hoverable=function(e){i.EventTarget.call(this),this.drawing_=e,this.last_=[],this.multiple_=!1},n.inherits(i.drawing.Hoverable,i.EventTarget),i.drawing.Hoverable.prototype.setMultiple=function(e){this.multiple_=!!e},i.drawing.Hoverable.prototype.pop_=function(){var e,t=this.last_.length;if(0<this.last_.length){for(var n=0;n<t;n++)(e=this.last_[n])&&e.getHoverable().hoverOff();this.dispatchExternal(i.drawing.EventType.SHAPE_HOVER_OUT,this.drawing_,this.last_)}},i.drawing.Hoverable.prototype.push_=function(e){var t,n=e.length;if(0<n){for(var r=0;r<n;r++)(t=e[r])&&t.getHoverable().hoverOn();this.last_=e,this.dispatchExternal(i.drawing.EventType.SHAPE_HOVER_IN,this.drawing_,e)}else this.last_=[]},i.drawing.Hoverable.prototype.hover_=function(e){n.array.equals(e,this.last_)||(this.pop_(),this.push_(e)),0<e.length&&this.dispatchExternal(i.drawing.EventType.SHAPE_HOVER_MOVE,this.drawing_,e)},i.drawing.Hoverable.prototype.handleMove=function(e,t){var i;i=this.multiple_?t.getShapes():t.getShape(),n.isArray(i)||(i=[i]),this.hover_(i)},i.drawing.Hoverable.prototype.handleOut=function(e){this.pop_()},i.drawing.Hoverable.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null;for(var e;e=this.last_.pop();)e.dispose();this.last_=null,i.drawing.Hoverable.superClass_.disposeInternal.call(this)},i.drawing.Selectable=function(e){i.EventTarget.call(this),this.drawing_=e},n.inherits(i.drawing.Selectable,i.EventTarget),i.drawing.Selectable.prototype.getShape=function(){return this.last_},i.drawing.Selectable.prototype.setSelected=function(e){this.last_&&this.last_.getSelectable().selectOff(),e?(e.getSelectable().selectOn(),this.last_=e,this.dispatchExternal(i.drawing.EventType.SHAPE_SELECTED,this.drawing_,e)):this.last_=null},i.drawing.Selectable.prototype.handleDown=function(e,t){this.setSelected(t.getShape())},i.drawing.Selectable.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,n.dispose(this.last_),this.last_=null,i.drawing.Selectable.superClass_.disposeInternal.call(this)},i.engine.Engine=function(e,t){n.Disposable.call(this),this.name_=e,this.available_=!1,this.init_(),this.canvas_=this.createCanvas_(t)},n.inherits(i.engine.Engine,n.Disposable),i.engine.Engine.prototype.getCanvas=function(){return this.canvas_},i.engine.Engine.prototype.createCanvas_=function(e){if(this.typeOf(i.engine.CANVAS))return i.canvas.Canvas.create(e);if(this.typeOf(i.engine.SVG))return i.svg.Canvas.create(e);if(this.typeOf(i.engine.VML))return i.vml.Canvas.create(e);throw Error("Unknown engine.")},i.engine.Engine.prototype.createCircle=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Circle.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Circle.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Circle.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.createEllipse=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Ellipse.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Ellipse.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Ellipse.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.createGroup=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Group.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Group.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Group.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.createImage=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Image.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Image.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Image.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.createLine=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Line.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Line.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Line.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.createPolygon=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Polygon.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Polygon.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Polygon.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.createPolyline=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Polyline.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Polyline.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Polyline.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.createRect=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Polygon.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Polygon.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Polygon.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.getName=function(){return this.name_},i.engine.Engine.prototype.typeOf=function(e){return this.name_===e},i.engine.Engine.prototype.isAvailable=function(){return this.available_},i.engine.Engine.prototype.findOptimalRenderer_=function(){if(i.engine.isSupported(i.engine.CANVAS))this.name_=i.engine.CANVAS,this.available_=!0;else if(i.engine.isSupported(i.engine.SVG))this.name_=i.engine.SVG,this.available_=!0;else{if(!i.engine.isSupported(i.engine.VML))throw Error("There is no graphics rendering engine available.");this.name_=i.engine.VML,this.available_=!0}},i.engine.Engine.prototype.forceRenderer_=function(){if(this.name_===i.engine.CANVAS)this.available_=i.engine.isSupported(i.engine.CANVAS);else if(this.name_===i.engine.SVG)this.available_=i.engine.isSupported(i.engine.SVG);else{if(this.name_!==i.engine.VML)throw this.available_=!1,Error("Unknown graphics rendering engine.");this.available_=i.engine.isSupported(i.engine.VML)}},i.engine.Engine.prototype.init_=function(){this.name_?this.forceRenderer_():this.findOptimalRenderer_()},i.engine.Engine.prototype.disposeInternal=function(){this.canvas_.dispose(),this.canvas_=null,i.engine.Engine.superClass_.disposeInternal.call(this)},n.dom.ViewportSizeMonitor=function(e){n.events.EventTarget.call(this),this.window_=e||window,this.listenerKey_=n.events.listen(this.window_,n.events.EventType.RESIZE,this.handleResize_,!1,this),this.size_=n.dom.getViewportSize(this.window_)},n.inherits(n.dom.ViewportSizeMonitor,n.events.EventTarget),n.dom.ViewportSizeMonitor.getInstanceForWindow=function(e){e=e||window;var t=n.getUid(e);return n.dom.ViewportSizeMonitor.windowInstanceMap_[t]=n.dom.ViewportSizeMonitor.windowInstanceMap_[t]||new n.dom.ViewportSizeMonitor(e)},n.dom.ViewportSizeMonitor.removeInstanceForWindow=function(e){e=n.getUid(e||window),n.dispose(n.dom.ViewportSizeMonitor.windowInstanceMap_[e]),delete n.dom.ViewportSizeMonitor.windowInstanceMap_[e]},n.dom.ViewportSizeMonitor.windowInstanceMap_={},n.dom.ViewportSizeMonitor.prototype.listenerKey_=null,n.dom.ViewportSizeMonitor.prototype.window_=null,n.dom.ViewportSizeMonitor.prototype.size_=null,n.dom.ViewportSizeMonitor.prototype.getSize=function(){return this.size_?this.size_.clone():null},n.dom.ViewportSizeMonitor.prototype.disposeInternal=function(){n.dom.ViewportSizeMonitor.superClass_.disposeInternal.call(this),this.listenerKey_&&(n.events.unlistenByKey(this.listenerKey_),this.listenerKey_=null),this.size_=this.window_=null},n.dom.ViewportSizeMonitor.prototype.handleResize_=function(e){e=n.dom.getViewportSize(this.window_),n.math.Size.equals(e,this.size_)||(this.size_=e,this.dispatchEvent(n.events.EventType.RESIZE))},i.drawing.Modifiable=function(e){i.EventTarget.call(this),this.drawing_=e,this.mode_=i.drawing.Modifiable.Mode.SHAPEHOVER,this.dragger_,this.shape_,this.origin_,this.propageted_=!1},n.inherits(i.drawing.Modifiable,i.EventTarget),i.drawing.Modifiable.Mode={DRAGSHAPE:1,HOVERSHAPE:2,DRAGDRAGGER:3},i.drawing.Modifiable.prototype.getShape=function(){return this.shape_},i.drawing.Modifiable.prototype.handleDown=function(e,t){var n;(n=t.getShape())?(this.origin_=t.getPointTransformed(),n&&n.isModifiable()?(this.state_=i.drawing.State.DRAG,n instanceof i.shape.Dragger?(this.mode_=i.drawing.Modifiable.Mode.DRAGDRAGGER,this.dragger_=n):(this.mode_=i.drawing.Modifiable.Mode.DRAGSHAPE,this.shape_&&this.shape_.getModifiable().selectOff(),this.shape_=n,n=this.shape_.getModifiable(),this.drawing_.getLayerShapeModify().activate(n),this.shape_.getModifiable().selectOn())):(this.drawing_.getLayerShapeModify().removeShapes(),this.shape_&&this.shape_.getModifiable().selectOff(),this.resetState_())):(this.drawing_.getViewbox().handleDown(e,t),this.propageted_=!0,this.drawing_.getLayerShapeModify().removeShapes(),this.shape_&&this.shape_.getModifiable().selectOff(),this.shape_=null,this.resetState_())},i.drawing.Modifiable.prototype.handleHover_=function(e,t){},i.drawing.Modifiable.prototype.handleDragShape_=function(e,t){var n=t.getPointTransformed(),i=n[0]-this.origin_[0],r=n[1]-this.origin_[1];this.shape_.getModifiable().move(i,r),this.origin_=n},i.drawing.Modifiable.prototype.handleMove=function(e,t){if(t.getShape(),this.propageted_)this.drawing_.getViewbox().handleMove(e,t);else{var n=t.getPointTransformed();this.mode_===i.drawing.Modifiable.Mode.SHAPEHOVER?this.handleHover_(e,t):this.mode_===i.drawing.Modifiable.Mode.DRAGDRAGGER?(this.dragger_.setCoord(n),this.dispatchExternal(i.drawing.EventType.SHAPE_MODIFY,this.drawing_,this.shape_)):this.mode_===i.drawing.Modifiable.Mode.DRAGSHAPE&&(this.handleDragShape_(e,t),this.dispatchExternal(i.drawing.EventType.SHAPE_MODIFY,this.drawing_,this.shape_))}},i.drawing.Modifiable.prototype.handleUp=function(e,t){t.getShape()||this.drawing_.getViewbox().handleUp(e,t),this.resetState_(),this.propageted_=!1},i.drawing.Modifiable.prototype.resetState_=function(){this.mode_=i.drawing.Modifiable.Mode.SHAPEHOVER},i.drawing.Modifiable.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,n.dispose(this.dragger_),n.dispose(this.shape_),this.origin_=null,i.drawing.Modifiable.superClass_.disposeInternal.call(this)},i.drawing.Drawing=function(e,t){i.drawing.EventHandler.call(this),this.element_=e,this.layer_=[],this.mode_=i.drawing.Mode.NONE,this.modifiable_=new i.drawing.Modifiable(this),this.selectable_=new i.drawing.Selectable(this),this.hoverable_=new i.drawing.Hoverable(this),this.creatable_=new i.drawing.Creatable(this),this.install_(t)},n.inherits(i.drawing.Drawing,i.drawing.EventHandler),i.drawing.Drawing.prototype.eventShapeModify=function(e){},i.drawing.Drawing.prototype.getElement=function(){return this.element_},i.drawing.Drawing.prototype.getEngine=function(){return this.engine_},i.drawing.Drawing.prototype.getCanvas=function(){return this.canvas_},i.drawing.Drawing.prototype.getLayerBackground=function(){return this.layer_[0]},i.drawing.Drawing.prototype.getLayerShape=function(){return this.layer_[1]},i.drawing.Drawing.prototype.getLayerShapeModify=function(){return this.layer_[3]},i.drawing.Drawing.prototype.getLayerShapeCreate=function(){return this.layer_[2]},i.drawing.Drawing.prototype.getLayerTool=function(){return this.layer_[4]},i.drawing.Drawing.prototype.getViewbox=function(){return this.viewbox_},i.drawing.Drawing.prototype.setSize=function(e,t){n.style.setSize(this.element_,e+"px",t+"px"),this.handleResize()},i.drawing.Drawing.prototype.getWidth=function(){return this.width_},i.drawing.Drawing.prototype.setWidth=function(e){this.setSize(e,this.height_)},i.drawing.Drawing.prototype.getHeight=function(){return this.height_},i.drawing.Drawing.prototype.setHeight=function(e){this.setSize(this.width_,e)},i.drawing.Drawing.prototype.setStyle=function(e,t){n.style.setStyle(this.element_,e,t),this.handleResize()},i.drawing.Drawing.prototype.getBackgroundImage=function(){return this.layer_[0].getImage().getImage()},i.drawing.Drawing.prototype.setBackgroundImage=function(e,t){var i=this.layer_[0].getImage();if(!i||i.src!==e){var r=this,i=new n.net.ImageLoader,o=n.dom.createElement("img");o.id="_tmp",o.src=e,n.events.listen(i,n.events.EventType.LOAD,function(e){r.layer_[0].setImage(e.target),t&&t.apply(r),r.draw()}),i.addImage("_tmp",o),i.start()}},i.drawing.Drawing.prototype.addShapes=function(e){this.layer_[1].addShapes(n.array.toArray(arguments)),this.draw()},i.drawing.Drawing.prototype.getShapes=function(){return this.layer_[1].getShapes()||[]},i.drawing.Drawing.prototype.removeShape=function(e){this.layer_[1].removeShape(e),this.layer_[3].removeShapes(),this.draw()},i.drawing.Drawing.prototype.getSelectedShape=function(){return this.mode_===i.drawing.Mode.SELECT?this.selectable_.getShape():this.mode_===i.drawing.Mode.MODIFY?this.modifiable_.getShape():null},i.drawing.Drawing.prototype.draw=function(){var e=this,t=this.getViewbox();this.eventBeforeRendering=function(e){e===t.getGroup()?e.setCTM(t.getCTM()):e instanceof i.shape.Style&&e.setZoomFactor(t.getZoomValue())},n.dom.getWindow().clearTimeout(this.timeoutDraw_),this.timeoutDraw_=n.dom.getWindow().setTimeout(function(){e.eventBeforeDraw&&e.eventBeforeDraw(),e.canvas_.draw()})},i.drawing.Drawing.prototype.getMode=function(){return this.mode_},i.drawing.Drawing.prototype.setMode_=function(e){e===this.mode_&&e!==i.drawing.Mode.CREATE||(this.mode_=e,this.registerEvents(e),this.draw())},i.drawing.Drawing.prototype.setModeDisabled=function(){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!0),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(i.drawing.Mode.DISABLED)},i.drawing.Drawing.prototype.setModeView=function(){this.getLayerBackground().setLocked(!1),this.getLayerShape().setLocked(!0),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(i.drawing.Mode.VIEW)},i.drawing.Drawing.prototype.setModeHover=function(e){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!1),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.hoverable_.setMultiple(e),!0===e?this.setMode_(i.drawing.Mode.HOVERMULTIPLE):this.setMode_(i.drawing.Mode.HOVER)},i.drawing.Drawing.prototype.setModeSelect=function(){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!1),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(i.drawing.Mode.SELECT)},i.drawing.Drawing.prototype.setSelected=function(e){this.selectable_.setSelected(e),this.draw()},i.drawing.Drawing.prototype.setModeModify=function(){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!1),this.getLayerShapeModify().setLocked(!1),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(i.drawing.Mode.MODIFY)},i.drawing.Drawing.prototype.setModeCreate=function(e){if(e){if(!(e instanceof i.shape.Creatable))throw Error("Instance of xrx.shape.Creatable expected.");this.creatable_.setShapeCreatable(e),this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!0),this.getLayerShapeModify().setLocked(!1),this.getLayerShapeCreate().setLocked(!1),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(i.drawing.Mode.CREATE)}},i.drawing.Drawing.prototype.handleResize=function(){var e=this;n.dom.getWindow().clearTimeout(this.timeoutResize_),this.timeoutResize_=n.dom.getWindow().setTimeout(function(){e.calculateSize_(),e.canvas_.setHeight(e.height_),e.canvas_.setWidth(e.width_),e.shield_.setHeight(e.height_),e.shield_.setWidth(e.width_)}),this.draw()},i.drawing.Drawing.prototype.calculateSize_=function(){var e=n.style.getSize(this.element_),t=n.style.getPaddingBox(this.element_),i=n.style.getBorderBox(this.element_),r=e.height-t.top-t.bottom-i.top-i.bottom;this.width_=e.width-t.left-t.right-i.left-i.right,this.height_=r},i.drawing.Drawing.prototype.installCanvas_=function(){var e=this;this.vsm_=new n.dom.ViewportSizeMonitor,n.events.listen(this.vsm_,n.events.EventType.RESIZE,function(t){e.handleResize()},!1,e),this.canvas_=new i.shape.Canvas(this),this.canvas_.setHeight(this.height_),this.canvas_.setWidth(this.width_)},i.drawing.Drawing.prototype.installViewbox_=function(){this.viewbox_=new i.viewbox.Viewbox(this),this.canvas_.addChildren(this.viewbox_.getGroup())},i.drawing.Drawing.prototype.installLayerBackground_=function(){this.layer_[0]=new i.drawing.LayerBackground(this),this.viewbox_.getGroup().addChildren(this.layer_[0].getGroup())},i.drawing.Drawing.prototype.installLayerShape_=function(){this.layer_[1]=new i.drawing.LayerShape(this),this.viewbox_.getGroup().addChildren(this.layer_[1].getGroup())},i.drawing.Drawing.prototype.installLayerShapeModify_=function(){this.layer_[3]=new i.drawing.LayerShapeModify(this),this.viewbox_.getGroup().addChildren(this.layer_[3].getGroup())},i.drawing.Drawing.prototype.installLayerShapecreatable_=function(){this.layer_[2]=new i.drawing.LayerShapeCreate(this),this.viewbox_.getGroup().addChildren(this.layer_[2].getGroup())},i.drawing.Drawing.prototype.installShield_=function(){this.shield_=new i.shape.Rect(this),this.shield_.setX(0),this.shield_.setY(0),this.shield_.setWidth(this.width_),this.shield_.setHeight(this.height_),this.shield_.setFillOpacity(0),this.shield_.setStrokeWidth(0),this.canvas_.addChildren(this.shield_)},i.drawing.Drawing.prototype.installLayerTool_=function(){this.layer_[4]=new i.drawing.LayerTool(this)},i.drawing.Drawing.prototype.initEngine_=function(e){this.engine_=new i.engine.Engine(e,this.element_)},i.drawing.Drawing.prototype.install_=function(e){this.initEngine_(e),this.engine_.isAvailable()&&(n.dom.removeChildren(this.element_),this.calculateSize_(),this.installCanvas_(),this.installViewbox_(),this.installLayerBackground_(),this.installLayerShape_(),this.installLayerShapecreatable_(),this.installLayerShapeModify_(),this.installShield_(),this.installLayerTool_())},i.drawing.Drawing.prototype.disposeInternal=function(){n.dom.removeNode(this.element_),this.element_=null,this.engine_.dispose(),this.engine_=null,this.canvas_.dispose(),this.canvas_=null;for(var e;e=this.layer_.pop();)e.dispose();this.layer_=null,this.shield_.dispose(),this.shield_=null,this.modifiable_.dispose(),this.modifiable_=null,this.selectable_.dispose(),this.selectable_=null,this.hoverable_.dispose(),this.hoverable_=null,n.dispose(this.creatable_),this.creatable_=null,this.viewbox_.dispose(),this.eventBeforeRendering=this.viewbox_=null,this.vsm_.removeAllListeners(),this.vsm_.dispose(),this.timeoutResize_=this.timeoutDraw_=this.vsm_=null,i.drawing.Drawing.superClass_.disposeInternal.call(this)},i.shape.DiPolygonArrow=function(e,t){i.shape.Line.call(this,e),this.diPolygon_=t,this.angle_},n.inherits(i.shape.DiPolygonArrow,i.shape.Line),i.shape.DiPolygonArrow.prototype.getDiPolygon=function(){return this.diPolygon_},i.shape.DiPolygonArrow.prototype.getModifiable=function(){return void 0===this.modifiable_&&(this.modifiable_=new i.shape.DiPolygonArrowModifiable(this)),this.modifiable_},i.shape.DiPolygonArrowModifiable=function(e){i.shape.LineModifiable.call(this,e)},n.inherits(i.shape.DiPolygonArrowModifiable,i.shape.LineModifiable),i.shape.DiPolygonArrowModifiable.prototype.setCoordAt=function(e,t){var n=this.shape_.getDiPolygon().getBox(),i=t[0],r=t[1];i<n.x?i=n.x:i>n.x2&&(i=n.x2),r<n.y?r=n.y:r>n.y2&&(r=n.y2);var o=n.x+n.width/2,n=n.y+n.height/2,o=o-(i-o),n=n-(r-n);0===e?(this.dragger_[0].setCoordX(i),this.dragger_[0].setCoordY(r),this.dragger_[1].setCoordX(o),this.dragger_[1].setCoordY(n),this.shape_.setX1(i),this.shape_.setY1(r),this.shape_.setX2(o),this.shape_.setY2(n)):(this.dragger_[1].setCoordX(i),this.dragger_[1].setCoordY(r),this.dragger_[0].setCoordX(o),this.dragger_[0].setCoordY(n),this.shape_.setX1(o),this.shape_.setY1(n),this.shape_.setX2(i),this.shape_.setY2(r))},i.shape.DiPolygonArrowModifiable.prototype.move=function(){},i.shape.DiPolygonPolygon=function(e){i.shape.Polygon.call(this,e)},n.inherits(i.shape.DiPolygonPolygon,i.shape.Polygon),i.shape.DiPolygon=function(e){i.shape.Group.call(this,e),this.box_,this.init_()},n.inherits(i.shape.DiPolygon,i.shape.Group),i.shape.DiPolygon.prototype.getArrow=function(){return this.arrow_},i.shape.DiPolygon.prototype.getBox=function(){return this.box_},i.shape.DiPolygon.prototype.MARGIN=20,i.shape.DiPolygon.prototype.setCoords=function(e){this.childs_[0].setCoords(e)},i.shape.DiPolygon.prototype.init_=function(){var e=new i.shape.DiPolygonPolygon(this.drawing_),t=new i.shape.DiPolygonArrow(this.drawing_,this);this.addChildren([e,t])},i.extension={},i.extension.Extensions={},i.api={},i.api.drawing=function(){},e.exports=i,e.exports.goog=n},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBjbGFzcz0ic3ZnX2ljb24iPgogIDxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTQgNTQiPgogICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCB5Mj0iMS4wIiB4Mj0iMS4wIiB5MT0iMC4xODc1IiB4MT0iMC4xNzE4NzUiIGlkPSJzdmdfNCI+CiAgICAgPHN0b3Agc3RvcC1vcGFjaXR5PSIxIiBzdG9wLWNvbG9yPSIjZmZmZmZmIiBvZmZzZXQ9IjAuMCIvPgogICAgIDxzdG9wIHN0b3Atb3BhY2l0eT0iMSIgc3RvcC1jb2xvcj0iI2ZmZmY2NiIgb2Zmc2V0PSIxLjAiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgIDwvZGVmcz4KICAgPGc+CiAgICA8Y2lyY2xlIHN0cm9rZS1vcGFjaXR5PSIxIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlPSIjMDAwMDAwIiBmaWxsPSJ1cmwoI3N2Z180KSIgaWQ9InN2Z18xIiByPSIyMiIgY3k9IjI3IiBjeD0iMjciLz4KICAgPC9nPgogIDwvc3ZnPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTc5MiIgaGVpZ2h0PSIxNzkyIiB2aWV3Qm94PSIwIDAgMTc5MiAxNzkyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xNjk2IDM4NHE0MCAwIDY4IDI4dDI4IDY4djEyMTZxMCA0MC0yOCA2OHQtNjggMjhoLTk2MHEtNDAgMC02OC0yOHQtMjgtNjh2LTI4OGgtNTQ0cS00MCAwLTY4LTI4dC0yOC02OHYtNjcycTAtNDAgMjAtODh0NDgtNzZsNDA4LTQwOHEyOC0yOCA3Ni00OHQ4OC0yMGg0MTZxNDAgMCA2OCAyOHQyOCA2OHYzMjhxNjgtNDAgMTI4LTQwaDQxNnptLTU0NCAyMTNsLTI5OSAyOTloMjk5di0yOTl6bS02NDAtMzg0bC0yOTkgMjk5aDI5OXYtMjk5em0xOTYgNjQ3bDMxNi0zMTZ2LTQxNmgtMzg0djQxNnEwIDQwLTI4IDY4dC02OCAyOGgtNDE2djY0MGg1MTJ2LTI1NnEwLTQwIDIwLTg4dDQ4LTc2em05NTYgODA0di0xMTUyaC0zODR2NDE2cTAgNDAtMjggNjh0LTY4IDI4aC00MTZ2NjQwaDg5NnoiLz48L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgY2xhc3M9InN2Z19pY29uIj48c3ZnIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CgkgIDxwYXRoIHN0cm9rZT0iI2ZmZmZmZiIgZmlsbD0iIzAwMDAwMCIgaWQ9InN2Z18xMyIgZD0ibTcuMzgxNjgsMi40Njk0OGwwLjA3NTAyLDE3LjAzMjU4bDMuMzAwODMsLTIuNjI2MTdsMi42MjU2Niw1LjYyNzUxbDQuMjAxMDUsLTIuNjI2MTdsLTMuMzAwODIsLTQuODAyMTRsNC41NzYxNCwtMC4zNzUxN2wtMTEuNDc3ODcsLTEyLjIzMDQ0eiIvPgoJPC9zdmc+PC9zdmc+"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij4KICA8c3ZnICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NCA1NCI+CiAgIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IHkyPSIxLjAiIHgyPSIxLjAiIHkxPSIwLjE4NzUiIHgxPSIwLjE3MTg3NSIgaWQ9InN2Z180Ij4KICAgICA8c3RvcCBzdG9wLW9wYWNpdHk9IjEiIHN0b3AtY29sb3I9IiNmZmZmZmYiIG9mZnNldD0iMC4wIi8+CiAgICAgPHN0b3Agc3RvcC1vcGFjaXR5PSIxIiBzdG9wLWNvbG9yPSIjZmY2NjY2IiBvZmZzZXQ9IjEuMCIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgPC9kZWZzPgogIDxlbGxpcHNlIHN0cm9rZS1vcGFjaXR5PSIxIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlPSIjMDAwMDAwIiBmaWxsPSJ1cmwoI3N2Z180KSIgaWQ9InN2Z18xIiByeD0iMjQiIHJ5PSIxNSIgY3k9IjI3IiBjeD0iMjciLz4KICA8L3N2Zz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTc5MiIgaGVpZ2h0PSIxNzkyIiB2aWV3Qm94PSIwIDAgMTc5MiAxNzkyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik02NDAgMTI4cS01MyAwLTkwLjUgMzcuNXQtMzcuNSA5MC41djg5NmwtMTUxLTIwMnEtNDEtNTQtMTA3LTU0LTUyIDAtODkgMzh0LTM3IDkwcTAgNDMgMjYgNzdsMzg0IDUxMnEzOCA1MSAxMDIgNTFoNzE4cTIyIDAgMzkuNS0xMy41dDIyLjUtMzQuNWw5Mi0zNjhxMjQtOTYgMjQtMTk0di0yMTdxMC00MS0yOC03MXQtNjgtMzAtNjggMjgtMjggNjhoLTMydi02MXEwLTQ4LTMyLTgxLjV0LTgwLTMzLjVxLTQ2IDAtNzkgMzN0LTMzIDc5djY0aC0zMnYtOTBxMC01NS0zNy05NC41dC05MS0zOS41cS01MyAwLTkwLjUgMzcuNXQtMzcuNSA5MC41djk2aC0zMnYtNTcwcTAtNTUtMzctOTQuNXQtOTEtMzkuNXptMC0xMjhxMTA3IDAgMTgxLjUgNzcuNXQ3NC41IDE4NC41djIyMHEyMi0yIDMyLTIgOTkgMCAxNzMgNjkgNDctMjEgOTktMjEgMTEzIDAgMTg0IDg3IDI3LTcgNTYtNyA5NCAwIDE1OSA2Ny41dDY1IDE2MS41djIxN3EwIDExNi0yOCAyMjVsLTkyIDM2OHEtMTYgNjQtNjggMTA0LjV0LTExOCA0MC41aC03MThxLTYwIDAtMTE0LjUtMjcuNXQtOTAuNS03NC41bC0zODQtNTEycS01MS02OC01MS0xNTQgMC0xMDUgNzQuNS0xODAuNXQxNzkuNS03NS41cTcxIDAgMTMwIDM1di01NDdxMC0xMDYgNzUtMTgxdDE4MS03NXptMTI4IDE0MDh2LTM4NGgtMzJ2Mzg0aDMyem0yNTYgMHYtMzg0aC0zMnYzODRoMzJ6bTI1NiAwdi0zODRoLTMydjM4NGgzMnoiLz48L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTc5MiIgaGVpZ2h0PSIxNzkyIiB2aWV3Qm94PSIwIDAgMTc5MiAxNzkyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xNTk2IDM4MHEyOCAyOCA0OCA3NnQyMCA4OHYxMTUycTAgNDAtMjggNjh0LTY4IDI4aC0xMzQ0cS00MCAwLTY4LTI4dC0yOC02OHYtMTYwMHEwLTQwIDI4LTY4dDY4LTI4aDg5NnE0MCAwIDg4IDIwdDc2IDQ4em0tNDQ0LTI0NHYzNzZoMzc2cS0xMC0yOS0yMi00MWwtMzEzLTMxM3EtMTItMTItNDEtMjJ6bTM4NCAxNTI4di0xMDI0aC00MTZxLTQwIDAtNjgtMjh0LTI4LTY4di00MTZoLTc2OHYxNTM2aDEyODB6bS0xMjgtNDQ4djMyMGgtMTAyNHYtMTkybDE5Mi0xOTIgMTI4IDEyOCAzODQtMzg0em0tODMyLTE5MnEtODAgMC0xMzYtNTZ0LTU2LTEzNiA1Ni0xMzYgMTM2LTU2IDEzNiA1NiA1NiAxMzYtNTYgMTM2LTEzNiA1NnoiLz48L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBjbGFzcz0ic3ZnX2ljb24iPgogIDxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTI0IDEyNCI+CiAgICA8bGluZSB4MT0iMTAiIHkxPSIxMCIgeDI9IjExMCIgeTI9IjExMCIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6YmxhY2s7c3Ryb2tlLXdpZHRoOjEyIiAvPgogICAgPGNpcmNsZSBjeD0iMTUiIGN5PSIxNSIgcj0iMTAiIHN0eWxlPSJmaWxsOndoaXRlO3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6NSIgLz4KICAgIDxjaXJjbGUgY3g9IjExMCIgY3k9IjExMCIgcj0iMTAiIHN0eWxlPSJmaWxsOndoaXRlO3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6NSIgLz4KICAgPC9zdmc+CiA8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij4KICA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2NCAxMjQiPgogICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCB5Mj0iMSIgeDI9IjEiIHkxPSIwLjI4MTI1IiB4MT0iMC4zMzU5NCIgaWQ9InN2Z180Ij4KICAgICA8c3RvcCBzdG9wLW9wYWNpdHk9IjEiIHN0b3AtY29sb3I9IiNmZmZmZmYiIG9mZnNldD0iMCIvPgogICAgIDxzdG9wIHN0b3Atb3BhY2l0eT0iMSIgc3RvcC1jb2xvcj0iIzMzYTUzMyIgb2Zmc2V0PSIxIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICA8L2RlZnM+CiAgICA8cG9seWdvbiBzdHJva2UtZGFzaGFycmF5PSJudWxsIiBzdHJva2Utd2lkdGg9IjkiIHN0cm9rZT0iIzAwMDAwMCIgZmlsbD0idXJsKCNzdmdfNCkiIGlkPSJzdmdfMSIKICAgICAgcG9pbnRzPSIKICAgICAgMCwyMAogICAgICAyMCwxMjQKICAgICAgODAsODAKICAgICAgMTQ0LDEyNAogICAgICAxNjQsNDAKICAgICAgODAsMAogICAgICAiLz4KICAgPC9zdmc+CiA8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBjbGFzcz0ic3ZnX2ljb24iPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEyNCAxMjQiPgogIDxwb2x5bGluZSBwb2ludHM9IjE1LDIwIDQwLDExMCA4MCwyMCAxMTAsMTEwIiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6MTIiIC8+CiAgPGNpcmNsZSBjeD0iMTUiIGN5PSIyNSIgcj0iMTAiIHN0eWxlPSJmaWxsOndoaXRlO3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6NSIgLz4KICA8Y2lyY2xlIGN4PSI0MCIgY3k9IjExMCIgcj0iMTAiIHN0eWxlPSJmaWxsOndoaXRlO3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6NSIgLz4KICA8Y2lyY2xlIGN4PSI4MCIgY3k9IjIwIiByPSIxMCIgc3R5bGU9ImZpbGw6d2hpdGU7c3Ryb2tlOmJsYWNrO3N0cm9rZS13aWR0aDo1IiAvPgogIDxjaXJjbGUgY3g9IjExMCIgY3k9IjExMCIgcj0iMTAiIHN0eWxlPSJmaWxsOndoaXRlO3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6NSIgLz4KIDwvc3ZnPjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiA8ZGVmcz4KICA8bGluZWFyR3JhZGllbnQgeTI9IjEiIHgyPSIxIiB5MT0iMC4xMDE1NiIgeDE9IjAuMzYzMjgiIGlkPSJzdmdfMiI+CiAgIDxzdG9wIHN0b3Atb3BhY2l0eT0iMSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgb2Zmc2V0PSIwIi8+CiAgIDxzdG9wIHN0b3Atb3BhY2l0eT0iMSIgc3RvcC1jb2xvcj0iIzNiN2U5YiIgb2Zmc2V0PSIxIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KIDwvZGVmcz4KPHJlY3Qgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9InVybCgjc3ZnXzIpIiBoZWlnaHQ9IjIwIiB3aWR0aD0iMzAiIHk9IjUuNSIgeD0iMS41Ii8+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTc5MiIgaGVpZ2h0PSIxNzkyIiB2aWV3Qm94PSIwIDAgMTc5MiAxNzkyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xNDkwIDEzMjJxMCA0MC0yOCA2OGwtMTM2IDEzNnEtMjggMjgtNjggMjh0LTY4LTI4bC0yOTQtMjk0LTI5NCAyOTRxLTI4IDI4LTY4IDI4dC02OC0yOGwtMTM2LTEzNnEtMjgtMjgtMjgtNjh0MjgtNjhsMjk0LTI5NC0yOTQtMjk0cS0yOC0yOC0yOC02OHQyOC02OGwxMzYtMTM2cTI4LTI4IDY4LTI4dDY4IDI4bDI5NCAyOTQgMjk0LTI5NHEyOC0yOCA2OC0yOHQ2OCAyOGwxMzYgMTM2cTI4IDI4IDI4IDY4dC0yOCA2OGwtMjk0IDI5NCAyOTQgMjk0cTI4IDI4IDI4IDY4eiIvPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmlld0JveD0iMCAtMjU2IDE3OTIgMTc5MiIKICAgaWQ9InN2ZzMwMDEiCiAgIHZlcnNpb249IjEuMSIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMC40OC4zLjEgcjk4ODYiCiAgIHdpZHRoPSIxMDAlIgogICBoZWlnaHQ9IjEwMCUiCiAgIHNvZGlwb2RpOmRvY25hbWU9InNhdmVfZm9udF9hd2Vzb21lLnN2ZyI+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMzAxMSI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGRlZnMKICAgICBpZD0iZGVmczMwMDkiIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAiCiAgICAgZ3VpZGV0b2xlcmFuY2U9IjEwIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSI2NDAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iNDgwIgogICAgIGlkPSJuYW1lZHZpZXczMDA3IgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTp6b29tPSIwLjEzMTY5NjQzIgogICAgIGlua3NjYXBlOmN4PSI4OTYiCiAgICAgaW5rc2NhcGU6Y3k9Ijg5NiIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMjUiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmczMDAxIiAvPgogIDxnCiAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMTI5LjA4NDc1LDEyNzAuMjM3MykiCiAgICAgaWQ9ImczMDAzIj4KICAgIDxwYXRoCiAgICAgICBkPSJtIDM4NCwwIGggNzY4IFYgMzg0IEggMzg0IFYgMCB6IG0gODk2LDAgaCAxMjggdiA4OTYgcSAwLDE0IC0xMCwzOC41IC0xMCwyNC41IC0yMCwzNC41IGwgLTI4MSwyODEgcSAtMTAsMTAgLTM0LDIwIC0yNCwxMCAtMzksMTAgViA4NjQgcSAwLC00MCAtMjgsLTY4IC0yOCwtMjggLTY4LC0yOCBIIDM1MiBxIC00MCwwIC02OCwyOCAtMjgsMjggLTI4LDY4IHYgNDE2IEggMTI4IFYgMCBoIDEyOCB2IDQxNiBxIDAsNDAgMjgsNjggMjgsMjggNjgsMjggaCA4MzIgcSA0MCwwIDY4LC0yOCAyOCwtMjggMjgsLTY4IFYgMCB6IE0gODk2LDkyOCB2IDMyMCBxIDAsMTMgLTkuNSwyMi41IC05LjUsOS41IC0yMi41LDkuNSBIIDY3MiBxIC0xMywwIC0yMi41LC05LjUgUSA2NDAsMTI2MSA2NDAsMTI0OCBWIDkyOCBxIDAsLTEzIDkuNSwtMjIuNSBRIDY1OSw4OTYgNjcyLDg5NiBoIDE5MiBxIDEzLDAgMjIuNSw5LjUgOS41LDkuNSA5LjUsMjIuNSB6IG0gNjQwLC0zMiBWIC0zMiBxIDAsLTQwIC0yOCwtNjggLTI4LC0yOCAtNjgsLTI4IEggOTYgcSAtNDAsMCAtNjgsMjggLTI4LDI4IC0yOCw2OCB2IDEzNDQgcSAwLDQwIDI4LDY4IDI4LDI4IDY4LDI4IGggOTI4IHEgNDAsMCA4OCwtMjAgNDgsLTIwIDc2LC00OCBsIDI4MCwtMjgwIHEgMjgsLTI4IDQ4LC03NiAyMCwtNDggMjAsLTg4IHoiCiAgICAgICBpZD0icGF0aDMwMDUiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc3R5bGU9ImZpbGw6Y3VycmVudENvbG9yIiAvPgogIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTc5MiIgaGVpZ2h0PSIxNzkyIiB2aWV3Qm94PSIwIDAgMTc5MiAxNzkyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xMzQ0IDE0NzJxMC0yNi0xOS00NXQtNDUtMTktNDUgMTktMTkgNDUgMTkgNDUgNDUgMTkgNDUtMTkgMTktNDV6bTI1NiAwcTAtMjYtMTktNDV0LTQ1LTE5LTQ1IDE5LTE5IDQ1IDE5IDQ1IDQ1IDE5IDQ1LTE5IDE5LTQ1em0xMjgtMjI0djMyMHEwIDQwLTI4IDY4dC02OCAyOGgtMTQ3MnEtNDAgMC02OC0yOHQtMjgtNjh2LTMyMHEwLTQwIDI4LTY4dDY4LTI4aDQyN3EyMSA1NiA3MC41IDkydDExMC41IDM2aDI1NnE2MSAwIDExMC41LTM2dDcwLjUtOTJoNDI3cTQwIDAgNjggMjh0MjggNjh6bS0zMjUtNjQ4cS0xNyA0MC01OSA0MGgtMjU2djQ0OHEwIDI2LTE5IDQ1dC00NSAxOWgtMjU2cS0yNiAwLTQ1LTE5dC0xOS00NXYtNDQ4aC0yNTZxLTQyIDAtNTktNDAtMTctMzkgMTQtNjlsNDQ4LTQ0OHExOC0xOSA0NS0xOXQ0NSAxOWw0NDggNDQ4cTMxIDMwIDE0IDY5eiIvPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmlld0JveD0iMCAtMjU2IDE3OTIgMTc5MiIKICAgaWQ9InN2ZzIiCiAgIHZlcnNpb249IjEuMSIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMC40OC4zLjEgcjk4ODYiCiAgIHdpZHRoPSIxMDAlIgogICBoZWlnaHQ9IjEwMCUiCiAgIHNvZGlwb2RpOmRvY25hbWU9Inpvb21faW5fZm9udF9hd2Vzb21lLnN2ZyI+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMTIiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMxMCIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEwMjQiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iNzE5IgogICAgIGlkPSJuYW1lZHZpZXc4IgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTp6b29tPSIwLjEzMTY5NjQzIgogICAgIGlua3NjYXBlOmN4PSI4OTYiCiAgICAgaW5rc2NhcGU6Y3k9Ijg5NiIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMjUiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmcyIiAvPgogIDxnCiAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsNjguMzM4OTgzLDEyMjQuNjc4KSIKICAgICBpZD0iZzQiPgogICAgPHBhdGgKICAgICAgIGQ9Im0gMTAyNCw3MzYgdiAtNjQgcSAwLC0xMyAtOS41LC0yMi41IFEgMTAwNSw2NDAgOTkyLDY0MCBIIDc2OCBWIDQxNiBxIDAsLTEzIC05LjUsLTIyLjUgUSA3NDksMzg0IDczNiwzODQgaCAtNjQgcSAtMTMsMCAtMjIuNSw5LjUgUSA2NDAsNDAzIDY0MCw0MTYgViA2NDAgSCA0MTYgcSAtMTMsMCAtMjIuNSw5LjUgUSAzODQsNjU5IDM4NCw2NzIgdiA2NCBxIDAsMTMgOS41LDIyLjUgOS41LDkuNSAyMi41LDkuNSBoIDIyNCB2IDIyNCBxIDAsMTMgOS41LDIyLjUgOS41LDkuNSAyMi41LDkuNSBoIDY0IHEgMTMsMCAyMi41LC05LjUgUSA3NjgsMTAwNSA3NjgsOTkyIFYgNzY4IGggMjI0IHEgMTMsMCAyMi41LC05LjUgOS41LC05LjUgOS41LC0yMi41IHogbSAxMjgsLTMyIHEgMCwxODUgLTEzMS41LDMxNi41IFEgODg5LDExNTIgNzA0LDExNTIgNTE5LDExNTIgMzg3LjUsMTAyMC41IDI1Niw4ODkgMjU2LDcwNCAyNTYsNTE5IDM4Ny41LDM4Ny41IDUxOSwyNTYgNzA0LDI1NiA4ODksMjU2IDEwMjAuNSwzODcuNSAxMTUyLDUxOSAxMTUyLDcwNCB6IG0gNTEyLC04MzIgcSAwLC01MyAtMzcuNSwtOTAuNSAtMzcuNSwtMzcuNSAtOTAuNSwtMzcuNSAtNTQsMCAtOTAsMzggTCAxMTAzLDEyNCBRIDkyNCwwIDcwNCwwIDU2MSwwIDQzMC41LDU1LjUgMzAwLDExMSAyMDUuNSwyMDUuNSAxMTEsMzAwIDU1LjUsNDMwLjUgMCw1NjEgMCw3MDQgcSAwLDE0MyA1NS41LDI3My41IDU1LjUsMTMwLjUgMTUwLDIyNSA5NC41LDk0LjUgMjI1LDE1MCAxMzAuNSw1NS41IDI3My41LDU1LjUgMTQzLDAgMjczLjUsLTU1LjUgMTMwLjUsLTU1LjUgMjI1LC0xNTAgOTQuNSwtOTQuNSAxNTAsLTIyNSBRIDE0MDgsODQ3IDE0MDgsNzA0IDE0MDgsNDg0IDEyODQsMzA1IGwgMzQzLC0zNDMgcSAzNywtMzcgMzcsLTkwIHoiCiAgICAgICBpZD0icGF0aDYiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc3R5bGU9ImZpbGw6Y3VycmVudENvbG9yIiAvPgogIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmlld0JveD0iMCAtMjU2IDE3OTIgMTc5MiIKICAgaWQ9InN2ZzIiCiAgIHZlcnNpb249IjEuMSIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMC40OC4zLjEgcjk4ODYiCiAgIHdpZHRoPSIxMDAlIgogICBoZWlnaHQ9IjEwMCUiCiAgIHNvZGlwb2RpOmRvY25hbWU9Inpvb21fb3V0X2ZvbnRfYXdlc29tZS5zdmciPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTEyIj4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZGVmcwogICAgIGlkPSJkZWZzMTAiIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAiCiAgICAgZ3VpZGV0b2xlcmFuY2U9IjEwIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMDI0IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjcxOSIKICAgICBpZD0ibmFtZWR2aWV3OCIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMC4xMzE2OTY0MyIKICAgICBpbmtzY2FwZTpjeD0iODk2LjAwMDAxIgogICAgIGlua3NjYXBlOmN5PSI4OTYuMDAwMDEiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjI1IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ic3ZnMiIgLz4KICA8ZwogICAgIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDUzLjE1MjU0MiwxMjE3LjA4NDgpIgogICAgIGlkPSJnNCI+CiAgICA8cGF0aAogICAgICAgZD0ibSAxMDI0LDczNiB2IC02NCBxIDAsLTEzIC05LjUsLTIyLjUgUSAxMDA1LDY0MCA5OTIsNjQwIEggNDE2IHEgLTEzLDAgLTIyLjUsOS41IFEgMzg0LDY1OSAzODQsNjcyIHYgNjQgcSAwLDEzIDkuNSwyMi41IDkuNSw5LjUgMjIuNSw5LjUgaCA1NzYgcSAxMywwIDIyLjUsLTkuNSA5LjUsLTkuNSA5LjUsLTIyLjUgeiBtIDEyOCwtMzIgcSAwLDE4NSAtMTMxLjUsMzE2LjUgUSA4ODksMTE1MiA3MDQsMTE1MiA1MTksMTE1MiAzODcuNSwxMDIwLjUgMjU2LDg4OSAyNTYsNzA0IDI1Niw1MTkgMzg3LjUsMzg3LjUgNTE5LDI1NiA3MDQsMjU2IDg4OSwyNTYgMTAyMC41LDM4Ny41IDExNTIsNTE5IDExNTIsNzA0IHogbSA1MTIsLTgzMiBxIDAsLTUzIC0zNy41LC05MC41IC0zNy41LC0zNy41IC05MC41LC0zNy41IC01NCwwIC05MCwzOCBMIDExMDMsMTI0IFEgOTI0LDAgNzA0LDAgNTYxLDAgNDMwLjUsNTUuNSAzMDAsMTExIDIwNS41LDIwNS41IDExMSwzMDAgNTUuNSw0MzAuNSAwLDU2MSAwLDcwNCBxIDAsMTQzIDU1LjUsMjczLjUgNTUuNSwxMzAuNSAxNTAsMjI1IDk0LjUsOTQuNSAyMjUsMTUwIDEzMC41LDU1LjUgMjczLjUsNTUuNSAxNDMsMCAyNzMuNSwtNTUuNSAxMzAuNSwtNTUuNSAyMjUsLTE1MCA5NC41LC05NC41IDE1MCwtMjI1IFEgMTQwOCw4NDcgMTQwOCw3MDQgMTQwOCw0ODQgMTI4NCwzMDUgbCAzNDMsLTM0MyBxIDM3LC0zNyAzNywtOTAgeiIKICAgICAgIGlkPSJwYXRoNiIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzdHlsZT0iZmlsbDpjdXJyZW50Q29sb3IiIC8+CiAgPC9nPgo8L3N2Zz4K"},function(e,t){e.exports=function(e,t,n,i){var r,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(r=e,o=e.default);var a="function"==typeof o?o.options:o;if(t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),n&&(a._scopeId=n),i){var l=Object.create(a.computed||null);Object.keys(i).forEach(function(e){var t=i[e];l[e]=function(){return t}}),a.computed=l}return{esModule:r,exports:o,options:a}}},function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"panel panel-default"},[e.showToolbar?i("div",{staticClass:"panel-heading"},[i("div",{staticClass:"form-inline xrx-toolbar"},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon hidden-sm hidden-xs"},[e._v("Mode")]),i("select",{staticClass:"form-control",on:{click:function(t){e.setMode(t.target.value)}}},e._l(e.modesEnabled,function(t){return i("option",{attrs:{disabled:e.modesAvailable.find(function(e){return e.value==t}).disabled},domProps:{value:t,selected:t==e.mode}},[e._v(e._s(e.modesAvailable.find(function(e){return e.value==t}).text))])}))]),i("div",{staticClass:"input-group btn-group"},[i("span",{staticClass:"input-group-addon hidden-sm hidden-xs"},[e._v("Shape")]),i("button",{staticClass:"btn btn-default",attrs:{title:"Polygon"},on:{click:function(t){e.drawShape("Polygon")}}},[i("img",{attrs:{src:n(71)}})]),i("button",{staticClass:"btn btn-default",attrs:{title:"Rectangle"},on:{click:function(t){e.drawShape("Rect")}}},[i("img",{attrs:{src:n(73)}})]),i("button",{staticClass:"btn btn-default",attrs:{title:"Ellipse"},on:{click:function(t){e.drawShape("Ellipse")}}},[i("img",{attrs:{src:n(67)}})]),i("button",{staticClass:"btn btn-default",attrs:{title:"Circle"},on:{click:function(t){e.drawShape("Circle")}}},[i("img",{attrs:{src:n(64)}})]),i("button",{staticClass:"btn btn-default",attrs:{title:"Polyline"},on:{click:function(t){e.drawShape("Polyline")}}},[i("img",{attrs:{src:n(72)}})]),i("button",{staticClass:"btn btn-default",attrs:{title:"line"},on:{click:function(t){e.drawShape("Line")}}},[i("img",{attrs:{src:n(70)}})])]),i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon hidden-sm hidden-xs"},[e._v("File")]),i("button",{staticClass:"btn btn-default",attrs:{title:"Save SVG"},on:{click:function(t){e.showImexport("export")}}},[i("img",{attrs:{src:n(75)}})]),i("button",{staticClass:"btn btn-default",attrs:{title:"Load SVG"},on:{click:function(t){e.showImexport("import")}}},[i("img",{attrs:{src:n(76)}})]),i("button",{staticClass:"btn btn-default",attrs:{title:"Background Image"},on:{click:e.showImageModal}},[i("img",{attrs:{src:n(69)}})])]),i("div",{staticClass:"input-group btn-group"},[i("span",{staticClass:"input-group-addon hidden-xs hidden-sm"},[e._v("Action")]),i("button",{staticClass:"btn btn-default",attrs:{title:"Modify"},on:{click:function(t){e.setMode("Modify")}}},[i("img",{attrs:{src:n(68)}})]),i("button",{staticClass:"btn btn-default",attrs:{title:"Select"},on:{click:function(t){e.setMode("Select")}}},[i("img",{attrs:{src:n(66)}})]),i("button",{staticClass:"btn btn-default",attrs:{title:"Copy",disabled:!e.selectedShape},on:{click:e.copyShape}},[i("img",{attrs:{src:n(65)}})]),i("button",{staticClass:"btn btn-default",attrs:{title:"Remove",disabled:!e.selectedShape},on:{click:e.removeSelected}},[i("img",{attrs:{src:n(74)}})])]),i("div",{staticClass:"input-group btn-group"},[i("span",{staticClass:"input-group-addon hidden-sm hidden-xs"},[e._v("Zoom")]),i("button",{staticClass:"btn btn-default",attrs:{title:"Zoom in"},on:{click:function(t){e.zoom("in")}}},[i("img",{attrs:{src:n(77)}})]),i("button",{staticClass:"btn btn-default",attrs:{title:"Zoom out"},on:{click:function(t){e.zoom("out")}}},[i("img",{attrs:{src:n(78)}})]),i("span",{staticClass:"dropdown"},[i("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[e._v(e._s(parseInt(100*e.zoomValue))+" %"),i("span",{staticClass:"caret"})]),i("ul",{staticClass:"dropdown-menu"},[i("li",[i("a",{attrs:{href:"#"},on:{click:function(t){e.zoom(1)}}},[e._v("100 %")])]),i("li",[i("a",{attrs:{href:"#"},on:{click:function(t){e.zoom("fit")}}},[e._v("Fit to canvas")])]),i("li",[i("a",{attrs:{href:"#"},on:{click:function(t){e.zoom("width")}}},[e._v("Fit to width")])]),i("li",[i("a",{attrs:{href:"#"},on:{click:function(t){e.zoom("width")}}},[e._v("Fit to height")])])])])])])]):e._e(),i("div",{ref:"canvas",style:"width: "+e.width+"; height: "+e.height}),i("div",{ref:"imexportModal",staticClass:"imexport-modal modal fade",attrs:{role:"dialog",tabindex:"-1"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},["import"==e.imexport?i("div",{staticClass:"modal-header"},[e._v("Import from SVG")]):i("div",{staticClass:"modal-header"},[e._v("Export as SVG")]),i("div",{staticClass:"modal-body"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.svgImExPort,expression:"svgImExPort"}],staticClass:"form-control",attrs:{placeholder:"SVG here"},domProps:{value:e.svgImExPort},on:{input:function(t){t.target.composing||(e.svgImExPort=t.target.value)}}}),"import"==e.imexport?[i("div",{staticClass:"form-group row"},[e._m(0),i("div",{staticClass:"col-xs-9"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.loadRelative,expression:"loadRelative"}],staticClass:"form-control",attrs:{id:"svgLoadRelative",type:"checkbox"},domProps:{checked:Array.isArray(e.loadRelative)?e._i(e.loadRelative,null)>-1:e.loadRelative},on:{__c:function(t){var n=e.loadRelative,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);r?o<0&&(e.loadRelative=n.concat(null)):o>-1&&(e.loadRelative=n.slice(0,o).concat(n.slice(o+1)))}else e.loadRelative=r}}})])]),i("button",{staticClass:"form-control btn btn-success",on:{click:e.loadSvg}},[e._v("Load")])]:e._e()],2)])])]),i("div",{ref:"imageModal",staticClass:"image-modal modal fade",attrs:{role:"dialog",tabindex:"-1"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[e._v("Set background image")]),i("div",{staticClass:"modal-body"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.backgroundImage,expression:"backgroundImage"}],staticClass:"form-control",attrs:{format:"url",placeholder:"Image URL"},domProps:{value:e.backgroundImage},on:{input:function(t){t.target.composing||(e.backgroundImage=t.target.value)}}}),i("button",{staticClass:"form-control btn btn-success",on:{click:e.loadImage}},[e._v("Set background image")])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-xs-3"},[n("label",{attrs:{for:"svgLoadRelative"}},[e._v("Load Relative")])])}]}},function(e,t,n){var i=n(61);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(82)("e617af9e",i,!0)},function(e,t,n){function i(e){for(var t=0;t<e.length;t++){var n=e[t],i=c[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(o(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var s=[],r=0;r<n.parts.length;r++)s.push(o(n.parts[r]));c[n.id]={id:n.id,refs:1,parts:s}}}}function r(){var e=document.createElement("style");return e.type="text/css",p.appendChild(e),e}function o(e){var t,n,i=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(i){if(d)return f;i.parentNode.removeChild(i)}if(m){var o=g++;i=u||(u=r()),t=s.bind(null,i,o,!1),n=s.bind(null,i,o,!0)}else i=r(),t=a.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}function s(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function a(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var h=n(83),c={},p=l&&(document.head||document.getElementsByTagName("head")[0]),u=null,g=0,d=!1,f=function(){},m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n){d=n;var r=h(e,t);return i(r),function(t){for(var n=[],o=0;o<r.length;o++){var s=r[o],a=c[s.id];a.refs--,n.push(a)}t?(r=h(e,t),i(r)):r=[];for(var o=0;o<n.length;o++){var a=n[o];if(0===a.refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete c[a.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],s=o[0],a=o[1],l=o[2],h=o[3],c={id:e+":"+r,css:a,media:l,sourceMap:h};i[s]?i[s].parts.push(c):n.push(i[s]={id:s,parts:[c]})}return n}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=n||{};n.global=this,n.isDef=function(e){return void 0!==e},n.exportPath_=function(e,t,i){e=e.split("."),i=i||n.global,e[0]in i||!i.execScript||i.execScript("var "+e[0]);for(var r;e.length&&(r=e.shift());)!e.length&&n.isDef(t)?i[r]=t:i=i[r]?i[r]:i[r]={}},n.define=function(e,t){var i=t;n.exportPath_(e,i)},n.DEBUG=!0,n.LOCALE="en",n.TRUSTED_SITE=!0,n.STRICT_MODE_COMPATIBLE=!1,n.provide=function(e){n.exportPath_(e)},n.setTestOnly=function(e){if(!n.DEBUG)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},n.forwardDeclare=function(e){},n.getObjectByName=function(e,t){for(var i,r=e.split("."),o=t||n.global;i=r.shift();){if(!n.isDefAndNotNull(o[i]))return null;o=o[i]}return o},n.globalize=function(e,t){var i,r=t||n.global;for(i in e)r[i]=e[i]},n.addDependency=function(e,t,i){if(n.DEPENDENCIES_ENABLED){var r;e=e.replace(/\\/g,"/");for(var o=n.dependencies_,s=0;r=t[s];s++)o.nameToPath[r]=e,e in o.pathToNames||(o.pathToNames[e]={}),o.pathToNames[e][r]=!0;for(r=0;t=i[r];r++)e in o.requires||(o.requires[e]={}),o.requires[e][t]=!0}},n.ENABLE_DEBUG_LOADER=!0,n.require=function(e){},n.basePath="",n.nullFunction=function(){},n.identityFunction=function(e,t){return e},n.abstractMethod=function(){throw Error("unimplemented abstract method")},n.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(n.DEBUG&&(n.instantiatedSingletons_[n.instantiatedSingletons_.length]=e),e.instance_=new e)}},n.instantiatedSingletons_=[],n.DEPENDENCIES_ENABLED=!1,n.DEPENDENCIES_ENABLED&&(n.included_={},n.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},n.inHtmlDocument_=function(){var e=n.global.document;return void 0!==e&&"write"in e},n.findBasePath_=function(){if(n.global.CLOSURE_BASE_PATH)n.basePath=n.global.CLOSURE_BASE_PATH;else if(n.inHtmlDocument_())for(var e=n.global.document.getElementsByTagName("script"),t=e.length-1;0<=t;--t){var i=e[t].src,r=i.lastIndexOf("?"),r=-1==r?i.length:r;if("base.js"==i.substr(r-7,7)){n.basePath=i.substr(0,r-7);break}}},n.importScript_=function(e){var t=n.global.CLOSURE_IMPORT_SCRIPT||n.writeScriptTag_;!n.dependencies_.written[e]&&t(e)&&(n.dependencies_.written[e]=!0)},n.writeScriptTag_=function(e){if(n.inHtmlDocument_()){var t=n.global.document;if("complete"==t.readyState){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}return t.write('<script type="text/javascript" src="'+e+'"><\/script>'),!0}return!1},n.writeScripts_=function(){function e(t){if(!(t in o.written)){if(!(t in o.visited)&&(o.visited[t]=!0,t in o.requires))for(var s in o.requires[t])if(!n.isProvided_(s)){if(!(s in o.nameToPath))throw Error("Undefined nameToPath for "+s);e(o.nameToPath[s])}t in r||(r[t]=!0,i.push(t))}}var t,i=[],r={},o=n.dependencies_;for(t in n.included_)o.written[t]||e(t);for(t=0;t<i.length;t++){if(!i[t])throw Error("Undefined script input");n.importScript_(n.basePath+i[t])}},n.getPathFromDeps_=function(e){return e in n.dependencies_.nameToPath?n.dependencies_.nameToPath[e]:null},n.findBasePath_(),n.global.CLOSURE_NO_DEPS||n.importScript_(n.basePath+"deps.js")),n.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},n.isNull=function(e){return null===e},n.isDefAndNotNull=function(e){return null!=e},n.isArray=function(e){return"array"==n.typeOf(e)},n.isArrayLike=function(e){var t=n.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},n.isDateLike=function(e){return n.isObject(e)&&"function"==typeof e.getFullYear},n.isString=function(e){return"string"==typeof e},n.isBoolean=function(e){return"boolean"==typeof e},n.isNumber=function(e){return"number"==typeof e},n.isFunction=function(e){return"function"==n.typeOf(e)},n.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},n.getUid=function(e){return e[n.UID_PROPERTY_]||(e[n.UID_PROPERTY_]=++n.uidCounter_)},n.hasUid=function(e){return!!e[n.UID_PROPERTY_]},n.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(n.UID_PROPERTY_);try{delete e[n.UID_PROPERTY_]}catch(e){}},n.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),n.uidCounter_=0,n.getHashCode=n.getUid,n.removeHashCode=n.removeUid,n.cloneObject=function(e){var t=n.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var i,t="array"==t?[]:{};for(i in e)t[i]=n.cloneObject(e[i]);return t}return e},n.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},n.bindJs_=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},n.bind=function(e,t,i){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n.bind=n.bindNative_:n.bind=n.bindJs_,n.bind.apply(null,arguments)},n.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}},n.mixin=function(e,t){for(var n in t)e[n]=t[n]},n.now=n.TRUSTED_SITE&&Date.now||function(){return+new Date},n.globalEval=function(e){if(n.global.execScript)n.global.execScript(e,"JavaScript");else{if(!n.global.eval)throw Error("goog.globalEval not available");if(null==n.evalWorksForGlobals_&&(n.global.eval("var _et_ = 1;"),void 0!==n.global._et_?(delete n.global._et_,n.evalWorksForGlobals_=!0):n.evalWorksForGlobals_=!1),n.evalWorksForGlobals_)n.global.eval(e);else{var t=n.global.document,i=t.createElement("script");i.type="text/javascript",i.defer=!1,i.appendChild(t.createTextNode(e)),t.body.appendChild(i),t.body.removeChild(i)}}},n.evalWorksForGlobals_=null,n.getCssName=function(e,t){var i=function(e){return n.cssNameMapping_[e]||e},r=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(i(e[n]));return t.join("-")},r=n.cssNameMapping_?"BY_WHOLE"==n.cssNameMappingStyle_?i:r:function(e){return e};return t?e+"-"+r(t):r(e)},n.setCssNameMapping=function(e,t){n.cssNameMapping_=e,n.cssNameMappingStyle_=t},n.getMsg=function(e,t){var n,i=t||{};for(n in i){var r=(""+i[n]).replace(/\$/g,"$$$$");e=e.replace(new RegExp("\\{\\$"+n+"\\}","gi"),r)}return e},n.getMsgWithFallback=function(e,t){return e},n.exportSymbol=function(e,t,i){n.exportPath_(e,t,i)},n.exportProperty=function(e,t,n){e[t]=n},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,i){var r=Array.prototype.slice.call(arguments,2);return t.prototype[n].apply(e,r)}},n.base=function(e,t,i){var r=arguments.callee.caller;if(n.STRICT_MODE_COMPATIBLE||n.DEBUG&&!r)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(r.superClass_)return r.superClass_.constructor.apply(e,Array.prototype.slice.call(arguments,1));for(var o=Array.prototype.slice.call(arguments,2),s=!1,a=e.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[t]===r)s=!0;else if(s)return a.prototype[t].apply(e,o);if(e[t]===r)return e.constructor.prototype[t].apply(e,o);throw Error("goog.base called from a method of one name to a method of a different name")},n.scope=function(e){e.call(n.global)};var i={drawing:function(){}};i.drawing.State={DRAG:1,NONE:2},i.drawing.Mode={VIEW:1,MODIFY:2,DELETE:3,CREATE:4,DISABLED:5,SELECT:6,HOVER:7,HOVERMULTIPLE:8},i.drawing.Orientation={C:"C",NE:"NE",SE:"SE",SW:"SW",NW:"NW"},i.drawing.Position={NE:"NE",SE:"SE",SW:"SW",NW:"NW"},i.drawing.EventType={VIEWBOX_CHANGE:"eventViewboxChange",SHAPE_MODIFY:"eventShapeModify",SHAPE_HOVER_IN:"eventShapeHoverIn",SHAPE_HOVER_MOVE:"eventShapeHoverMove",SHAPE_HOVER_OUT:"eventShapeHoverOut",SHAPE_BEFORE_DRAW:"eventShapeBeforeDraw"},n.object={},n.object.forEach=function(e,t,n){for(var i in e)t.call(n,e[i],i,e)},n.object.filter=function(e,t,n){var i,r={};for(i in e)t.call(n,e[i],i,e)&&(r[i]=e[i]);return r},n.object.map=function(e,t,n){var i,r={};for(i in e)r[i]=t.call(n,e[i],i,e);return r},n.object.some=function(e,t,n){for(var i in e)if(t.call(n,e[i],i,e))return!0;return!1},n.object.every=function(e,t,n){for(var i in e)if(!t.call(n,e[i],i,e))return!1;return!0},n.object.getCount=function(e){var t,n=0;for(t in e)n++;return n},n.object.getAnyKey=function(e){for(var t in e)return t},n.object.getAnyValue=function(e){for(var t in e)return e[t]},n.object.contains=function(e,t){return n.object.containsValue(e,t)},n.object.getValues=function(e){var t,n=[],i=0;for(t in e)n[i++]=e[t];return n},n.object.getKeys=function(e){var t,n=[],i=0;for(t in e)n[i++]=t;return n},n.object.getValueByKeys=function(e,t){for(var i=n.isArrayLike(t),r=i?t:arguments,i=i?0:1;i<r.length&&(e=e[r[i]],n.isDef(e));i++);return e},n.object.containsKey=function(e,t){return t in e},n.object.containsValue=function(e,t){for(var n in e)if(e[n]==t)return!0;return!1},n.object.findKey=function(e,t,n){for(var i in e)if(t.call(n,e[i],i,e))return i},n.object.findValue=function(e,t,i){return(t=n.object.findKey(e,t,i))&&e[t]},n.object.isEmpty=function(e){for(var t in e)return!1;return!0},n.object.clear=function(e){for(var t in e)delete e[t]},n.object.remove=function(e,t){var n;return(n=t in e)&&delete e[t],n},n.object.add=function(e,t,i){if(t in e)throw Error('The object already contains the key "'+t+'"');n.object.set(e,t,i)},n.object.get=function(e,t,n){return t in e?e[t]:n},n.object.set=function(e,t,n){e[t]=n},n.object.setIfUndefined=function(e,t,n){return t in e?e[t]:e[t]=n},n.object.clone=function(e){var t,n={};for(t in e)n[t]=e[t];return n},n.object.unsafeClone=function(e){var t=n.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var i,t="array"==t?[]:{};for(i in e)t[i]=n.object.unsafeClone(e[i]);return t}return e},n.object.transpose=function(e){var t,n={};for(t in e)n[e[t]]=t;return n},n.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),n.object.extend=function(e,t){for(var i,r,o=1;o<arguments.length;o++){r=arguments[o];for(i in r)e[i]=r[i];for(var s=0;s<n.object.PROTOTYPE_FIELDS_.length;s++)i=n.object.PROTOTYPE_FIELDS_[s],Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}},n.object.create=function(e){var t=arguments.length;if(1==t&&n.isArray(arguments[0]))return n.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var i={},r=0;r<t;r+=2)i[arguments[r]]=arguments[r+1];return i},n.object.createSet=function(e){var t=arguments.length;if(1==t&&n.isArray(arguments[0]))return n.object.createSet.apply(null,arguments[0]);for(var i={},r=0;r<t;r++)i[arguments[r]]=!0;return i},n.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},n.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},n.string={},n.string.DETECT_DOUBLE_ESCAPING=!1,n.string.Unicode={NBSP:""},n.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},n.string.endsWith=function(e,t){var n=e.length-t.length;return 0<=n&&e.indexOf(t,n)==n},n.string.caseInsensitiveStartsWith=function(e,t){return 0==n.string.caseInsensitiveCompare(t,e.substr(0,t.length))},n.string.caseInsensitiveEndsWith=function(e,t){return 0==n.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},n.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},n.string.subs=function(e,t){for(var n=e.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")},n.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},n.string.isEmpty=function(e){return/^[\s\xa0]*$/.test(e)},n.string.isEmptySafe=function(e){return n.string.isEmpty(n.string.makeSafe(e))},n.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},n.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},n.string.isNumeric=function(e){return!/[^0-9]/.test(e)},n.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},n.string.isSpace=function(e){return" "==e},n.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"">=e},n.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},n.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},n.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},n.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},n.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},n.string.trim=function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},n.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},n.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},n.string.caseInsensitiveCompare=function(e,t){var n=String(e).toLowerCase(),i=String(t).toLowerCase();return n<i?-1:n==i?0:1},n.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,n.string.numerateCompare=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var i=e.toLowerCase().match(n.string.numerateCompareRegExp_),r=t.toLowerCase().match(n.string.numerateCompareRegExp_),o=Math.min(i.length,r.length),s=0;s<o;s++){var a=i[s],l=r[s];if(a!=l)return i=parseInt(a,10),!isNaN(i)&&(r=parseInt(l,10),!isNaN(r)&&i-r)?i-r:a<l?-1:1}return i.length!=r.length?i.length-r.length:e<t?-1:1},n.string.urlEncode=function(e){return encodeURIComponent(String(e))},n.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},n.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},n.string.htmlEscape=function(e,t){if(t)e=e.replace(n.string.AMP_RE_,"&amp;").replace(n.string.LT_RE_,"&lt;").replace(n.string.GT_RE_,"&gt;").replace(n.string.QUOT_RE_,"&quot;").replace(n.string.SINGLE_QUOTE_RE_,"&#39;").replace(n.string.NULL_RE_,"&#0;"),n.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(n.string.E_RE_,"&#101;"));else{if(!n.string.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(n.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(n.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(n.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(n.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(n.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(n.string.NULL_RE_,"&#0;")),n.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")&&(e=e.replace(n.string.E_RE_,"&#101;"))}return e},n.string.AMP_RE_=/&/g,n.string.LT_RE_=/</g,n.string.GT_RE_=/>/g,n.string.QUOT_RE_=/"/g,n.string.SINGLE_QUOTE_RE_=/'/g,n.string.NULL_RE_=/\x00/g,n.string.E_RE_=/e/g,n.string.ALL_RE_=n.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,n.string.unescapeEntities=function(e){return n.string.contains(e,"&")?"document"in n.global?n.string.unescapeEntitiesUsingDom_(e):n.string.unescapePureXmlEntities_(e):e},n.string.unescapeEntitiesWithDocument=function(e,t){return n.string.contains(e,"&")?n.string.unescapeEntitiesUsingDom_(e,t):e},n.string.unescapeEntitiesUsingDom_=function(e,t){var i,r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return i=t?t.createElement("div"):n.global.document.createElement("div"),e.replace(n.string.HTML_ENTITY_PATTERN_,function(e,t){var n=r[e];if(n)return n;if("#"==t.charAt(0)){var o=Number("0"+t.substr(1));isNaN(o)||(n=String.fromCharCode(o))}return n||(i.innerHTML=e+" ",n=i.firstChild.nodeValue.slice(0,-1)),r[e]=n})},n.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var n=Number("0"+t.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return e}})},n.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,n.string.whitespaceEscape=function(e,t){return n.string.newLineToBr(e.replace(/  /g," &#160;"),t)},n.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+n.string.Unicode.NBSP)},n.string.stripQuotes=function(e,t){for(var n=t.length,i=0;i<n;i++){var r=1==n?t:t.charAt(i);if(e.charAt(0)==r&&e.charAt(e.length-1)==r)return e.substring(1,e.length-1)}return e},n.string.truncate=function(e,t,i){return i&&(e=n.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),i&&(e=n.string.htmlEscape(e)),e},n.string.truncateMiddle=function(e,t,i,r){if(i&&(e=n.string.unescapeEntities(e)),r&&e.length>t){r>t&&(r=t);var o=e.length-r;e=e.substring(0,t-r)+"..."+e.substring(o)}else e.length>t&&(r=Math.floor(t/2),o=e.length-r,e=e.substring(0,r+t%2)+"..."+e.substring(o));return i&&(e=n.string.htmlEscape(e)),e},n.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\"},n.string.jsEscapeCache_={"'":"\\'"},n.string.quote=function(e){if(e=String(e),e.quote)return e.quote();for(var t=['"'],i=0;i<e.length;i++){var r=e.charAt(i),o=r.charCodeAt(0);t[i+1]=n.string.specialEscapeChars_[r]||(31<o&&127>o?r:n.string.escapeChar(r))}return t.push('"'),t.join("")},n.string.escapeString=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=n.string.escapeChar(e.charAt(i));return t.join("")},n.string.escapeChar=function(e){if(e in n.string.jsEscapeCache_)return n.string.jsEscapeCache_[e];if(e in n.string.specialEscapeChars_)return n.string.jsEscapeCache_[e]=n.string.specialEscapeChars_[e];var t=e,i=e.charCodeAt(0);return 31<i&&127>i?t=e:(256>i?(t="\\x",(16>i||256<i)&&(t+="0")):(t="\\u",4096>i&&(t+="0")),t+=i.toString(16).toUpperCase()),n.string.jsEscapeCache_[e]=t},n.string.toMap=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=!0;return t},n.string.contains=function(e,t){return-1!=e.indexOf(t)},n.string.caseInsensitiveContains=function(e,t){return n.string.contains(e.toLowerCase(),t.toLowerCase())},n.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},n.string.removeAt=function(e,t,n){var i=e;return 0<=t&&t<e.length&&0<n&&(i=e.substr(0,t)+e.substr(t+n,e.length-t-n)),i},n.string.remove=function(e,t){var i=new RegExp(n.string.regExpEscape(t),"");return e.replace(i,"")},n.string.removeAll=function(e,t){var i=new RegExp(n.string.regExpEscape(t),"g");return e.replace(i,"")},n.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},n.string.repeat=function(e,t){return Array(t+1).join(e)},n.string.padNumber=function(e,t,i){return e=n.isDef(i)?e.toFixed(i):String(e),i=e.indexOf("."),-1==i&&(i=e.length),n.string.repeat("0",Math.max(0,t-i))+e},n.string.makeSafe=function(e){return null==e?"":String(e)},n.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},n.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^n.now()).toString(36)},n.string.compareVersions=function(e,t){for(var i=0,r=n.string.trim(String(e)).split("."),o=n.string.trim(String(t)).split("."),s=Math.max(r.length,o.length),a=0;0==i&&a<s;a++){var l=r[a]||"",h=o[a]||"",c=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var u=c.exec(l)||["","",""],g=p.exec(h)||["","",""];if(0==u[0].length&&0==g[0].length)break;var i=0==u[1].length?0:parseInt(u[1],10),d=0==g[1].length?0:parseInt(g[1],10),i=n.string.compareElements_(i,d)||n.string.compareElements_(0==u[2].length,0==g[2].length)||n.string.compareElements_(u[2],g[2])}while(0==i)}return i},n.string.compareElements_=function(e,t){return e<t?-1:e>t?1:0},n.string.HASHCODE_MAX_=4294967296,n.string.hashCode=function(e){for(var t=0,i=0;i<e.length;++i)t=31*t+e.charCodeAt(i),t%=n.string.HASHCODE_MAX_;return t},n.string.uniqueStringCounter_=2147483648*Math.random()|0,n.string.createUniqueString=function(){return"goog_"+n.string.uniqueStringCounter_++},n.string.toNumber=function(e){var t=Number(e);return 0==t&&n.string.isEmpty(e)?NaN:t},n.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},n.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},n.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},n.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},n.string.toTitleCase=function(e,t){var i=n.isString(t)?n.string.regExpEscape(t):"\\s";return e.replace(new RegExp("(^"+(i?"|["+i+"]+":"")+")([a-z])","g"),function(e,t,n){return t+n.toUpperCase()})},n.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),n.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},n.string.splitLimit=function(e,t,n){e=e.split(t);for(var i=[];0<n&&e.length;)i.push(e.shift()),n--;return e.length&&i.push(e.join(t)),i},n.labs={},n.labs.userAgent={},n.labs.userAgent.util={},n.labs.userAgent.util.getNativeUserAgentString_=function(){var e=n.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},n.labs.userAgent.util.getNavigator_=function(){return n.global.navigator},n.labs.userAgent.util.userAgent_=n.labs.userAgent.util.getNativeUserAgentString_(),n.labs.userAgent.util.setUserAgent=function(e){n.labs.userAgent.util.userAgent_=e||n.labs.userAgent.util.getNativeUserAgentString_()},n.labs.userAgent.util.getUserAgent=function(){return n.labs.userAgent.util.userAgent_},n.labs.userAgent.util.matchUserAgent=function(e){var t=n.labs.userAgent.util.getUserAgent();return n.string.contains(t,e)},n.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=n.labs.userAgent.util.getUserAgent();return n.string.caseInsensitiveContains(t,e)},n.labs.userAgent.util.extractVersionTuples=function(e){for(var t,n=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),i=[];t=n.exec(e);)i.push([t[1],t[2],t[3]||void 0]);return i},n.dom={},n.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},n.debug={},n.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,n.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))},n.inherits(n.debug.Error,Error),n.debug.Error.prototype.name="CustomError",n.asserts={},n.asserts.ENABLE_ASSERTS=n.DEBUG,n.asserts.AssertionError=function(e,t){t.unshift(e),n.debug.Error.call(this,n.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},n.inherits(n.asserts.AssertionError,n.debug.Error),n.asserts.AssertionError.prototype.name="AssertionError",n.asserts.doAssertFailure_=function(e,t,i,r){var o="Assertion failed";if(i)var o=o+": "+i,s=r;else e&&(o+=": "+e,s=t);throw new n.asserts.AssertionError(""+o,s||[])},n.asserts.assert=function(e,t,i){return n.asserts.ENABLE_ASSERTS&&!e&&n.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},n.asserts.fail=function(e,t){if(n.asserts.ENABLE_ASSERTS)throw new n.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},n.asserts.assertNumber=function(e,t,i){return n.asserts.ENABLE_ASSERTS&&!n.isNumber(e)&&n.asserts.doAssertFailure_("Expected number but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertString=function(e,t,i){return n.asserts.ENABLE_ASSERTS&&!n.isString(e)&&n.asserts.doAssertFailure_("Expected string but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertFunction=function(e,t,i){return n.asserts.ENABLE_ASSERTS&&!n.isFunction(e)&&n.asserts.doAssertFailure_("Expected function but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertObject=function(e,t,i){return n.asserts.ENABLE_ASSERTS&&!n.isObject(e)&&n.asserts.doAssertFailure_("Expected object but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertArray=function(e,t,i){return n.asserts.ENABLE_ASSERTS&&!n.isArray(e)&&n.asserts.doAssertFailure_("Expected array but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertBoolean=function(e,t,i){return n.asserts.ENABLE_ASSERTS&&!n.isBoolean(e)&&n.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertElement=function(e,t,i){return!n.asserts.ENABLE_ASSERTS||n.isObject(e)&&e.nodeType==n.dom.NodeType.ELEMENT||n.asserts.doAssertFailure_("Expected Element but got %s: %s.",[n.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},n.asserts.assertInstanceof=function(e,t,i,r){return!n.asserts.ENABLE_ASSERTS||e instanceof t||n.asserts.doAssertFailure_("instanceof check failed.",null,i,Array.prototype.slice.call(arguments,3)),e},n.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)n.asserts.fail(e+" should not be enumerable in Object.prototype.")},n.array={},n.NATIVE_ARRAY_PROTOTYPES=n.TRUSTED_SITE,n.array.ASSUME_NATIVE_FUNCTIONS=!1,n.array.peek=function(e){return e[e.length-1]},n.array.last=n.array.peek,n.array.ARRAY_PROTOTYPE_=Array.prototype,n.array.indexOf=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.indexOf)?function(e,t,i){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.indexOf.call(e,t,i)}:function(e,t,i){if(i=null==i?0:0>i?Math.max(0,e.length+i):i,n.isString(e))return n.isString(t)&&1==t.length?e.indexOf(t,i):-1;for(;i<e.length;i++)if(i in e&&e[i]===t)return i;return-1},n.array.lastIndexOf=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(e,t,i){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e,t,null==i?e.length-1:i)}:function(e,t,i){if(i=null==i?e.length-1:i,0>i&&(i=Math.max(0,e.length+i)),n.isString(e))return n.isString(t)&&1==t.length?e.lastIndexOf(t,i):-1;for(;0<=i;i--)if(i in e&&e[i]===t)return i;return-1},n.array.forEach=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.forEach)?function(e,t,i){n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.forEach.call(e,t,i)}:function(e,t,i){for(var r=e.length,o=n.isString(e)?e.split(""):e,s=0;s<r;s++)s in o&&t.call(i,o[s],s,e)},n.array.forEachRight=function(e,t,i){for(var r=e.length,o=n.isString(e)?e.split(""):e,r=r-1;0<=r;--r)r in o&&t.call(i,o[r],r,e)},n.array.filter=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.filter)?function(e,t,i){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.filter.call(e,t,i)}:function(e,t,i){for(var r=e.length,o=[],s=0,a=n.isString(e)?e.split(""):e,l=0;l<r;l++)if(l in a){var h=a[l];t.call(i,h,l,e)&&(o[s++]=h)}return o},n.array.map=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.map)?function(e,t,i){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.map.call(e,t,i)}:function(e,t,i){for(var r=e.length,o=Array(r),s=n.isString(e)?e.split(""):e,a=0;a<r;a++)a in s&&(o[a]=t.call(i,s[a],a,e));return o},n.array.reduce=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.reduce)?function(e,t,i,r){return n.asserts.assert(null!=e.length),r&&(t=n.bind(t,r)),n.array.ARRAY_PROTOTYPE_.reduce.call(e,t,i)}:function(e,t,i,r){var o=i;return n.array.forEach(e,function(n,i){o=t.call(r,o,n,i,e)}),o},n.array.reduceRight=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.reduceRight)?function(e,t,i,r){return n.asserts.assert(null!=e.length),r&&(t=n.bind(t,r)),n.array.ARRAY_PROTOTYPE_.reduceRight.call(e,t,i)}:function(e,t,i,r){var o=i;return n.array.forEachRight(e,function(n,i){o=t.call(r,o,n,i,e)}),o},n.array.some=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.some)?function(e,t,i){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.some.call(e,t,i)}:function(e,t,i){for(var r=e.length,o=n.isString(e)?e.split(""):e,s=0;s<r;s++)if(s in o&&t.call(i,o[s],s,e))return!0;return!1},n.array.every=n.NATIVE_ARRAY_PROTOTYPES&&(n.array.ASSUME_NATIVE_FUNCTIONS||n.array.ARRAY_PROTOTYPE_.every)?function(e,t,i){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.every.call(e,t,i)}:function(e,t,i){for(var r=e.length,o=n.isString(e)?e.split(""):e,s=0;s<r;s++)if(s in o&&!t.call(i,o[s],s,e))return!1;return!0},n.array.count=function(e,t,i){var r=0;return n.array.forEach(e,function(e,n,o){t.call(i,e,n,o)&&++r},i),r},n.array.find=function(e,t,i){return t=n.array.findIndex(e,t,i),0>t?null:n.isString(e)?e.charAt(t):e[t]},n.array.findIndex=function(e,t,i){for(var r=e.length,o=n.isString(e)?e.split(""):e,s=0;s<r;s++)if(s in o&&t.call(i,o[s],s,e))return s;return-1},n.array.findRight=function(e,t,i){return t=n.array.findIndexRight(e,t,i),0>t?null:n.isString(e)?e.charAt(t):e[t]},n.array.findIndexRight=function(e,t,i){for(var r=e.length,o=n.isString(e)?e.split(""):e,r=r-1;0<=r;r--)if(r in o&&t.call(i,o[r],r,e))return r;return-1},n.array.contains=function(e,t){return 0<=n.array.indexOf(e,t)},n.array.isEmpty=function(e){return 0==e.length},n.array.clear=function(e){if(!n.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},n.array.insert=function(e,t){n.array.contains(e,t)||e.push(t)},n.array.insertAt=function(e,t,i){n.array.splice(e,i,0,t)},n.array.insertArrayAt=function(e,t,i){n.partial(n.array.splice,e,i,0).apply(null,t)},n.array.insertBefore=function(e,t,i){var r;2==arguments.length||0>(r=n.array.indexOf(e,i))?e.push(t):n.array.insertAt(e,t,r)},n.array.remove=function(e,t){var i,r=n.array.indexOf(e,t);return(i=0<=r)&&n.array.removeAt(e,r),i},n.array.removeAt=function(e,t){return n.asserts.assert(null!=e.length),1==n.array.ARRAY_PROTOTYPE_.splice.call(e,t,1).length},n.array.removeIf=function(e,t,i){return 0<=(t=n.array.findIndex(e,t,i))&&(n.array.removeAt(e,t),!0)},n.array.concat=function(e){return n.array.ARRAY_PROTOTYPE_.concat.apply(n.array.ARRAY_PROTOTYPE_,arguments)},n.array.join=function(e){return n.array.ARRAY_PROTOTYPE_.concat.apply(n.array.ARRAY_PROTOTYPE_,arguments)},n.array.toArray=function(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]},n.array.clone=n.array.toArray,n.array.extend=function(e,t){for(var i=1;i<arguments.length;i++){var r,o=arguments[i];if(n.isArray(o)||(r=n.isArrayLike(o))&&Object.prototype.hasOwnProperty.call(o,"callee"))e.push.apply(e,o);else if(r)for(var s=e.length,a=o.length,l=0;l<a;l++)e[s+l]=o[l];else e.push(o)}},n.array.splice=function(e,t,i,r){return n.asserts.assert(null!=e.length),n.array.ARRAY_PROTOTYPE_.splice.apply(e,n.array.slice(arguments,1))},n.array.slice=function(e,t,i){return n.asserts.assert(null!=e.length),2>=arguments.length?n.array.ARRAY_PROTOTYPE_.slice.call(e,t):n.array.ARRAY_PROTOTYPE_.slice.call(e,t,i)},n.array.removeDuplicates=function(e,t,i){t=t||e;var r=function(e){return n.isObject(a)?"o"+n.getUid(a):(typeof a).charAt(0)+a};i=i||r;for(var r={},o=0,s=0;s<e.length;){var a=e[s++],l=i(a);Object.prototype.hasOwnProperty.call(r,l)||(r[l]=!0,t[o++]=a)}t.length=o},n.array.binarySearch=function(e,t,i){return n.array.binarySearch_(e,i||n.array.defaultCompare,!1,t)},n.array.binarySelect=function(e,t,i){return n.array.binarySearch_(e,t,!0,void 0,i)},n.array.binarySearch_=function(e,t,n,i,r){for(var o,s=0,a=e.length;s<a;){var l,h=s+a>>1;l=n?t.call(r,e[h],h,e):t(i,e[h]),0<l?s=h+1:(a=h,o=!l)}return o?s:~s},n.array.sort=function(e,t){e.sort(t||n.array.defaultCompare)},n.array.stableSort=function(e,t){for(var i=0;i<e.length;i++)e[i]={index:i,value:e[i]};var r=t||n.array.defaultCompare;for(n.array.sort(e,function(e,t){return r(e.value,t.value)||e.index-t.index}),i=0;i<e.length;i++)e[i]=e[i].value},n.array.sortObjectsByKey=function(e,t,i){var r=i||n.array.defaultCompare;n.array.sort(e,function(e,n){return r(e[t],n[t])})};n.array.isSorted=function(e,t,i){t=t||n.array.defaultCompare;for(var r=1;r<e.length;r++){var o=t(e[r-1],e[r]);if(0<o||0==o&&i)return!1}return!0},n.array.equals=function(e,t,i){if(!n.isArrayLike(e)||!n.isArrayLike(t)||e.length!=t.length)return!1;var r=e.length;i=i||n.array.defaultCompareEquality;for(var o=0;o<r;o++)if(!i(e[o],t[o]))return!1;return!0},n.array.compare3=function(e,t,i){i=i||n.array.defaultCompare;for(var r=Math.min(e.length,t.length),o=0;o<r;o++){var s=i(e[o],t[o]);if(0!=s)return s}return n.array.defaultCompare(e.length,t.length)},n.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},n.array.defaultCompareEquality=function(e,t){return e===t},n.array.binaryInsert=function(e,t,i){return 0>(i=n.array.binarySearch(e,t,i))&&(n.array.insertAt(e,t,-(i+1)),!0)},n.array.binaryRemove=function(e,t,i){return 0<=(t=n.array.binarySearch(e,t,i))&&n.array.removeAt(e,t)},n.array.bucket=function(e,t,i){for(var r={},o=0;o<e.length;o++){var s=e[o],a=t.call(i,s,o,e);n.isDef(a)&&(r[a]||(r[a]=[])).push(s)}return r},n.array.toObject=function(e,t,i){var r={};return n.array.forEach(e,function(n,o){r[t.call(i,n,o,e)]=n}),r},n.array.range=function(e,t,n){var i=[],r=0,o=e;if(n=n||1,void 0!==t&&(r=e,o=t),0>n*(o-r))return[];if(0<n)for(e=r;e<o;e+=n)i.push(e);else for(e=r;e>o;e+=n)i.push(e);return i},n.array.repeat=function(e,t){for(var n=[],i=0;i<t;i++)n[i]=e;return n},n.array.flatten=function(e){for(var t=[],i=0;i<arguments.length;i++){var r=arguments[i];n.isArray(r)?t.push.apply(t,n.array.flatten.apply(null,r)):t.push(r)}return t},n.array.rotate=function(e,t){return n.asserts.assert(null!=e.length),e.length&&(t%=e.length,0<t?n.array.ARRAY_PROTOTYPE_.unshift.apply(e,e.splice(-t,t)):0>t&&n.array.ARRAY_PROTOTYPE_.push.apply(e,e.splice(0,-t))),e},n.array.moveItem=function(e,t,i){n.asserts.assert(0<=t&&t<e.length),n.asserts.assert(0<=i&&i<e.length),t=n.array.ARRAY_PROTOTYPE_.splice.call(e,t,1),n.array.ARRAY_PROTOTYPE_.splice.call(e,i,0,t[0])},n.array.zip=function(e){if(!arguments.length)return[];for(var t=[],n=0;;n++){for(var i=[],r=0;r<arguments.length;r++){var o=arguments[r];if(n>=o.length)return t;i.push(o[n])}t.push(i)}},n.array.shuffle=function(e,t){for(var n=t||Math.random,i=e.length-1;0<i;i--){var r=Math.floor(n()*(i+1)),o=e[i];e[i]=e[r],e[r]=o}},n.labs.userAgent.browser={},n.labs.userAgent.browser.matchOpera_=function(){return n.labs.userAgent.util.matchUserAgent("Opera")||n.labs.userAgent.util.matchUserAgent("OPR")},n.labs.userAgent.browser.matchIE_=function(){return n.labs.userAgent.util.matchUserAgent("Trident")||n.labs.userAgent.util.matchUserAgent("MSIE")},n.labs.userAgent.browser.matchFirefox_=function(){return n.labs.userAgent.util.matchUserAgent("Firefox")},n.labs.userAgent.browser.matchSafari_=function(){return n.labs.userAgent.util.matchUserAgent("Safari")&&!n.labs.userAgent.util.matchUserAgent("Chrome")&&!n.labs.userAgent.util.matchUserAgent("CriOS")&&!n.labs.userAgent.util.matchUserAgent("Android")},n.labs.userAgent.browser.matchChrome_=function(){return n.labs.userAgent.util.matchUserAgent("Chrome")||n.labs.userAgent.util.matchUserAgent("CriOS")},n.labs.userAgent.browser.matchAndroidBrowser_=function(){return n.labs.userAgent.util.matchUserAgent("Android")&&!n.labs.userAgent.util.matchUserAgent("Chrome")&&!n.labs.userAgent.util.matchUserAgent("CriOS")},n.labs.userAgent.browser.isOpera=n.labs.userAgent.browser.matchOpera_,n.labs.userAgent.browser.isIE=n.labs.userAgent.browser.matchIE_,n.labs.userAgent.browser.isFirefox=n.labs.userAgent.browser.matchFirefox_,n.labs.userAgent.browser.isSafari=n.labs.userAgent.browser.matchSafari_,n.labs.userAgent.browser.isChrome=n.labs.userAgent.browser.matchChrome_,n.labs.userAgent.browser.isAndroidBrowser=n.labs.userAgent.browser.matchAndroidBrowser_,n.labs.userAgent.browser.isSilk=function(){return n.labs.userAgent.util.matchUserAgent("Silk")},n.labs.userAgent.browser.getVersion=function(){var e=n.labs.userAgent.util.getUserAgent();return n.labs.userAgent.browser.isIE()?n.labs.userAgent.browser.getIEVersion_(e):n.labs.userAgent.browser.isOpera()?n.labs.userAgent.browser.getOperaVersion_(e):(e=n.labs.userAgent.util.extractVersionTuples(e),n.labs.userAgent.browser.getVersionFromTuples_(e))},n.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=n.string.compareVersions(n.labs.userAgent.browser.getVersion(),e)},n.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];var t="",n=/MSIE +([\d\.]+)/.exec(e);if(n&&n[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==n[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=n[1];return t},n.labs.userAgent.browser.getOperaVersion_=function(e){e=n.labs.userAgent.util.extractVersionTuples(e);var t=n.array.peek(e);return"OPR"==t[0]&&t[1]?t[1]:n.labs.userAgent.browser.getVersionFromTuples_(e)},n.labs.userAgent.browser.getVersionFromTuples_=function(e){return n.asserts.assert(2<e.length,"Couldn't extract version tuple from user agent string"),e[2]&&e[2][1]?e[2][1]:""},n.labs.userAgent.engine={},n.labs.userAgent.engine.isPresto=function(){return n.labs.userAgent.util.matchUserAgent("Presto")},n.labs.userAgent.engine.isTrident=function(){return n.labs.userAgent.util.matchUserAgent("Trident")||n.labs.userAgent.util.matchUserAgent("MSIE")},n.labs.userAgent.engine.isWebKit=function(){return n.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")},n.labs.userAgent.engine.isGecko=function(){return n.labs.userAgent.util.matchUserAgent("Gecko")&&!n.labs.userAgent.engine.isWebKit()&&!n.labs.userAgent.engine.isTrident()},n.labs.userAgent.engine.getVersion=function(){var e=n.labs.userAgent.util.getUserAgent();if(e){var e=n.labs.userAgent.util.extractVersionTuples(e),t=e[1];if(t)return"Gecko"==t[0]?n.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):t[1];var i,e=e[0];if(e&&(i=e[2])&&(i=/Trident\/([^\s;]+)/.exec(i)))return i[1]}return""},n.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=n.string.compareVersions(n.labs.userAgent.engine.getVersion(),e)},n.labs.userAgent.engine.getVersionForKey_=function(e,t){var i=n.array.find(e,function(e){return t==e[0]});return i&&i[1]||""},n.userAgent={},n.userAgent.ASSUME_IE=!1,n.userAgent.ASSUME_GECKO=!1,n.userAgent.ASSUME_WEBKIT=!1,n.userAgent.ASSUME_MOBILE_WEBKIT=!1,n.userAgent.ASSUME_OPERA=!1,n.userAgent.ASSUME_ANY_VERSION=!1,n.userAgent.BROWSER_KNOWN_=n.userAgent.ASSUME_IE||n.userAgent.ASSUME_GECKO||n.userAgent.ASSUME_MOBILE_WEBKIT||n.userAgent.ASSUME_WEBKIT||n.userAgent.ASSUME_OPERA,n.userAgent.getUserAgentString=function(){return n.labs.userAgent.util.getUserAgent()},n.userAgent.getNavigator=function(){return n.global.navigator||null},n.userAgent.OPERA=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_OPERA:n.labs.userAgent.browser.isOpera(),n.userAgent.IE=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_IE:n.labs.userAgent.browser.isIE(),n.userAgent.GECKO=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_GECKO:n.labs.userAgent.engine.isGecko(),n.userAgent.WEBKIT=n.userAgent.BROWSER_KNOWN_?n.userAgent.ASSUME_WEBKIT||n.userAgent.ASSUME_MOBILE_WEBKIT:n.labs.userAgent.engine.isWebKit(),n.userAgent.isMobile_=function(){return n.userAgent.WEBKIT&&n.labs.userAgent.util.matchUserAgent("Mobile")},n.userAgent.MOBILE=n.userAgent.ASSUME_MOBILE_WEBKIT||n.userAgent.isMobile_(),n.userAgent.SAFARI=n.userAgent.WEBKIT,n.userAgent.determinePlatform_=function(){var e=n.userAgent.getNavigator();return e&&e.platform||""},n.userAgent.PLATFORM=n.userAgent.determinePlatform_(),n.userAgent.ASSUME_MAC=!1,n.userAgent.ASSUME_WINDOWS=!1,n.userAgent.ASSUME_LINUX=!1,n.userAgent.ASSUME_X11=!1,n.userAgent.ASSUME_ANDROID=!1,n.userAgent.ASSUME_IPHONE=!1,n.userAgent.ASSUME_IPAD=!1,n.userAgent.PLATFORM_KNOWN_=n.userAgent.ASSUME_MAC||n.userAgent.ASSUME_WINDOWS||n.userAgent.ASSUME_LINUX||n.userAgent.ASSUME_X11||n.userAgent.ASSUME_ANDROID||n.userAgent.ASSUME_IPHONE||n.userAgent.ASSUME_IPAD,n.userAgent.initPlatform_=function(){n.userAgent.detectedMac_=n.string.contains(n.userAgent.PLATFORM,"Mac"),n.userAgent.detectedWindows_=n.string.contains(n.userAgent.PLATFORM,"Win"),n.userAgent.detectedLinux_=n.string.contains(n.userAgent.PLATFORM,"Linux"),n.userAgent.detectedX11_=!!n.userAgent.getNavigator()&&n.string.contains(n.userAgent.getNavigator().appVersion||"","X11");var e=n.userAgent.getUserAgentString();n.userAgent.detectedAndroid_=!!e&&n.string.contains(e,"Android"),n.userAgent.detectedIPhone_=!!e&&n.string.contains(e,"iPhone"),n.userAgent.detectedIPad_=!!e&&n.string.contains(e,"iPad")},n.userAgent.PLATFORM_KNOWN_||n.userAgent.initPlatform_(),n.userAgent.MAC=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_MAC:n.userAgent.detectedMac_,n.userAgent.WINDOWS=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_WINDOWS:n.userAgent.detectedWindows_,n.userAgent.LINUX=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_LINUX:n.userAgent.detectedLinux_,n.userAgent.X11=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_X11:n.userAgent.detectedX11_,n.userAgent.ANDROID=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_ANDROID:n.userAgent.detectedAndroid_,n.userAgent.IPHONE=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_IPHONE:n.userAgent.detectedIPhone_,n.userAgent.IPAD=n.userAgent.PLATFORM_KNOWN_?n.userAgent.ASSUME_IPAD:n.userAgent.detectedIPad_,n.userAgent.determineVersion_=function(){var e,t="";return n.userAgent.OPERA&&n.global.opera?(t=n.global.opera.version,n.isFunction(t)?t():t):(n.userAgent.GECKO?e=/rv\:([^\);]+)(\)|;)/:n.userAgent.IE?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:n.userAgent.WEBKIT&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(n.userAgent.getUserAgentString()))?t[1]:""),n.userAgent.IE&&(e=n.userAgent.getDocumentMode_())>parseFloat(t)?String(e):t)},n.userAgent.getDocumentMode_=function(){var e=n.global.document;return e?e.documentMode:void 0},n.userAgent.VERSION=n.userAgent.determineVersion_(),n.userAgent.compare=function(e,t){return n.string.compareVersions(e,t)},n.userAgent.isVersionOrHigherCache_={},n.userAgent.isVersionOrHigher=function(e){return n.userAgent.ASSUME_ANY_VERSION||n.userAgent.isVersionOrHigherCache_[e]||(n.userAgent.isVersionOrHigherCache_[e]=0<=n.string.compareVersions(n.userAgent.VERSION,e))},n.userAgent.isVersion=n.userAgent.isVersionOrHigher,n.userAgent.isDocumentModeOrHigher=function(e){return n.userAgent.IE&&n.userAgent.DOCUMENT_MODE>=e},n.userAgent.isDocumentMode=n.userAgent.isDocumentModeOrHigher,n.userAgent.DOCUMENT_MODE=function(){var e=n.global.document;return e&&n.userAgent.IE?n.userAgent.getDocumentMode_()||("CSS1Compat"==e.compatMode?parseInt(n.userAgent.VERSION,10):5):void 0}(),i.engine=function(){},i.engine.CANVAS="canvas",i.engine.SVG="svg",i.engine.VML="vml",i.engine.hasDom=function(e){return e===i.engine.SVG||e===i.engine.VML},i.engine.isSupported=function(e){if(e===i.engine.CANVAS)return!!document.createElement("canvas").getContext;if(e===i.engine.SVG)return!!document.createElementNS&&!!document.createElementNS(i.svg.Namespace.svg,"svg").createSVGRect;if(e===i.engine.VML)return!!document.namespaces;throw Error("Unknown engine.")},i.shape=function(){},i.shape.EventType={SHAPE_BEFORE_DRAW:"eventShapeBeforeDraw"},n.disposable={},n.disposable.IDisposable=function(){},n.Disposable=function(){n.Disposable.MONITORING_MODE!=n.Disposable.MonitoringMode.OFF&&(n.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),n.Disposable.instances_[n.getUid(this)]=this)},n.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},n.Disposable.MONITORING_MODE=0,n.Disposable.INCLUDE_STACK_ON_CREATION=!0,n.Disposable.instances_={},n.Disposable.getUndisposedObjects=function(){var e,t=[];for(e in n.Disposable.instances_)n.Disposable.instances_.hasOwnProperty(e)&&t.push(n.Disposable.instances_[Number(e)]);return t},n.Disposable.clearUndisposedObjects=function(){n.Disposable.instances_={}},n.Disposable.prototype.disposed_=!1,n.Disposable.prototype.isDisposed=function(){return this.disposed_},n.Disposable.prototype.getDisposed=n.Disposable.prototype.isDisposed,n.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),n.Disposable.MONITORING_MODE!=n.Disposable.MonitoringMode.OFF)){var e=n.getUid(this);if(n.Disposable.MONITORING_MODE==n.Disposable.MonitoringMode.PERMANENT&&!n.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete n.Disposable.instances_[e]}},n.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(n.partial(n.dispose,e))},n.Disposable.prototype.addOnDisposeCallback=function(e,t){this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(n.isDef(t)?n.bind(e,t):e)},n.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},n.Disposable.isDisposed=function(e){return!(!e||"function"!=typeof e.isDisposed)&&e.isDisposed()},n.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},n.disposeAll=function(e){for(var t=0,i=arguments.length;t<i;++t){var r=arguments[t];n.isArrayLike(r)?n.disposeAll.apply(null,r):n.dispose(r)}},i.shape.Style=function(){n.Disposable.call(this),this.fill_={color:"",opacity:0},this.stroke_={color:"black",width:1}},n.inherits(i.shape.Style,n.Disposable),i.shape.Style.prototype.setStyle=function(e){this.stroke_.color=e.getStrokeColor(),this.stroke_.width=e.getStrokeWidth(),this.fill_.color=e.getFillColor(),this.fill_.opacity=e.getFillOpacity()},i.shape.Style.prototype.getStrokeWidth=function(){return this.stroke_.width},i.shape.Style.prototype.setStrokeWidth=function(e){void 0!==e&&(this.stroke_.width=e)},i.shape.Style.prototype.getStrokeColor=function(){return this.stroke_.color},i.shape.Style.prototype.setStrokeColor=function(e){void 0!==e&&(this.stroke_.color=e)},i.shape.Style.prototype.getFillColor=function(){return this.fill_.color},i.shape.Style.prototype.setFillColor=function(e){0===this.fill_.opacity&&(this.fill_.opacity=1),void 0!==e&&(this.fill_.color=e)},i.shape.Style.prototype.getFillOpacity=function(){return this.fill_.opacity},i.shape.Style.prototype.setFillOpacity=function(e){void 0!==e&&(this.fill_.opacity=e)},i.shape.Style.prototype.disposeInternal=function(){this.stroke_=this.fill_=null,i.shape.Style.superClass_.disposeInternal.call(this)},i.shape.RenderStylable=function(e){i.shape.Style.call(this),this.zoomFactor_=1,this.hasDom_=i.engine.hasDom(e.getEngine().getName()),this.fillChanged_={color:!0,opacity:!0},this.strokeChanged_={color:!0,width:!0}},n.inherits(i.shape.RenderStylable,i.shape.Style),i.shape.RenderStylable.prototype.getShapeGroup=function(){return this.shapeGroup_},i.shape.RenderStylable.prototype.setShapeGroup=function(e){this.shapeGroup_=e},i.shape.RenderStylable.prototype.getEngineElement=function(){return this.engineElement_},i.shape.RenderStylable.prototype.setZoomFactor=function(e){this.zoomFactor_=e},i.shape.RenderStylable.prototype.setStyles=function(e){this.setStyle(e),this.getHoverable().setStyle(e.getHoverable()),this.getModifiable().setStyle(e.getModifiable()),this.getSelectable().setStyle(e.getSelectable())},i.shape.RenderStylable.prototype.setStyle=function(e){i.shape.RenderStylable.superClass_.setStyle.call(this,e),this.fillChanged_.color=!0,this.fillChanged_.opacity=!0,this.strokeChanged_.color=!0,this.strokeChanged_.width=!0},i.shape.RenderStylable.prototype.setFillColor=function(e){i.shape.RenderStylable.superClass_.setFillColor.call(this,e),this.fillChanged_.color=!0},i.shape.RenderStylable.prototype.getRenderingFillColor=function(){var e=this.shapeGroup_?this.shapeGroup_.getFillColor():this.hasDom_&&!1===this.fillChanged_.color?void 0:this.fill_.color;return this.fillChanged_.color=!1,e},i.shape.RenderStylable.prototype.setFillOpacity=function(e){i.shape.RenderStylable.superClass_.setFillOpacity.call(this,e),this.fillChanged_.opacity=!0},i.shape.RenderStylable.prototype.getRenderingFillOpacity=function(){var e=this.shapeGroup_?this.shapeGroup_.getFillOpacity():this.hasDom_&&!1===this.fillChanged_.opacity?void 0:this.fill_.opacity;return this.fillChanged_.opacity=!1,e},i.shape.RenderStylable.prototype.setStrokeColor=function(e){i.shape.RenderStylable.superClass_.setStrokeColor.call(this,e),this.strokeChanged_.color=!0},i.shape.RenderStylable.prototype.getRenderingStrokeColor=function(){var e=this.shapeGroup_?this.shapeGroup_.getStrokeColor():this.hasDom_&&!1===this.strokeChanged_.color?void 0:this.stroke_.color;return this.strokeChanged_.color=!1,e},i.shape.RenderStylable.prototype.setStrokeWidth=function(e){i.shape.RenderStylable.superClass_.setStrokeWidth.call(this,e),this.strokeChanged_.width=!0},i.shape.RenderStylable.prototype.getRenderingStrokeWidth=function(){var e=this.shapeGroup_?this.shapeGroup_.getStrokeWidth()/this.zoomFactor_:this.hasDom_&&!1===this.strokeChanged_.width?void 0:this.stroke_.width/this.zoomFactor_;return this.strokeChanged_.width=!1,e},i.shape.RenderStylable.prototype.startDrawing_=function(){this.drawing_.eventBeforeRendering(this),this.engineElement_.applyTransform(this.ctm_),this.engineElement_.startDrawing()},i.shape.RenderStylable.prototype.finishDrawing_=function(){this.engineElement_.finishDrawing()},i.shape.RenderStylable.prototype.disposeInternal=function(){this.engineElement_.dispose(),this.engineElement_=null,n.dispose(this.shapeGroup_),this.shapeGroup_=null,i.shape.RenderStylable.superClass_.disposeInternal.call(this)},n.dom.classes={},n.dom.classes.set=function(e,t){e.className=t},n.dom.classes.get=function(e){return e=e.className,n.isString(e)&&e.match(/\S+/g)||[]},n.dom.classes.add=function(e,t){var i=n.dom.classes.get(e),r=n.array.slice(arguments,1),o=i.length+r.length;return n.dom.classes.add_(i,r),n.dom.classes.set(e,i.join(" ")),i.length==o},n.dom.classes.remove=function(e,t){var i=n.dom.classes.get(e),r=n.array.slice(arguments,1),o=n.dom.classes.getDifference_(i,r);return n.dom.classes.set(e,o.join(" ")),o.length==i.length-r.length},n.dom.classes.add_=function(e,t){for(var i=0;i<t.length;i++)n.array.contains(e,t[i])||e.push(t[i])},n.dom.classes.getDifference_=function(e,t){return n.array.filter(e,function(e){return!n.array.contains(t,e)})},n.dom.classes.swap=function(e,t,i){for(var r=n.dom.classes.get(e),o=!1,s=0;s<r.length;s++)r[s]==t&&(n.array.splice(r,s--,1),o=!0);return o&&(r.push(i),n.dom.classes.set(e,r.join(" "))),o},n.dom.classes.addRemove=function(e,t,i){var r=n.dom.classes.get(e);n.isString(t)?n.array.remove(r,t):n.isArray(t)&&(r=n.dom.classes.getDifference_(r,t)),n.isString(i)&&!n.array.contains(r,i)?r.push(i):n.isArray(i)&&n.dom.classes.add_(r,i),n.dom.classes.set(e,r.join(" "))},n.dom.classes.has=function(e,t){return n.array.contains(n.dom.classes.get(e),t)},n.dom.classes.enable=function(e,t,i){i?n.dom.classes.add(e,t):n.dom.classes.remove(e,t)},n.dom.classes.toggle=function(e,t){var i=!n.dom.classes.has(e,t);return n.dom.classes.enable(e,t,i),i},n.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"},n.math={},n.math.Size=function(e,t){this.width=e,this.height=t},n.math.Size.equals=function(e,t){return e==t||!(!e||!t)&&(e.width==t.width&&e.height==t.height)},n.math.Size.prototype.clone=function(){return new n.math.Size(this.width,this.height)},n.DEBUG&&(n.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),n.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},n.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},n.math.Size.prototype.area=function(){return this.width*this.height},n.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},n.math.Size.prototype.aspectRatio=function(){return this.width/this.height},n.math.Size.prototype.isEmpty=function(){return!this.area()},n.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},n.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},n.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},n.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},n.math.Size.prototype.scale=function(e,t){var i=n.isNumber(t)?t:e;return this.width*=e,this.height*=i,this},n.math.Size.prototype.scaleToFit=function(e){return e=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},n.functions={},n.functions.constant=function(e){return function(){return e}},n.functions.FALSE=n.functions.constant(!1),n.functions.TRUE=n.functions.constant(!0),n.functions.NULL=n.functions.constant(null),n.functions.identity=function(e,t){return e},n.functions.error=function(e){return function(){throw Error(e)}},n.functions.fail=function(e){return function(){throw e}},n.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},n.functions.nth=function(e){return function(){return arguments[e]}},n.functions.withReturnValue=function(e,t){return n.functions.sequence(e,n.functions.constant(t))},n.functions.compose=function(e,t){var n=arguments,i=n.length;return function(){var e;i&&(e=n[i-1].apply(this,arguments));for(var t=i-2;0<=t;t--)e=n[t].call(this,e);return e}},n.functions.sequence=function(e){var t=arguments,n=t.length;return function(){for(var e,i=0;i<n;i++)e=t[i].apply(this,arguments);return e}},n.functions.and=function(e){var t=arguments,n=t.length;return function(){for(var e=0;e<n;e++)if(!t[e].apply(this,arguments))return!1;return!0}},n.functions.or=function(e){var t=arguments,n=t.length;return function(){for(var e=0;e<n;e++)if(t[e].apply(this,arguments))return!0;return!1}},n.functions.not=function(e){return function(){return!e.apply(this,arguments)}},n.functions.create=function(e,t){var n=function(){};return n.prototype=e.prototype,n=new n,e.apply(n,Array.prototype.slice.call(arguments,1)),n},n.functions.CACHE_RETURN_VALUE=!0,n.functions.cacheReturnValue=function(e){var t,i=!1;return function(){return n.functions.CACHE_RETURN_VALUE?(i||(t=e(),i=!0),t):e()}},n.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!n.userAgent.GECKO&&!n.userAgent.IE||n.userAgent.IE&&n.userAgent.isDocumentModeOrHigher(9)||n.userAgent.GECKO&&n.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:n.userAgent.IE&&!n.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:n.userAgent.IE||n.userAgent.OPERA||n.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:n.userAgent.IE},n.math.randomInt=function(e){return Math.floor(Math.random()*e)},n.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)},n.math.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)};n.math.modulo=function(e,t){var n=e%t;return 0>n*t?n+t:n},n.math.lerp=function(e,t,n){return e+n*(t-e)},n.math.nearlyEquals=function(e,t,n){return Math.abs(e-t)<=(n||1e-6)},n.math.standardAngle=function(e){return n.math.modulo(e,360)},n.math.standardAngleInRadians=function(e){return n.math.modulo(e,2*Math.PI)},n.math.toRadians=function(e){return e*Math.PI/180},n.math.toDegrees=function(e){return 180*e/Math.PI},n.math.angleDx=function(e,t){return t*Math.cos(n.math.toRadians(e))},n.math.angleDy=function(e,t){return t*Math.sin(n.math.toRadians(e))},n.math.angle=function(e,t,i,r){return n.math.standardAngle(n.math.toDegrees(Math.atan2(r-t,i-e)))},n.math.angleDifference=function(e,t){var i=n.math.standardAngle(t)-n.math.standardAngle(e);return 180<i?i-=360:-180>=i&&(i=360+i),i},n.math.sign=function(e){return 0==e?0:0>e?-1:1},n.math.longestCommonSubsequence=function(e,t,n,i){n=n||function(e,t){return e==t},i=i||function(t,n){return e[t]};for(var r=e.length,o=t.length,s=[],a=0;a<r+1;a++)s[a]=[],s[a][0]=0;for(var l=0;l<o+1;l++)s[0][l]=0;for(a=1;a<=r;a++)for(l=1;l<=o;l++)n(e[a-1],t[l-1])?s[a][l]=s[a-1][l-1]+1:s[a][l]=Math.max(s[a-1][l],s[a][l-1]);for(var h=[],a=r,l=o;0<a&&0<l;)n(e[a-1],t[l-1])?(h.unshift(i(a-1,l-1)),a--,l--):s[a-1][l]>s[a][l-1]?a--:l--;return h},n.math.sum=function(e){return n.array.reduce(arguments,function(e,t){return e+t},0)},n.math.average=function(e){return n.math.sum.apply(null,arguments)/arguments.length},n.math.sampleVariance=function(e){var t=arguments.length;if(2>t)return 0;var i=n.math.average.apply(null,arguments);return n.math.sum.apply(null,n.array.map(arguments,function(e){return Math.pow(e-i,2)}))/(t-1)},n.math.standardDeviation=function(e){return Math.sqrt(n.math.sampleVariance.apply(null,arguments))},n.math.isInt=function(e){return isFinite(e)&&0==e%1},n.math.isFiniteNumber=function(e){return isFinite(e)&&!isNaN(e)},n.math.log10Floor=function(e){if(0<e){var t=Math.round(Math.log(e)*Math.LOG10E);return t-(parseFloat("1e"+t)>e)}return 0==e?-1/0:NaN},n.math.safeFloor=function(e,t){return n.asserts.assert(!n.isDef(t)||0<t),Math.floor(e+(t||2e-15))},n.math.safeCeil=function(e,t){return n.asserts.assert(!n.isDef(t)||0<t),Math.ceil(e-(t||2e-15))},n.math.Coordinate=function(e,t){this.x=n.isDef(e)?e:0,this.y=n.isDef(t)?t:0},n.math.Coordinate.prototype.clone=function(){return new n.math.Coordinate(this.x,this.y)},n.DEBUG&&(n.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),n.math.Coordinate.equals=function(e,t){return e==t||!(!e||!t)&&(e.x==t.x&&e.y==t.y)},n.math.Coordinate.distance=function(e,t){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},n.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.math.Coordinate.azimuth=function(e){return n.math.angle(0,0,e.x,e.y)},n.math.Coordinate.squaredDistance=function(e,t){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},n.math.Coordinate.difference=function(e,t){return new n.math.Coordinate(e.x-t.x,e.y-t.y)},n.math.Coordinate.sum=function(e,t){return new n.math.Coordinate(e.x+t.x,e.y+t.y)},n.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},n.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},n.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},n.math.Coordinate.prototype.translate=function(e,t){return e instanceof n.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=e,n.isNumber(t)&&(this.y+=t)),this},n.math.Coordinate.prototype.scale=function(e,t){var i=n.isNumber(t)?t:e;return this.x*=e,this.y*=i,this},n.math.Coordinate.prototype.rotateRadians=function(e,t){var i=t||new n.math.Coordinate(0,0),r=this.x,o=this.y,s=Math.cos(e),a=Math.sin(e);this.x=(r-i.x)*s-(o-i.y)*a+i.x,this.y=(r-i.x)*a+(o-i.y)*s+i.y},n.math.Coordinate.prototype.rotateDegrees=function(e,t){this.rotateRadians(n.math.toRadians(e),t)},n.dom.ASSUME_QUIRKS_MODE=!1,n.dom.ASSUME_STANDARDS_MODE=!1,n.dom.COMPAT_MODE_KNOWN_=n.dom.ASSUME_QUIRKS_MODE||n.dom.ASSUME_STANDARDS_MODE,n.dom.getDomHelper=function(e){return e?new n.dom.DomHelper(n.dom.getOwnerDocument(e)):n.dom.defaultDomHelper_||(n.dom.defaultDomHelper_=new n.dom.DomHelper)},n.dom.getDocument=function(){return document},n.dom.getElement=function(e){return n.dom.getElementHelper_(document,e)},n.dom.getElementHelper_=function(e,t){return n.isString(t)?e.getElementById(t):t},n.dom.getRequiredElement=function(e){return n.dom.getRequiredElementHelper_(document,e)},n.dom.getRequiredElementHelper_=function(e,t){n.asserts.assertString(t);var i=n.dom.getElementHelper_(e,t);return i=n.asserts.assertElement(i,"No element found with id: "+t)},n.dom.$=n.dom.getElement,n.dom.getElementsByTagNameAndClass=function(e,t,i){return n.dom.getElementsByTagNameAndClass_(document,e,t,i)},n.dom.getElementsByClass=function(e,t){var i=t||document;return n.dom.canUseQuerySelector_(i)?i.querySelectorAll("."+e):n.dom.getElementsByTagNameAndClass_(document,"*",e,t)},n.dom.getElementByClass=function(e,t){var i=t||document;return(n.dom.canUseQuerySelector_(i)?i.querySelector("."+e):n.dom.getElementsByTagNameAndClass_(document,"*",e,t)[0])||null},n.dom.getRequiredElementByClass=function(e,t){var i=n.dom.getElementByClass(e,t);return n.asserts.assert(i,"No element found with className: "+e)},n.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},n.dom.getElementsByTagNameAndClass_=function(e,t,i,r){if(e=r||e,t=t&&"*"!=t?t.toUpperCase():"",n.dom.canUseQuerySelector_(e)&&(t||i))return e.querySelectorAll(t+(i?"."+i:""));if(i&&e.getElementsByClassName){if(e=e.getElementsByClassName(i),t){r={};for(var o,s=0,a=0;o=e[a];a++)t==o.nodeName&&(r[s++]=o);return r.length=s,r}return e}if(e=e.getElementsByTagName(t||"*"),i){for(r={},a=s=0;o=e[a];a++)t=o.className,"function"==typeof t.split&&n.array.contains(t.split(/\s+/),i)&&(r[s++]=o);return r.length=s,r}return e},n.dom.$$=n.dom.getElementsByTagNameAndClass,n.dom.setProperties=function(e,t){n.object.forEach(t,function(t,i){"style"==i?e.style.cssText=t:"class"==i?e.className=t:"for"==i?e.htmlFor=t:i in n.dom.DIRECT_ATTRIBUTE_MAP_?e.setAttribute(n.dom.DIRECT_ATTRIBUTE_MAP_[i],t):n.string.startsWith(i,"aria-")||n.string.startsWith(i,"data-")?e.setAttribute(i,t):e[i]=t})},n.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},n.dom.getViewportSize=function(e){return n.dom.getViewportSize_(e||window)},n.dom.getViewportSize_=function(e){return e=e.document,e=n.dom.isCss1CompatMode_(e)?e.documentElement:e.body,new n.math.Size(e.clientWidth,e.clientHeight)},n.dom.getDocumentHeight=function(){return n.dom.getDocumentHeight_(window)},n.dom.getDocumentHeight_=function(e){var t=e.document,i=0;if(t){var i=t.body,r=t.documentElement;if(!i&&!r)return 0;if(e=n.dom.getViewportSize_(e).height,n.dom.isCss1CompatMode_(t)&&r.scrollHeight)i=r.scrollHeight!=e?r.scrollHeight:r.offsetHeight;else{var t=r.scrollHeight,o=r.offsetHeight;r.clientHeight!=o&&(t=i.scrollHeight,o=i.offsetHeight),i=t>e?t>o?t:o:t<o?t:o}}return i},n.dom.getPageScroll=function(e){return n.dom.getDomHelper((e||n.global||window).document).getDocumentScroll()},n.dom.getDocumentScroll=function(){return n.dom.getDocumentScroll_(document)},n.dom.getDocumentScroll_=function(e){var t=n.dom.getDocumentScrollElement_(e);return e=n.dom.getWindow_(e),n.userAgent.IE&&n.userAgent.isVersionOrHigher("10")&&e.pageYOffset!=t.scrollTop?new n.math.Coordinate(t.scrollLeft,t.scrollTop):new n.math.Coordinate(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)},n.dom.getDocumentScrollElement=function(){return n.dom.getDocumentScrollElement_(document)},n.dom.getDocumentScrollElement_=function(e){return!n.userAgent.WEBKIT&&n.dom.isCss1CompatMode_(e)?e.documentElement:e.body||e.documentElement},n.dom.getWindow=function(e){return e?n.dom.getWindow_(e):window},n.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},n.dom.createDom=function(e,t,i){return n.dom.createDom_(document,arguments)},n.dom.createDom_=function(e,t){var i=t[0],r=t[1];if(!n.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&r&&(r.name||r.type)){if(i=["<",i],r.name&&i.push(' name="',n.string.htmlEscape(r.name),'"'),r.type){i.push(' type="',n.string.htmlEscape(r.type),'"');var o={};n.object.extend(o,r),delete o.type,r=o}i.push(">"),i=i.join("")}return i=e.createElement(i),r&&(n.isString(r)?i.className=r:n.isArray(r)?n.dom.classes.add.apply(null,[i].concat(r)):n.dom.setProperties(i,r)),2<t.length&&n.dom.append_(e,i,t,2),i},n.dom.append_=function(e,t,i,r){function o(i){i&&t.appendChild(n.isString(i)?e.createTextNode(i):i)}for(;r<i.length;r++){var s=i[r];n.isArrayLike(s)&&!n.dom.isNodeLike(s)?n.array.forEach(n.dom.isNodeList(s)?n.array.toArray(s):s,o):o(s)}},n.dom.$dom=n.dom.createDom,n.dom.createElement=function(e){return document.createElement(e)},n.dom.createTextNode=function(e){return document.createTextNode(String(e))},n.dom.createTable=function(e,t,i){return n.dom.createTable_(document,e,t,!!i)},n.dom.createTable_=function(e,t,i,r){for(var o=["<tr>"],s=0;s<i;s++)o.push(r?"<td>&nbsp;</td>":"<td></td>");for(o.push("</tr>"),o=o.join(""),i=["<table>"],s=0;s<t;s++)i.push(o);return i.push("</table>"),e=e.createElement(n.dom.TagName.DIV),e.innerHTML=i.join(""),e.removeChild(e.firstChild)},n.dom.htmlToDocumentFragment=function(e){return n.dom.htmlToDocumentFragment_(document,e)},n.dom.htmlToDocumentFragment_=function(e,t){var i=e.createElement("div");if(n.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(i.innerHTML="<br>"+t,i.removeChild(i.firstChild)):i.innerHTML=t,1==i.childNodes.length)return i.removeChild(i.firstChild);for(var r=e.createDocumentFragment();i.firstChild;)r.appendChild(i.firstChild);return r},n.dom.isCss1CompatMode=function(){return n.dom.isCss1CompatMode_(document)},n.dom.isCss1CompatMode_=function(e){return n.dom.COMPAT_MODE_KNOWN_?n.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},n.dom.canHaveChildren=function(e){if(e.nodeType!=n.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case n.dom.TagName.APPLET:case n.dom.TagName.AREA:case n.dom.TagName.BASE:case n.dom.TagName.BR:case n.dom.TagName.COL:case n.dom.TagName.COMMAND:case n.dom.TagName.EMBED:case n.dom.TagName.FRAME:case n.dom.TagName.HR:case n.dom.TagName.IMG:case n.dom.TagName.INPUT:case n.dom.TagName.IFRAME:case n.dom.TagName.ISINDEX:case n.dom.TagName.KEYGEN:case n.dom.TagName.LINK:case n.dom.TagName.NOFRAMES:case n.dom.TagName.NOSCRIPT:case n.dom.TagName.META:case n.dom.TagName.OBJECT:case n.dom.TagName.PARAM:case n.dom.TagName.SCRIPT:case n.dom.TagName.SOURCE:case n.dom.TagName.STYLE:case n.dom.TagName.TRACK:case n.dom.TagName.WBR:return!1}return!0},n.dom.appendChild=function(e,t){e.appendChild(t)},n.dom.append=function(e,t){n.dom.append_(n.dom.getOwnerDocument(e),e,arguments,1)},n.dom.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},n.dom.insertSiblingBefore=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)},n.dom.insertSiblingAfter=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},n.dom.insertChildAt=function(e,t,n){e.insertBefore(t,e.childNodes[n]||null)},n.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},n.dom.replaceNode=function(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)},n.dom.flattenElement=function(e){var t,i=e.parentNode;if(i&&i.nodeType!=n.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;t=e.firstChild;)i.insertBefore(t,e);return n.dom.removeNode(e)}},n.dom.getChildren=function(e){return n.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=e.children?e.children:n.array.filter(e.childNodes,function(e){return e.nodeType==n.dom.NodeType.ELEMENT})},n.dom.getFirstElementChild=function(e){return void 0!=e.firstElementChild?e.firstElementChild:n.dom.getNextElementNode_(e.firstChild,!0)},n.dom.getLastElementChild=function(e){return void 0!=e.lastElementChild?e.lastElementChild:n.dom.getNextElementNode_(e.lastChild,!1)},n.dom.getNextElementSibling=function(e){return void 0!=e.nextElementSibling?e.nextElementSibling:n.dom.getNextElementNode_(e.nextSibling,!0)},n.dom.getPreviousElementSibling=function(e){return void 0!=e.previousElementSibling?e.previousElementSibling:n.dom.getNextElementNode_(e.previousSibling,!1)},n.dom.getNextElementNode_=function(e,t){for(;e&&e.nodeType!=n.dom.NodeType.ELEMENT;)e=t?e.nextSibling:e.previousSibling;return e},n.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},n.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},n.dom.isNodeLike=function(e){return n.isObject(e)&&0<e.nodeType},n.dom.isElement=function(e){return n.isObject(e)&&e.nodeType==n.dom.NodeType.ELEMENT},n.dom.isWindow=function(e){return n.isObject(e)&&e.window==e},n.dom.getParentElement=function(e){var t;return!n.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY||n.userAgent.IE&&n.userAgent.isVersionOrHigher("9")&&!n.userAgent.isVersionOrHigher("10")&&n.global.SVGElement&&e instanceof n.global.SVGElement||!(t=e.parentElement)?(t=e.parentNode,n.dom.isElement(t)?t:null):t},n.dom.contains=function(e,t){if(e.contains&&t.nodeType==n.dom.NodeType.ELEMENT)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||Boolean(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e},n.dom.compareNodeOrder=function(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if(n.userAgent.IE&&!n.userAgent.isDocumentModeOrHigher(9)){if(e.nodeType==n.dom.NodeType.DOCUMENT)return-1;if(t.nodeType==n.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var i=e.nodeType==n.dom.NodeType.ELEMENT,r=t.nodeType==n.dom.NodeType.ELEMENT;if(i&&r)return e.sourceIndex-t.sourceIndex;var o=e.parentNode,s=t.parentNode;return o==s?n.dom.compareSiblingOrder_(e,t):!i&&n.dom.contains(o,t)?-1*n.dom.compareParentsDescendantNodeIe_(e,t):!r&&n.dom.contains(s,e)?n.dom.compareParentsDescendantNodeIe_(t,e):(i?e.sourceIndex:o.sourceIndex)-(r?t.sourceIndex:s.sourceIndex)}return r=n.dom.getOwnerDocument(e),i=r.createRange(),i.selectNode(e),i.collapse(!0),r=r.createRange(),r.selectNode(t),r.collapse(!0),i.compareBoundaryPoints(n.global.Range.START_TO_END,r)},n.dom.compareParentsDescendantNodeIe_=function(e,t){var i=e.parentNode;if(i==t)return-1;for(var r=t;r.parentNode!=i;)r=r.parentNode;return n.dom.compareSiblingOrder_(r,e)},n.dom.compareSiblingOrder_=function(e,t){for(var n=t;n=n.previousSibling;)if(n==e)return-1;return 1},n.dom.findCommonAncestor=function(e){var t,n=arguments.length;if(!n)return null;if(1==n)return arguments[0];var i=[],r=1/0;for(t=0;t<n;t++){for(var o=[],s=arguments[t];s;)o.unshift(s),s=s.parentNode;i.push(o),r=Math.min(r,o.length)}for(o=null,t=0;t<r;t++){for(var s=i[0][t],a=1;a<n;a++)if(s!=i[a][t])return o;o=s}return o},n.dom.getOwnerDocument=function(e){return n.asserts.assert(e,"Node cannot be null or undefined."),e.nodeType==n.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},n.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},n.dom.getFrameContentWindow=function(e){return e.contentWindow||n.dom.getWindow(n.dom.getFrameContentDocument(e))},n.dom.setTextContent=function(e,t){if(n.asserts.assert(null!=e,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in e)e.textContent=t;else if(e.nodeType==n.dom.NodeType.TEXT)e.data=t;else if(e.firstChild&&e.firstChild.nodeType==n.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=t}else{n.dom.removeChildren(e);var i=n.dom.getOwnerDocument(e);e.appendChild(i.createTextNode(String(t)))}},n.dom.getOuterHtml=function(e){if("outerHTML"in e)return e.outerHTML;var t=n.dom.getOwnerDocument(e).createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},n.dom.findNode=function(e,t){var i=[];return n.dom.findNodes_(e,t,i,!0)?i[0]:void 0},n.dom.findNodes=function(e,t){var i=[];return n.dom.findNodes_(e,t,i,!1),i},n.dom.findNodes_=function(e,t,i,r){if(null!=e)for(e=e.firstChild;e;){if(t(e)&&(i.push(e),r)||n.dom.findNodes_(e,t,i,r))return!0;e=e.nextSibling}return!1},n.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},n.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},n.dom.isFocusableTabIndex=function(e){return n.dom.hasSpecifiedTabIndex_(e)&&n.dom.isTabIndexFocusable_(e)},n.dom.setFocusableTabIndex=function(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},n.dom.isFocusable=function(e){var t;return(t=n.dom.nativelySupportsFocus_(e)?!e.disabled&&(!n.dom.hasSpecifiedTabIndex_(e)||n.dom.isTabIndexFocusable_(e)):n.dom.isFocusableTabIndex(e))&&n.userAgent.IE?n.dom.hasNonZeroBoundingRect_(e):t},n.dom.hasSpecifiedTabIndex_=function(e){return e=e.getAttributeNode("tabindex"),n.isDefAndNotNull(e)&&e.specified},n.dom.isTabIndexFocusable_=function(e){return e=e.tabIndex,n.isNumber(e)&&0<=e&&32768>e},n.dom.nativelySupportsFocus_=function(e){return e.tagName==n.dom.TagName.A||e.tagName==n.dom.TagName.INPUT||e.tagName==n.dom.TagName.TEXTAREA||e.tagName==n.dom.TagName.SELECT||e.tagName==n.dom.TagName.BUTTON},n.dom.hasNonZeroBoundingRect_=function(e){return e=n.isFunction(e.getBoundingClientRect)?e.getBoundingClientRect():{height:e.offsetHeight,width:e.offsetWidth},n.isDefAndNotNull(e)&&0<e.height&&0<e.width},n.dom.getTextContent=function(e){if(n.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in e)e=n.string.canonicalizeNewlines(e.innerText);else{var t=[];n.dom.getTextContent_(e,t,!0),e=t.join("")}return e=e.replace(/ \xAD /g," ").replace(/\xAD/g,""),e=e.replace(/\u200B/g,""),n.dom.BrowserFeature.CAN_USE_INNER_TEXT||(e=e.replace(/ +/g," "))," "!=e&&(e=e.replace(/^\s*/,"")),e},n.dom.getRawTextContent=function(e){var t=[];return n.dom.getTextContent_(e,t,!1),t.join("")},n.dom.getTextContent_=function(e,t,i){if(!(e.nodeName in n.dom.TAGS_TO_IGNORE_))if(e.nodeType==n.dom.NodeType.TEXT)i?t.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in n.dom.PREDEFINED_TAG_VALUES_)t.push(n.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(e=e.firstChild;e;)n.dom.getTextContent_(e,t,i),e=e.nextSibling},n.dom.getNodeTextLength=function(e){return n.dom.getTextContent(e).length},n.dom.getNodeTextOffset=function(e,t){for(var i=t||n.dom.getOwnerDocument(e).body,r=[];e&&e!=i;){for(var o=e;o=o.previousSibling;)r.unshift(n.dom.getTextContent(o));e=e.parentNode}return n.string.trimLeft(r.join("")).replace(/ +/g," ").length},n.dom.getNodeAtOffset=function(e,t,i){e=[e];for(var r=0,o=null;0<e.length&&r<t;)if(o=e.pop(),!(o.nodeName in n.dom.TAGS_TO_IGNORE_))if(o.nodeType==n.dom.NodeType.TEXT)var s=o.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," "),r=r+s.length;else if(o.nodeName in n.dom.PREDEFINED_TAG_VALUES_)r+=n.dom.PREDEFINED_TAG_VALUES_[o.nodeName].length;else for(s=o.childNodes.length-1;0<=s;s--)e.push(o.childNodes[s]);return n.isObject(i)&&(i.remainder=o?o.nodeValue.length+t-r-1:0,i.node=o),o},n.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(n.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(n.isFunction(e))return"function"==typeof e.item}return!1},n.dom.getAncestorByTagNameAndClass=function(e,t,i){if(!t&&!i)return null;var r=t?t.toUpperCase():null;return n.dom.getAncestor(e,function(e){return(!r||e.nodeName==r)&&(!i||n.dom.classes.has(e,i))},!0)},n.dom.getAncestorByClass=function(e,t){return n.dom.getAncestorByTagNameAndClass(e,null,t)},n.dom.getAncestor=function(e,t,n,i){n||(e=e.parentNode),n=null==i;for(var r=0;e&&(n||r<=i);){if(t(e))return e;e=e.parentNode,r++}return null},n.dom.getActiveElement=function(e){try{return e&&e.activeElement}catch(e){}return null},n.dom.getPixelRatio=n.functions.cacheReturnValue(function(){var e=n.dom.getWindow(),t=n.userAgent.GECKO&&n.userAgent.MOBILE;return n.isDef(e.devicePixelRatio)&&!t?e.devicePixelRatio:e.matchMedia?n.dom.matchesPixelRatio_(.75)||n.dom.matchesPixelRatio_(1.5)||n.dom.matchesPixelRatio_(2)||n.dom.matchesPixelRatio_(3)||1:1}),n.dom.matchesPixelRatio_=function(e){return n.dom.getWindow().matchMedia("(-webkit-min-device-pixel-ratio: "+e+"),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+e+"dppx)").matches?e:0},n.dom.DomHelper=function(e){this.document_=e||n.global.document||document},n.dom.DomHelper.prototype.getDomHelper=n.dom.getDomHelper,n.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},n.dom.DomHelper.prototype.getDocument=function(){return this.document_},n.dom.DomHelper.prototype.getElement=function(e){return n.dom.getElementHelper_(this.document_,e)},n.dom.DomHelper.prototype.getRequiredElement=function(e){return n.dom.getRequiredElementHelper_(this.document_,e)},n.dom.DomHelper.prototype.$=n.dom.DomHelper.prototype.getElement,n.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,t,i){return n.dom.getElementsByTagNameAndClass_(this.document_,e,t,i)},n.dom.DomHelper.prototype.getElementsByClass=function(e,t){return n.dom.getElementsByClass(e,t||this.document_)},n.dom.DomHelper.prototype.getElementByClass=function(e,t){return n.dom.getElementByClass(e,t||this.document_)},n.dom.DomHelper.prototype.getRequiredElementByClass=function(e,t){return n.dom.getRequiredElementByClass(e,t||this.document_)},n.dom.DomHelper.prototype.$$=n.dom.DomHelper.prototype.getElementsByTagNameAndClass,n.dom.DomHelper.prototype.setProperties=n.dom.setProperties,n.dom.DomHelper.prototype.getViewportSize=function(e){return n.dom.getViewportSize(e||this.getWindow())},n.dom.DomHelper.prototype.getDocumentHeight=function(){return n.dom.getDocumentHeight_(this.getWindow())},n.dom.DomHelper.prototype.createDom=function(e,t,i){return n.dom.createDom_(this.document_,arguments)},n.dom.DomHelper.prototype.$dom=n.dom.DomHelper.prototype.createDom,n.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},n.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(String(e))},n.dom.DomHelper.prototype.createTable=function(e,t,i){return n.dom.createTable_(this.document_,e,t,!!i)},n.dom.DomHelper.prototype.htmlToDocumentFragment=function(e){return n.dom.htmlToDocumentFragment_(this.document_,e)},n.dom.DomHelper.prototype.isCss1CompatMode=function(){return n.dom.isCss1CompatMode_(this.document_)},n.dom.DomHelper.prototype.getWindow=function(){return n.dom.getWindow_(this.document_)},n.dom.DomHelper.prototype.getDocumentScrollElement=function(){return n.dom.getDocumentScrollElement_(this.document_)},n.dom.DomHelper.prototype.getDocumentScroll=function(){return n.dom.getDocumentScroll_(this.document_)},n.dom.DomHelper.prototype.getActiveElement=function(e){return n.dom.getActiveElement(e||this.document_)},n.dom.DomHelper.prototype.appendChild=n.dom.appendChild,n.dom.DomHelper.prototype.append=n.dom.append,n.dom.DomHelper.prototype.canHaveChildren=n.dom.canHaveChildren,n.dom.DomHelper.prototype.removeChildren=n.dom.removeChildren,n.dom.DomHelper.prototype.insertSiblingBefore=n.dom.insertSiblingBefore,n.dom.DomHelper.prototype.insertSiblingAfter=n.dom.insertSiblingAfter,n.dom.DomHelper.prototype.insertChildAt=n.dom.insertChildAt,n.dom.DomHelper.prototype.removeNode=n.dom.removeNode,n.dom.DomHelper.prototype.replaceNode=n.dom.replaceNode,n.dom.DomHelper.prototype.flattenElement=n.dom.flattenElement,n.dom.DomHelper.prototype.getChildren=n.dom.getChildren,n.dom.DomHelper.prototype.getFirstElementChild=n.dom.getFirstElementChild,n.dom.DomHelper.prototype.getLastElementChild=n.dom.getLastElementChild,n.dom.DomHelper.prototype.getNextElementSibling=n.dom.getNextElementSibling,n.dom.DomHelper.prototype.getPreviousElementSibling=n.dom.getPreviousElementSibling,n.dom.DomHelper.prototype.getNextNode=n.dom.getNextNode,n.dom.DomHelper.prototype.getPreviousNode=n.dom.getPreviousNode,n.dom.DomHelper.prototype.isNodeLike=n.dom.isNodeLike,n.dom.DomHelper.prototype.isElement=n.dom.isElement,n.dom.DomHelper.prototype.isWindow=n.dom.isWindow,n.dom.DomHelper.prototype.getParentElement=n.dom.getParentElement,n.dom.DomHelper.prototype.contains=n.dom.contains,n.dom.DomHelper.prototype.compareNodeOrder=n.dom.compareNodeOrder,n.dom.DomHelper.prototype.findCommonAncestor=n.dom.findCommonAncestor,n.dom.DomHelper.prototype.getOwnerDocument=n.dom.getOwnerDocument,n.dom.DomHelper.prototype.getFrameContentDocument=n.dom.getFrameContentDocument,n.dom.DomHelper.prototype.getFrameContentWindow=n.dom.getFrameContentWindow,n.dom.DomHelper.prototype.setTextContent=n.dom.setTextContent,n.dom.DomHelper.prototype.getOuterHtml=n.dom.getOuterHtml,n.dom.DomHelper.prototype.findNode=n.dom.findNode,n.dom.DomHelper.prototype.findNodes=n.dom.findNodes,n.dom.DomHelper.prototype.isFocusableTabIndex=n.dom.isFocusableTabIndex,n.dom.DomHelper.prototype.setFocusableTabIndex=n.dom.setFocusableTabIndex,n.dom.DomHelper.prototype.isFocusable=n.dom.isFocusable,n.dom.DomHelper.prototype.getTextContent=n.dom.getTextContent,n.dom.DomHelper.prototype.getNodeTextLength=n.dom.getNodeTextLength;n.dom.DomHelper.prototype.getNodeTextOffset=n.dom.getNodeTextOffset,n.dom.DomHelper.prototype.getNodeAtOffset=n.dom.getNodeAtOffset,n.dom.DomHelper.prototype.isNodeList=n.dom.isNodeList,n.dom.DomHelper.prototype.getAncestorByTagNameAndClass=n.dom.getAncestorByTagNameAndClass,n.dom.DomHelper.prototype.getAncestorByClass=n.dom.getAncestorByClass,n.dom.DomHelper.prototype.getAncestor=n.dom.getAncestor,n.math.Box=function(e,t,n,i){this.top=e,this.right=t,this.bottom=n,this.left=i},n.math.Box.boundingBox=function(e){for(var t=new n.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),i=1;i<arguments.length;i++){var r=arguments[i];t.top=Math.min(t.top,r.y),t.right=Math.max(t.right,r.x),t.bottom=Math.max(t.bottom,r.y),t.left=Math.min(t.left,r.x)}return t},n.math.Box.prototype.clone=function(){return new n.math.Box(this.top,this.right,this.bottom,this.left)},n.DEBUG&&(n.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),n.math.Box.prototype.contains=function(e){return n.math.Box.contains(this,e)},n.math.Box.prototype.expand=function(e,t,i,r){return n.isObject(e)?(this.top-=e.top,this.right+=e.right,this.bottom+=e.bottom,this.left-=e.left):(this.top-=e,this.right+=t,this.bottom+=i,this.left-=r),this},n.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},n.math.Box.equals=function(e,t){return e==t||!(!e||!t)&&(e.top==t.top&&e.right==t.right&&e.bottom==t.bottom&&e.left==t.left)},n.math.Box.contains=function(e,t){return!(!e||!t)&&(t instanceof n.math.Box?t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom:t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom)},n.math.Box.relativePositionX=function(e,t){return t.x<e.left?t.x-e.left:t.x>e.right?t.x-e.right:0},n.math.Box.relativePositionY=function(e,t){return t.y<e.top?t.y-e.top:t.y>e.bottom?t.y-e.bottom:0},n.math.Box.distance=function(e,t){var i=n.math.Box.relativePositionX(e,t),r=n.math.Box.relativePositionY(e,t);return Math.sqrt(i*i+r*r)},n.math.Box.intersects=function(e,t){return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom},n.math.Box.intersectsWithPadding=function(e,t,n){return e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},n.math.Box.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},n.math.Box.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},n.math.Box.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},n.math.Box.prototype.translate=function(e,t){return e instanceof n.math.Coordinate?(this.left+=e.x,this.right+=e.x,this.top+=e.y,this.bottom+=e.y):(this.left+=e,this.right+=e,n.isNumber(t)&&(this.top+=t,this.bottom+=t)),this},n.math.Box.prototype.scale=function(e,t){var i=n.isNumber(t)?t:e;return this.left*=e,this.right*=e,this.top*=i,this.bottom*=i,this},n.math.Rect=function(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i},n.math.Rect.prototype.clone=function(){return new n.math.Rect(this.left,this.top,this.width,this.height)},n.math.Rect.prototype.toBox=function(){return new n.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)},n.math.Rect.createFromBox=function(e){return new n.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},n.DEBUG&&(n.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),n.math.Rect.equals=function(e,t){return e==t||!(!e||!t)&&(e.left==t.left&&e.width==t.width&&e.top==t.top&&e.height==t.height)},n.math.Rect.prototype.intersection=function(e){var t=Math.max(this.left,e.left),n=Math.min(this.left+this.width,e.left+e.width);if(t<=n){var i=Math.max(this.top,e.top);if(e=Math.min(this.top+this.height,e.top+e.height),i<=e)return this.left=t,this.top=i,this.width=n-t,this.height=e-i,!0}return!1},n.math.Rect.intersection=function(e,t){var i=Math.max(e.left,t.left),r=Math.min(e.left+e.width,t.left+t.width);if(i<=r){var o=Math.max(e.top,t.top),s=Math.min(e.top+e.height,t.top+t.height);if(o<=s)return new n.math.Rect(i,o,r-i,s-o)}return null},n.math.Rect.intersects=function(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height},n.math.Rect.prototype.intersects=function(e){return n.math.Rect.intersects(this,e)},n.math.Rect.difference=function(e,t){var i=n.math.Rect.intersection(e,t);if(!i||!i.height||!i.width)return[e.clone()];var i=[],r=e.top,o=e.height,s=e.left+e.width,a=e.top+e.height,l=t.left+t.width,h=t.top+t.height;return t.top>e.top&&(i.push(new n.math.Rect(e.left,e.top,e.width,t.top-e.top)),r=t.top,o-=t.top-e.top),h<a&&(i.push(new n.math.Rect(e.left,h,e.width,a-h)),o=h-r),t.left>e.left&&i.push(new n.math.Rect(e.left,r,t.left-e.left,o)),l<s&&i.push(new n.math.Rect(l,r,s-l,o)),i},n.math.Rect.prototype.difference=function(e){return n.math.Rect.difference(this,e)},n.math.Rect.prototype.boundingRect=function(e){var t=Math.max(this.left+this.width,e.left+e.width),n=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=t-this.left,this.height=n-this.top},n.math.Rect.boundingRect=function(e,t){if(!e||!t)return null;var n=e.clone();return n.boundingRect(t),n},n.math.Rect.prototype.contains=function(e){return e instanceof n.math.Rect?this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height:e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height},n.math.Rect.prototype.squaredDistance=function(e){var t=e.x<this.left?this.left-e.x:Math.max(e.x-(this.left+this.width),0);return e=e.y<this.top?this.top-e.y:Math.max(e.y-(this.top+this.height),0),t*t+e*e},n.math.Rect.prototype.distance=function(e){return Math.sqrt(this.squaredDistance(e))},n.math.Rect.prototype.getSize=function(){return new n.math.Size(this.width,this.height)},n.math.Rect.prototype.getTopLeft=function(){return new n.math.Coordinate(this.left,this.top)},n.math.Rect.prototype.getCenter=function(){return new n.math.Coordinate(this.left+this.width/2,this.top+this.height/2)},n.math.Rect.prototype.getBottomRight=function(){return new n.math.Coordinate(this.left+this.width,this.top+this.height)},n.math.Rect.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},n.math.Rect.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},n.math.Rect.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},n.math.Rect.prototype.translate=function(e,t){return e instanceof n.math.Coordinate?(this.left+=e.x,this.top+=e.y):(this.left+=e,n.isNumber(t)&&(this.top+=t)),this},n.math.Rect.prototype.scale=function(e,t){var i=n.isNumber(t)?t:e;return this.left*=e,this.width*=e,this.top*=i,this.height*=i,this},n.dom.vendor={},n.dom.vendor.getVendorJsPrefix=function(){return n.userAgent.WEBKIT?"Webkit":n.userAgent.GECKO?"Moz":n.userAgent.IE?"ms":n.userAgent.OPERA?"O":null},n.dom.vendor.getVendorPrefix=function(){return n.userAgent.WEBKIT?"-webkit":n.userAgent.GECKO?"-moz":n.userAgent.IE?"-ms":n.userAgent.OPERA?"-o":null},n.dom.vendor.getPrefixedPropertyName=function(e,t){if(t&&e in t)return e;var i=n.dom.vendor.getVendorJsPrefix();return i?(i=i.toLowerCase(),i+=n.string.toTitleCase(e),!n.isDef(t)||i in t?i:null):null},n.dom.vendor.getPrefixedEventType=function(e){return((n.dom.vendor.getVendorJsPrefix()||"")+e).toLowerCase()},n.style={},n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS=!1,n.style.setStyle=function(e,t,i){n.isString(t)?n.style.setStyle_(e,i,t):n.object.forEach(t,n.partial(n.style.setStyle_,e))},n.style.setStyle_=function(e,t,i){(i=n.style.getVendorJsStyleName_(e,i))&&(e.style[i]=t)},n.style.getVendorJsStyleName_=function(e,t){var i=n.string.toCamelCase(t);if(void 0===e.style[i]){var r=n.dom.vendor.getVendorJsPrefix()+n.string.toTitleCase(i);if(void 0!==e.style[r])return r}return i},n.style.getVendorStyleName_=function(e,t){var i=n.string.toCamelCase(t);return void 0===e.style[i]&&(i=n.dom.vendor.getVendorJsPrefix()+n.string.toTitleCase(i),void 0!==e.style[i])?n.dom.vendor.getVendorPrefix()+"-"+t:t},n.style.getStyle=function(e,t){var i=e.style[n.string.toCamelCase(t)];return void 0!==i?i:e.style[n.style.getVendorJsStyleName_(e,t)]||""},n.style.getComputedStyle=function(e,t){var i=n.dom.getOwnerDocument(e);return i.defaultView&&i.defaultView.getComputedStyle&&(i=i.defaultView.getComputedStyle(e,null))?i[t]||i.getPropertyValue(t)||"":""},n.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},n.style.getStyle_=function(e,t){return n.style.getComputedStyle(e,t)||n.style.getCascadedStyle(e,t)||e.style&&e.style[t]},n.style.getComputedBoxSizing=function(e){return n.style.getStyle_(e,"boxSizing")||n.style.getStyle_(e,"MozBoxSizing")||n.style.getStyle_(e,"WebkitBoxSizing")||null},n.style.getComputedPosition=function(e){return n.style.getStyle_(e,"position")},n.style.getBackgroundColor=function(e){return n.style.getStyle_(e,"backgroundColor")},n.style.getComputedOverflowX=function(e){return n.style.getStyle_(e,"overflowX")},n.style.getComputedOverflowY=function(e){return n.style.getStyle_(e,"overflowY")},n.style.getComputedZIndex=function(e){return n.style.getStyle_(e,"zIndex")},n.style.getComputedTextAlign=function(e){return n.style.getStyle_(e,"textAlign")},n.style.getComputedCursor=function(e){return n.style.getStyle_(e,"cursor")},n.style.getComputedTransform=function(e){var t=n.style.getVendorStyleName_(e,"transform");return n.style.getStyle_(e,t)||n.style.getStyle_(e,"transform")},n.style.setPosition=function(e,t,i){var r,o=n.userAgent.GECKO&&(n.userAgent.MAC||n.userAgent.X11)&&n.userAgent.isVersionOrHigher("1.9");t instanceof n.math.Coordinate?(r=t.x,t=t.y):(r=t,t=i),e.style.left=n.style.getPixelStyleValue_(r,o),e.style.top=n.style.getPixelStyleValue_(t,o)},n.style.getPosition=function(e){return new n.math.Coordinate(e.offsetLeft,e.offsetTop)},n.style.getClientViewportElement=function(e){return e=e?n.dom.getOwnerDocument(e):n.dom.getDocument(),!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9)||n.dom.getDomHelper(e).isCss1CompatMode()?e.documentElement:e.body},n.style.getViewportPageOffset=function(e){var t=e.body;return e=e.documentElement,new n.math.Coordinate(t.scrollLeft||e.scrollLeft,t.scrollTop||e.scrollTop)},n.style.getBoundingClientRect_=function(e){var t;try{t=e.getBoundingClientRect()}catch(e){return{left:0,top:0,right:0,bottom:0}}return n.userAgent.IE&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t},n.style.getOffsetParent=function(e){if(n.userAgent.IE&&!n.userAgent.isDocumentModeOrHigher(8))return e.offsetParent;var t=n.dom.getOwnerDocument(e),i=n.style.getStyle_(e,"position"),r="fixed"==i||"absolute"==i;for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(i=n.style.getStyle_(e,"position"),!(r=r&&"static"==i&&e!=t.documentElement&&e!=t.body)&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight||"fixed"==i||"absolute"==i||"relative"==i))return e;return null},n.style.getVisibleRectForElement=function(e){for(var t=new n.math.Box(0,1/0,1/0,0),i=n.dom.getDomHelper(e),r=i.getDocument().body,o=i.getDocument().documentElement,s=i.getDocumentScrollElement();e=n.style.getOffsetParent(e);)if(!(n.userAgent.IE&&0==e.clientWidth||n.userAgent.WEBKIT&&0==e.clientHeight&&e==r)&&e!=r&&e!=o&&"visible"!=n.style.getStyle_(e,"overflow")){var a=n.style.getPageOffset(e),l=n.style.getClientLeftTop(e);a.x+=l.x,a.y+=l.y,t.top=Math.max(t.top,a.y),t.right=Math.min(t.right,a.x+e.clientWidth),t.bottom=Math.min(t.bottom,a.y+e.clientHeight),t.left=Math.max(t.left,a.x)}return r=s.scrollLeft,s=s.scrollTop,t.left=Math.max(t.left,r),t.top=Math.max(t.top,s),i=i.getViewportSize(),t.right=Math.min(t.right,r+i.width),t.bottom=Math.min(t.bottom,s+i.height),0<=t.top&&0<=t.left&&t.bottom>t.top&&t.right>t.left?t:null},n.style.getContainerOffsetToScrollInto=function(e,t,i){var r=n.style.getPageOffset(e),o=n.style.getPageOffset(t),s=n.style.getBorderBox(t),a=r.x-o.x-s.left,r=r.y-o.y-s.top,o=t.clientWidth-e.offsetWidth;return e=t.clientHeight-e.offsetHeight,s=t.scrollLeft,t=t.scrollTop,i?(s+=a-o/2,t+=r-e/2):(s+=Math.min(a,Math.max(a-o,0)),t+=Math.min(r,Math.max(r-e,0))),new n.math.Coordinate(s,t)},n.style.scrollIntoContainerView=function(e,t,i){e=n.style.getContainerOffsetToScrollInto(e,t,i),t.scrollLeft=e.x,t.scrollTop=e.y},n.style.getClientLeftTop=function(e){if(n.userAgent.GECKO&&!n.userAgent.isVersionOrHigher("1.9")){var t=parseFloat(n.style.getComputedStyle(e,"borderLeftWidth"));if(n.style.isRightToLeft(e))var i=e.offsetWidth-e.clientWidth-t-parseFloat(n.style.getComputedStyle(e,"borderRightWidth")),t=t+i;return new n.math.Coordinate(t,parseFloat(n.style.getComputedStyle(e,"borderTopWidth")))}return new n.math.Coordinate(e.clientLeft,e.clientTop)},n.style.getPageOffset=function(e){var t,i=n.dom.getOwnerDocument(e),r=n.style.getStyle_(e,"position");n.asserts.assertObject(e,"Parameter is required");var o=!n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS&&n.userAgent.GECKO&&i.getBoxObjectFor&&!e.getBoundingClientRect&&"absolute"==r&&(t=i.getBoxObjectFor(e))&&(0>t.screenX||0>t.screenY),s=new n.math.Coordinate(0,0),a=n.style.getClientViewportElement(i);if(e==a)return s;if(n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS||e.getBoundingClientRect)t=n.style.getBoundingClientRect_(e),e=n.dom.getDomHelper(i).getDocumentScroll(),s.x=t.left+e.x,s.y=t.top+e.y;else if(i.getBoxObjectFor&&!o)t=i.getBoxObjectFor(e),e=i.getBoxObjectFor(a),s.x=t.screenX-e.screenX,s.y=t.screenY-e.screenY;else{t=e;do{if(s.x+=t.offsetLeft,s.y+=t.offsetTop,t!=e&&(s.x+=t.clientLeft||0,s.y+=t.clientTop||0),n.userAgent.WEBKIT&&"fixed"==n.style.getComputedPosition(t)){s.x+=i.body.scrollLeft,s.y+=i.body.scrollTop;break}t=t.offsetParent}while(t&&t!=e);for((n.userAgent.OPERA||n.userAgent.WEBKIT&&"absolute"==r)&&(s.y-=i.body.offsetTop),t=e;(t=n.style.getOffsetParent(t))&&t!=i.body&&t!=a;)s.x-=t.scrollLeft,n.userAgent.OPERA&&"TR"==t.tagName||(s.y-=t.scrollTop)}return s},n.style.getPageOffsetLeft=function(e){return n.style.getPageOffset(e).x},n.style.getPageOffsetTop=function(e){return n.style.getPageOffset(e).y},n.style.getFramedPageOffset=function(e,t){var i=new n.math.Coordinate(0,0),r=n.dom.getWindow(n.dom.getOwnerDocument(e)),o=e;do{var s=r==t?n.style.getPageOffset(o):n.style.getClientPositionForElement_(n.asserts.assert(o));i.x+=s.x,i.y+=s.y}while(r&&r!=t&&(o=r.frameElement)&&(r=r.parent));return i},n.style.translateRectForAnotherFrame=function(e,t,i){if(t.getDocument()!=i.getDocument()){var r=t.getDocument().body;i=n.style.getFramedPageOffset(r,i.getWindow()),i=n.math.Coordinate.difference(i,n.style.getPageOffset(r)),n.userAgent.IE&&!t.isCss1CompatMode()&&(i=n.math.Coordinate.difference(i,t.getDocumentScroll())),e.left+=i.x,e.top+=i.y}},n.style.getRelativePosition=function(e,t){var i=n.style.getClientPosition(e),r=n.style.getClientPosition(t);return new n.math.Coordinate(i.x-r.x,i.y-r.y)},n.style.getClientPositionForElement_=function(e){var t;if(n.style.GET_BOUNDING_CLIENT_RECT_ALWAYS_EXISTS||e.getBoundingClientRect)t=n.style.getBoundingClientRect_(e),t=new n.math.Coordinate(t.left,t.top);else{t=n.dom.getDomHelper(e).getDocumentScroll();var i=n.style.getPageOffset(e);t=new n.math.Coordinate(i.x-t.x,i.y-t.y)}return n.userAgent.GECKO&&!n.userAgent.isVersionOrHigher(12)?n.math.Coordinate.sum(t,n.style.getCssTranslation(e)):t},n.style.getClientPosition=function(e){if(n.asserts.assert(e),e.nodeType==n.dom.NodeType.ELEMENT)return n.style.getClientPositionForElement_(e);var t=n.isFunction(e.getBrowserEvent),i=e;return e.targetTouches?i=e.targetTouches[0]:t&&e.getBrowserEvent().targetTouches&&(i=e.getBrowserEvent().targetTouches[0]),new n.math.Coordinate(i.clientX,i.clientY)},n.style.setPageOffset=function(e,t,i){var r=n.style.getPageOffset(e);t instanceof n.math.Coordinate&&(i=t.y,t=t.x),n.style.setPosition(e,e.offsetLeft+(t-r.x),e.offsetTop+(i-r.y))},n.style.setSize=function(e,t,i){if(t instanceof n.math.Size)i=t.height,t=t.width;else if(void 0==i)throw Error("missing height argument");n.style.setWidth(e,t),n.style.setHeight(e,i)},n.style.getPixelStyleValue_=function(e,t){return"number"==typeof e&&(e=(t?Math.round(e):e)+"px"),e},n.style.setHeight=function(e,t){e.style.height=n.style.getPixelStyleValue_(t,!0)},n.style.setWidth=function(e,t){e.style.width=n.style.getPixelStyleValue_(t,!0)},n.style.getSize=function(e){return n.style.evaluateWithTemporaryDisplay_(n.style.getSizeWithDisplay_,e)},n.style.evaluateWithTemporaryDisplay_=function(e,t){if("none"!=n.style.getStyle_(t,"display"))return e(t);var i=t.style,r=i.display,o=i.visibility,s=i.position;i.visibility="hidden",i.position="absolute",i.display="inline";var a=e(t);return i.display=r,i.position=s,i.visibility=o,a},n.style.getSizeWithDisplay_=function(e){var t=e.offsetWidth,i=e.offsetHeight,r=n.userAgent.WEBKIT&&!t&&!i;return n.isDef(t)&&!r||!e.getBoundingClientRect?new n.math.Size(t,i):(e=n.style.getBoundingClientRect_(e),new n.math.Size(e.right-e.left,e.bottom-e.top))},n.style.getTransformedSize=function(e){return e.getBoundingClientRect?(e=n.style.evaluateWithTemporaryDisplay_(n.style.getBoundingClientRect_,e),new n.math.Size(e.right-e.left,e.bottom-e.top)):null},n.style.getBounds=function(e){var t=n.style.getPageOffset(e);return e=n.style.getSize(e),new n.math.Rect(t.x,t.y,e.width,e.height)},n.style.toCamelCase=function(e){return n.string.toCamelCase(String(e))},n.style.toSelectorCase=function(e){return n.string.toSelectorCase(e)},n.style.getOpacity=function(e){var t=e.style;return e="","opacity"in t?e=t.opacity:"MozOpacity"in t?e=t.MozOpacity:"filter"in t&&(t=t.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(e=String(t[1]/100)),""==e?e:Number(e)},n.style.setOpacity=function(e,t){var n=e.style;"opacity"in n?n.opacity=t:"MozOpacity"in n?n.MozOpacity=t:"filter"in n&&(n.filter=""===t?"":"alpha(opacity="+100*t+")")},n.style.setTransparentBackgroundImage=function(e,t){var i=e.style;n.userAgent.IE&&!n.userAgent.isVersionOrHigher("8")?i.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+t+'", sizingMethod="crop")':(i.backgroundImage="url("+t+")",i.backgroundPosition="top left",i.backgroundRepeat="no-repeat")},n.style.clearTransparentBackgroundImage=function(e){e=e.style,"filter"in e?e.filter="":e.backgroundImage="none"},n.style.showElement=function(e,t){n.style.setElementShown(e,t)},n.style.setElementShown=function(e,t){e.style.display=t?"":"none"},n.style.isElementShown=function(e){return"none"!=e.style.display},n.style.installStyles=function(e,t){var i=n.dom.getDomHelper(t),r=null,o=i.getDocument();return n.userAgent.IE&&o.createStyleSheet?(r=o.createStyleSheet(),n.style.setStyles(r,e)):(o=i.getElementsByTagNameAndClass("head")[0],o||(r=i.getElementsByTagNameAndClass("body")[0],o=i.createDom("head"),r.parentNode.insertBefore(o,r)),r=i.createDom("style"),n.style.setStyles(r,e),i.appendChild(o,r)),r},n.style.uninstallStyles=function(e){n.dom.removeNode(e.ownerNode||e.owningElement||e)},n.style.setStyles=function(e,t){n.userAgent.IE&&n.isDef(e.cssText)?e.cssText=t:e.innerHTML=t},n.style.setPreWrap=function(e){e=e.style,n.userAgent.IE&&!n.userAgent.isVersionOrHigher("8")?(e.whiteSpace="pre",e.wordWrap="break-word"):e.whiteSpace=n.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},n.style.setInlineBlock=function(e){e=e.style,e.position="relative",n.userAgent.IE&&!n.userAgent.isVersionOrHigher("8")?(e.zoom="1",e.display="inline"):e.display=n.userAgent.GECKO?n.userAgent.isVersionOrHigher("1.9a")?"inline-block":"-moz-inline-box":"inline-block"},n.style.isRightToLeft=function(e){return"rtl"==n.style.getStyle_(e,"direction")},n.style.unselectableStyle_=n.userAgent.GECKO?"MozUserSelect":n.userAgent.WEBKIT?"WebkitUserSelect":null,n.style.isUnselectable=function(e){return n.style.unselectableStyle_?"none"==e.style[n.style.unselectableStyle_].toLowerCase():!(!n.userAgent.IE&&!n.userAgent.OPERA)&&"on"==e.getAttribute("unselectable")},n.style.setUnselectable=function(e,t,i){i=i?null:e.getElementsByTagName("*");var r=n.style.unselectableStyle_;if(r){if(t=t?"none":"",e.style[r]=t,i){e=0;for(var o;o=i[e];e++)o.style[r]=t}}else if((n.userAgent.IE||n.userAgent.OPERA)&&(t=t?"on":"",e.setAttribute("unselectable",t),i))for(e=0;o=i[e];e++)o.setAttribute("unselectable",t)},n.style.getBorderBoxSize=function(e){return new n.math.Size(e.offsetWidth,e.offsetHeight)},n.style.setBorderBoxSize=function(e,t){var i=n.dom.getOwnerDocument(e),r=n.dom.getDomHelper(i).isCss1CompatMode();if(!n.userAgent.IE||r&&n.userAgent.isVersionOrHigher("8"))n.style.setBoxSizingSize_(e,t,"border-box");else if(i=e.style,r){var r=n.style.getPaddingBox(e),o=n.style.getBorderBox(e);i.pixelWidth=t.width-o.left-r.left-r.right-o.right,i.pixelHeight=t.height-o.top-r.top-r.bottom-o.bottom}else i.pixelWidth=t.width,i.pixelHeight=t.height},n.style.getContentBoxSize=function(e){var t=n.dom.getOwnerDocument(e),i=n.userAgent.IE&&e.currentStyle;return i&&n.dom.getDomHelper(t).isCss1CompatMode()&&"auto"!=i.width&&"auto"!=i.height&&!i.boxSizing?(t=n.style.getIePixelValue_(e,i.width,"width","pixelWidth"),e=n.style.getIePixelValue_(e,i.height,"height","pixelHeight"),new n.math.Size(t,e)):(i=n.style.getBorderBoxSize(e),t=n.style.getPaddingBox(e),e=n.style.getBorderBox(e),new n.math.Size(i.width-e.left-t.left-t.right-e.right,i.height-e.top-t.top-t.bottom-e.bottom))},n.style.setContentBoxSize=function(e,t){var i=n.dom.getOwnerDocument(e),r=n.dom.getDomHelper(i).isCss1CompatMode();if(!n.userAgent.IE||r&&n.userAgent.isVersionOrHigher("8"))n.style.setBoxSizingSize_(e,t,"content-box");else if(i=e.style,r)i.pixelWidth=t.width,i.pixelHeight=t.height;else{var r=n.style.getPaddingBox(e),o=n.style.getBorderBox(e);i.pixelWidth=t.width+o.left+r.left+r.right+o.right,i.pixelHeight=t.height+o.top+r.top+r.bottom+o.bottom}},n.style.setBoxSizingSize_=function(e,t,i){e=e.style,n.userAgent.GECKO?e.MozBoxSizing=i:n.userAgent.WEBKIT?e.WebkitBoxSizing=i:e.boxSizing=i,e.width=Math.max(t.width,0)+"px",e.height=Math.max(t.height,0)+"px"},n.style.getIePixelValue_=function(e,t,n,i){if(/^\d+px?$/.test(t))return parseInt(t,10);var r=e.style[n],o=e.runtimeStyle[n];return e.runtimeStyle[n]=e.currentStyle[n],e.style[n]=t,t=e.style[i],e.style[n]=r,e.runtimeStyle[n]=o,t},n.style.getIePixelDistance_=function(e,t){var i=n.style.getCascadedStyle(e,t);return i?n.style.getIePixelValue_(e,i,"left","pixelLeft"):0},n.style.getBox_=function(e,t){if(n.userAgent.IE){var i=n.style.getIePixelDistance_(e,t+"Left"),r=n.style.getIePixelDistance_(e,t+"Right"),o=n.style.getIePixelDistance_(e,t+"Top"),s=n.style.getIePixelDistance_(e,t+"Bottom");return new n.math.Box(o,r,s,i)}return i=n.style.getComputedStyle(e,t+"Left"),r=n.style.getComputedStyle(e,t+"Right"),o=n.style.getComputedStyle(e,t+"Top"),s=n.style.getComputedStyle(e,t+"Bottom"),new n.math.Box(parseFloat(o),parseFloat(r),parseFloat(s),parseFloat(i))},n.style.getPaddingBox=function(e){return n.style.getBox_(e,"padding")},n.style.getMarginBox=function(e){return n.style.getBox_(e,"margin")},n.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},n.style.getIePixelBorder_=function(e,t){if("none"==n.style.getCascadedStyle(e,t+"Style"))return 0;var i=n.style.getCascadedStyle(e,t+"Width");return i in n.style.ieBorderWidthKeywords_?n.style.ieBorderWidthKeywords_[i]:n.style.getIePixelValue_(e,i,"left","pixelLeft")},n.style.getBorderBox=function(e){if(n.userAgent.IE&&!n.userAgent.isDocumentModeOrHigher(9)){var t=n.style.getIePixelBorder_(e,"borderLeft"),i=n.style.getIePixelBorder_(e,"borderRight"),r=n.style.getIePixelBorder_(e,"borderTop");return e=n.style.getIePixelBorder_(e,"borderBottom"),new n.math.Box(r,i,e,t)}return t=n.style.getComputedStyle(e,"borderLeftWidth"),i=n.style.getComputedStyle(e,"borderRightWidth"),r=n.style.getComputedStyle(e,"borderTopWidth"),e=n.style.getComputedStyle(e,"borderBottomWidth"),new n.math.Box(parseFloat(r),parseFloat(i),parseFloat(e),parseFloat(t))},n.style.getFontFamily=function(e){var t=n.dom.getOwnerDocument(e),i="";if(t.body.createTextRange&&n.dom.contains(t,e)){t=t.body.createTextRange(),t.moveToElementText(e);try{i=t.queryCommandValue("FontName")}catch(e){i=""}}return i||(i=n.style.getStyle_(e,"fontFamily")),e=i.split(","),1<e.length&&(i=e[0]),n.string.stripQuotes(i,"\"'")},n.style.lengthUnitRegex_=/[^\d]+$/,n.style.getLengthUnits=function(e){return(e=e.match(n.style.lengthUnitRegex_))&&e[0]||null},n.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,in:1,mm:1,pc:1,pt:1},n.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},n.style.getFontSize=function(e){var t=n.style.getStyle_(e,"fontSize"),i=n.style.getLengthUnits(t);if(t&&"px"==i)return parseInt(t,10);if(n.userAgent.IE){if(i in n.style.ABSOLUTE_CSS_LENGTH_UNITS_)return n.style.getIePixelValue_(e,t,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==n.dom.NodeType.ELEMENT&&i in n.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return e=e.parentNode,i=n.style.getStyle_(e,"fontSize"),n.style.getIePixelValue_(e,t==i?"1em":t,"left","pixelLeft")}return i=n.dom.createDom("span",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"}),n.dom.appendChild(e,i),t=i.offsetHeight,n.dom.removeNode(i),t},n.style.parseStyleAttribute=function(e){var t={};return n.array.forEach(e.split(/\s*;\s*/),function(e){e=e.split(/\s*:\s*/),2==e.length&&(t[n.string.toCamelCase(e[0].toLowerCase())]=e[1])}),t},n.style.toStyleAttribute=function(e){var t=[];return n.object.forEach(e,function(e,i){t.push(n.string.toSelectorCase(i),":",e,";")}),t.join("")},n.style.setFloat=function(e,t){e.style[n.userAgent.IE?"styleFloat":"cssFloat"]=t},n.style.getFloat=function(e){return e.style[n.userAgent.IE?"styleFloat":"cssFloat"]||""},n.style.getScrollbarWidth=function(e){var t=n.dom.createElement("div");return e&&(t.className=e),t.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px",e=n.dom.createElement("div"),n.style.setSize(e,"200px","200px"),t.appendChild(e),n.dom.appendChild(n.dom.getDocument().body,t),e=t.offsetWidth-t.clientWidth,n.dom.removeNode(t),e},n.style.MATRIX_TRANSLATION_REGEX_=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/,n.style.getCssTranslation=function(e){return e=n.style.getComputedTransform(e),e&&(e=e.match(n.style.MATRIX_TRANSLATION_REGEX_))?new n.math.Coordinate(parseFloat(e[1]),parseFloat(e[2])):new n.math.Coordinate(0,0)},i.vml=function(){},i.vml.browserEnabled=!1,i.vml.initVmlRendering=function(){i.vml.browserEnabled||(n.style.installStyles(".xrx-vml{behavior:url(#default#VML);display:inline-block}"),i.vml.browserEnabled=!0)},i.vml.createFillAndCo=function(e){var t=document.createElement("xrxvml:fill"),i=document.createElement("xrxvml:stroke"),r=document.createElement("xrxvml:skew");t.setAttribute("class","xrx-vml"),i.setAttribute("class","xrx-vml"),r.setAttribute("class","xrx-vml"),n.dom.appendChild(e,t),n.dom.appendChild(e,i),n.dom.appendChild(e,r)},i.vml.createElement=function(e,t){var n;return!document.namespaces.xrxvml&&document.namespaces.add("xrxvml","urn:schemas-microsoft-com:vml"),n=document.createElement("xrxvml:"+e),n.setAttribute("class","xrx-vml"),!1!==t&&i.vml.createFillAndCo(n),n},i.vml.setPath=function(e,t,n){for(var i="m ",r=0,o=t.length;r<o;r++)i+=t[r][0]+","+t[r][1],0!==r&&r!==o-1&&(i+=", "),0===r&&(i+=" l ");n&&(i+=" x "),e.path=i+" e"},i.engine.Element=function(){n.Disposable.call(this)},n.inherits(i.engine.Element,n.Disposable),i.engine.Element.prototype.startDrawing=function(){},i.engine.Element.prototype.finishDrawing=function(){},i.engine.Element.prototype.disposeInternal=function(){i.engine.Element.superClass_.disposeInternal.call(this)},i.vml.Element=function(e){i.engine.Element.call(this),this.element_=e},n.inherits(i.vml.Element,i.engine.Element),i.vml.Element.prototype.getElement=function(){return this.element_},i.vml.Element.prototype.applyTransform=function(e){e&&(e=e.m00_+","+e.m10_+","+e.m01_+","+e.m11_+","+e.m02_+","+e.m12_,console.log(e),this.element_.setAttribute("matrix",e))},i.vml.Stylable=function(e){i.vml.Element.call(this,e),e=n.dom.getChildren(e),this.fill_=e[0],this.stroke_=e[1],this.skew_=e[2]},n.inherits(i.vml.Stylable,i.vml.Element),i.vml.Stylable.prototype.strokeAndFill_=function(e,t,n,i){void 0!==e&&this.setFillColor(e),void 0!==t&&this.setFillOpacity(t),void 0!==n&&this.setStrokeColor(n),void 0!==i&&this.setStrokeWidth(i)},i.vml.Stylable.prototype.setStrokeWidth=function(e){this.stroke_.weight=""+e},i.vml.Stylable.prototype.setStrokeColor=function(e){this.stroke_.color=""+e},i.vml.Stylable.prototype.setFillColor=function(e){this.fill_.color=""+e},i.vml.Stylable.prototype.setFillOpacity=function(e){this.fill_.opacity=""+e},i.vml.Rect=function(e){i.vml.Stylable.call(this,e)},n.inherits(i.vml.Rect,i.vml.Stylable),i.vml.Rect.prototype.setX=function(e){this.element_.style.left=e+"px"},i.vml.Rect.prototype.setY=function(e){this.element_.style.top=e+"px"},i.vml.Rect.prototype.setWidth=function(e){this.element_.style.width=e+"px"},i.vml.Rect.prototype.setHeight=function(e){this.element_.style.height=e+"px"},i.vml.Rect.prototype.draw=function(e,t,n,i,r,o,s,a){void 0!==e&&this.setX(e),void 0!==t&&this.setY(t),void 0!==n&&this.setWidth(n),void 0!==i&&this.setHeight(i),this.strokeAndFill_(r,o,s,a)},i.vml.Rect.create=function(e){return e=i.vml.createElement("rect"),e.style.position="absolute",new i.vml.Rect(e)},i.canvas=function(){},i.canvas.Element=function(e){i.engine.Element.call(this),this.canvas_=e,this.context_=this.canvas_.getElement().getContext("2d")},n.inherits(i.canvas.Element,i.engine.Element),i.canvas.Element.prototype.getCanvas=function(){return this.canvas_},i.canvas.Element.prototype.getContext=function(){return this.context_},i.canvas.Element.prototype.applyTransform=function(e){e&&this.context_.setTransform(e.m00_,e.m10_,e.m01_,e.m11_,e.m02_,e.m12_)},i.canvas.Element.prototype.disposeInternal=function(){this.canvas_.dispose(),this.context_=null,i.canvas.Element.superClass_.disposeInternal.call(this)},i.canvas.Stylable=function(e){i.canvas.Element.call(this,e)},n.inherits(i.canvas.Stylable,i.canvas.Element),i.canvas.Stylable.prototype.strokeAndFill_=function(e,t,n,i){this.context_.fillStyle=e,this.context_.globalAlpha=t,this.context_.fill(),this.context_.globalAlpha=1,this.context_.strokeStyle=n,this.context_.lineWidth=i,0<i&&this.context_.stroke()},i.canvas.Stylable.prototype.disposeInternal=function(){i.canvas.Stylable.superClass_.disposeInternal.call(this)},i.canvas.Image=function(e){i.canvas.Stylable.call(this,e)},n.inherits(i.canvas.Image,i.canvas.Stylable),i.canvas.Image.prototype.draw=function(e){e&&this.context_.drawImage(e,0,0,e.width,e.height)},i.canvas.Image.create=function(e){return new i.canvas.Image(e)},i.canvas.Image.prototype.disposeInternal=function(){i.canvas.Image.superClass_.disposeInternal.call(this)},i.canvas.Circle=function(e){i.canvas.Stylable.call(this,e)},n.inherits(i.canvas.Circle,i.canvas.Stylable),i.canvas.Circle.prototype.draw=function(e,t,n,i,r,o,s){this.context_.beginPath(),this.context_.arc(e,t,n,0,2*Math.PI),this.strokeAndFill_(i,r,o,s)},i.canvas.Circle.create=function(e){return new i.canvas.Circle(e)},i.canvas.Circle.prototype.disposeInternal=function(){i.canvas.Circle.superClass_.disposeInternal.call(this)},i.vml.Polyline=function(e){i.vml.Stylable.call(this,e)},n.inherits(i.vml.Polyline,i.vml.Stylable);i.vml.Polyline.prototype.setCoords=function(e){i.vml.setPath(this.element_,e)},i.vml.Polyline.prototype.draw=function(e,t,n,i,r){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,i,r)},i.vml.Polyline.create=function(e){var t=i.vml.createElement("shape");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new i.vml.Polyline(t)},i.vml.Ellipse=function(e){i.vml.Stylable.call(this,e),this.rx_,this.ry_},n.inherits(i.vml.Ellipse,i.vml.Stylable),i.vml.Ellipse.prototype.setCenter=function(e,t){var n=e-this.rx_,i=t-this.ry_;void 0!==e&&(this.element_.style.left=n+"px"),void 0!==t&&(this.element_.style.top=i+"px")},i.vml.Ellipse.prototype.setRadiusX=function(e){this.rx_=e,this.element_.style.width=2*this.rx_+"px"},i.vml.Ellipse.prototype.setRadiusY=function(e){this.ry_=e,this.element_.style.height=2*this.ry_+"px"},i.vml.Ellipse.prototype.draw=function(e,t,n,i,r,o,s,a){void 0!==n&&this.setRadiusX(n),void 0!==i&&this.setRadiusY(i),this.setCenter(e,t),this.strokeAndFill_(r,o,s,a)},i.vml.Ellipse.create=function(e){return e=i.vml.createElement("oval"),e.style.position="absolute",new i.vml.Ellipse(e)},i.canvas.Polygon=function(e){i.canvas.Stylable.call(this,e)},n.inherits(i.canvas.Polygon,i.canvas.Stylable),i.canvas.Polygon.prototype.drawPath_=function(e){if(e[0]){this.context_.beginPath(),this.context_.moveTo(e[0][0],e[0][1]);for(var t=1,n=e.length;t<n;t++)this.context_.lineTo(e[t][0],e[t][1]);this.context_.lineTo(e[0][0],e[0][1]),this.context_.closePath()}},i.canvas.Polygon.prototype.draw=function(e,t,n,i,r){this.drawPath_(e),this.strokeAndFill_(t,n,i,r)},i.canvas.Polygon.create=function(e){return new i.canvas.Polygon(e)},i.canvas.Polygon.prototype.disposeInternal=function(){i.canvas.Polygon.superClass_.disposeInternal.call(this)},i.canvas.Container=function(e){i.canvas.Element.call(this,e),this.childs_=[]},n.inherits(i.canvas.Container,i.canvas.Element),i.canvas.Container.prototype.addChild=function(e){this.childs_.push(e)},i.canvas.Container.prototype.getChildren=function(){return this.childs_},i.canvas.Container.prototype.removeChildren=function(){this.childs_=[]},i.canvas.Container.prototype.removeChildAt=function(e){this.childs_.splice(e,1)},i.canvas.Container.prototype.disposeInternal=function(){for(var e;e=this.childs_.pop();)e.dispose();this.childs_=null,i.canvas.Container.superClass_.disposeInternal.call(this)},i.canvas.Canvas=function(e){this.element_=e,this.height_=this.width_=0,i.canvas.Container.call(this,this)},n.inherits(i.canvas.Canvas,i.canvas.Container),i.canvas.Canvas.prototype.getElement=function(){return this.element_},i.canvas.Canvas.prototype.getEventTarget=function(){return this.element_},i.canvas.Canvas.prototype.getWidth=function(){return this.width_},i.canvas.Canvas.prototype.setWidth=function(e){this.width_=e,this.element_.setAttribute("width",e)},i.canvas.Canvas.prototype.getHeight=function(){return this.height_},i.canvas.Canvas.prototype.setHeight=function(e){this.height_=e,this.element_.setAttribute("height",e)},i.canvas.Canvas.prototype.startDrawing=function(){this.context_.save(),this.context_.clearRect(0,0,this.width_,this.height_),this.context_.beginPath()},i.canvas.Canvas.prototype.finishDrawing=function(){this.context_.closePath(),this.context_.restore()},i.canvas.Canvas.create=function(e){return e=n.dom.createElement("canvas"),new i.canvas.Canvas(e)},i.canvas.Canvas.prototype.disposeInternal=function(){n.dom.removeNode(this.element_),this.element_=null,i.canvas.Canvas.superClass_.disposeInternal.call(this)},i.canvas.Group=function(e){i.canvas.Container.call(this,e)},n.inherits(i.canvas.Group,i.canvas.Container),i.canvas.Group.create=function(e){return new i.canvas.Group(e)},i.canvas.Group.prototype.disposeInternal=function(){i.canvas.Group.superClass_.disposeInternal.call(this)},i.svg=function(){},i.svg.Namespace={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},i.svg.isSupported=function(){return!!document.createElementNS&&!!document.createElementNS(i.svg.Namespace.svg,"svg").createSVGRect},i.svg.setCoords=function(e,t){for(var n="",i=0,r=t.length;i<r;i++)n+=Math.round(t[i][0])+","+Math.round(t[i][1])+" ";e.setAttribute("points",n)},i.svg.Element=function(e){i.engine.Element.call(this),this.element_=e},n.inherits(i.svg.Element,i.engine.Element),i.svg.Element.prototype.getElement=function(){return this.element_},i.svg.Element.prototype.applyTransform=function(e){e&&this.element_.setAttribute("transform","matrix("+e.m00_+","+e.m10_+","+e.m01_+","+e.m11_+","+e.m02_+","+e.m12_+")")},i.svg.Element.prototype.disposeInternal=function(){n.dom.removeNode(this.element_),this.element_=this.element_.style=null,i.svg.Element.superClass_.disposeInternal.call(this)},i.svg.Stylable=function(e){i.svg.Element.call(this,e)},n.inherits(i.svg.Stylable,i.svg.Element),i.svg.Stylable.prototype.strokeAndFill_=function(e,t,n,i){void 0!==e&&this.setFillColor(e),void 0!==t&&this.setFillOpacity(t),void 0!==n&&this.setStrokeColor(n),void 0!==i&&this.setStrokeWidth(i)},i.svg.Stylable.prototype.setStrokeWidth=function(e){this.element_.setAttribute("stroke-width",Math.round(e))},i.svg.Stylable.prototype.setStrokeColor=function(e){this.element_.setAttribute("stroke",e),this.element_.setAttribute("stroke-color",e)},i.svg.Stylable.prototype.setFillColor=function(e){this.element_.setAttribute("fill",e)},i.svg.Stylable.prototype.setFillOpacity=function(e){this.element_.setAttribute("fill-opacity",e)},i.svg.Stylable.prototype.disposeInternal=function(){i.svg.Stylable.superClass_.disposeInternal.call(this)},i.svg.Line=function(e){i.svg.Stylable.call(this,e)},n.inherits(i.svg.Line,i.svg.Stylable),i.svg.Line.prototype.setCoords=function(e,t,n,i){void 0!==e&&this.element_.setAttribute("x1",e),void 0!==t&&this.element_.setAttribute("y1",t),void 0!==n&&this.element_.setAttribute("x2",n),void 0!==i&&this.element_.setAttribute("y2",i)},i.svg.Line.prototype.draw=function(e,t,n,i,r,o){this.setCoords(e,t,n,i),this.strokeAndFill_(void 0,void 0,r,o)},i.svg.Line.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"line"),new i.svg.Line(e)},i.svg.Line.prototype.disposeInternal=function(){i.svg.Line.superClass_.disposeInternal.call(this)},i.canvas.Rect=function(e){i.canvas.Stylable.call(this,e)},n.inherits(i.canvas.Rect,i.canvas.Stylable),i.canvas.Rect.prototype.drawPath_=function(e,t,n,i){this.context_.beginPath(),this.context_.moveTo(e,t),this.context_.lineTo(e+n,t),this.context_.lineTo(e+n,t+i),this.context_.lineTo(e,t+i),this.context_.closePath()},i.canvas.Rect.prototype.draw=function(e,t,n,i,r,o,s,a){this.drawPath_(e,t,n,i),this.strokeAndFill_(r,o,s,a)},i.canvas.Rect.create=function(e){return new i.canvas.Rect(e)},i.canvas.Rect.prototype.disposeInternal=function(){i.canvas.Rect.superClass_.disposeInternal.call(this)},i.canvas.Polyline=function(e){i.canvas.Stylable.call(this,e)},n.inherits(i.canvas.Polyline,i.canvas.Stylable),i.canvas.Polyline.prototype.drawPath_=function(e){this.context_.beginPath(),this.context_.moveTo(e[0][0],e[0][1]);for(var t=1,n=e.length;t<n;t++)this.context_.lineTo(e[t][0],e[t][1])},i.canvas.Polyline.prototype.draw=function(e,t,n,i,r){this.drawPath_(e),this.strokeAndFill_(t,n,i,r)},i.canvas.Polyline.create=function(e){return new i.canvas.Polyline(e)},i.canvas.Polyline.prototype.disposeInternal=function(){i.canvas.Polyline.superClass_.disposeInternal.call(this)},i.vml.Image=function(e){i.vml.Stylable.call(this,e)},n.inherits(i.vml.Image,i.vml.Stylable),i.vml.Image.prototype.setImage=function(e){var t=n.style.getSize(e);this.element_.src=e.src,this.element_.style.width=t.width+"px",this.element_.style.height=t.height+"px"},i.vml.Image.prototype.draw=function(e){void 0!==e&&this.setImage(e)},i.vml.Image.create=function(e){return e=i.vml.createElement("image",!1),e.setAttribute("class","xrx-vml"),e.setAttribute("src","about:blank"),e.style.position="absolute",e.style.left="0px",e.style.top="0px",new i.vml.Image(e)},i.svg.Container=function(e){i.svg.Element.call(this,e),this.childs_=[]},n.inherits(i.svg.Container,i.svg.Element),i.svg.Container.prototype.addChild=function(e){this.childs_.push(e),n.dom.append(this.element_,e.getElement())},i.svg.Container.prototype.getChildren=function(){return this.childs_},i.svg.Container.prototype.removeChildren=function(){n.dom.removeChildren(this.element_),this.childs_=[]},i.svg.Container.prototype.removeChildAt=function(e){n.dom.removeNode(this.childs_[e].getElement()),this.childs_.splice(e,1)},i.svg.Container.prototype.disposeInternal=function(){for(var e;e=this.childs_.pop();)e.dispose();this.childs_=null,i.svg.Container.superClass_.disposeInternal.call(this)},i.svg.Canvas=function(e){i.svg.Container.call(this,e),this.height_=this.width_=0},n.inherits(i.svg.Canvas,i.svg.Container),i.svg.Canvas.prototype.getEventTarget=function(){return this.element_},i.svg.Canvas.prototype.getWidth=function(){return this.width_},i.svg.Canvas.prototype.setWidth=function(e){this.width_=e,this.element_.setAttribute("width",e)},i.svg.Canvas.prototype.getHeight=function(){return this.height_},i.svg.Canvas.prototype.setHeight=function(e){this.height_=e,this.element_.setAttribute("height",e)},i.svg.Canvas.prototype.startDrawing=function(){},i.svg.Canvas.prototype.finishDrawing=function(){},i.svg.Canvas.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"svg"),n.style.setStyle(e,"overflow","hidden"),new i.svg.Canvas(e)},i.svg.Canvas.prototype.disposeInternal=function(){i.svg.Canvas.superClass_.disposeInternal.call(this)},i.canvas.Line=function(e){i.canvas.Stylable.call(this,e)},n.inherits(i.canvas.Line,i.canvas.Stylable),i.canvas.Line.prototype.drawPath_=function(e,t,n,i){this.context_.beginPath(),this.context_.moveTo(e,t),this.context_.lineTo(n,i)},i.canvas.Line.prototype.draw=function(e,t,n,i,r,o){this.drawPath_(e,t,n,i),this.strokeAndFill_(void 0,void 0,r,o)},i.canvas.Line.create=function(e){return new i.canvas.Line(e)},i.canvas.Line.prototype.disposeInternal=function(){i.canvas.Line.superClass_.disposeInternal.call(this)},i.svg.Polygon=function(e){i.svg.Stylable.call(this,e)},n.inherits(i.svg.Polygon,i.svg.Stylable),i.svg.Polygon.prototype.setCoords=function(e){i.svg.setCoords(this.element_,e)},i.svg.Polygon.prototype.draw=function(e,t,n,i,r){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,i,r)},i.svg.Polygon.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"polygon"),new i.svg.Polygon(e)},i.svg.Polygon.prototype.disposeInternal=function(){i.svg.Polygon.superClass_.disposeInternal.call(this)},i.svg.Circle=function(e){i.svg.Stylable.call(this,e)},n.inherits(i.svg.Circle,i.svg.Stylable),i.svg.Circle.prototype.setCenter=function(e,t){void 0!==e&&this.element_.setAttribute("cx",e),void 0!==t&&this.element_.setAttribute("cy",t)},i.svg.Circle.prototype.setRadius=function(e){this.element_.setAttribute("r",e)},i.svg.Circle.prototype.draw=function(e,t,n,i,r,o,s){this.setCenter(e,t),void 0!==n&&this.setRadius(n),this.strokeAndFill_(i,r,o,s)},i.svg.Circle.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"circle"),new i.svg.Circle(e)},i.svg.Circle.prototype.disposeInternal=function(){i.svg.Circle.superClass_.disposeInternal.call(this)},i.canvas.Ellipse=function(e){i.canvas.Stylable.call(this,e)},n.inherits(i.canvas.Ellipse,i.canvas.Stylable),i.canvas.Ellipse.prototype.draw=function(e,t,n,i,r,o,s,a){if(this.context_.ellipse)this.context_.beginPath(),this.context_.ellipse(e,t,n,i,0,0,2*Math.PI,!0),this.context_.closePath();else for(var l,h,c=0;c<=2*Math.PI;c+=.01)l=e+n*Math.sin(c),h=t-i*Math.cos(c),0===c?this.context_.moveTo(l,h):this.context_.lineTo(l,h);this.strokeAndFill_(r,o,s,a)},i.canvas.Ellipse.create=function(e){return new i.canvas.Ellipse(e)},i.canvas.Ellipse.prototype.disposeInternal=function(){i.canvas.Ellipse.superClass_.disposeInternal.call(this)},i.svg.Ellipse=function(e){i.svg.Stylable.call(this,e)},n.inherits(i.svg.Ellipse,i.svg.Stylable),i.svg.Ellipse.prototype.setCenter=function(e,t){void 0!==e&&this.element_.setAttribute("cx",e),void 0!==t&&this.element_.setAttribute("cy",t)},i.svg.Ellipse.prototype.setRadiusX=function(e){this.element_.setAttribute("rx",e)},i.svg.Ellipse.prototype.setRadiusY=function(e){this.element_.setAttribute("ry",e)},i.svg.Ellipse.prototype.draw=function(e,t,n,i,r,o,s,a){this.setCenter(e,t),void 0!==n&&this.setRadiusX(n),void 0!==i&&this.setRadiusY(i),this.strokeAndFill_(r,o,s,a)},i.svg.Ellipse.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"ellipse"),new i.svg.Ellipse(e)},i.svg.Ellipse.prototype.disposeInternal=function(){i.svg.Ellipse.superClass_.disposeInternal.call(this)},i.vml.Container=function(e){i.vml.Element.call(this,e),this.childs_=[]},n.inherits(i.vml.Container,i.vml.Element),i.vml.Container.prototype.addChild=function(e){this.childs_.push(e),this.element_.appendChild(e.getElement())},i.vml.Container.prototype.getChildren=function(){return this.childs_},i.vml.Container.prototype.removeChildren=function(){n.dom.removeChildren(this.element_),this.childs_=[]},i.vml.Container.prototype.removeChildAt=function(e){n.dom.removeNode(this.childs_[e].getElement()),this.childs_.splice(e,1)},i.vml.Canvas=function(e){i.vml.Container.call(this,e),this.height_=this.width_=0},n.inherits(i.vml.Canvas,i.vml.Container),i.vml.Canvas.prototype.getEventTarget=function(){return this.element_},i.vml.Canvas.prototype.getWidth=function(){return this.width_},i.vml.Canvas.prototype.setWidth=function(e){this.width_=e,this.element_.parentElement.style.width=e+"px",this.element_.style.width=e+"px",this.element_.coordorigin="0, 0",this.element_.coordsize=this.width_+", "+this.height_},i.vml.Canvas.prototype.getHeight=function(){return this.height_},i.vml.Canvas.prototype.setHeight=function(e){this.height_=e,this.element_.parentElement.style.height=e+"px",this.element_.style.height=e+"px",this.element_.coordorigin="0, 0",this.element_.coordsize=this.width_+", "+this.height_},i.vml.Canvas.prototype.startDrawing=function(){},i.vml.Canvas.prototype.finishDrawing=function(){},i.vml.Canvas.create=function(e){i.vml.initVmlRendering();var t=n.dom.createElement("div");t.style.display="inline-block",t.style.position="relative",t.style.overflow="hidden",t.style.width="100px",t.style.height="100px";var r=i.vml.createElement("group",!1);return n.dom.appendChild(t,r),n.dom.appendChild(e,t),r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.width="100px",r.style.height="100px",new i.vml.Canvas(r)},i.vml.Polygon=function(e){i.vml.Stylable.call(this,e)},n.inherits(i.vml.Polygon,i.vml.Stylable),i.vml.Polygon.prototype.setCoords=function(e){i.vml.setPath(this.element_,e,!0)},i.vml.Polygon.prototype.draw=function(e,t,n,i,r){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,i,r)},i.vml.Polygon.create=function(e){var t=i.vml.createElement("shape");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new i.vml.Polygon(t)},i.svg.Group=function(e){i.svg.Container.call(this,e)},n.inherits(i.svg.Group,i.svg.Container),i.svg.Group.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"g"),new i.svg.Group(e)},i.svg.Group.prototype.disposeInternal=function(){i.svg.Group.superClass_.disposeInternal.call(this)},i.vml.Group=function(e){i.vml.Container.call(this,e)},n.inherits(i.vml.Group,i.vml.Container),i.vml.Group.create=function(e){var t=i.vml.createElement("group",!1);return t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new i.vml.Group(t)},i.svg.Image=function(e){i.svg.Stylable.call(this,e)},n.inherits(i.svg.Image,i.svg.Stylable),i.svg.Image.prototype.setWidth=function(e){this.element_.setAttribute("width",e)},i.svg.Image.prototype.setHeight=function(e){this.element_.setAttribute("height",e)},i.svg.Image.prototype.setImage=function(e){this.element_.setAttributeNS(i.svg.Namespace.xlink,"xlink:href",e.src)},i.svg.Image.prototype.draw=function(e){void 0!==e&&this.setImage(e)},i.svg.Image.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"image"),new i.svg.Image(e)},i.svg.Image.prototype.disposeInternal=function(){i.svg.Image.superClass_.disposeInternal.call(this)},i.vml.Circle=function(e){i.vml.Stylable.call(this,e),this.r_},n.inherits(i.vml.Circle,i.vml.Stylable),i.vml.Circle.prototype.setCenter=function(e,t,n){n=e-this.r_;var i=t-this.r_;void 0!==e&&(this.element_.style.left=n+"px"),void 0!==t&&(this.element_.style.top=i+"px")},i.vml.Circle.prototype.setRadius=function(e){this.r_=e,e=2*this.r_,this.element_.style.width=e+"px",this.element_.style.height=e+"px"},i.vml.Circle.prototype.draw=function(e,t,n,i,r,o,s){void 0!==n&&this.setRadius(n),this.setCenter(e,t,n),this.strokeAndFill_(i,r,o,s)},i.vml.Circle.create=function(e){return e=i.vml.createElement("oval"),e.style.position="absolute",new i.vml.Circle(e)},i.svg.Rect=function(e){i.svg.Stylable.call(this,e)},n.inherits(i.svg.Rect,i.svg.Stylable),i.svg.Rect.prototype.setX=function(e){this.element_.setAttribute("x",e)},i.svg.Rect.prototype.setY=function(e){this.element_.setAttribute("y",e)},i.svg.Rect.prototype.setWidth=function(e){this.element_.setAttribute("width",e)},i.svg.Rect.prototype.setHeight=function(e){this.element_.setAttribute("height",e)},i.svg.Rect.prototype.draw=function(e,t,n,i,r,o,s,a){void 0!==e&&this.setX(e),void 0!==t&&this.setY(t),void 0!==n&&this.setWidth(n),void 0!==i&&this.setHeight(i),this.strokeAndFill_(r,o,s,a)},i.svg.Rect.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"rect"),new i.svg.Rect(e)},i.svg.Rect.prototype.disposeInternal=function(){i.svg.Rect.superClass_.disposeInternal.call(this)},i.svg.Polyline=function(e){i.svg.Stylable.call(this,e)},n.inherits(i.svg.Polyline,i.svg.Stylable),i.svg.Polyline.prototype.setCoords=function(e){i.svg.setCoords(this.element_,e)},i.svg.Polyline.prototype.draw=function(e,t,n,i,r){void 0!==e&&this.setCoords(e),this.strokeAndFill_(t,n,i,r)},i.svg.Polyline.create=function(e){return e=document.createElementNS(i.svg.Namespace.svg,"polyline"),new i.svg.Polyline(e)},i.svg.Polyline.prototype.disposeInternal=function(){i.svg.Polyline.superClass_.disposeInternal.call(this)},i.vml.Line=function(e){i.vml.Stylable.call(this,e)},n.inherits(i.vml.Line,i.vml.Stylable),i.vml.Line.prototype.setCoords=function(e){i.vml.setPath(this.element_,e,!1)},i.vml.Line.prototype.draw=function(e,t,n,i,r,o){this.setCoords([[e,t],[n,i]]),this.strokeAndFill_(void 0,void 0,r,o)},i.vml.Line.create=function(e){var t=i.vml.createElement("shape");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",new i.vml.Line(t)},i.engine.Engines=function(){},i.shape.Shape=function(e){i.shape.RenderStylable.call(this,e),this.drawing_=e,this.isModifiable_=!0},n.inherits(i.shape.Shape,i.shape.RenderStylable),i.shape.Shape.prototype.getDrawing=function(){return this.drawing_},i.shape.Shape.prototype.setModifiable=function(e){this.isModifiable_=!1!==e},i.shape.Shape.prototype.isModifiable=function(){return this.isModifiable_},i.shape.Shape.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,n.dispose(this.hoverable_),this.hoverable_=null,n.dispose(this.selectable_),this.selectable_=null,n.dispose(this.modifiable_),this.modifiable_=null,n.dispose(this.creatable_),this.creatable_=null,i.shape.Shape.superClass_.disposeInternal.call(this)},i.shape.Geometry=function(e,t){i.shape.Shape.call(this,e),this.geometry_=t,this.zoomFactor_=1},n.inherits(i.shape.Geometry,i.shape.Shape);i.shape.Geometry.prototype.setZoomFactor=function(e){this.zoomFactor_=e},i.shape.Geometry.prototype.getGeometry=function(){return this.geometry_},i.shape.Geometry.prototype.setCTM=function(e){this.ctm_=e},i.shape.Geometry.prototype.getCoordsCopy=function(){for(var e=this.getCoords(),t=e.length,n=Array(t),i=0;i<t;i++)n[i]=Array(2),n[i][0]=e[i][0],n[i][1]=e[i][1];return n},i.shape.Geometry.prototype.disposeInternal=function(){n.dispose(this.geometry_),this.geometry_=null,n.dispose(this.ctm_),this.ctm_=null,i.shape.Geometry.superClass_.disposeInternal.call(this)},i.geometry=function(){},i.geometry.addCoordsX=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n][0]+=t},i.geometry.addCoordsY=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n][1]+=t},i.geometry.getBBox=function(e){for(var t,n,i={x:e[0][0],y:e[0][1],x2:e[0][0],y2:e[0][1],width:0,height:0},r=1,o=e.length;r<o;r++)t=e[r][0],n=e[r][1],t<i.x&&(i.x=t),n<i.y&&(i.y=n),t>i.x2&&(i.x2=t),n>i.y2&&(i.y2=n);return i.width=i.x2-i.x,i.height=i.y2-i.y,i},i.geometry.Geometry=function(){n.Disposable.call(this)},n.inherits(i.geometry.Geometry,n.Disposable),i.geometry.Geometry.prototype.disposeInternal=function(){i.geometry.Geometry.superClass_.disposeInternal.call(this)},i.geometry.Group=function(){i.geometry.Geometry.call(this),this.childs_=[]},n.inherits(i.geometry.Group,i.geometry.Geometry),i.geometry.Group.prototype.addChild=function(e){this.childs_.push(e)},i.geometry.Group.prototype.containsPoint=function(e){for(var t=0,n=this.childs_.length;t<n;t++)if(this.childs_[t].containsPoint(e))return!0;return!1},i.shape.Container=function(e){i.shape.Geometry.call(this,e,new i.geometry.Group),this.childs_=[]},n.inherits(i.shape.Container,i.shape.Geometry),i.shape.Container.prototype.getChildren=function(){return this.childs_},i.shape.Container.prototype.getChild=function(e){return this.childs_[e]},i.shape.Container.prototype.addChildren=function(e){n.isArray(e)||(e=[e]);for(var t=0,i=e.length;t<i;t++)this.childs_.push(e[t]),this.engineElement_.addChild(e[t].getEngineElement())},i.shape.Container.prototype.removeChildren=function(){this.childs_=[],this.engineElement_.removeChildren()},i.shape.Container.prototype.removeChildAt=function(e){this.childs_.splice(e,1),this.engineElement_.removeChildAt(e)},i.shape.Container.prototype.disposeInternal=function(){for(var e;e=this.childs_.pop();)e.dispose();this.childs_=null,i.shape.Container.superClass_.disposeInternal.call(this)},i.shape.Group=function(e){i.shape.Container.call(this,e),this.engineElement_=this.drawing_.getEngine().createGroup()},n.inherits(i.shape.Group,i.shape.Container),i.shape.Group.prototype.draw=function(){this.startDrawing_();for(var e=this.getChildren(),t=0,n=e.length;t<n;t++)e[t].draw();this.finishDrawing_()},i.shape.Group.prototype.disposeInternal=function(){i.shape.Group.superClass_.disposeInternal.call(this)},i.drawing.Layer=function(e){n.Disposable.call(this),this.drawing_=e,this.locked_=!1,this.shapes_=[],this.create_()},n.inherits(i.drawing.Layer,n.Disposable),i.drawing.Layer.prototype.getDrawing=function(){return this.drawing_},i.drawing.Layer.prototype.setLocked=function(e){this.locked_=!0===e},i.drawing.Layer.prototype.isLocked=function(){return this.locked_},i.drawing.Layer.prototype.getGroup=function(){return this.group_},i.drawing.Layer.prototype.getShapes=function(){return this.shapes_},i.drawing.Layer.prototype.draw=function(){for(var e=0,t=this.shapes_.length;e<t;e++)this.shapes_[e].draw(this.drawing_.getViewbox().getZoomValue())},i.drawing.Layer.prototype.addShapes=function(e){n.isArray(e)||(e=[e]);for(var t=0,i=e.length;t<i;t++)this.shapes_.push(e[t]);this.group_.addChildren(e)},i.drawing.Layer.prototype.removeShapes=function(){this.shapes_=[],this.group_.removeChildren()},i.drawing.Layer.prototype.removeShape=function(e){for(var t=0,n=this.shapes_.length;t<n;t++)if(this.shapes_[t]===e){this.group_.removeChildAt(t),this.shapes_.splice(t,1);break}},i.drawing.Layer.prototype.create_=function(){this.group_=new i.shape.Group(this.drawing_)},i.drawing.Layer.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,this.group_.dispose(),this.group_=null;for(var e;e=this.shapes_.pop();)e.dispose();this.shapes_=null,i.drawing.Layer.superClass_.disposeInternal.call(this)},i.drawing.LayerShapeCreate=function(e){i.drawing.Layer.call(this,e)},n.inherits(i.drawing.LayerShapeCreate,i.drawing.Layer),i.drawing.LayerShapeCreate.prototype.disposeInternal=function(){i.drawing.LayerShapeCreate.superClass_.disposeInternal.call(this)},i.drawing.LayerShape=function(e){i.drawing.Layer.call(this,e)},n.inherits(i.drawing.LayerShape,i.drawing.Layer),i.drawing.LayerShape.prototype.disposeInternal=function(){i.drawing.LayerShape.superClass_.disposeInternal.call(this)},n.events={},n.events.EventId=function(e){this.id=e},n.events.EventId.prototype.toString=function(){return this.id},n.events.Listenable=function(){},n.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),n.events.Listenable.addImplementation=function(e){e.prototype[n.events.Listenable.IMPLEMENTED_BY_PROP]=!0},n.events.Listenable.isImplementedBy=function(e){return!(!e||!e[n.events.Listenable.IMPLEMENTED_BY_PROP])},n.events.ListenableKey=function(){},n.events.ListenableKey.counter_=0,n.events.ListenableKey.reserveKey=function(){return++n.events.ListenableKey.counter_},n.events.Listener=function(e,t,i,r,o,s){n.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack),this.listener=e,this.proxy=t,this.src=i,this.type=r,this.capture=!!o,this.handler=s,this.key=n.events.ListenableKey.reserveKey(),this.removed=this.callOnce=!1},n.events.Listener.ENABLE_MONITORING=!1,n.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.handler=this.src=this.proxy=this.listener=null},n.events.ListenerMap=function(e){this.src=e,this.listeners={},this.typeCount_=0},n.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},n.events.ListenerMap.prototype.getListenerCount=function(){var e,t=0;for(e in this.listeners)t+=this.listeners[e].length;return t},n.events.ListenerMap.prototype.add=function(e,t,i,r,o){var s=e.toString();(e=this.listeners[s])||(e=this.listeners[s]=[],this.typeCount_++);var a=n.events.ListenerMap.findListenerIndex_(e,t,r,o);return-1<a?(t=e[a],i||(t.callOnce=!1)):(t=new n.events.Listener(t,null,this.src,s,!!r,o),t.callOnce=i,e.push(t)),t},n.events.ListenerMap.prototype.remove=function(e,t,i,r){if(!((e=e.toString())in this.listeners))return!1;var o=this.listeners[e];return-1<(t=n.events.ListenerMap.findListenerIndex_(o,t,i,r))&&(o[t].markAsRemoved(),n.array.removeAt(o,t),0==o.length&&(delete this.listeners[e],this.typeCount_--),!0)},n.events.ListenerMap.prototype.removeByKey=function(e){var t=e.type;if(!(t in this.listeners))return!1;var i=n.array.remove(this.listeners[t],e);return i&&(e.markAsRemoved(),0==this.listeners[t].length&&(delete this.listeners[t],this.typeCount_--)),i},n.events.ListenerMap.prototype.removeAll=function(e){e=e&&e.toString();var t,n=0;for(t in this.listeners)if(!e||t==e){for(var i=this.listeners[t],r=0;r<i.length;r++)++n,i[r].markAsRemoved();delete this.listeners[t],this.typeCount_--}return n},n.events.ListenerMap.prototype.getListeners=function(e,t){var n=this.listeners[e.toString()],i=[];if(n)for(var r=0;r<n.length;++r){var o=n[r];o.capture==t&&i.push(o)}return i},n.events.ListenerMap.prototype.getListener=function(e,t,i,r){e=this.listeners[e.toString()];var o=-1;return e&&(o=n.events.ListenerMap.findListenerIndex_(e,t,i,r)),-1<o?e[o]:null},n.events.ListenerMap.prototype.hasListener=function(e,t){var i=n.isDef(e),r=i?e.toString():"",o=n.isDef(t);return n.object.some(this.listeners,function(e,n){for(var s=0;s<e.length;++s)if(!(i&&e[s].type!=r||o&&e[s].capture!=t))return!0;return!1})},n.events.ListenerMap.findListenerIndex_=function(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.removed&&o.listener==t&&o.capture==!!n&&o.handler==i)return r}return-1},n.events.BrowserFeature={HAS_W3C_BUTTON:!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!n.userAgent.IE||n.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:n.userAgent.IE&&!n.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!n.userAgent.WEBKIT||n.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:n.userAgent.GECKO&&n.userAgent.isVersionOrHigher("1.9b")||n.userAgent.IE&&n.userAgent.isVersionOrHigher("8")||n.userAgent.OPERA&&n.userAgent.isVersionOrHigher("9.5")||n.userAgent.WEBKIT&&n.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:n.userAgent.GECKO&&!n.userAgent.isVersionOrHigher("8")||n.userAgent.IE&&!n.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in n.global||!!(n.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!n.global.navigator||!n.global.navigator.msMaxTouchPoints)},n.debug.entryPointRegistry={},n.debug.EntryPointMonitor=function(){},n.debug.entryPointRegistry.refList_=[],n.debug.entryPointRegistry.monitors_=[],n.debug.entryPointRegistry.monitorsMayExist_=!1,n.debug.entryPointRegistry.register=function(e){if(n.debug.entryPointRegistry.refList_[n.debug.entryPointRegistry.refList_.length]=e,n.debug.entryPointRegistry.monitorsMayExist_)for(var t=n.debug.entryPointRegistry.monitors_,i=0;i<t.length;i++)e(n.bind(t[i].wrap,t[i]))},n.debug.entryPointRegistry.monitorAll=function(e){n.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=n.bind(e.wrap,e),i=0;i<n.debug.entryPointRegistry.refList_.length;i++)n.debug.entryPointRegistry.refList_[i](t);n.debug.entryPointRegistry.monitors_.push(e)},n.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=n.debug.entryPointRegistry.monitors_;n.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped."),e=n.bind(e.unwrap,e);for(var i=0;i<n.debug.entryPointRegistry.refList_.length;i++)n.debug.entryPointRegistry.refList_[i](e);t.length--},n.events.getVendorPrefixedName_=function(e){return n.userAgent.WEBKIT?"webkit"+e:n.userAgent.OPERA?"o"+e.toLowerCase():e.toLowerCase()},n.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:n.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:n.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",ANIMATIONSTART:n.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:n.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:n.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:n.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXTINPUT:"textinput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified"},n.events.Event=function(e,t){this.type=e instanceof n.events.EventId?String(e):e,this.currentTarget=this.target=t,this.defaultPrevented=this.propagationStopped_=!1,this.returnValue_=!0},n.events.Event.prototype.disposeInternal=function(){},n.events.Event.prototype.dispose=function(){},n.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},n.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},n.events.Event.stopPropagation=function(e){e.stopPropagation()},n.events.Event.preventDefault=function(e){e.preventDefault()},n.reflect={},n.reflect.object=function(e,t){return t},n.reflect.sinkValue=function(e){return n.reflect.sinkValue[" "](e),e},n.reflect.sinkValue[" "]=n.nullFunction,n.reflect.canAccessProperty=function(e,t){try{return n.reflect.sinkValue(e[t]),!0}catch(e){}return!1},n.events.BrowserEvent=function(e,t){n.events.Event.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.platformModifierKey=!1,this.event_=null,e&&this.init(e,t)},n.inherits(n.events.BrowserEvent,n.events.Event),n.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},n.events.BrowserEvent.IEButtonMap=[1,4,2],n.events.BrowserEvent.prototype.init=function(e,t){var i=this.type=e.type;this.target=e.target||e.srcElement,this.currentTarget=t;var r=e.relatedTarget;r?n.userAgent.GECKO&&(n.reflect.canAccessProperty(r,"nodeName")||(r=null)):i==n.events.EventType.MOUSEOVER?r=e.fromElement:i==n.events.EventType.MOUSEOUT&&(r=e.toElement),this.relatedTarget=r,this.offsetX=n.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=n.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0,this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==i?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=n.userAgent.MAC?e.metaKey:e.ctrlKey,this.state=e.state,this.event_=e,e.defaultPrevented&&this.preventDefault()},n.events.BrowserEvent.prototype.isButton=function(e){return n.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==n.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&n.events.BrowserEvent.IEButtonMap[e])},n.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(n.events.BrowserEvent.MouseButton.LEFT)&&!(n.userAgent.WEBKIT&&n.userAgent.MAC&&this.ctrlKey)},n.events.BrowserEvent.prototype.stopPropagation=function(){n.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},n.events.BrowserEvent.prototype.preventDefault=function(){n.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,n.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},n.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},n.events.BrowserEvent.prototype.disposeInternal=function(){},n.events.listeners_={},n.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),n.events.onString_="on",n.events.onStringMap_={},n.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},n.events.CAPTURE_SIMULATION_MODE=2,n.events.listenerCountEstimate_=0,n.events.listen=function(e,t,i,r,o){if(n.isArray(t)){for(var s=0;s<t.length;s++)n.events.listen(e,t[s],i,r,o);return null}return i=n.events.wrapListener(i),n.events.Listenable.isImplementedBy(e)?e.listen(t,i,r,o):n.events.listen_(e,t,i,!1,r,o)},n.events.listen_=function(e,t,i,r,o,s){if(!t)throw Error("Invalid event type");var a=!!o;if(a&&!n.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(n.events.CAPTURE_SIMULATION_MODE==n.events.CaptureSimulationMode.OFF_AND_FAIL)return n.asserts.fail("Can not register capture listener in IE8-."),null;if(n.events.CAPTURE_SIMULATION_MODE==n.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var l=n.events.getListenerMap_(e);return l||(e[n.events.LISTENER_MAP_PROP_]=l=new n.events.ListenerMap(e)),i=l.add(t,i,r,o,s),i.proxy?i:(r=n.events.getProxy(),i.proxy=r,r.src=e,r.listener=i,e.addEventListener?e.addEventListener(t.toString(),r,a):e.attachEvent(n.events.getOnString_(t.toString()),r),n.events.listenerCountEstimate_++,i)},n.events.getProxy=function(){var e=n.events.handleBrowserEvent_,t=n.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t},n.events.listenOnce=function(e,t,i,r,o){if(n.isArray(t)){for(var s=0;s<t.length;s++)n.events.listenOnce(e,t[s],i,r,o);return null}return i=n.events.wrapListener(i),n.events.Listenable.isImplementedBy(e)?e.listenOnce(t,i,r,o):n.events.listen_(e,t,i,!0,r,o)},n.events.listenWithWrapper=function(e,t,n,i,r){t.listen(e,n,i,r)},n.events.unlisten=function(e,t,i,r,o){if(n.isArray(t)){for(var s=0;s<t.length;s++)n.events.unlisten(e,t[s],i,r,o);return null}return i=n.events.wrapListener(i),n.events.Listenable.isImplementedBy(e)?e.unlisten(t,i,r,o):!!e&&(r=!!r,!(!(e=n.events.getListenerMap_(e))||!(t=e.getListener(t,i,r,o)))&&n.events.unlistenByKey(t))},n.events.unlistenByKey=function(e){if(n.isNumber(e)||!e||e.removed)return!1;var t=e.src;if(n.events.Listenable.isImplementedBy(t))return t.unlistenByKey(e);var i=e.type,r=e.proxy;return t.removeEventListener?t.removeEventListener(i,r,e.capture):t.detachEvent&&t.detachEvent(n.events.getOnString_(i),r),n.events.listenerCountEstimate_--,(i=n.events.getListenerMap_(t))?(i.removeByKey(e),0==i.getTypeCount()&&(i.src=null,t[n.events.LISTENER_MAP_PROP_]=null)):e.markAsRemoved(),!0},n.events.unlistenWithWrapper=function(e,t,n,i,r){t.unlisten(e,n,i,r)},n.events.removeAll=function(e,t){if(!e)return 0;if(n.events.Listenable.isImplementedBy(e))return e.removeAllListeners(t);var i=n.events.getListenerMap_(e);if(!i)return 0;var r,o=0,s=t&&t.toString();for(r in i.listeners)if(!s||r==s)for(var a=i.listeners[r].concat(),l=0;l<a.length;++l)n.events.unlistenByKey(a[l])&&++o;return o},n.events.removeAllNativeListeners=function(){return n.events.listenerCountEstimate_=0},n.events.getListeners=function(e,t,i){return n.events.Listenable.isImplementedBy(e)?e.getListeners(t,i):e&&(e=n.events.getListenerMap_(e))?e.getListeners(t,i):[]},n.events.getListener=function(e,t,i,r,o){return i=n.events.wrapListener(i),r=!!r,n.events.Listenable.isImplementedBy(e)?e.getListener(t,i,r,o):e&&(e=n.events.getListenerMap_(e))?e.getListener(t,i,r,o):null},n.events.hasListener=function(e,t,i){return n.events.Listenable.isImplementedBy(e)?e.hasListener(t,i):!!(e=n.events.getListenerMap_(e))&&e.hasListener(t,i)},n.events.expose=function(e){var t,n=[];for(t in e)e[t]&&e[t].id?n.push(t+" = "+e[t]+" ("+e[t].id+")"):n.push(t+" = "+e[t]);return n.join("\n")},n.events.getOnString_=function(e){return e in n.events.onStringMap_?n.events.onStringMap_[e]:n.events.onStringMap_[e]=n.events.onString_+e},n.events.fireListeners=function(e,t,i,r){return n.events.Listenable.isImplementedBy(e)?e.fireListeners(t,i,r):n.events.fireListeners_(e,t,i,r)},n.events.fireListeners_=function(e,t,i,r){var o=1;if((e=n.events.getListenerMap_(e))&&(t=e.listeners[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var s=t[e];s&&s.capture==i&&!s.removed&&(o&=!1!==n.events.fireListener(s,r))}return Boolean(o)},n.events.fireListener=function(e,t){var i=e.listener,r=e.handler||e.src;return e.callOnce&&n.events.unlistenByKey(e),i.call(r,t)},n.events.getTotalListenerCount=function(){return n.events.listenerCountEstimate_},n.events.dispatchEvent=function(e,t){return n.asserts.assert(n.events.Listenable.isImplementedBy(e),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),e.dispatchEvent(t)},n.events.protectBrowserEventEntryPoint=function(e){n.events.handleBrowserEvent_=e.protectEntryPoint(n.events.handleBrowserEvent_)},n.events.handleBrowserEvent_=function(e,t){if(e.removed)return!0;if(!n.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var i=t||n.getObjectByName("window.event"),r=new n.events.BrowserEvent(i,this),o=!0;if(n.events.CAPTURE_SIMULATION_MODE==n.events.CaptureSimulationMode.ON){if(!n.events.isMarkedIeEvent_(i)){n.events.markIeEvent_(i);for(var i=[],s=r.currentTarget;s;s=s.parentNode)i.push(s);for(var s=e.type,a=i.length-1;!r.propagationStopped_&&0<=a;a--)r.currentTarget=i[a],o&=n.events.fireListeners_(i[a],s,!0,r);for(a=0;!r.propagationStopped_&&a<i.length;a++)r.currentTarget=i[a],o&=n.events.fireListeners_(i[a],s,!1,r)}}else o=n.events.fireListener(e,r);return o}return n.events.fireListener(e,new n.events.BrowserEvent(t,this))},n.events.markIeEvent_=function(e){var t=!1;if(0==e.keyCode)try{return void(e.keyCode=-1)}catch(e){t=!0}(t||void 0==e.returnValue)&&(e.returnValue=!0)},n.events.isMarkedIeEvent_=function(e){return 0>e.keyCode||void 0!=e.returnValue},n.events.uniqueIdCounter_=0,n.events.getUniqueId=function(e){return e+"_"+n.events.uniqueIdCounter_++},n.events.getListenerMap_=function(e){return e=e[n.events.LISTENER_MAP_PROP_],e instanceof n.events.ListenerMap?e:null},n.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),n.events.wrapListener=function(e){return n.asserts.assert(e,"Listener can not be null."),n.isFunction(e)?e:(n.asserts.assert(e.handleEvent,"An object listener must have handleEvent method."),e[n.events.LISTENER_WRAPPER_PROP_]||(e[n.events.LISTENER_WRAPPER_PROP_]=function(t){return e.handleEvent(t)}))},n.debug.entryPointRegistry.register(function(e){n.events.handleBrowserEvent_=e(n.events.handleBrowserEvent_)}),n.events.EventHandler=function(e){n.Disposable.call(this),this.handler_=e,this.keys_={}},n.inherits(n.events.EventHandler,n.Disposable),n.events.EventHandler.typeArray_=[],n.events.EventHandler.prototype.listen=function(e,t,n,i){return this.listen_(e,t,n,i)},n.events.EventHandler.prototype.listenWithScope=function(e,t,n,i,r){return this.listen_(e,t,n,i,r)},n.events.EventHandler.prototype.listen_=function(e,t,i,r,o){n.isArray(t)||(t&&(n.events.EventHandler.typeArray_[0]=t.toString()),t=n.events.EventHandler.typeArray_);for(var s=0;s<t.length;s++){var a=n.events.listen(e,t[s],i||this.handleEvent,r||!1,o||this.handler_||this);if(!a)break;this.keys_[a.key]=a}return this},n.events.EventHandler.prototype.listenOnce=function(e,t,n,i){return this.listenOnce_(e,t,n,i)},n.events.EventHandler.prototype.listenOnceWithScope=function(e,t,n,i,r){return this.listenOnce_(e,t,n,i,r)},n.events.EventHandler.prototype.listenOnce_=function(e,t,i,r,o){if(n.isArray(t))for(var s=0;s<t.length;s++)this.listenOnce_(e,t[s],i,r,o);else{if(!(e=n.events.listenOnce(e,t,i||this.handleEvent,r,o||this.handler_||this)))return this;this.keys_[e.key]=e}return this},n.events.EventHandler.prototype.listenWithWrapper=function(e,t,n,i){return this.listenWithWrapper_(e,t,n,i)},n.events.EventHandler.prototype.listenWithWrapperAndScope=function(e,t,n,i,r){return this.listenWithWrapper_(e,t,n,i,r)},n.events.EventHandler.prototype.listenWithWrapper_=function(e,t,n,i,r){return t.listen(e,n,i,r||this.handler_||this,this),this},n.events.EventHandler.prototype.getListenerCount=function(){var e,t=0;for(e in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,e)&&t++;return t},n.events.EventHandler.prototype.unlisten=function(e,t,i,r,o){if(n.isArray(t))for(var s=0;s<t.length;s++)this.unlisten(e,t[s],i,r,o);else(e=n.events.getListener(e,t,i||this.handleEvent,r,o||this.handler_||this))&&(n.events.unlistenByKey(e),delete this.keys_[e.key]);return this},n.events.EventHandler.prototype.unlistenWithWrapper=function(e,t,n,i,r){return t.unlisten(e,n,i,r||this.handler_||this,this),this},n.events.EventHandler.prototype.removeAll=function(){n.object.forEach(this.keys_,n.events.unlistenByKey),this.keys_={}},n.events.EventHandler.prototype.disposeInternal=function(){n.events.EventHandler.superClass_.disposeInternal.call(this),this.removeAll()},n.events.EventHandler.prototype.handleEvent=function(e){throw Error("EventHandler.handleEvent not implemented")},n.style.bidi={},n.style.bidi.getScrollLeft=function(e){var t=n.style.isRightToLeft(e);return t&&n.userAgent.GECKO?-e.scrollLeft:!t||n.userAgent.IE&&n.userAgent.isVersionOrHigher("8")||"visible"==n.style.getComputedOverflowX(e)?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft},n.style.bidi.getOffsetStart=function(e){var t=e.offsetLeft,i=e.offsetParent;if(i||"fixed"!=n.style.getComputedPosition(e)||(i=n.dom.getOwnerDocument(e).documentElement),!i)return t;if(n.userAgent.GECKO)var r=n.style.getBorderBox(i),t=t+r.left;else n.userAgent.isDocumentModeOrHigher(8)&&(r=n.style.getBorderBox(i),t-=r.left);return n.style.isRightToLeft(i)?i.clientWidth-(t+e.offsetWidth):t},n.style.bidi.setScrollOffset=function(e,t){t=Math.max(t,0),n.style.isRightToLeft(e)?n.userAgent.GECKO?e.scrollLeft=-t:n.userAgent.IE&&n.userAgent.isVersionOrHigher("8")?e.scrollLeft=t:e.scrollLeft=e.scrollWidth-t-e.clientWidth:e.scrollLeft=t},n.style.bidi.setPosition=function(e,t,i,r){n.isNull(i)||(e.style.top=i+"px"),r?(e.style.right=t+"px",e.style.left=""):(e.style.left=t+"px",e.style.right="")},n.events.EventTarget=function(){n.Disposable.call(this),this.eventTargetListeners_=new n.events.ListenerMap(this),this.actualEventTarget_=this},n.inherits(n.events.EventTarget,n.Disposable),n.events.Listenable.addImplementation(n.events.EventTarget),n.events.EventTarget.MAX_ANCESTORS_=1e3,n.events.EventTarget.prototype.parentEventTarget_=null,n.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},n.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},n.events.EventTarget.prototype.addEventListener=function(e,t,i,r){n.events.listen(this,e,t,i,r)},n.events.EventTarget.prototype.removeEventListener=function(e,t,i,r){n.events.unlisten(this,e,t,i,r)},n.events.EventTarget.prototype.dispatchEvent=function(e){this.assertInitialized_();var t,i=this.getParentEventTarget();if(i){t=[];for(var r=1;i;i=i.getParentEventTarget())t.push(i),n.asserts.assert(++r<n.events.EventTarget.MAX_ANCESTORS_,"infinite loop")}return n.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,t)},n.events.EventTarget.prototype.disposeInternal=function(){n.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},n.events.EventTarget.prototype.listen=function(e,t,n,i){return this.assertInitialized_(),this.eventTargetListeners_.add(String(e),t,!1,n,i)},n.events.EventTarget.prototype.listenOnce=function(e,t,n,i){return this.eventTargetListeners_.add(String(e),t,!0,n,i)},n.events.EventTarget.prototype.unlisten=function(e,t,n,i){return this.eventTargetListeners_.remove(String(e),t,n,i)},n.events.EventTarget.prototype.unlistenByKey=function(e){return this.eventTargetListeners_.removeByKey(e)},n.events.EventTarget.prototype.removeAllListeners=function(e){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(e):0},n.events.EventTarget.prototype.fireListeners=function(e,t,n){if(!(e=this.eventTargetListeners_.listeners[String(e)]))return!0;e=e.concat();for(var i=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.removed&&o.capture==t){var s=o.listener,a=o.handler||o.src;o.callOnce&&this.unlistenByKey(o),i=!1!==s.call(a,n)&&i}}return i&&0!=n.returnValue_},n.events.EventTarget.prototype.getListeners=function(e,t){return this.eventTargetListeners_.getListeners(String(e),t)},n.events.EventTarget.prototype.getListener=function(e,t,n,i){return this.eventTargetListeners_.getListener(String(e),t,n,i)},n.events.EventTarget.prototype.hasListener=function(e,t){var i=n.isDef(e)?String(e):void 0;return this.eventTargetListeners_.hasListener(i,t)},n.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},n.events.EventTarget.prototype.assertInitialized_=function(){n.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},n.events.EventTarget.dispatchEventInternal_=function(e,t,i){var r=t.type||t;if(n.isString(t))t=new n.events.Event(t,e);else if(t instanceof n.events.Event)t.target=t.target||e;else{var o=t;t=new n.events.Event(r,e),n.object.extend(t,o)}var s,o=!0;if(i)for(var a=i.length-1;!t.propagationStopped_&&0<=a;a--)s=t.currentTarget=i[a],o=s.fireListeners(r,!0,t)&&o;if(t.propagationStopped_||(s=t.currentTarget=e,o=s.fireListeners(r,!0,t)&&o,t.propagationStopped_||(o=s.fireListeners(r,!1,t)&&o)),i)for(a=0;!t.propagationStopped_&&a<i.length;a++)s=t.currentTarget=i[a],o=s.fireListeners(r,!1,t)&&o;return o},n.fx={},n.fx.Dragger=function(e,t,i){n.events.EventTarget.call(this),this.target=e,this.handle=t||e,this.limits=i||new n.math.Rect(NaN,NaN,NaN,NaN),this.document_=n.dom.getOwnerDocument(e),this.eventHandler_=new n.events.EventHandler(this),this.registerDisposable(this.eventHandler_),n.events.listen(this.handle,[n.events.EventType.TOUCHSTART,n.events.EventType.MOUSEDOWN],this.startDrag,!1,this)},n.inherits(n.fx.Dragger,n.events.EventTarget),n.fx.Dragger.HAS_SET_CAPTURE_=n.userAgent.IE||n.userAgent.GECKO&&n.userAgent.isVersionOrHigher("1.9.3"),n.fx.Dragger.cloneNode=function(e){for(var t=e.cloneNode(!0),i=e.getElementsByTagName("textarea"),r=t.getElementsByTagName("textarea"),o=0;o<i.length;o++)r[o].value=i[o].value;switch(e.tagName.toLowerCase()){case"tr":return n.dom.createDom("table",null,n.dom.createDom("tbody",null,t));case"td":case"th":return n.dom.createDom("table",null,n.dom.createDom("tbody",null,n.dom.createDom("tr",null,t)));case"textarea":t.value=e.value;default:return t}},n.fx.Dragger.EventType={EARLY_CANCEL:"earlycancel",START:"start",BEFOREDRAG:"beforedrag",DRAG:"drag",END:"end"},n.fx.Dragger.prototype.clientX=0,n.fx.Dragger.prototype.clientY=0,n.fx.Dragger.prototype.screenX=0,n.fx.Dragger.prototype.screenY=0,n.fx.Dragger.prototype.startX=0,n.fx.Dragger.prototype.startY=0;n.fx.Dragger.prototype.deltaX=0,n.fx.Dragger.prototype.deltaY=0,n.fx.Dragger.prototype.enabled_=!0,n.fx.Dragger.prototype.dragging_=!1,n.fx.Dragger.prototype.hysteresisDistanceSquared_=0,n.fx.Dragger.prototype.mouseDownTime_=0,n.fx.Dragger.prototype.ieDragStartCancellingOn_=!1,n.fx.Dragger.prototype.useRightPositioningForRtl_=!1,n.fx.Dragger.prototype.enableRightPositioningForRtl=function(e){this.useRightPositioningForRtl_=e},n.fx.Dragger.prototype.getHandler=function(){return this.eventHandler_},n.fx.Dragger.prototype.setLimits=function(e){this.limits=e||new n.math.Rect(NaN,NaN,NaN,NaN)},n.fx.Dragger.prototype.setHysteresis=function(e){this.hysteresisDistanceSquared_=Math.pow(e,2)},n.fx.Dragger.prototype.getHysteresis=function(){return Math.sqrt(this.hysteresisDistanceSquared_)},n.fx.Dragger.prototype.setScrollTarget=function(e){this.scrollTarget_=e},n.fx.Dragger.prototype.setCancelIeDragStart=function(e){this.ieDragStartCancellingOn_=e},n.fx.Dragger.prototype.getEnabled=function(){return this.enabled_},n.fx.Dragger.prototype.setEnabled=function(e){this.enabled_=e},n.fx.Dragger.prototype.disposeInternal=function(){n.fx.Dragger.superClass_.disposeInternal.call(this),n.events.unlisten(this.handle,[n.events.EventType.TOUCHSTART,n.events.EventType.MOUSEDOWN],this.startDrag,!1,this),this.cleanUpAfterDragging_(),this.handle=this.target=null},n.fx.Dragger.prototype.isRightToLeft_=function(){return n.isDef(this.rightToLeft_)||(this.rightToLeft_=n.style.isRightToLeft(this.target)),this.rightToLeft_},n.fx.Dragger.prototype.startDrag=function(e){var t=e.type==n.events.EventType.MOUSEDOWN;if(!this.enabled_||this.dragging_||t&&!e.isMouseActionButton())this.dispatchEvent(n.fx.Dragger.EventType.EARLY_CANCEL);else{if(this.maybeReinitTouchEvent_(e),0==this.hysteresisDistanceSquared_){if(!this.fireDragStart_(e))return;this.dragging_=!0,e.preventDefault()}else e.preventDefault();this.setupDragHandlers(),this.clientX=this.startX=e.clientX,this.clientY=this.startY=e.clientY,this.screenX=e.screenX,this.screenY=e.screenY,this.computeInitialPosition(),this.pageScroll=n.dom.getDomHelper(this.document_).getDocumentScroll(),this.mouseDownTime_=n.now()}},n.fx.Dragger.prototype.setupDragHandlers=function(){var e=this.document_,t=e.documentElement,i=!n.fx.Dragger.HAS_SET_CAPTURE_;this.eventHandler_.listen(e,[n.events.EventType.TOUCHMOVE,n.events.EventType.MOUSEMOVE],this.handleMove_,i),this.eventHandler_.listen(e,[n.events.EventType.TOUCHEND,n.events.EventType.MOUSEUP],this.endDrag,i),n.fx.Dragger.HAS_SET_CAPTURE_?(t.setCapture(!1),this.eventHandler_.listen(t,n.events.EventType.LOSECAPTURE,this.endDrag)):this.eventHandler_.listen(n.dom.getWindow(e),n.events.EventType.BLUR,this.endDrag),n.userAgent.IE&&this.ieDragStartCancellingOn_&&this.eventHandler_.listen(e,n.events.EventType.DRAGSTART,n.events.Event.preventDefault),this.scrollTarget_&&this.eventHandler_.listen(this.scrollTarget_,n.events.EventType.SCROLL,this.onScroll_,i)},n.fx.Dragger.prototype.fireDragStart_=function(e){return this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.START,this,e.clientX,e.clientY,e))},n.fx.Dragger.prototype.cleanUpAfterDragging_=function(){this.eventHandler_.removeAll(),n.fx.Dragger.HAS_SET_CAPTURE_&&this.document_.releaseCapture()},n.fx.Dragger.prototype.endDrag=function(e,t){if(this.cleanUpAfterDragging_(),this.dragging_){this.maybeReinitTouchEvent_(e),this.dragging_=!1;var i=this.limitX(this.deltaX),r=this.limitY(this.deltaY);this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.END,this,e.clientX,e.clientY,e,i,r,t||e.type==n.events.EventType.TOUCHCANCEL))}else this.dispatchEvent(n.fx.Dragger.EventType.EARLY_CANCEL)},n.fx.Dragger.prototype.endDragCancel=function(e){this.endDrag(e,!0)},n.fx.Dragger.prototype.maybeReinitTouchEvent_=function(e){var t=e.type;t==n.events.EventType.TOUCHSTART||t==n.events.EventType.TOUCHMOVE?e.init(e.getBrowserEvent().targetTouches[0],e.currentTarget):t!=n.events.EventType.TOUCHEND&&t!=n.events.EventType.TOUCHCANCEL||e.init(e.getBrowserEvent().changedTouches[0],e.currentTarget)},n.fx.Dragger.prototype.handleMove_=function(e){if(this.enabled_){this.maybeReinitTouchEvent_(e);var t=(this.useRightPositioningForRtl_&&this.isRightToLeft_()?-1:1)*(e.clientX-this.clientX),i=e.clientY-this.clientY;if(this.clientX=e.clientX,this.clientY=e.clientY,this.screenX=e.screenX,this.screenY=e.screenY,!this.dragging_){var r=this.startX-this.clientX,o=this.startY-this.clientY;if(r*r+o*o>this.hysteresisDistanceSquared_){if(!this.fireDragStart_(e))return void(this.isDisposed()||this.endDrag(e));this.dragging_=!0}}i=this.calculatePosition_(t,i),t=i.x,i=i.y,this.dragging_&&this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.BEFOREDRAG,this,e.clientX,e.clientY,e,t,i))&&(this.doDrag(e,t,i,!1),e.preventDefault())}},n.fx.Dragger.prototype.calculatePosition_=function(e,t){var i=n.dom.getDomHelper(this.document_).getDocumentScroll();e+=i.x-this.pageScroll.x,t+=i.y-this.pageScroll.y,this.pageScroll=i,this.deltaX+=e,this.deltaY+=t;var i=this.limitX(this.deltaX),r=this.limitY(this.deltaY);return new n.math.Coordinate(i,r)},n.fx.Dragger.prototype.onScroll_=function(e){var t=this.calculatePosition_(0,0);e.clientX=this.clientX,e.clientY=this.clientY,this.doDrag(e,t.x,t.y,!0)},n.fx.Dragger.prototype.doDrag=function(e,t,i,r){this.defaultAction(t,i),this.dispatchEvent(new n.fx.DragEvent(n.fx.Dragger.EventType.DRAG,this,e.clientX,e.clientY,e,t,i))},n.fx.Dragger.prototype.limitX=function(e){var t=this.limits,n=isNaN(t.left)?null:t.left,t=isNaN(t.width)?0:t.width;return Math.min(null!=n?n+t:1/0,Math.max(null!=n?n:-1/0,e))},n.fx.Dragger.prototype.limitY=function(e){var t=this.limits,n=isNaN(t.top)?null:t.top,t=isNaN(t.height)?0:t.height;return Math.min(null!=n?n+t:1/0,Math.max(null!=n?n:-1/0,e))},n.fx.Dragger.prototype.computeInitialPosition=function(){this.deltaX=this.useRightPositioningForRtl_?n.style.bidi.getOffsetStart(this.target):this.target.offsetLeft,this.deltaY=this.target.offsetTop},n.fx.Dragger.prototype.defaultAction=function(e,t){this.useRightPositioningForRtl_&&this.isRightToLeft_()?this.target.style.right=e+"px":this.target.style.left=e+"px",this.target.style.top=t+"px"},n.fx.Dragger.prototype.isDragging=function(){return this.dragging_},n.fx.DragEvent=function(e,t,i,r,o,s,a,l){n.events.Event.call(this,e),this.clientX=i,this.clientY=r,this.browserEvent=o,this.left=n.isDef(s)?s:t.deltaX,this.top=n.isDef(a)?a:t.deltaY,this.dragger=t,this.dragCanceled=!!l},n.inherits(n.fx.DragEvent,n.events.Event),n.math.AffineTransform=function(e,t,n,i,r,o){if(6==arguments.length)this.setTransform(e,t,n,i,r,o);else{if(0!=arguments.length)throw Error("Insufficient matrix parameters");this.m00_=this.m11_=1,this.m10_=this.m01_=this.m02_=this.m12_=0}},n.math.AffineTransform.prototype.isIdentity=function(){return 1==this.m00_&&0==this.m10_&&0==this.m01_&&1==this.m11_&&0==this.m02_&&0==this.m12_},n.math.AffineTransform.prototype.clone=function(){return new n.math.AffineTransform(this.m00_,this.m10_,this.m01_,this.m11_,this.m02_,this.m12_)},n.math.AffineTransform.prototype.setTransform=function(e,t,i,r,o,s){if(!(n.isNumber(e)&&n.isNumber(t)&&n.isNumber(i)&&n.isNumber(r)&&n.isNumber(o)&&n.isNumber(s)))throw Error("Invalid transform parameters");return this.m00_=e,this.m10_=t,this.m01_=i,this.m11_=r,this.m02_=o,this.m12_=s,this},n.math.AffineTransform.prototype.copyFrom=function(e){return this.m00_=e.m00_,this.m10_=e.m10_,this.m01_=e.m01_,this.m11_=e.m11_,this.m02_=e.m02_,this.m12_=e.m12_,this},n.math.AffineTransform.prototype.scale=function(e,t){return this.m00_*=e,this.m10_*=e,this.m01_*=t,this.m11_*=t,this},n.math.AffineTransform.prototype.preScale=function(e,t){return this.m00_*=e,this.m01_*=e,this.m02_*=e,this.m10_*=t,this.m11_*=t,this.m12_*=t,this},n.math.AffineTransform.prototype.translate=function(e,t){return this.m02_+=e*this.m00_+t*this.m01_,this.m12_+=e*this.m10_+t*this.m11_,this},n.math.AffineTransform.prototype.preTranslate=function(e,t){return this.m02_+=e,this.m12_+=t,this},n.math.AffineTransform.prototype.rotate=function(e,t,i){return this.concatenate(n.math.AffineTransform.getRotateInstance(e,t,i))},n.math.AffineTransform.prototype.preRotate=function(e,t,i){return this.preConcatenate(n.math.AffineTransform.getRotateInstance(e,t,i))},n.math.AffineTransform.prototype.shear=function(e,t){var n=this.m00_,i=this.m10_;return this.m00_+=t*this.m01_,this.m10_+=t*this.m11_,this.m01_+=e*n,this.m11_+=e*i,this},n.math.AffineTransform.prototype.preShear=function(e,t){var n=this.m00_,i=this.m01_,r=this.m02_;return this.m00_+=e*this.m10_,this.m01_+=e*this.m11_,this.m02_+=e*this.m12_,this.m10_+=t*n,this.m11_+=t*i,this.m12_+=t*r,this},n.math.AffineTransform.prototype.toString=function(){return"matrix("+[this.m00_,this.m10_,this.m01_,this.m11_,this.m02_,this.m12_].join()+")"},n.math.AffineTransform.prototype.getScaleX=function(){return this.m00_},n.math.AffineTransform.prototype.getScaleY=function(){return this.m11_},n.math.AffineTransform.prototype.getTranslateX=function(){return this.m02_},n.math.AffineTransform.prototype.getTranslateY=function(){return this.m12_},n.math.AffineTransform.prototype.getShearX=function(){return this.m01_},n.math.AffineTransform.prototype.getShearY=function(){return this.m10_},n.math.AffineTransform.prototype.concatenate=function(e){var t=this.m00_,n=this.m01_;return this.m00_=e.m00_*t+e.m10_*n,this.m01_=e.m01_*t+e.m11_*n,this.m02_+=e.m02_*t+e.m12_*n,t=this.m10_,n=this.m11_,this.m10_=e.m00_*t+e.m10_*n,this.m11_=e.m01_*t+e.m11_*n,this.m12_+=e.m02_*t+e.m12_*n,this},n.math.AffineTransform.prototype.preConcatenate=function(e){var t=this.m00_,n=this.m10_;return this.m00_=e.m00_*t+e.m01_*n,this.m10_=e.m10_*t+e.m11_*n,t=this.m01_,n=this.m11_,this.m01_=e.m00_*t+e.m01_*n,this.m11_=e.m10_*t+e.m11_*n,t=this.m02_,n=this.m12_,this.m02_=e.m00_*t+e.m01_*n+e.m02_,this.m12_=e.m10_*t+e.m11_*n+e.m12_,this},n.math.AffineTransform.prototype.transform=function(e,t,n,i,r){var o=t;for(t+=2*r;o<t;){r=e[o++];var s=e[o++];n[i++]=r*this.m00_+s*this.m01_+this.m02_,n[i++]=r*this.m10_+s*this.m11_+this.m12_}},n.math.AffineTransform.prototype.getDeterminant=function(){return this.m00_*this.m11_-this.m01_*this.m10_},n.math.AffineTransform.prototype.isInvertible=function(){var e=this.getDeterminant();return n.math.isFiniteNumber(e)&&n.math.isFiniteNumber(this.m02_)&&n.math.isFiniteNumber(this.m12_)&&0!=e},n.math.AffineTransform.prototype.createInverse=function(){var e=this.getDeterminant();return new n.math.AffineTransform(this.m11_/e,-this.m10_/e,-this.m01_/e,this.m00_/e,(this.m01_*this.m12_-this.m11_*this.m02_)/e,(this.m10_*this.m02_-this.m00_*this.m12_)/e)},n.math.AffineTransform.getScaleInstance=function(e,t){return(new n.math.AffineTransform).setToScale(e,t)},n.math.AffineTransform.getTranslateInstance=function(e,t){return(new n.math.AffineTransform).setToTranslation(e,t)},n.math.AffineTransform.getShearInstance=function(e,t){return(new n.math.AffineTransform).setToShear(e,t)},n.math.AffineTransform.getRotateInstance=function(e,t,i){return(new n.math.AffineTransform).setToRotation(e,t,i)},n.math.AffineTransform.prototype.setToScale=function(e,t){return this.setTransform(e,0,0,t,0,0)},n.math.AffineTransform.prototype.setToTranslation=function(e,t){return this.setTransform(1,0,0,1,e,t)},n.math.AffineTransform.prototype.setToShear=function(e,t){return this.setTransform(1,t,e,1,0,0)},n.math.AffineTransform.prototype.setToRotation=function(e,t,n){var i=Math.cos(e);return e=Math.sin(e),this.setTransform(i,e,-e,i,t-t*i+n*e,n-t*e-n*i)},n.math.AffineTransform.prototype.equals=function(e){return this==e||!!e&&(this.m00_==e.m00_&&this.m01_==e.m01_&&this.m02_==e.m02_&&this.m10_==e.m10_&&this.m11_==e.m11_&&this.m12_==e.m12_)},i.drawing.tool={},i.drawing.tool.Tool=function(e,t,n){this.drawing_=e,this.isActive_=!1,this.element_=t,this.canvas_=n},i.drawing.tool.Tool.prototype.isActive=function(){return this.isActive_},i.drawing.tool.Tool.prototype.getCanvas=function(){return this.canvas_},i.drawing.tool.Magnifier=function(e,t,r,o,s){i.drawing.tool.Tool.call(this,e,t,r),this.group_=o,this.image_=s,this.width_=110,this.height_=100,this.ctm_=new n.math.AffineTransform},n.inherits(i.drawing.tool.Magnifier,i.drawing.tool.Tool),i.drawing.tool.Magnifier.prototype.hide=function(){n.style.setStyle(this.element_,"display","none"),this.isActive_=!1},i.drawing.tool.Magnifier.prototype.show=function(){n.style.setStyle(this.element_,"display","block"),this.isActive_=!0},i.drawing.tool.Magnifier.prototype.reset=function(){var e=this.canvas_;e.setWidth(this.width_),e.setHeight(this.height_),n.style.setStyle(this.element_,"position","absolute"),n.style.setStyle(this.element_,"display","block"),n.style.setStyle(this.element_,"z-index","1001"),n.style.setStyle(this.element_,"left","50px"),n.style.setStyle(this.element_,"top","50px"),n.style.setStyle(this.element_,"border","solid black 4px"),this.group_.draw()},i.drawing.tool.Magnifier.prototype.handleDrag_=function(e,t){var n;n=[t.deltaX+this.width_/2,t.deltaY];var r=Array(2),o=this.drawing_.getViewbox().getCTM(),s=this.drawing_.getEngine();if(o.createInverse().transform(n,0,r,0,1),n=this.ctm_.createInverse().translate(-r[0],-r[1]),s.typeOf(i.engine.CANVAS))s=this.canvas_.getElement(),r=s.getContext("2d"),r.save(),r.fillStyle="white",r.fillRect(0,0,s.width,s.height),r.beginPath(),i.canvas.setTransform_(r,n),this.group_.draw(),r.closePath(),r.restore();else if(s.typeOf(i.engine.SVG))i.svg.render(this.group_.getElement(),n);else{if(!s.typeOf(i.engine.VML))throw Error("Unknown engine.");i.vml.render(this.group_.getRaphael(),n)}},i.drawing.tool.Magnifier.prototype.registerDrag_=function(){var e=n.style.getSize(this.drawing_.getElement()),e=new n.math.Rect(0,0,e.width,e.height),t=new n.fx.Dragger(this.element_,this.element_,e);n.events.listen(t,n.events.EventType.DRAG,function(e){this.handleDrag_(e,t)},!1,this)},i.drawing.tool.Magnifier.create=function(e){var t=e.getGraphics(),r=e.getLayerBackground().getImage(),o=n.dom.createElement("div"),s=t.Canvas.create(e.getElement()),a=t.Group.create(s),t=t.Image.create(r.getImage(),s),r=new i.drawing.tool.Magnifier(e,o,s,a,t);return n.dom.appendChild(o,s.getElement()),s.addChild(a),a.addChildren(t),n.dom.appendChild(e.getElement(),o),r.reset(),r.registerDrag_(),r},i.drawing.LayerTool=function(e){i.drawing.Layer.call(this,e),this.magnifier_},n.inherits(i.drawing.LayerTool,i.drawing.Layer),i.drawing.LayerTool.prototype.toggleMagnifier=function(){this.magnifier_||(this.magnifier_=i.drawing.tool.Magnifier.create(this.drawing_)),this.magnifier_.isActive()?this.magnifier_.hide():this.magnifier_.show()},i.drawing.LayerTool.prototype.disposeInternal=function(){this.magnifier_=null,i.drawing.LayerTool.superClass_.disposeInternal.call(this)},n.events.MouseWheelHandler=function(e,t){n.events.EventTarget.call(this),this.element_=e;var i=n.dom.isElement(this.element_)?this.element_:this.element_?this.element_.body:null;this.isRtl_=!!i&&n.style.isRightToLeft(i),this.listenKey_=n.events.listen(this.element_,n.userAgent.GECKO?"DOMMouseScroll":"mousewheel",this,t)},n.inherits(n.events.MouseWheelHandler,n.events.EventTarget),n.events.MouseWheelHandler.EventType={MOUSEWHEEL:"mousewheel"},n.events.MouseWheelHandler.prototype.setMaxDeltaX=function(e){this.maxDeltaX_=e},n.events.MouseWheelHandler.prototype.setMaxDeltaY=function(e){this.maxDeltaY_=e},n.events.MouseWheelHandler.prototype.handleEvent=function(e){var t=0,i=0,r=0;e=e.getBrowserEvent(),"mousewheel"==e.type?(i=1,(n.userAgent.IE||n.userAgent.WEBKIT&&(n.userAgent.WINDOWS||n.userAgent.isVersionOrHigher("532.0")))&&(i=40),r=n.events.MouseWheelHandler.smartScale_(-e.wheelDelta,i),n.isDef(e.wheelDeltaX)?(t=n.events.MouseWheelHandler.smartScale_(-e.wheelDeltaX,i),i=n.events.MouseWheelHandler.smartScale_(-e.wheelDeltaY,i)):i=r):(r=e.detail,100<r?r=3:-100>r&&(r=-3),n.isDef(e.axis)&&e.axis===e.HORIZONTAL_AXIS?t=r:i=r),n.isNumber(this.maxDeltaX_)&&(t=n.math.clamp(t,-this.maxDeltaX_,this.maxDeltaX_)),n.isNumber(this.maxDeltaY_)&&(i=n.math.clamp(i,-this.maxDeltaY_,this.maxDeltaY_)),this.isRtl_&&(t=-t),t=new n.events.MouseWheelEvent(r,e,t,i),this.dispatchEvent(t)},n.events.MouseWheelHandler.smartScale_=function(e,t){return n.userAgent.WEBKIT&&(n.userAgent.MAC||n.userAgent.LINUX)&&0!=e%t?e:e/t},n.events.MouseWheelHandler.prototype.disposeInternal=function(){n.events.MouseWheelHandler.superClass_.disposeInternal.call(this),n.events.unlistenByKey(this.listenKey_),this.listenKey_=null},n.events.MouseWheelEvent=function(e,t,i,r){n.events.BrowserEvent.call(this,t),this.type=n.events.MouseWheelHandler.EventType.MOUSEWHEEL,this.detail=e,this.deltaX=i,this.deltaY=r},n.inherits(n.events.MouseWheelEvent,n.events.BrowserEvent),n.Timer=function(e,t){n.events.EventTarget.call(this),this.interval_=e||1,this.timerObject_=t||n.Timer.defaultTimerObject,this.boundTick_=n.bind(this.tick_,this),this.last_=n.now()},n.inherits(n.Timer,n.events.EventTarget),n.Timer.MAX_TIMEOUT_=2147483647,n.Timer.prototype.enabled=!1,n.Timer.defaultTimerObject=n.global,n.Timer.intervalScale=.8,n.Timer.prototype.timer_=null,n.Timer.prototype.getInterval=function(){return this.interval_},n.Timer.prototype.setInterval=function(e){this.interval_=e,this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()},n.Timer.prototype.tick_=function(){if(this.enabled){var e=n.now()-this.last_;0<e&&e<this.interval_*n.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-e):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=n.now()))}},n.Timer.prototype.dispatchTick=function(){this.dispatchEvent(n.Timer.TICK)},n.Timer.prototype.start=function(){this.enabled=!0,this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=n.now())},n.Timer.prototype.stop=function(){this.enabled=!1,this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)},n.Timer.prototype.disposeInternal=function(){n.Timer.superClass_.disposeInternal.call(this),this.stop(),delete this.timerObject_},n.Timer.TICK="tick",n.Timer.callOnce=function(e,t,i){if(n.isFunction(e))i&&(e=n.bind(e,i));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=n.bind(e.handleEvent,e)}return t>n.Timer.MAX_TIMEOUT_?-1:n.Timer.defaultTimerObject.setTimeout(e,t||0)},n.Timer.clear=function(e){n.Timer.defaultTimerObject.clearTimeout(e)},i.event={},i.event.Type=function(){},i.event.Type.CLICK=n.userAgent.MOBILE?n.events.EventType.TOUCHSTART:n.events.EventType.CLICK,i.event.Type.DBLCLICK=n.events.EventType.DBLCLICK,i.event.Type.DOWN=n.userAgent.MOBILE?n.events.EventType.TOUCHSTART:n.events.EventType.MOUSEDOWN,i.event.Type.IN=n.events.EventType.MOUSEOVER,i.event.Type.INPUT=function(){return n.userAgent.IE&&!n.userAgent.isVersionOrHigher(9)?n.events.EventType.PROPERTYCHANGE:n.userAgent.IE&&n.userAgent.isVersionOrHigher(9)&&!n.userAgent.isVersionOrHigher(10)?n.events.EventType.KEYUP:n.events.EventType.INPUT}(),i.event.Type.MOVE=n.userAgent.MOBILE?n.events.EventType.TOUCHMOVE:n.events.EventType.MOUSEMOVE,i.event.Type.OUT=n.events.EventType.MOUSEOUT,i.event.Type.UP=n.userAgent.MOBILE?n.events.EventType.TOUCHEND:n.events.EventType.MOUSEUP,i.event.Type.WHEEL=n.events.MouseWheelHandler.EventType.MOUSEWHEEL,i.drawing.Cursor=function(e){n.Disposable.call(this),this.drawing_=e,this.event_=this.shapes_=this.shape_=this.pointTransformed_=this.point=null},n.inherits(i.drawing.Cursor,n.Disposable),i.drawing.Cursor.prototype.getPoint=function(){return null===this.point_&&this.calculatePoint_(),this.point_},i.drawing.Cursor.prototype.getPointTransformed=function(){return null===this.pointTransformed_&&this.calculatePointTransformed_(),this.pointTransformed_},i.drawing.Cursor.prototype.getShape=function(){return null===this.shape_&&this.calculateShape_(),this.shape_},i.drawing.Cursor.prototype.getShapes=function(){return null===this.shapes_&&this.calculateShapes_(),this.shapes_},i.drawing.Cursor.prototype.calculatePoint_=function(){this.point_=this.drawing_.getOffsetPoint(this.event_)},i.drawing.Cursor.prototype.calculatePointTransformed_=function(){null===this.point_&&this.calculatePoint_(),this.pointTransformed_=this.drawing_.getViewbox().getCTM().transformPoint(this.point_)},i.drawing.Cursor.prototype.calculateShape_=function(){null===this.pointTransformed_&&this.calculatePointTransformed_(),this.shape_=this.drawing_.getShapeSelected(this.pointTransformed_)},i.drawing.Cursor.prototype.calculateShapes_=function(){null===this.pointTransformed_&&this.calculatePointTransformed_(),this.shapes_=this.drawing_.getShapesSelected(this.pointTransformed_)},i.drawing.Cursor.prototype.init=function(e){this.shapes_=this.shape_=this.pointTransformed_=this.point_=null,this.event_=e},i.event.Handler={CLICK:"handleClick",DBLCLICK:"handleDblClick",DOWN:"handleDown",IN:"handleIn",INPUT:"handleInput",MOVE:"handleMove",OUT:"handleOut",UP:"handleUp",WHEEL:"handleWheel"},i.geometry.Rect=function(){i.geometry.Geometry.call(this),this.height=this.width=this.y=this.x=0},n.inherits(i.geometry.Rect,i.geometry.Geometry),i.geometry.Rect.prototype.getBox=function(){return new n.math.Box(this.y,this.x+this.width,this.y+this.height,this.x)},i.geometry.Rect.prototype.containsPoint=function(e){return e[0]>=this.x&&e[1]>=this.y&&e[0]<=this.x+this.width&&e[1]<=this.y+this.height},i.geometry.Rect.prototype.disposeInternal=function(){i.geometry.Rect.superClass_.disposeInternal.call(this)},i.shape.Image=function(e){i.shape.Geometry.call(this,e,new i.geometry.Rect),this.engineElement_=this.drawing_.getEngine().createImage()},n.inherits(i.shape.Image,i.shape.Geometry),i.shape.Image.prototype.getImage=function(){return this.image_},i.shape.Image.prototype.setImage=function(e){this.image_=e,this.geometry_.width=e.naturalWidth,this.geometry_.height=e.naturalHeight},i.shape.Image.prototype.getHeight=function(){return this.geometry_.height},i.shape.Image.prototype.getWidth=function(){return this.geometry_.width},i.shape.Image.prototype.draw=function(){this.startDrawing_(),this.image_&&this.engineElement_.draw(this.image_),this.finishDrawing_()},i.shape.Image.prototype.disposeInternal=function(){this.image_=null,i.shape.Image.superClass_.disposeInternal.call(this)},i.shape.Modifiable=function(e){i.shape.Style.call(this),this.shape_=e,this.dragger_=[],this.store_=new i.shape.Style,this.store_.setStyle(this.shape_),this.setStyle(this.shape_)},n.inherits(i.shape.Modifiable,i.shape.Style),i.shape.Modifiable.prototype.selectOn=function(){this.store_.setStyle(this.shape_),this.shape_.setStyle(this)},i.shape.Modifiable.prototype.selectOff=function(){this.shape_.setStyle(this.store_)},i.shape.Modifiable.prototype.getShape=function(){return this.shape_},i.shape.Modifiable.prototype.getDragger=function(){return this.dragger_},i.shape.Modifiable.prototype.setDragger=function(e){this.dragger_=e},i.shape.Modifiable.prototype.disposeInternal=function(){var e;for(this.shape_.dispose(),this.shape_=null;e=this.dragger_.pop();)e.dispose();this.dragger_=null,i.shape.Modifiable.superClass_.disposeInternal.call(this)},i.shape.Hoverable=function(e){i.shape.Style.call(this),this.shape_=e,this.store_=new i.shape.Style},n.inherits(i.shape.Hoverable,i.shape.Style),i.shape.Hoverable.prototype.hoverOn=function(){this.store_.setStyle(this.shape_),this.shape_.setStyle(this)},i.shape.Hoverable.prototype.hoverOff=function(){this.shape_.setStyle(this.store_)},i.shape.Hoverable.prototype.disposeInternal=function(){this.shape_.dispose(),this.shape_=null,this.store_.dispose(),this.store_=null,i.shape.Hoverable.superClass_.disposeInternal.call(this)},i.geometry.Ellipse=function(){i.geometry.Geometry.call(this),this.ry=this.rx=this.cy=this.cx=0},n.inherits(i.geometry.Ellipse,i.geometry.Geometry),i.geometry.Ellipse.prototype.containsPoint=function(e){return 1>=(e[0]-this.cx)*(e[0]-this.cx)/(this.rx*this.rx)+(e[1]-this.cy)*(e[1]-this.cy)/(this.ry*this.ry)},i.geometry.Ellipse.prototype.disposeInternal=function(){i.geometry.Ellipse.superClass_.disposeInternal.call(this)},i.shape.Creatable=function(e,t){this.target_=e,this.preview_=t},i.shape.Creatable.prototype.getTarget=function(){return this.target_},i.shape.Creatable.prototype.getPreview=function(){return this.preview_},i.shape.Creatable.prototype.setStyle=function(e){this.preview_.setStyle(e)},i.shape.Creatable.prototype.setFillColor=function(e){this.preview_.setFillColor(e)},i.shape.Creatable.prototype.setFillOpacity=function(e){this.preview_.setFillOpacity(e)},i.shape.Creatable.prototype.setStrokeColor=function(e){this.preview_.setStrokeColor(e)},i.shape.Creatable.prototype.setStrokeWidth=function(e){this.preview_.setStrokeWidth(e)},i.shape.Selectable=function(e){i.shape.Style.call(this),this.shape_=e,this.store_=new i.shape.Style},n.inherits(i.shape.Selectable,i.shape.Style),i.shape.Selectable.prototype.selectOn=function(){this.store_.setStyle(this.shape_),this.shape_.setStyle(this)},i.shape.Selectable.prototype.selectOff=function(){this.shape_.setStyle(this.store_)},i.shape.Selectable.prototype.disposeInternal=function(){this.shape_.dispose(),this.shape_=null,this.store_.dispose(),this.store_=null,i.shape.Selectable.superClass_.disposeInternal.call(this)},i.shape.Ellipse=function(e){i.shape.Geometry.call(this,e,new i.geometry.Ellipse),this.engineElement_=this.drawing_.getEngine().createEllipse()},n.inherits(i.shape.Ellipse,i.shape.Geometry),i.shape.Ellipse.prototype.getCenter=function(){return[this.geometry_.cx,this.geometry_.cy]},i.shape.Ellipse.prototype.setCenter=function(e,t){this.geometry_.cx=e,this.geometry_.cy=t},i.shape.Ellipse.prototype.getRadiusX=function(){return this.geometry_.rx},i.shape.Ellipse.prototype.setRadiusX=function(e){this.geometry_.rx=e},i.shape.Ellipse.prototype.getRadiusY=function(){return this.geometry_.ry},i.shape.Ellipse.prototype.setRadiusY=function(e){this.geometry_.ry=e},i.shape.Ellipse.prototype.getCoords=function(){return[this.getCenter()]},i.shape.Ellipse.prototype.setCoords=function(e){this.setCenter(e[0][0],e[0][1])},i.shape.Ellipse.prototype.draw=function(){this.startDrawing_();var e=this.getCenter();this.engineElement_.draw(e[0],e[1],this.getRadiusX(),this.getRadiusY(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},i.shape.Ellipse.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new i.shape.EllipseHoverable(this)),this.hoverable_},i.shape.Ellipse.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new i.shape.EllipseSelectable(this)),this.selectable_},i.shape.Ellipse.prototype.getModifiable=function(){return this.modifiable_||(this.modifiable_=new i.shape.EllipseModifiable(this)),this.modifiable_},i.shape.Ellipse.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new i.shape.EllipseCreatable(this)),this.creatable_},i.shape.Ellipse.prototype.disposeInternal=function(){i.shape.Ellipse.superClass_.disposeInternal.call(this)},i.shape.EllipseHoverable=function(e){i.shape.Hoverable.call(this,e)},n.inherits(i.shape.EllipseHoverable,i.shape.Hoverable),i.shape.EllipseHoverable.prototype.disposeInternal=function(){i.shape.EllipseHoverable.superClass_.disposeInternal.call(this)};i.shape.EllipseSelectable=function(e){i.shape.Selectable.call(this,e)},n.inherits(i.shape.EllipseSelectable,i.shape.Selectable),i.shape.EllipseSelectable.prototype.disposeInternal=function(){i.shape.EllipseSelectable.superClass_.disposeInternal.call(this)},i.shape.EllipseModifiable=function(e){i.shape.Modifiable.call(this,e),this.init_()},n.inherits(i.shape.EllipseModifiable,i.shape.Modifiable),i.shape.EllipseModifiable.prototype.setCoords=function(e){this.shape_.setCoords(e),this.dragger_[0].setCoordX(e[0][0]+this.shape_.getRadiusX()),this.dragger_[0].setCoordY(e[0][1]),this.dragger_[1].setCoordX(e[0][0]),this.dragger_[1].setCoordY(e[0][1]+this.shape_.getRadiusY())},i.shape.EllipseModifiable.prototype.setCoordAt=function(e,t){0===e?(this.dragger_[0].setCoordX(t[0]),this.shape_.setRadiusX(Math.abs(t[0]-this.shape_.getCenter()[0]))):(this.dragger_[1].setCoordY(t[1]),this.shape_.setRadiusY(Math.abs(t[1]-this.shape_.getCenter()[1])))},i.shape.EllipseModifiable.prototype.move=function(e,t){var n=this.shape_.getCoordsCopy();n[0][0]+=e,n[0][1]+=t,this.setCoords(n)},i.shape.EllipseModifiable.prototype.init_=function(){var e=this.shape_.getCenter(),t=this.shape_.getRadiusX(),n=this.shape_.getRadiusY(),r=new i.shape.Dragger(this,0);r.setCoords([[e[0]+t,e[1]]]),t=new i.shape.Dragger(this,1),t.setCoords([[e[0],e[1]+n]]),this.setDragger([r,t])},i.shape.EllipseModifiable.prototype.disposeInternal=function(){i.shape.EllipseModifiable.superClass_.disposeInternal.call(this)},i.shape.EllipseCreatable=function(e){i.shape.Creatable.call(this,e,new i.shape.Ellipse(e.getDrawing())),this.point_=Array(2)},n.inherits(i.shape.EllipseCreatable,i.shape.Creatable),i.shape.EllipseCreatable.prototype.getCoords=function(){return this.helper_.getCoords()},i.shape.EllipseCreatable.prototype.handleDown=function(e,t){var n=t.getPointTransformed();this.point_[0]=n[0],this.point_[1]=n[1],this.preview_.setCenter(n[0],n[1]),this.preview_.setRadiusX(0),this.preview_.setRadiusY(0),this.target_.getDrawing().handleShapeCreate([this.preview_])},i.shape.EllipseCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed(),i=n[0]-this.point_[0],r=n[1]-this.point_[1];this.preview_.setCenter(n[0]-i/2,n[1]-r/2),this.preview_.setRadiusX(Math.abs(i/2)),this.preview_.setRadiusY(Math.abs(r/2))},i.shape.EllipseCreatable.prototype.handleUp=function(e,t){var n=new i.shape.Ellipse(this.target_.getDrawing()),r=this.preview_.getCenter();n.setStyle(this.target_),n.setCenter(r[0],r[1]),n.setRadiusX(this.preview_.getRadiusX()),n.setRadiusY(this.preview_.getRadiusY()),this.target_.getDrawing().handleShapeCreated(n)},i.shape.EllipseCreatable.prototype.disposeInternal=function(){this.point_=null,i.shape.EllipseCreatable.superClass_.disposeInternal.call(this)},i.geometry.Line=function(){i.geometry.Geometry.call(this),this.y2=this.x2=this.y1=this.x1=0,this.arr_=[[this.x1,this.y1],[this.x2,this.y2]]},n.inherits(i.geometry.Line,i.geometry.Geometry),i.geometry.Line.containsPoint=function(e,t){var n,i,r,o,s=e[0][0],a=e[0][1],l=e[1][0],h=e[1][1];return s<l?(n=s,i=l):(n=l,i=s),a<h?(r=a,o=h):(r=h,o=a),!(t[0]<n-7||t[0]>i+7||t[1]<r-7||t[1]>o+7)&&(7>Math.abs(s-l)?7>Math.abs(t[0]-s):7>Math.abs(a-h)?7>Math.abs(t[1]-a):(n=(h-a)/(l-s),7>Math.abs(t[1]-(n*t[0]+(a-n*s)))))},i.geometry.Line.prototype.containsPoint=function(e){return this.arr_[0][0]=this.x1,this.arr_[0][1]=this.y1,this.arr_[1][0]=this.x2,this.arr_[1][1]=this.y2,i.geometry.Line.containsPoint(this.arr_,e)},i.geometry.Line.prototype.disposeInternal=function(){this.arr_=null,i.geometry.Line.superClass_.disposeInternal.call(this)},i.geometry.Polyline=function(e){if(i.geometry.Geometry.call(this),this.coords=void 0===e?[]:Array(e),void 0!==e)for(var t=0;t<e;t++)this.coords[t]=Array(2)},n.inherits(i.geometry.Polyline,i.geometry.Geometry),i.geometry.Polyline.prototype.containsPoint=function(e){for(var t=!1,n=0,r=this.coords.length-1;n<r&&!0!==(t=i.geometry.Line.containsPoint([this.coords[n],this.coords[n+1]],e));n++);return t},i.geometry.Polyline.prototype.disposeInternal=function(){this.coords=null,i.geometry.Polyline.superClass_.disposeInternal.call(this)},i.shape.PathLike=function(e,t){i.shape.Geometry.call(this,e,t)},n.inherits(i.shape.PathLike,i.shape.Geometry),i.shape.PathLike.prototype.setCoords=function(e){this.geometry_.coords=e},i.shape.PathLike.prototype.getCoords=function(e){return this.geometry_.coords},i.shape.PathLike.prototype.setCoordAt=function(e,t){this.geometry_.coords[e][0]=t[0],this.geometry_.coords[e][1]=t[1]},i.shape.PathLike.prototype.setCoordXAt=function(e,t){this.geometry_.coords[e][0]=t},i.shape.PathLike.prototype.setCoordYAt=function(e,t){this.geometry_.coords[e][1]=t},i.shape.PathLike.prototype.setLastCoord=function(e){var t=this.geometry_.coords.length-1;this.geometry_.coords[t][0]=e[0],this.geometry_.coords[t][1]=e[1]},i.shape.PathLike.prototype.appendCoord=function(e){this.geometry_.coords.push(e)},i.shape.PathLike.prototype.disposeInternal=function(){i.shape.PathLike.superClass_.disposeInternal.call(this)},i.shape.Polyline=function(e){i.shape.PathLike.call(this,e,new i.geometry.Polyline),this.engineElement_=this.drawing_.getEngine().createPolyline()},n.inherits(i.shape.Polyline,i.shape.PathLike),i.shape.Polyline.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.getCoords(),this.getRenderingFillColor(),0,this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},i.shape.Polyline.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new i.shape.PolylineHoverable(this)),this.hoverable_},i.shape.Polyline.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new i.shape.PolylineSelectable(this)),this.selectable_},i.shape.Polyline.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new i.shape.PolylineModifiable(this)),this.modifiable_},i.shape.Polyline.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new i.shape.PolylineCreatable(this)),this.creatable_},i.shape.Polyline.prototype.disposeInternal=function(){i.shape.Polyline.superClass_.disposeInternal.call(this)},i.shape.PolylineHoverable=function(e){i.shape.Hoverable.call(this,e)},n.inherits(i.shape.PolylineHoverable,i.shape.Hoverable),i.shape.PolylineHoverable.prototype.disposeInternal=function(){i.shape.PolylineHoverable.superClass_.disposeInternal.call(this)},i.shape.PolylineSelectable=function(e){i.shape.Selectable.call(this,e)},n.inherits(i.shape.PolylineSelectable,i.shape.Selectable),i.shape.PolylineSelectable.prototype.disposeInternal=function(){i.shape.PolylineSelectable.superClass_.disposeInternal.call(this)},i.shape.PolylineModifiable=function(e,t){i.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(i.shape.PolylineModifiable,i.shape.Modifiable),i.shape.PolylineModifiable.prototype.setCoords=function(e,t){for(var n=0,i=this.dragger_.length;n<i;n++)n!==t&&(this.dragger_[n].setCoordX(e[n][0]),this.dragger_[n].setCoordY(e[n][1]));this.shape_.setCoords(e)},i.shape.PolylineModifiable.prototype.setCoordAt=function(e,t){this.dragger_[e].setCoordX(t[0]),this.dragger_[e].setCoordY(t[1]),this.shape_.setCoordXAt(e,t[0]),this.shape_.setCoordYAt(e,t[1])},i.shape.PolylineModifiable.prototype.init_=function(){for(var e,t=this.shape_.getCoords(),n=[],r=0,o=t.length;r<o;r++)e=new i.shape.Dragger(this,r),e.setCoords([t[r]]),n.push(e);this.setDragger(n)},i.shape.PolylineModifiable.prototype.disposeInternal=function(){i.shape.PolylineModifiable.superClass_.disposeInternal.call(this)},i.shape.PolylineModifiable.prototype.move=function(e,t){for(var n=this.shape_.getCoordsCopy(),i=0,r=n.length;i<r;i++)n[i][0]+=e,n[i][1]+=t;this.setCoords(n)},i.shape.PolylineCreatable=function(e){i.shape.Creatable.call(this,e,new i.shape.Polyline(e.getDrawing())),this.count_=0},n.inherits(i.shape.PolylineCreatable,i.shape.Creatable),i.shape.PolylineCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},i.shape.PolylineCreatable.prototype.handleDown=function(e,t){var i=t.getShape(),r=t.getPointTransformed();0===this.count_?(this.preview_.setCoords([r,n.array.clone(r)]),this.count_+=1,this.target_.getDrawing().handleShapeCreate([this.preview_])):this.close_&&i===this.close_&&1===this.count_||this.preview_.setLastCoord(r)},i.shape.PolylineCreatable.prototype.handleMove=function(e,t){var n=t.getShape(),i=t.getPointTransformed();0!==this.count_&&(this.preview_.setLastCoord(i),this.close_&&n===this.close_?(this.close_.setStrokeColor("red"),this.close_.setStrokeWidth(3)):this.close_&&(this.close_.setStrokeColor("black"),this.close_.setStrokeWidth(1)))},i.shape.PolylineCreatable.prototype.handleUp=function(e,t){var n=t.getShape(),r=t.getPointTransformed();this.close_&&n===this.close_?(n=new i.shape.Polyline(this.target_.getDrawing()),n.setStyle(this.target_),n.setCoords(this.preview_.getCoordsCopy().splice(0,this.count_)),this.target_.getDrawing().handleShapeCreated(n),this.close_=null,this.count_=0):(this.preview_.appendCoord(r),1===this.count_&&(this.close_=new i.shape.Dragger(this.target_.getModifiable(),0),this.target_.getDrawing().handleShapeCreate([this.close_])),this.close_.setCoords([r]),this.count_+=1)},i.shape.PolylineCreatable.prototype.disposeInternal=function(){this.close_.dispose(),this.close_=null,i.shape.PolylineCreatable.superClass_.disposeInternal.call(this)},i.geometry.Path=function(e){if(i.geometry.Geometry.call(this),this.coords=void 0===e?[]:Array(e),void 0!==e)for(var t=0;t<e;t++)this.coords[t]=Array(2)},n.inherits(i.geometry.Path,i.geometry.Geometry),i.geometry.Path.prototype.containsPoint=function(e){var t=e[0];e=e[1];for(var n,i,r=this.coords,o=!1,s=0,a=r.length-1;s<r.length;a=s++)n=r[s][0],yi=r[s][1],i=r[a][0],yj=r[a][1],(n=yi>e!=yj>e&&t<(i-n)*(e-yi)/(yj-yi)+n)&&(o=!o);return o},i.geometry.Path.prototype.disposeInternal=function(){this.coords=null,i.geometry.Path.superClass_.disposeInternal.call(this)},i.geometry.Circle=function(){i.geometry.Geometry.call(this),this.r=this.cy=this.cx=0},n.inherits(i.geometry.Circle,i.geometry.Geometry),i.geometry.Circle.prototype.containsPoint=function(e){return(this.cx-e[0])*(this.cx-e[0])+(this.cy-e[1])*(this.cy-e[1])<=this.r*this.r},i.geometry.Circle.prototype.disposeInternal=function(){i.geometry.Circle.superClass_.disposeInternal.call(this)},i.shape.Circle=function(e){i.shape.Geometry.call(this,e,new i.geometry.Circle),this.engineElement_=this.drawing_.getEngine().createCircle()},n.inherits(i.shape.Circle,i.shape.Geometry),i.shape.Circle.prototype.getCenter=function(){return[this.geometry_.cx,this.geometry_.cy]},i.shape.Circle.prototype.setCenter=function(e,t){this.geometry_.cx=e,this.geometry_.cy=t},i.shape.Circle.prototype.getRadius=function(){return this.geometry_.r},i.shape.Circle.prototype.setRadius=function(e){this.geometry_.r=e},i.shape.Circle.prototype.getCoords=function(){return[this.getCenter()]},i.shape.Circle.prototype.setCoords=function(e){this.setCenter(e[0][0],e[0][1])},i.shape.Circle.prototype.setCoordX=function(e){this.geometry_.cx=e},i.shape.Circle.prototype.setCoordY=function(e){this.geometry_.cy=e},i.shape.Circle.prototype.draw=function(){this.startDrawing_();var e=this.getCenter();this.engineElement_.draw(e[0],e[1],this.getRadius(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},i.shape.Circle.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new i.shape.CircleHoverable(this)),this.hoverable_},i.shape.Circle.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new i.shape.CircleSelectable(this)),this.selectable_},i.shape.Circle.prototype.getModifiable=function(){return this.modifiable_||(this.modifiable_=new i.shape.CircleModifiable(this)),this.modifiable_},i.shape.Circle.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new i.shape.CircleCreatable(this)),this.creatable_},i.shape.Circle.prototype.disposeInternal=function(){i.shape.Circle.superClass_.disposeInternal.call(this)},i.shape.CircleHoverable=function(e){i.shape.Hoverable.call(this,e)},n.inherits(i.shape.CircleHoverable,i.shape.Hoverable),i.shape.CircleHoverable.prototype.disposeInternal=function(){i.shape.CircleHoverable.superClass_.disposeInternal.call(this)},i.shape.CircleSelectable=function(e){i.shape.Selectable.call(this,e)},n.inherits(i.shape.CircleSelectable,i.shape.Selectable),i.shape.CircleSelectable.prototype.disposeInternal=function(){i.shape.CircleSelectable.superClass_.disposeInternal.call(this)},i.shape.CircleModifiable=function(e){i.shape.Modifiable.call(this,e),this.init_()},n.inherits(i.shape.CircleModifiable,i.shape.Modifiable),i.shape.CircleModifiable.prototype.setCoords=function(e){this.shape_.setCoords(e),this.dragger_[0].setCoordX(e[0][0]+this.shape_.getRadius()),this.dragger_[0].setCoordY(e[0][1])},i.shape.CircleModifiable.prototype.setCoordAt=function(e,t){this.shape_.setRadius(Math.abs(t[0]-this.shape_.getCenter()[0])),this.dragger_[0].setCoordX(t[0])},i.shape.CircleModifiable.prototype.move=function(e,t){var n=this.shape_.getCoordsCopy();n[0][0]+=e,n[0][1]+=t,this.setCoords(n)},i.shape.CircleModifiable.prototype.init_=function(){var e=this.shape_.getCenter(),t=this.shape_.getRadius(),n=new i.shape.Dragger(this,0);n.setCoords([[e[0]+t,e[1]]]),this.setDragger([n])},i.shape.CircleModifiable.prototype.disposeInternal=function(){i.shape.CircleModifiable.superClass_.disposeInternal.call(this)},i.shape.CircleCreatable=function(e){i.shape.Creatable.call(this,e,new i.shape.Circle(e.getDrawing())),this.point_=Array(2)},n.inherits(i.shape.CircleCreatable,i.shape.Creatable),i.shape.CircleCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},i.shape.CircleCreatable.prototype.handleDown=function(e,t){var n=t.getPointTransformed();this.point_[0]=n[0],this.point_[1]=n[1],this.preview_.setCenter(n[0],n[1]),this.preview_.setRadius(0),this.target_.getDrawing().handleShapeCreate([this.preview_])},i.shape.CircleCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed(),i=n[0]-this.point_[0],r=n[1]-this.point_[1];this.preview_.setCenter(n[0]-i/2,n[1]-r/2),this.preview_.setRadius(Math.sqrt(i*i+r*r)/2)},i.shape.CircleCreatable.prototype.handleUp=function(e,t){t.getPointTransformed();var n=new i.shape.Circle(this.target_.getDrawing()),r=this.preview_.getCenter();n.setStyle(this.target_),n.setCenter(r[0],r[1]),n.setRadius(this.preview_.getRadius()),this.target_.getDrawing().handleShapeCreated(n)},i.shape.CircleCreatable.prototype.disposeInternal=function(){this.point_=null,i.shape.CircleCreatable.superClass_.disposeInternal.call(this)},i.shape.Dragger=function(e,t){var n=e.getShape().getDrawing();i.shape.Circle.call(this,n,n.getEngine().createCircle(n.getCanvas().getEngineElement())),this.modifiable_=e,this.pos_=t,this.init_()},n.inherits(i.shape.Dragger,i.shape.Circle),i.shape.Dragger.prototype.setCoord=function(e){this.modifiable_.setCoordAt(this.pos_,e)},i.shape.Dragger.prototype.getPosition=function(){return this.pos_},i.shape.Dragger.prototype.getRadius=function(){return this.geometry_.r/this.zoomFactor_},i.shape.Dragger.prototype.init_=function(e,t){this.setRadius(3),this.setStrokeColor("black"),this.setStrokeWidth(1),this.setFillColor("white"),this.setFillOpacity(1)},i.shape.Dragger.prototype.disposeInternal=function(){n.dispose(this.modifiable_),this.modifiable_=null,i.shape.Dragger.superClass_.disposeInternal.call(this)},i.shape.Polygon=function(e){i.shape.PathLike.call(this,e,new i.geometry.Path),this.engineElement_=this.drawing_.getEngine().createPolygon()},n.inherits(i.shape.Polygon,i.shape.PathLike),i.shape.Polygon.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.getCoords(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},i.shape.Polygon.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new i.shape.PolygonHoverable(this)),this.hoverable_},i.shape.Polygon.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new i.shape.PolygonSelectable(this)),this.selectable_},i.shape.Polygon.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new i.shape.PolygonModifiable(this)),this.modifiable_},i.shape.Polygon.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new i.shape.PolygonCreatable(this)),this.creatable_},i.shape.Polygon.prototype.disposeInternal=function(){i.shape.Polygon.superClass_.disposeInternal.call(this)},i.shape.PolygonHoverable=function(e){i.shape.Hoverable.call(this,e)},n.inherits(i.shape.PolygonHoverable,i.shape.Hoverable),i.shape.PolygonHoverable.prototype.disposeInternal=function(){i.shape.PolygonHoverable.superClass_.disposeInternal.call(this)},i.shape.PolygonSelectable=function(e){i.shape.Selectable.call(this,e)},n.inherits(i.shape.PolygonSelectable,i.shape.Selectable),i.shape.PolygonSelectable.prototype.disposeInternal=function(){i.shape.PolygonSelectable.superClass_.disposeInternal.call(this)},i.shape.PolygonModifiable=function(e,t){i.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(i.shape.PolygonModifiable,i.shape.Modifiable),i.shape.PolygonModifiable.prototype.setCoords=function(e,t){for(var n=0,i=this.dragger_.length;n<i;n++)n!==t&&(this.dragger_[n].setCoordX(e[n][0]),this.dragger_[n].setCoordY(e[n][1]));this.shape_.setCoords(e)},i.shape.PolygonModifiable.prototype.setCoordAt=function(e,t){this.dragger_[e].setCoordX(t[0]),this.dragger_[e].setCoordY(t[1]),this.shape_.setCoordXAt(e,t[0]),this.shape_.setCoordYAt(e,t[1])},i.shape.PolygonModifiable.prototype.move=function(e,t){for(var n=this.shape_.getCoordsCopy(),i=0,r=n.length;i<r;i++)n[i][0]+=e,n[i][1]+=t;this.setCoords(n)},i.shape.PolygonModifiable.prototype.disposeInternal=function(){i.shape.PolygonModifiable.superClass_.disposeInternal.call(this)},i.shape.PolygonModifiable.prototype.init_=function(){for(var e,t=this.shape_.getCoords(),n=[],r=0,o=t.length;r<o;r++)e=new i.shape.Dragger(this,r),e.setCoords([t[r]]),n.push(e);this.setDragger(n)},i.shape.PolygonCreatable=function(e){i.shape.Creatable.call(this,e,new i.shape.Polyline(e.getDrawing())),this.count_=0},n.inherits(i.shape.PolygonCreatable,i.shape.Creatable),i.shape.PolygonCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},i.shape.PolygonCreatable.prototype.handleDown=function(e,t){var r=t.getShape(),o=t.getPointTransformed();0===this.count_?(this.preview_.setCoords([o,n.array.clone(o)]),this.close_=new i.shape.Dragger(this.target_.getModifiable(),0),this.close_.setCoords([o]),this.count_+=1,this.target_.getDrawing().handleShapeCreate([this.preview_,this.close_])):this.close_&&r===this.close_&&1===this.count_||this.preview_.setLastCoord(o)},i.shape.PolygonCreatable.prototype.handleMove=function(e,t){var n=t.getShape(),i=t.getPointTransformed();0!==this.count_&&(this.preview_.setLastCoord(i),n===this.close_?(this.close_.setStrokeColor("red"),this.close_.setStrokeWidth(3)):(this.close_.setStrokeColor("black"),this.close_.setStrokeWidth(1)))},i.shape.PolygonCreatable.prototype.handleUp=function(e,t){var n=t.getShape(),r=t.getPointTransformed();this.close_&&n===this.close_?(n=new i.shape.Polygon(this.target_.getDrawing()),n.setStyle(this.target_),n.setCoords(this.preview_.getCoordsCopy().splice(0,this.count_)),this.target_.getDrawing().handleShapeCreated(n),this.close_=null,this.count_=0):(this.preview_.setLastCoord(r),this.preview_.appendCoord(r),this.count_+=1)},i.shape.PolygonCreatable.prototype.disposeInternal=function(){this.close_.dispose(),this.close_=null,i.shape.PolygonCreatable.superClass_.disposeInternal.call(this)},i.shape.Line=function(e){i.shape.Geometry.call(this,e,new i.geometry.Line),this.engineElement_=this.drawing_.getEngine().createLine()},n.inherits(i.shape.Line,i.shape.Geometry),i.shape.Line.prototype.getX1=function(){return this.geometry_.x1},i.shape.Line.prototype.setX1=function(e){this.geometry_.x1=e},i.shape.Line.prototype.getY1=function(){return this.geometry_.y1},i.shape.Line.prototype.setY1=function(e){this.geometry_.y1=e},i.shape.Line.prototype.getX2=function(){return this.geometry_.x2},i.shape.Line.prototype.setX2=function(e){this.geometry_.x2=e},i.shape.Line.prototype.getY2=function(){return this.geometry_.y2},i.shape.Line.prototype.setY2=function(e){this.geometry_.y2=e},i.shape.Line.prototype.getCoords=function(){return[[this.geometry_.x1,this.geometry_.y1],[this.geometry_.x2,this.geometry_.y2]]},i.shape.Line.prototype.setCoords=function(e){this.geometry_.x1=e[0][0],this.geometry_.y1=e[0][1],this.geometry_.x2=e[1][0],this.geometry_.y2=e[1][1]},i.shape.Line.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.geometry_.x1,this.geometry_.y1,this.geometry_.x2,this.geometry_.y2,this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},i.shape.Line.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new i.shape.LineHoverable(this)),this.hoverable_},i.shape.Line.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new i.shape.LineSelectable(this)),this.selectable_},i.shape.Line.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new i.shape.LineModifiable(this)),this.modifiable_},i.shape.Line.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new i.shape.LineCreatable(this)),this.creatable_},i.shape.Line.prototype.disposeInternal=function(){i.shape.Line.superClass_.disposeInternal.call(this)},i.shape.LineHoverable=function(e){i.shape.Hoverable.call(this,e)},n.inherits(i.shape.LineHoverable,i.shape.Hoverable),i.shape.LineHoverable.prototype.disposeInternal=function(){i.shape.LineHoverable.superClass_.disposeInternal.call(this)},i.shape.LineSelectable=function(e){i.shape.Selectable.call(this,e)},n.inherits(i.shape.LineSelectable,i.shape.Selectable),i.shape.LineSelectable.prototype.disposeInternal=function(){i.shape.LineSelectable.superClass_.disposeInternal.call(this)},i.shape.LineModifiable=function(e,t){i.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(i.shape.LineModifiable,i.shape.Modifiable),i.shape.LineModifiable.prototype.disposeInternal=function(){i.shape.LineModifiable.superClass_.disposeInternal.call(this)},i.shape.LineModifiable.prototype.setCoords=function(e){this.shape_.setCoords(e),this.dragger_[0].setCoordX(e[0][0]),this.dragger_[0].setCoordY(e[0][1]),this.dragger_[1].setCoordX(e[1][0]),this.dragger_[1].setCoordY(e[1][1])},i.shape.LineModifiable.prototype.setCoordAt=function(e,t){0===e?(this.dragger_[0].setCoordX(t[0]),this.dragger_[0].setCoordY(t[1]),this.shape_.setX1(t[0]),this.shape_.setY1(t[1])):(this.dragger_[1].setCoordX(t[0]),this.dragger_[1].setCoordY(t[1]),this.shape_.setX2(t[0]),this.shape_.setY2(t[1]))},i.shape.LineModifiable.prototype.move=function(e,t){var n=this.shape_.getCoordsCopy();n[0][0]+=e,n[0][1]+=t,n[1][0]+=e,n[1][1]+=t,this.setCoords(n)},i.shape.LineModifiable.prototype.init_=function(){var e=new i.shape.Dragger(this,0);e.setCoords([[this.shape_.getX1(),this.shape_.getY1()]]);var t=new i.shape.Dragger(this,1);t.setCoords([[this.shape_.getX2(),this.shape_.getY2()]]),this.setDragger([e,t])},i.shape.LineModifiable.prototype.disposeInternal=function(){i.shape.LineModifiable.superClass_.disposeInternal.call(this)},i.shape.LineCreatable=function(e){i.shape.Creatable.call(this,e,new i.shape.Line(e.getDrawing()))},n.inherits(i.shape.LineCreatable,i.shape.Creatable),i.shape.LineCreatable.prototype.getCoords=function(){return this.helper_.getCoords()},i.shape.LineCreatable.prototype.handleDown=function(e,t){var n=t.getPointTransformed();this.preview_.setX1(n[0]),this.preview_.setY1(n[1]),this.preview_.setX2(n[0]),this.preview_.setY2(n[1]),this.target_.getDrawing().handleShapeCreate([this.preview_])},i.shape.LineCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed();this.preview_.setX2(n[0]),this.preview_.setY2(n[1])},i.shape.LineCreatable.prototype.handleUp=function(e,t){var n=t.getPointTransformed(),r=new i.shape.Line(this.target_.getDrawing());r.setStyle(this.target_),r.setX1(this.preview_.getX1()),r.setY1(this.preview_.getY1()),r.setX2(n[0]),r.setY2(n[1]),this.target_.getDrawing().handleShapeCreated(r)},i.shape.LineCreatable.prototype.disposeInternal=function(){i.shape.LineCreatable.superClass_.disposeInternal.call(this)},i.shape.Rect=function(e){i.shape.PathLike.call(this,e,new i.geometry.Path(4)),this.engineElement_=this.drawing_.getEngine().createRect()},n.inherits(i.shape.Rect,i.shape.PathLike),i.shape.Rect.prototype.setX=function(e){this.geometry_.coords[0][0]=e,this.geometry_.coords[3][0]=e},i.shape.Rect.prototype.getX=function(){return this.geometry_.coords[0][0]},i.shape.Rect.prototype.setY=function(e){this.geometry_.coords[0][1]=e,this.geometry_.coords[1][1]=e},i.shape.Rect.prototype.getY=function(){return this.geometry_.coords[0][1]},i.shape.Rect.prototype.setWidth=function(e){var t=this.geometry_.coords[0][0];this.geometry_.coords[1][0]=t+e,this.geometry_.coords[2][0]=t+e},i.shape.Rect.prototype.getWidth=function(){var e=this.geometry_.coords;return e[1][0]-e[0][0]},i.shape.Rect.prototype.setHeight=function(e){var t=this.geometry_.coords[0][1];this.geometry_.coords[2][1]=t+e,this.geometry_.coords[3][1]=t+e},i.shape.Rect.prototype.getHeight=function(){var e=this.geometry_.coords;return e[3][1]-e[0][1]},i.shape.Rect.prototype.setAffineCoords=function(e){var t=this.getCoords();return 0===e||2===e?(t[1][0]=t[2][0],t[1][1]=t[0][1],t[3][0]=t[0][0],t[3][1]=t[2][1]):(t[0][0]=t[3][0],t[0][1]=t[1][1],t[2][0]=t[1][0],t[2][1]=t[3][1]),t},i.shape.Rect.prototype.draw=function(){this.startDrawing_(),this.engineElement_.draw(this.getCoords(),this.getRenderingFillColor(),this.getRenderingFillOpacity(),this.getRenderingStrokeColor(),this.getRenderingStrokeWidth()),this.finishDrawing_()},i.shape.Rect.prototype.getHoverable=function(){return this.hoverable_||(this.hoverable_=new i.shape.RectHoverable(this)),this.hoverable_},i.shape.Rect.prototype.getSelectable=function(){return this.selectable_||(this.selectable_=new i.shape.RectSelectable(this)),this.selectable_},i.shape.Rect.prototype.getModifiable=function(e){return this.modifiable_||(this.modifiable_=new i.shape.RectModifiable(this)),this.modifiable_},i.shape.Rect.prototype.getCreatable=function(){return this.creatable_||(this.creatable_=new i.shape.RectCreatable(this)),this.creatable_},i.shape.Rect.prototype.disposeInternal=function(){i.shape.Rect.superClass_.disposeInternal.call(this)},i.shape.RectHoverable=function(e){i.shape.Hoverable.call(this,e)};n.inherits(i.shape.RectHoverable,i.shape.Hoverable),i.shape.RectHoverable.prototype.disposeInternal=function(){i.shape.RectHoverable.superClass_.disposeInternal.call(this)},i.shape.RectSelectable=function(e){i.shape.Selectable.call(this,e)},n.inherits(i.shape.RectSelectable,i.shape.Selectable),i.shape.RectSelectable.prototype.disposeInternal=function(){i.shape.RectSelectable.superClass_.disposeInternal.call(this)},i.shape.RectModifiable=function(e,t){i.shape.Modifiable.call(this,e,t),this.init_()},n.inherits(i.shape.RectModifiable,i.shape.Modifiable),i.shape.RectModifiable.prototype.setCoords=function(e,t){for(var n=0,i=this.dragger_.length;n<i;n++)n!==t&&(this.dragger_[n].setCoordX(e[n][0]),this.dragger_[n].setCoordY(e[n][1]));this.shape_.setCoords(e)},i.shape.RectModifiable.prototype.setCoordAt=function(e,t){var n;this.shape_.setCoordAt(e,t),this.shape_.setAffineCoords(e),n=this.shape_.getCoords(),this.dragger_[0].setCoordX(n[0][0]),this.dragger_[0].setCoordY(n[0][1]),this.dragger_[1].setCoordX(n[1][0]),this.dragger_[1].setCoordY(n[1][1]),this.dragger_[2].setCoordX(n[2][0]),this.dragger_[2].setCoordY(n[2][1]),this.dragger_[3].setCoordX(n[3][0]),this.dragger_[3].setCoordY(n[3][1])},i.shape.RectModifiable.prototype.move=function(e,t){for(var n=this.shape_.getCoordsCopy(),i=0,r=n.length;i<r;i++)n[i][0]+=e,n[i][1]+=t;this.setCoords(n)},i.shape.RectModifiable.prototype.disposeInternal=function(){i.shape.RectModifiable.superClass_.disposeInternal.call(this)},i.shape.RectModifiable.prototype.init_=function(){for(var e,t=this.shape_.getCoords(),n=[],r=0,o=t.length;r<o;r++)e=new i.shape.Dragger(this,r),e.setCoords([t[r]]),n.push(e);this.setDragger(n)},i.shape.RectCreatable=function(e){i.shape.Creatable.call(this,e,new i.shape.Rect(e.getDrawing()))},n.inherits(i.shape.RectCreatable,i.shape.Creatable),i.shape.RectCreatable.prototype.getCoords=function(){return this.preview_.getCoords()},i.shape.RectCreatable.prototype.handleDown=function(e,t){var i=t.getPointTransformed(),r=Array(4);r[0]=n.array.clone(i),r[1]=n.array.clone(i),r[2]=n.array.clone(i),r[3]=n.array.clone(i),this.preview_.setCoords(r),this.target_.getDrawing().handleShapeCreate([this.preview_])},i.shape.RectCreatable.prototype.handleMove=function(e,t){var n=t.getPointTransformed();this.preview_.setCoordAt(2,n),this.preview_.setAffineCoords(2)},i.shape.RectCreatable.prototype.handleUp=function(e,t){var n=new i.shape.Rect(this.target_.getDrawing());n.setStyle(this.target_),n.setCoords(this.preview_.getCoordsCopy()),this.target_.getDrawing().handleShapeCreated(n)},i.shape.RectCreatable.prototype.disposeInternal=function(){i.shape.RectCreatable.superClass_.disposeInternal.call(this)},i.shape.ShapeGroup=function(e){i.shape.Group.call(this,e)},n.inherits(i.shape.ShapeGroup,i.shape.Group),i.shape.ShapeGroup.prototype.addChildren=function(e){i.shape.ShapeGroup.superClass_.addChildren.call(this,e),e=0;for(var t=this.childs_.length;e<t;e++)this.childs_[e].setShapeGroup(this),this.geometry_.addChild(this.childs_[e].getGeometry())},i.shape.ShapeGroup.prototype.getHoverable=function(){return void 0===this.hoverable_&&(this.hoverable_=new i.shape.ShapeGroupHoverable(this)),this.hoverable_},i.shape.ShapeGroup.prototype.getSelectable=function(){return void 0===this.selectable_&&(this.selectable_=new i.shape.ShapeGroupSelectable(this)),this.selectable_},i.shape.ShapeGroup.prototype.getModifiable=function(){return void 0===this.modifiable_&&(this.modifiable_=new i.shape.ShapeGroupModifiable(this)),this.modifiable_},i.shape.ShapeGroup.prototype.getCreatable=function(){return void 0===this.creatable_&&(this.creatable_=new i.shape.ShapeGroupCreatable(this)),this.creatable_},i.shape.ShapeGroupHoverable=function(e){i.shape.Hoverable.call(this,e)},n.inherits(i.shape.ShapeGroupHoverable,i.shape.Hoverable),i.shape.ShapeGroupSelectable=function(e){i.shape.Selectable.call(this,e)},n.inherits(i.shape.ShapeGroupSelectable,i.shape.Selectable),i.shape.ShapeGroupModifiable=function(e){i.shape.Modifiable.call(this,e)},n.inherits(i.shape.ShapeGroupModifiable,i.shape.Modifiable),i.shape.ShapeGroupModifiable.prototype.getDragger=function(){for(var e=this.shape_.getChildren(),t=[],n=0,i=e.length;n<i;n++)t=t.concat(e[n].getModifiable().getDragger());return t},i.shape.ShapeGroupModifiable.prototype.move=function(e,t){for(var n=this.shape_.getChildren(),i=0,r=n.length;i<r;i++)n[i].getModifiable().move(e,t)},i.shape.ShapeGroupCreatable=function(e){i.shape.Creatable.call(this,e,new i.shape.ShapeGroup(e.getDrawing())),this.current=0},n.inherits(i.shape.ShapeGroupCreatable,i.shape.Creatable),i.shape.ShapeGroupCreatable.prototype.allShapesCreated=function(){return this.current===this.target_.getChildren().length-1},i.shape.ShapeGroupCreatable.prototype.reset=function(){this.current=0,this.preview_.removeChildren()},i.shape.ShapeGroupCreatable.prototype.handleDown=function(e,t){this.target_.getChild(this.current).getCreatable().handleDown(e,t)},i.shape.ShapeGroupCreatable.prototype.handleMove=function(e,t){this.target_.getChild(this.current).getCreatable().handleMove(e,t)},i.shape.ShapeGroupCreatable.prototype.handleUp=function(e,t){this.target_.getChild(this.current).getCreatable().handleUp(e,t)},i.shape.Canvas=function(e){i.shape.Container.call(this,e),this.engineElement_=this.drawing_.getEngine().getCanvas(),n.dom.append(this.drawing_.getElement(),this.engineElement_.getElement())},n.inherits(i.shape.Canvas,i.shape.Container),i.shape.Canvas.prototype.getElement=function(){return this.drawing_.getElement()},i.shape.Canvas.prototype.getEngine=function(){return this.drawing_.getEngine()},i.shape.Canvas.prototype.getHeight=function(){return this.engineElement_.getHeight()},i.shape.Canvas.prototype.setHeight=function(e){this.engineElement_.setHeight(e)},i.shape.Canvas.prototype.getWidth=function(){return this.engineElement_.getWidth()},i.shape.Canvas.prototype.setWidth=function(e){this.engineElement_.setWidth(e)},i.shape.Canvas.prototype.draw=function(){this.startDrawing_();for(var e=0,t=this.childs_.length;e<t;e++)this.childs_[e].draw();this.finishDrawing_()},i.shape.Canvas.prototype.disposeInternal=function(){i.shape.Canvas.superClass_.disposeInternal.call(this)},i.shape.Shapes=function(){},i.drawing.EventTarget=function(){n.Disposable.call(this),this.handler_=new n.events.EventHandler(this),this.cursor_=new i.drawing.Cursor(this),this.eventTarget_=i.drawing.EventTarget.DRAWING},n.inherits(i.drawing.EventTarget,n.Disposable),i.drawing.EventTarget.DRAWING="DRAWING",i.drawing.EventTarget.VIEWBOX="VIEWBOX",i.drawing.EventTarget.prototype.setEventTarget=function(e){if(e!==i.drawing.EventTarget.DRAWING&&e!==i.drawing.EventTarget.VIEWBOX)throw Error("xrx.drawing.EventTarget.DRAWING or xrx.drawing.EventTarget.VIEWBOX expected.");this.eventTarget_=e},i.drawing.EventTarget.prototype.getHandler=function(){return this.handler_},i.drawing.EventTarget.prototype.registerEvent_=function(e,t,n){this.cursor_.init(e);var r=this.viewbox_.containsPoint(this.cursor_.getPoint());(this.eventTarget_===i.drawing.EventTarget.VIEWBOX&&r||this.eventTarget_===i.drawing.EventTarget.DRAWING)&&(e.preventDefault(),e.stopPropagation(),e.getBrowserEvent().changedTouches&&e.init(e.getBrowserEvent().changedTouches[0],e.currentTarget),t[n](e,this.cursor_),this.draw())},i.drawing.EventTarget.prototype.registerClick=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),i.event.Type.CLICK,function(n){t.registerEvent_(n,e,i.event.Handler.CLICK)},!1)},i.drawing.EventTarget.prototype.registerDblClick=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),i.event.Type.DBLCLICK,function(n){t.registerEvent_(n,e,i.event.Handler.DBLCLICK)},!1)},i.drawing.EventTarget.prototype.registerDown=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),i.event.Type.DOWN,function(n){t.registerEvent_(n,e,i.event.Handler.DOWN)},!1)},i.drawing.EventTarget.prototype.registerDrag=function(e){this.registerDown(e),this.registerMove(e),this.registerUp(e)},i.drawing.EventTarget.prototype.registerMove=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),i.event.Type.MOVE,function(n){t.registerEvent_(n,e,i.event.Handler.MOVE)},!1)},i.drawing.EventTarget.prototype.registerHover=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),i.event.Type.MOVE,function(n){t.registerEvent_(n,e,i.event.Handler.MOVE)},!1)},i.drawing.EventTarget.prototype.registerOut=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),i.event.Type.OUT,function(n){t.registerEvent_(n,e,i.event.Handler.OUT)},!1)},i.drawing.EventTarget.prototype.registerUp=function(e){var t=this;this.handler_.listen(t.canvas_.getEngineElement().getEventTarget(),i.event.Type.UP,function(n){t.registerEvent_(n,e,i.event.Handler.UP)},!1)},i.drawing.EventTarget.prototype.registerWheel=function(e){if(!n.userAgent.MOBILE){var t=this,r=new n.events.MouseWheelHandler(t.canvas_.getEngineElement().getEventTarget());this.handler_.listen(r,i.event.Type.WHEEL,function(n){t.registerEvent_(n,e,i.event.Handler.WHEEL)},!1)}},i.drawing.EventTarget.prototype.disposeInternal=function(){this.handler_&&(this.handler_.dispose(),this.handler_=null)},i.drawing.EventTarget.prototype.registerEvents=function(e){switch(this.handler_.removeAll(),e){case void 0:case i.drawing.Mode.DISABLED:break;case i.drawing.Mode.VIEW:this.registerDblClick(this.viewbox_),this.registerDrag(this.viewbox_),this.registerOut(this.viewbox_),this.registerWheel(this.viewbox_);break;case i.drawing.Mode.SELECT:this.registerDown(this.selectable_),this.registerWheel(this.viewbox_);break;case i.drawing.Mode.MODIFY:this.registerDrag(this.modifiable_),this.registerWheel(this.viewbox_);break;case i.drawing.Mode.CREATE:this.registerDown(this.creatable_),this.registerMove(this.creatable_),this.registerUp(this.creatable_),this.registerWheel(this.viewbox_);break;case i.drawing.Mode.HOVER:case i.drawing.Mode.HOVERMULTIPLE:this.registerHover(this.hoverable_),this.registerOut(this.hoverable_),this.registerWheel(this.viewbox_),this.registerDrag(this.viewbox_);break;default:throw Error("Unknown mode.")}},i.drawing.EventTarget.prototype.disposeInternal=function(){this.handler_.removeAll(),this.handler_.dispose(),this.handler_=null,this.cursor_.dispose(),this.cursor_=null,i.drawing.EventTarget.superClass_.disposeInternal.call(this)},i.drawing.EventHandler=function(){i.drawing.EventTarget.call(this)},n.inherits(i.drawing.EventHandler,i.drawing.EventTarget),i.drawing.EventHandler.prototype.handleShapeCreate=function(e){this.creatable_.handleCreate(e)},i.drawing.EventHandler.prototype.handleShapeCreated=function(e){this.creatable_.handleCreated(e)},i.drawing.EventHandler.prototype.getClientPoint=function(e){var t,n=e.getBrowserEvent().changedTouches;return n?(t=n[0].clientX,e=n[0].clientY):(t=e.clientX,e=e.clientY),[t,e]},i.drawing.EventHandler.prototype.getOffsetPoint=function(e,t){var i=n.style.getClientPosition(this.canvas_.getEngineElement().getEventTarget()),r=this.getClientPoint(e),i=[r[0]-i.x,r[1]-i.y];return!0===t?this.getViewbox().getCTM().transformPoint(i):i},i.drawing.EventHandler.prototype.getShapeSelected=function(e){for(var t,n,i=!1,r=this.layer_.length-1;0<=r;r--){if(t=this.layer_[r],!t.isLocked()){t=t.getShapes()||[];for(var o=t.length-1;0<=o;o--)if(n=t[o],n.getGeometry().containsPoint(e)){i=!0;break}}if(!0===i)break}return i?n:void 0},i.drawing.EventHandler.prototype.getShapesSelected=function(e){for(var t,n,i=[],r=this.layer_.length-1;0<=r;r--)if(t=this.layer_[r],!t.isLocked()){t=t.getShapes()||[];for(var o=t.length-1;0<=o;o--)n=t[o],n.getGeometry().containsPoint(e)&&i.push(n)}return i},i.drawing.EventHandler.prototype.disposeInternal=function(){i.drawing.EventHandler.superClass_.disposeInternal.call(this)},i.drawing.LayerShapeModify=function(e){i.drawing.Layer.call(this,e)},n.inherits(i.drawing.LayerShapeModify,i.drawing.Layer),i.drawing.LayerShapeModify.prototype.activate=function(e){this.removeShapes(),this.addShapes(e.getDragger())},i.drawing.LayerShapeModify.prototype.disposeInternal=function(){i.drawing.LayerShapeModify.superClass_.disposeInternal.call(this)},n.net={},n.net.EventType={COMPLETE:"complete",SUCCESS:"success",ERROR:"error",ABORT:"abort",READY:"ready",READY_STATE_CHANGE:"readystatechange",TIMEOUT:"timeout",INCREMENTAL_DATA:"incrementaldata",PROGRESS:"progress"},n.net.ImageLoader=function(e){n.events.EventTarget.call(this),this.imageIdToRequestMap_={},this.imageIdToImageMap_={},this.handler_=new n.events.EventHandler(this),this.parent_=e},n.inherits(n.net.ImageLoader,n.events.EventTarget),n.net.ImageLoader.CorsRequestType={ANONYMOUS:"anonymous",USE_CREDENTIALS:"use-credentials"},n.net.ImageLoader.IMAGE_LOAD_EVENTS_=[n.userAgent.IE&&!n.userAgent.isVersionOrHigher("11")?n.net.EventType.READY_STATE_CHANGE:n.events.EventType.LOAD,n.net.EventType.ABORT,n.net.EventType.ERROR],n.net.ImageLoader.prototype.addImage=function(e,t,i){(t=n.isString(t)?t:t.src)&&(this.imageIdToRequestMap_[e]={src:t,corsRequestType:n.isDef(i)?i:null})},n.net.ImageLoader.prototype.removeImage=function(e){delete this.imageIdToRequestMap_[e];var t=this.imageIdToImageMap_[e];t&&(delete this.imageIdToImageMap_[e],this.handler_.unlisten(t,n.net.ImageLoader.IMAGE_LOAD_EVENTS_,this.onNetworkEvent_),n.object.isEmpty(this.imageIdToImageMap_)&&n.object.isEmpty(this.imageIdToRequestMap_)&&this.dispatchEvent(n.net.EventType.COMPLETE))},n.net.ImageLoader.prototype.start=function(){var e=this.imageIdToRequestMap_;n.array.forEach(n.object.getKeys(e),function(t){var n=e[t];n&&(delete e[t],this.loadImage_(n,t))},this)},n.net.ImageLoader.prototype.loadImage_=function(e,t){if(!this.isDisposed()){var i;i=this.parent_?n.dom.getDomHelper(this.parent_).createDom("img"):new Image,e.corsRequestType&&(i.crossOrigin=e.corsRequestType),this.handler_.listen(i,n.net.ImageLoader.IMAGE_LOAD_EVENTS_,this.onNetworkEvent_),this.imageIdToImageMap_[t]=i,i.id=t,i.src=e.src}},n.net.ImageLoader.prototype.onNetworkEvent_=function(e){var t=e.currentTarget;if(t){if(e.type==n.net.EventType.READY_STATE_CHANGE){if(t.readyState!=n.net.EventType.COMPLETE)return;e.type=n.events.EventType.LOAD}void 0===t.naturalWidth&&(e.type==n.events.EventType.LOAD?(t.naturalWidth=t.width,t.naturalHeight=t.height):(t.naturalWidth=0,t.naturalHeight=0)),this.dispatchEvent({type:e.type,target:t}),this.isDisposed()||this.removeImage(t.id)}},n.net.ImageLoader.prototype.disposeInternal=function(){delete this.imageIdToRequestMap_,delete this.imageIdToImageMap_,n.dispose(this.handler_),n.net.ImageLoader.superClass_.disposeInternal.call(this)},i.EventTarget=function(){n.Disposable.call(this)},n.inherits(i.EventTarget,n.Disposable),i.EventTarget.prototype.dispatchExternal=function(e,t){if(!n.string.startsWith(e,"event"))throw Error('Invalid event-type "". Prefix "event*" expected.');var i;i=void 0!==t?t:this,i[e]&&(2>=arguments.length?i[e].apply(i):i[e].apply(i,this.argsArray_(arguments)))},i.EventTarget.prototype.argsArray_=function(e){for(var t=e.length-2,n=Array(t),i=0;i<t;i++)n[i]=e[i+2];return n},i.EventTarget.prototype.disposeInternal=function(){i.EventTarget.superClass_.disposeInternal.call(this)},i.geometry.Box=function(){i.geometry.Geometry.call(this)},n.inherits(i.geometry.Box,i.geometry.Geometry),i.geometry.Box.containsPoint=function(e,t){return t[0]>=e[3]&&t[0]<=e[1]&&t[1]>=e[0]&&t[1]<=e[2]},i.geometry.Point=function(){i.geometry.Geometry.call(this)},n.inherits(i.geometry.Point,i.geometry.Geometry),i.geometry.Point.distancePoint=function(e,t){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)},i.geometry.Point.prototype.disposeInternal=function(){i.geometry.Point.superClass_.disposeInternal.call(this)},i.viewbox={},i.viewbox.ViewboxGeometry=function(){i.EventTarget.call(this),this.box_=Array(4),this.xy_=Array(2),this.wh_=Array(2)},n.inherits(i.viewbox.ViewboxGeometry,i.EventTarget),i.viewbox.ViewboxGeometry.prototype.getWidth=function(e,t){if(!0===t&&this.isHorizontal())return this.getHeight(e);var n=this.getDrawing().getLayerBackground().getImage(),n=n.getImage()?n.getWidth():this.drawing_.getWidth();return e?n*this.ctm_.getScale():n},i.viewbox.ViewboxGeometry.prototype.getHeight=function(e,t){if(!0===t&&this.isHorizontal())return this.getWidth(e);var n=this.getDrawing().getLayerBackground().getImage(),n=n.getImage()?n.getHeight():this.drawing_.getHeight();return e?n*this.ctm_.getScale():n},i.viewbox.ViewboxGeometry.prototype.getBox=function(){var e=this.getRotation(),t=this.getWidth(!1,!1),n=this.getHeight(!1,!1);return this.ctm_.transform([0,0],0,this.xy_,0,1),this.ctm_.transform([t,n],0,this.wh_,0,1),0===e?(this.box_[0]=this.xy_[1],this.box_[1]=this.wh_[0],this.box_[2]=this.wh_[1],this.box_[3]=this.xy_[0]):90===e?(this.box_[0]=this.xy_[1],this.box_[1]=this.xy_[0],this.box_[2]=this.wh_[1],this.box_[3]=this.wh_[0]):180===e?(this.box_[0]=this.wh_[1],this.box_[1]=this.xy_[0],this.box_[2]=this.xy_[1],this.box_[3]=this.wh_[0]):(this.box_[0]=this.wh_[1],this.box_[1]=this.wh_[0],this.box_[2]=this.xy_[1],this.box_[3]=this.xy_[0]),this.box_},i.viewbox.ViewboxGeometry.prototype.containsPoint=function(e){var t=this.getBox();return i.geometry.Box.containsPoint(t,e)},i.viewbox.ViewboxGeometry.prototype.getCenterPoint_=function(e){var t=[this.getWidth()/2,this.getHeight()/2];return!0!==e?t:(e=Array(2),this.ctm_.transform(t,0,e,0,1),e)},i.viewbox.ViewboxGeometry.prototype.getVisibleOrientation_=function(e){var t=["NW","SW","SE","NE"];return e=n.array.indexOf(t,e),t[(e+this.getRotation()/90)%4]},i.viewbox.ViewboxGeometry.prototype.FixPoints_={C:[0,0],NE:[0,0],SE:[0,0],SW:[0,0],NW:[0,0]},i.viewbox.ViewboxGeometry.prototype.getFixPoints_=function(){var e=this.getWidth(),t=this.getHeight();return this.FixPoints_.C=[e/2,t/2],this.FixPoints_.NE=[e,0],this.FixPoints_.SE=[e,t],this.FixPoints_.SW=[0,t],this.FixPoints_.NW=[0,0],this.FixPoints_},i.viewbox.ViewboxGeometry.prototype.getFixPoint_=function(e,t,n){var i=this.getFixPoints_();return(e=n?i[this.getVisibleOrientation_(e)]:i[e])||console.error("fixPoint could not be determined. Is the element containing the canvas visible?"),!0===t?(t=Array(2),this.ctm_.transform(e,0,t,0,1),t):e},i.viewbox.ViewboxGeometry.prototype.disposeInternal=function(){this.box_=null,i.viewbox.ViewboxGeometry.superClass_.disposeInternal.call(this)},i.viewbox.ViewboxRotate=function(){i.viewbox.ViewboxGeometry.call(this)},n.inherits(i.viewbox.ViewboxRotate,i.viewbox.ViewboxGeometry),i.viewbox.ViewboxRotate.prototype.getRotation=function(){return this.ctm_.getRotation()},i.viewbox.ViewboxRotate.prototype.isValidRotation=function(e){return 0===(e=Math.abs(e))||90===e||180===e||270===e},i.viewbox.ViewboxRotate.prototype.isVertical=function(){var e=this.ctm_.getRotation();return 0===e||180===e},i.viewbox.ViewboxRotate.prototype.isHorizontal=function(){var e=this.ctm_.getRotation();return 90===e||270===e},i.viewbox.ViewboxRotate.Direction_={0:0,90:1,180:2,270:3},i.viewbox.ViewboxRotate.prototype.direction_=function(){var e=this.ctm_.getRotation();return i.viewbox.ViewboxRotate.Direction_[parseInt(e)]},i.viewbox.ViewboxRotate.prototype.rotateBy=function(e,t){if(void 0===t)this.rotateBy_(e,void 0,void 0);else if(this.isFixPoint_(t))this.rotateBy_(e,void 0,t);else{if(!this.isOrientation_(t))throw Error("Invalid fix-point. Array[2] or xrx.drawing.Orientation.* expected.");this.rotateBy_(e,t,void 0)}this.drawing_.draw()},i.viewbox.ViewboxRotate.prototype.rotateLeft=function(e){this.rotateBy(-90,e)},i.viewbox.ViewboxRotate.prototype.rotateRight=function(e){this.rotateBy(90,e)},i.viewbox.ViewboxRotate.prototype.isFixPoint_=function(e){return e instanceof Array&&2===e.length},i.viewbox.ViewboxRotate.prototype.isOrientation_=function(e){return"string"==typeof e&&n.object.containsValue(i.drawing.Orientation,e)},i.viewbox.ViewboxRotate.prototype.rotateBy_=function(e,t,r){if(0!==e){if(!this.isValidRotation(e))throw Error("Invalid rotation. 0, 90, 180 or 270 expected.");var o,s=!(0<e);void 0!==t&&(o=this.getPivotPoint_(t,s,!0)),void 0!==r&&(o=this.containsPoint(r)?this.ctm_.transformPoint(r):this.getPivotPoint_(i.drawing.Orientation.C,s,!0)),void 0===o&&(o=this.getPivotPoint_(i.drawing.Orientation.C,s,!0)),this.ctm_.rotate(n.math.toRadians(e),o[0],o[1]),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)}},i.viewbox.ViewboxRotate.prototype.getPivotPoint_=function(e,t,n){var i=this.getPivotPoints_(t);return e={C:function(e,t){return t.getCenterPoint_()},NE:function(e,t,n){return console.log(t.direction_()),e[[0,1,2,3][t.direction_()]]},SE:function(e,t,n){return e[[3,0,1,2][t.direction_()]]},SW:function(e,t,n){return e[[2,3,0,1][t.direction_()]]},NW:function(e,t,n){return e[[1,2,3,0][t.direction_()]]}}[e](i,this,t),!0===n&&this.ctm_.transformPoint(e),e},i.viewbox.ViewboxRotate.prototype.getPivotPoints_=function(e){var t=this.getWidth(),n=this.getHeight();return e?[[-n/2+t,n/2],[t/2,t/2],[n/2,n/2],[t/2,t/2+n/2]]:[[t/2,t/2],[n/2,n/2],[t/2,t/2+n/2],[-n/2+t,n/2]]},i.viewbox.ViewboxRotate.prototype.disposeInternal=function(){i.viewbox.ViewboxRotate.superClass_.disposeInternal.call(this)},i.viewbox.ViewboxZoom=function(){i.viewbox.ViewboxRotate.call(this)},n.inherits(i.viewbox.ViewboxZoom,i.viewbox.ViewboxRotate),i.viewbox.ViewboxZoom.prototype.zoomFactor_=.1,i.viewbox.ViewboxZoom.prototype.getZoomFactor=function(){return this.zoomFactor_},i.viewbox.ViewboxZoom.prototype.setZoomFactor=function(e){this.zoomFactor_=e},i.viewbox.ViewboxZoom.prototype.getZoomValue=function(e){return void 0===e?this.ctm_.getScale():this.zoomMin_+e*this.zoomFactor_},i.viewbox.ViewboxZoom.prototype.zoomMin_=.1,i.viewbox.ViewboxZoom.prototype.getZoomMin=function(){return this.zoomMin_},i.viewbox.ViewboxZoom.prototype.setZoomFactorMin=function(e){this.zoomMin_=e},i.viewbox.ViewboxZoom.prototype.zoomMax_=2,i.viewbox.ViewboxZoom.prototype.getZoomMax=function(){return this.zoomMax_},i.viewbox.ViewboxZoom.prototype.setZoomFactorMax=function(e){this.zoomMax_=e},i.viewbox.ViewboxZoom.prototype.getZoomStep=function(e){return e=void 0!==e?e:this.getZoomValue(),Math.round((e-this.zoomMin_)/this.zoomFactor_)},i.viewbox.ViewboxZoom.prototype.zoomOffset_=function(e,t){this.ctm_.setTransform(this.ctm_.getScaleX(),this.ctm_.getShearY(),this.ctm_.getShearX(),this.ctm_.getScaleY(),(this.ctm_.getTranslateX()-e[0])*t+e[0],(this.ctm_.getTranslateY()-e[1])*t+e[1])},i.viewbox.ViewboxZoom.prototype.zoomTo=function(e,t){var n;n=void 0!==t&&this.containsPoint(t)?t:this.getCenterPoint_(!0),e<this.zoomMin_&&(e=this.zoomMin_),e>this.zoomMax_&&(e=this.zoomMax_);var r=1/this.getZoomValue()*e;this.zoomOffset_(n,r),this.ctm_.scale(r,r),this.drawing_.draw(),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},i.viewbox.ViewboxZoom.prototype.zoomIn=function(e){this.zoomTo(this.ctm_.getScale()+this.zoomFactor_,e)},i.viewbox.ViewboxZoom.prototype.zoomOut=function(e){this.zoomTo(this.ctm_.getScale()-this.zoomFactor_,e)},i.viewbox.ViewboxZoom.prototype.disposeInternal=function(){i.viewbox.ViewboxZoom.superClass_.disposeInternal.call(this)},i.viewbox.ViewboxTranslate=function(){i.viewbox.ViewboxZoom.call(this)},n.inherits(i.viewbox.ViewboxTranslate,i.viewbox.ViewboxZoom),i.viewbox.ViewboxTranslate.prototype.translate=function(e,t){var n=this.ctm_.getIdentity(),r=n.transformPoint([e,t]);this.ctm_=n.translate(r[0],r[1]).concatenate(this.ctm_),this.drawing_.draw(),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},i.viewbox.ViewboxTranslate.prototype.center=function(){this.centerHorizontally(),this.centerVertically()},i.viewbox.ViewboxTranslate.prototype.centerHorizontally=function(){var e=this.getFixPoint_(i.drawing.Orientation.NW,!0,!0),t=this.getWidth(!0,!0),e=this.getDrawing().getWidth()/2-(e[0]+t/2);this.translate(e,0),this.drawing_.draw(),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},i.viewbox.ViewboxTranslate.prototype.centerVertically=function(){var e=this.getFixPoint_(i.drawing.Orientation.NW,!0,!0),t=this.getHeight(!0,!0),e=this.getDrawing().getHeight()/2-(e[1]+t/2);this.translate(0,e),this.drawing_.draw(),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},i.viewbox.ViewboxTranslate.prototype.setPosition=function(e){var t=this.drawing_.getWidth(),n=this.drawing_.getHeight(),r=this.getFixPoint_(e,!0,!0);if(e===i.drawing.Position.NW)this.translate(-r[0],-r[1]);else if(e===i.drawing.Position.NE)this.translate(t-r[0],-r[1]);else if(e===i.drawing.Position.SE)this.translate(t-r[0],n-r[1]);else{if(e!==i.drawing.Position.SW)throw Error("Unknown position.");this.translate(-r[0],n-r[1])}this.drawing_.draw(),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},i.viewbox.ViewboxTranslate.prototype.disposeInternal=function(){i.viewbox.ViewboxTranslate.superClass_.disposeInternal.call(this)},i.viewbox.FastAffineTransform=function(){n.math.AffineTransform.call(this),this.identity_,this.inverse_,this.clone_},n.inherits(i.viewbox.FastAffineTransform,n.math.AffineTransform),i.viewbox.FastAffineTransform.prototype.getIdentity=function(){return this.identity_||(this.identity_=new i.viewbox.FastAffineTransform),this.identity_.setTransform(1,0,0,1,0,0),this.identity_},i.viewbox.FastAffineTransform.prototype.getInverse=function(){this.inverse_||(this.inverse_=new i.viewbox.FastAffineTransform);var e=this.getDeterminant();return this.inverse_.setTransform(this.m11_/e,-this.m10_/e,-this.m01_/e,this.m00_/e,(this.m01_*this.m12_-this.m11_*this.m02_)/e,(this.m10_*this.m02_-this.m00_*this.m12_)/e),this.inverse_},i.viewbox.FastAffineTransform.prototype.getClone=function(){return this.clone_||(this.clone_=new i.viewbox.FastAffineTransform),this.clone_.copyFrom(this)},i.viewbox.FastAffineTransform.prototype.transformPoint=function(e,t){var n=void 0!==t?t:Array(2);return this.createInverse().transform(e,0,n,0,1),n},i.viewbox.FastAffineTransform.prototype.getScale=function(){var e=this.getRotation();return this.getClone().rotate(n.math.toRadians(360-e)),this.clone_.getScaleX()},i.viewbox.FastAffineTransform.prototype.getRotation=function(){return{0:0,2:90,3:180,"-2":270}[Math.round(Math.atan2(this.getShearY(),this.getScaleY()))]},i.viewbox.FastAffineTransform.prototype.disposeInternal=function(){this.clone_=this.inverse_=this.identity_=null},i.viewbox.ViewboxTransform=function(){this.ctm_=new i.viewbox.FastAffineTransform,i.viewbox.ViewboxTranslate.call(this)},n.inherits(i.viewbox.ViewboxTransform,i.viewbox.ViewboxTranslate),i.viewbox.ViewboxTransform.prototype.getCTM=function(){return this.ctm_},i.viewbox.ViewboxTransform.prototype.setCTM=function(e){this.ctm_=e,this.drawing_.draw()},i.viewbox.ViewboxTransform.prototype.ctmDump=function(){return[this.ctm_.m00_,this.ctm_.m10_,this.ctm_.m01_,this.ctm_.m11_,this.ctm_.m02_,this.ctm_.m12_]},i.viewbox.ViewboxTransform.prototype.ctmRestore=function(e){if(6!==e.length)throw Error("Invalid CTM dump.");this.ctm_.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),this.drawing_.draw()},i.viewbox.ViewboxTransform.prototype.fitToWidth=function(e){var t=this.getWidth(!0,!0),t=this.drawing_.getCanvas().getWidth()/t;this.ctm_.scale(t,t),!1!==e&&this.center(),this.drawing_.draw(),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},i.viewbox.ViewboxTransform.prototype.fitToHeight=function(e){var t=this.getHeight(!0,!0),t=this.drawing_.getCanvas().getHeight()/t;this.ctm_.scale(t,t),!1!==e&&this.center(),this.drawing_.draw(),this.dispatchExternal(i.drawing.EventType.VIEWBOX_CHANGE,this.drawing_)},i.viewbox.ViewboxTransform.prototype.fit=function(e){this.getWidth(!0,!0)>this.getHeight(!0,!0)?this.fitToWidth():this.fitToHeight(),!1!==e&&this.center(),this.drawing_.draw()},i.viewbox.ViewboxTransform.prototype.disposeInternal=function(){this.ctm_.disposeInternal(),this.ctm_=null,i.viewbox.ViewboxTransform.superClass_.disposeInternal.call(this)},i.viewbox.Viewbox=function(e){i.viewbox.ViewboxTransform.call(this),this.drawing_=e,this.group_=new i.shape.Group(this.drawing_),this.state_=i.drawing.State.NONE},n.inherits(i.viewbox.Viewbox,i.viewbox.ViewboxTransform),i.viewbox.Viewbox.prototype.getDrawing=function(){return this.drawing_},i.viewbox.Viewbox.prototype.getGroup=function(){return this.group_},i.viewbox.Viewbox.prototype.handleDblClick=function(e,t){this.rotateRight(t.getPoint())},i.viewbox.Viewbox.prototype.handleDown=function(e,t){this.origin_=t.getPoint(),this.state_=i.drawing.State.DRAG},i.viewbox.Viewbox.prototype.handleMove=function(e,t){if(this.state_===i.drawing.State.DRAG){var n=t.getPoint()[0]-this.origin_[0],r=t.getPoint()[1]-this.origin_[1];this.translate(n,r),this.origin_=t.getPoint()}},i.viewbox.Viewbox.prototype.handleOut=function(e){this.resetState_()},i.viewbox.Viewbox.prototype.handleUp=function(e){this.resetState_()},i.viewbox.Viewbox.prototype.handleWheel=function(e,t){0>e.deltaY?this.zoomIn(t.getPoint()):this.zoomOut(t.getPoint())},i.viewbox.Viewbox.prototype.resetState_=function(){this.state_=i.drawing.State.NONE,this.origin_=null},i.viewbox.Viewbox.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,this.group_.dispose(),this.origin_=this.group_=null,i.viewbox.Viewbox.superClass_.disposeInternal.call(this)},i.drawing.LayerBackground=function(e){i.drawing.Layer.call(this,e)},n.inherits(i.drawing.LayerBackground,i.drawing.Layer),i.drawing.LayerBackground.prototype.getImage=function(e){return this.image_},i.drawing.LayerBackground.prototype.setImage=function(e){this.image_.setImage(e)},i.drawing.LayerBackground.prototype.create_=function(){this.group_=new i.shape.Group(this.drawing_),this.image_=new i.shape.Image(this.drawing_),this.group_.addChildren(this.image_)};i.drawing.LayerBackground.prototype.disposeInternal=function(){this.image_.dispose(),this.image_=null,i.drawing.LayerBackground.superClass_.disposeInternal.call(this)},i.drawing.Creatable=function(e){i.EventTarget.call(this),this.drawing_=e,this.newShapes_=[],this.previewShapes_=[]},n.inherits(i.drawing.Creatable,i.EventTarget),i.drawing.Creatable.prototype.setShapeCreatable=function(e){this.shapeCreatable_=e},i.drawing.Creatable.prototype.handleCreate=function(e){if(this.shapeCreatable_ instanceof i.shape.ShapeGroupCreatable){0===this.shapeCreatable_.current&&this.drawing_.getLayerShapeCreate().addShapes(this.shapeCreatable_.getPreview());for(var t=0;t<e.length;t++)e[t]instanceof i.shape.Dragger?this.drawing_.getLayerShapeModify().addShapes(e[t]):this.shapeCreatable_.getPreview().addChildren(e[t])}else this.drawing_.getLayerShapeCreate().addShapes(e)},i.drawing.Creatable.prototype.handleCreated=function(e){this.shapeCreatable_ instanceof i.shape.ShapeGroupCreatable?(this.newShapes_.push(e),this.drawing_.getLayerShapeModify().removeShapes(),this.shapeCreatable_.allShapesCreated()?(e=new i.shape.ShapeGroup(this.drawing_),e.addChildren(this.newShapes_),e.setStyles(this.shapeCreatable_.getTarget()),this.drawing_.getLayerShape().addShapes(e),this.drawing_.getLayerShapeCreate().removeShapes(),this.drawing_.draw(),this.shapeCreatable_.reset(),this.newShapes_=[]):this.shapeCreatable_.current++):(this.drawing_.getLayerShape().addShapes(e),this.drawing_.getLayerShapeCreate().removeShapes(),this.drawing_.draw())},i.drawing.Creatable.prototype.handleDown=function(e,t){this.shapeCreatable_.handleDown(e,t)},i.drawing.Creatable.prototype.handleMove=function(e,t){this.shapeCreatable_.handleMove(e,t)},i.drawing.Creatable.prototype.handleUp=function(e,t){this.shapeCreatable_.handleUp(e,t)},i.drawing.Hoverable=function(e){i.EventTarget.call(this),this.drawing_=e,this.last_=[],this.multiple_=!1},n.inherits(i.drawing.Hoverable,i.EventTarget),i.drawing.Hoverable.prototype.setMultiple=function(e){this.multiple_=!!e},i.drawing.Hoverable.prototype.pop_=function(){var e,t=this.last_.length;if(0<this.last_.length){for(var n=0;n<t;n++)(e=this.last_[n])&&e.getHoverable().hoverOff();this.dispatchExternal(i.drawing.EventType.SHAPE_HOVER_OUT,this.drawing_,this.last_)}},i.drawing.Hoverable.prototype.push_=function(e){var t,n=e.length;if(0<n){for(var r=0;r<n;r++)(t=e[r])&&t.getHoverable().hoverOn();this.last_=e,this.dispatchExternal(i.drawing.EventType.SHAPE_HOVER_IN,this.drawing_,e)}else this.last_=[]},i.drawing.Hoverable.prototype.hover_=function(e){n.array.equals(e,this.last_)||(this.pop_(),this.push_(e)),0<e.length&&this.dispatchExternal(i.drawing.EventType.SHAPE_HOVER_MOVE,this.drawing_,e)},i.drawing.Hoverable.prototype.handleMove=function(e,t){var i;i=this.multiple_?t.getShapes():t.getShape(),n.isArray(i)||(i=[i]),this.hover_(i)},i.drawing.Hoverable.prototype.handleOut=function(e){this.pop_()},i.drawing.Hoverable.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null;for(var e;e=this.last_.pop();)e.dispose();this.last_=null,i.drawing.Hoverable.superClass_.disposeInternal.call(this)},i.drawing.Selectable=function(e){n.Disposable.call(this),this.drawing_=e},n.inherits(i.drawing.Selectable,n.Disposable),i.drawing.Selectable.prototype.getShape=function(){return this.last_},i.drawing.Selectable.prototype.setSelected=function(e){this.last_&&this.last_.getSelectable().selectOff(),e?(e.getSelectable().selectOn(),this.last_=e):this.last_=null},i.drawing.Selectable.prototype.handleDown=function(e,t){this.setSelected(t.getShape())},i.drawing.Selectable.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,n.dispose(this.last_),this.last_=null,i.drawing.Selectable.superClass_.disposeInternal.call(this)},i.engine.Engine=function(e,t){n.Disposable.call(this),this.name_=e,this.available_=!1,this.init_(),this.canvas_=this.createCanvas_(t)},n.inherits(i.engine.Engine,n.Disposable),i.engine.Engine.prototype.getCanvas=function(){return this.canvas_},i.engine.Engine.prototype.createCanvas_=function(e){if(this.typeOf(i.engine.CANVAS))return i.canvas.Canvas.create(e);if(this.typeOf(i.engine.SVG))return i.svg.Canvas.create(e);if(this.typeOf(i.engine.VML))return i.vml.Canvas.create(e);throw Error("Unknown engine.")},i.engine.Engine.prototype.createCircle=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Circle.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Circle.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Circle.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.createEllipse=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Ellipse.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Ellipse.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Ellipse.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.createGroup=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Group.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Group.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Group.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.createImage=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Image.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Image.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Image.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.createLine=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Line.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Line.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Line.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.createPolygon=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Polygon.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Polygon.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Polygon.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.createPolyline=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Polyline.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Polyline.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Polyline.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.createRect=function(){if(this.typeOf(i.engine.CANVAS))return i.canvas.Polygon.create(this.canvas_);if(this.typeOf(i.engine.SVG))return i.svg.Polygon.create(this.canvas_);if(this.typeOf(i.engine.VML))return i.vml.Polygon.create(this.canvas_);throw Error("Unknown engine.")},i.engine.Engine.prototype.getName=function(){return this.name_},i.engine.Engine.prototype.typeOf=function(e){return this.name_===e},i.engine.Engine.prototype.isAvailable=function(){return this.available_},i.engine.Engine.prototype.findOptimalRenderer_=function(){if(i.engine.isSupported(i.engine.CANVAS))this.name_=i.engine.CANVAS,this.available_=!0;else if(i.engine.isSupported(i.engine.SVG))this.name_=i.engine.SVG,this.available_=!0;else{if(!i.engine.isSupported(i.engine.VML))throw Error("There is no graphics rendering engine available.");this.name_=i.engine.VML,this.available_=!0}},i.engine.Engine.prototype.forceRenderer_=function(){if(this.name_===i.engine.CANVAS)this.available_=i.engine.isSupported(i.engine.CANVAS);else if(this.name_===i.engine.SVG)this.available_=i.engine.isSupported(i.engine.SVG);else{if(this.name_!==i.engine.VML)throw this.available_=!1,Error("Unknown graphics rendering engine.");this.available_=i.engine.isSupported(i.engine.VML)}},i.engine.Engine.prototype.init_=function(){this.name_?this.forceRenderer_():this.findOptimalRenderer_()},i.engine.Engine.prototype.disposeInternal=function(){this.canvas_.dispose(),this.canvas_=null,i.engine.Engine.superClass_.disposeInternal.call(this)},n.dom.ViewportSizeMonitor=function(e){n.events.EventTarget.call(this),this.window_=e||window,this.listenerKey_=n.events.listen(this.window_,n.events.EventType.RESIZE,this.handleResize_,!1,this),this.size_=n.dom.getViewportSize(this.window_)},n.inherits(n.dom.ViewportSizeMonitor,n.events.EventTarget),n.dom.ViewportSizeMonitor.getInstanceForWindow=function(e){e=e||window;var t=n.getUid(e);return n.dom.ViewportSizeMonitor.windowInstanceMap_[t]=n.dom.ViewportSizeMonitor.windowInstanceMap_[t]||new n.dom.ViewportSizeMonitor(e)},n.dom.ViewportSizeMonitor.removeInstanceForWindow=function(e){e=n.getUid(e||window),n.dispose(n.dom.ViewportSizeMonitor.windowInstanceMap_[e]),delete n.dom.ViewportSizeMonitor.windowInstanceMap_[e]},n.dom.ViewportSizeMonitor.windowInstanceMap_={},n.dom.ViewportSizeMonitor.prototype.listenerKey_=null,n.dom.ViewportSizeMonitor.prototype.window_=null,n.dom.ViewportSizeMonitor.prototype.size_=null,n.dom.ViewportSizeMonitor.prototype.getSize=function(){return this.size_?this.size_.clone():null},n.dom.ViewportSizeMonitor.prototype.disposeInternal=function(){n.dom.ViewportSizeMonitor.superClass_.disposeInternal.call(this),this.listenerKey_&&(n.events.unlistenByKey(this.listenerKey_),this.listenerKey_=null),this.size_=this.window_=null},n.dom.ViewportSizeMonitor.prototype.handleResize_=function(e){e=n.dom.getViewportSize(this.window_),n.math.Size.equals(e,this.size_)||(this.size_=e,this.dispatchEvent(n.events.EventType.RESIZE))},i.drawing.Modifiable=function(e){i.EventTarget.call(this),this.drawing_=e,this.mode_=i.drawing.Modifiable.Mode.SHAPEHOVER,this.dragger_,this.shape_,this.origin_,this.propageted_=!1},n.inherits(i.drawing.Modifiable,i.EventTarget),i.drawing.Modifiable.Mode={DRAGSHAPE:1,HOVERSHAPE:2,DRAGDRAGGER:3},i.drawing.Modifiable.prototype.getShape=function(){return this.shape_},i.drawing.Modifiable.prototype.handleDown=function(e,t){var n;(n=t.getShape())?(this.origin_=t.getPointTransformed(),n&&n.isModifiable()?(this.state_=i.drawing.State.DRAG,n instanceof i.shape.Dragger?(this.mode_=i.drawing.Modifiable.Mode.DRAGDRAGGER,this.dragger_=n):(this.mode_=i.drawing.Modifiable.Mode.DRAGSHAPE,this.shape_&&this.shape_.getModifiable().selectOff(),this.shape_=n,n=this.shape_.getModifiable(),this.drawing_.getLayerShapeModify().activate(n),this.shape_.getModifiable().selectOn())):(this.drawing_.getLayerShapeModify().removeShapes(),this.shape_&&this.shape_.getModifiable().selectOff(),this.resetState_())):(this.drawing_.getViewbox().handleDown(e,t),this.propageted_=!0,this.drawing_.getLayerShapeModify().removeShapes(),this.shape_&&this.shape_.getModifiable().selectOff(),this.shape_=null,this.resetState_())},i.drawing.Modifiable.prototype.handleHover_=function(e,t){},i.drawing.Modifiable.prototype.handleDragShape_=function(e,t){var n=t.getPointTransformed(),i=n[0]-this.origin_[0],r=n[1]-this.origin_[1];this.shape_.getModifiable().move(i,r),this.origin_=n},i.drawing.Modifiable.prototype.handleMove=function(e,t){if(t.getShape(),this.propageted_)this.drawing_.getViewbox().handleMove(e,t);else{var n=t.getPointTransformed();this.mode_===i.drawing.Modifiable.Mode.SHAPEHOVER?this.handleHover_(e,t):this.mode_===i.drawing.Modifiable.Mode.DRAGDRAGGER?(this.dragger_.setCoord(n),this.dispatchExternal(i.drawing.EventType.SHAPE_MODIFY,this.drawing_,this.shape_)):this.mode_===i.drawing.Modifiable.Mode.DRAGSHAPE&&(this.handleDragShape_(e,t),this.dispatchExternal(i.drawing.EventType.SHAPE_MODIFY,this.drawing_,this.shape_))}},i.drawing.Modifiable.prototype.handleUp=function(e,t){t.getShape()||this.drawing_.getViewbox().handleUp(e,t),this.resetState_(),this.propageted_=!1},i.drawing.Modifiable.prototype.resetState_=function(){this.mode_=i.drawing.Modifiable.Mode.SHAPEHOVER},i.drawing.Modifiable.prototype.disposeInternal=function(){this.drawing_.dispose(),this.drawing_=null,n.dispose(this.dragger_),n.dispose(this.shape_),this.origin_=null,i.drawing.Modifiable.superClass_.disposeInternal.call(this)},i.drawing.Drawing=function(e,t){i.drawing.EventHandler.call(this),this.element_=e,this.layer_=[],this.mode_=i.drawing.Mode.NONE,this.modifiable_=new i.drawing.Modifiable(this),this.selectable_=new i.drawing.Selectable(this),this.hoverable_=new i.drawing.Hoverable(this),this.creatable_=new i.drawing.Creatable(this),this.install_(t)},n.inherits(i.drawing.Drawing,i.drawing.EventHandler),i.drawing.Drawing.prototype.eventShapeModify=function(e){},i.drawing.Drawing.prototype.getElement=function(){return this.element_},i.drawing.Drawing.prototype.getEngine=function(){return this.engine_},i.drawing.Drawing.prototype.getCanvas=function(){return this.canvas_},i.drawing.Drawing.prototype.getLayerBackground=function(){return this.layer_[0]},i.drawing.Drawing.prototype.getLayerShape=function(){return this.layer_[1]},i.drawing.Drawing.prototype.getLayerShapeModify=function(){return this.layer_[3]},i.drawing.Drawing.prototype.getLayerShapeCreate=function(){return this.layer_[2]},i.drawing.Drawing.prototype.getLayerTool=function(){return this.layer_[4]},i.drawing.Drawing.prototype.getViewbox=function(){return this.viewbox_},i.drawing.Drawing.prototype.setSize=function(e,t){n.style.setSize(this.element_,e+"px",t+"px"),this.handleResize()},i.drawing.Drawing.prototype.getWidth=function(){return this.width_},i.drawing.Drawing.prototype.setWidth=function(e){this.setSize(e,this.height_)},i.drawing.Drawing.prototype.getHeight=function(){return this.height_},i.drawing.Drawing.prototype.setHeight=function(e){this.setSize(this.width_,e)},i.drawing.Drawing.prototype.setStyle=function(e,t){n.style.setStyle(this.element_,e,t),this.handleResize()},i.drawing.Drawing.prototype.getBackgroundImage=function(){return this.layer_[0].getImage().getImage()},i.drawing.Drawing.prototype.setBackgroundImage=function(e,t){var i=this.layer_[0].getImage();if(!i||i.src!==e){var r=this,i=new n.net.ImageLoader,o=n.dom.createElement("img");o.id="_tmp",o.src=e,n.events.listen(i,n.events.EventType.LOAD,function(e){r.layer_[0].setImage(e.target),t&&t.apply(r),r.draw()}),i.addImage("_tmp",o),i.start()}},i.drawing.Drawing.prototype.addShapes=function(e){this.layer_[1].addShapes(n.array.toArray(arguments)),this.draw()},i.drawing.Drawing.prototype.getShapes=function(){return this.layer_[1].getShapes()||[]},i.drawing.Drawing.prototype.removeShape=function(e){this.layer_[1].removeShape(e),this.layer_[3].removeShapes(),this.draw()},i.drawing.Drawing.prototype.getSelectedShape=function(){return this.mode_===i.drawing.Mode.SELECT?this.selectable_.getShape():this.mode_===i.drawing.Mode.MODIFY?this.modifiable_.getShape():null},i.drawing.Drawing.prototype.draw=function(){var e=this,t=this.getViewbox();this.eventBeforeRendering=function(e){e===t.getGroup()?e.setCTM(t.getCTM()):e instanceof i.shape.Style&&e.setZoomFactor(t.getZoomValue())},n.dom.getWindow().clearTimeout(this.timeoutDraw_),this.timeoutDraw_=n.dom.getWindow().setTimeout(function(){e.eventBeforeDraw&&e.eventBeforeDraw(),e.canvas_.draw()})},i.drawing.Drawing.prototype.getMode=function(){return this.mode_},i.drawing.Drawing.prototype.setMode_=function(e){e===this.mode_&&e!==i.drawing.Mode.CREATE||(this.mode_=e,this.registerEvents(e),this.draw())},i.drawing.Drawing.prototype.setModeDisabled=function(){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!0),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(i.drawing.Mode.DISABLED)},i.drawing.Drawing.prototype.setModeView=function(){this.getLayerBackground().setLocked(!1),this.getLayerShape().setLocked(!0),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(i.drawing.Mode.VIEW)},i.drawing.Drawing.prototype.setModeHover=function(e){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!1),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.hoverable_.setMultiple(e),!0===e?this.setMode_(i.drawing.Mode.HOVERMULTIPLE):this.setMode_(i.drawing.Mode.HOVER)},i.drawing.Drawing.prototype.setModeSelect=function(){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!1),this.getLayerShapeModify().setLocked(!0),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(i.drawing.Mode.SELECT)},i.drawing.Drawing.prototype.setSelected=function(e){this.selectable_.setSelected(e),this.draw()},i.drawing.Drawing.prototype.setModeModify=function(){this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!1),this.getLayerShapeModify().setLocked(!1),this.getLayerShapeCreate().setLocked(!0),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(i.drawing.Mode.MODIFY)},i.drawing.Drawing.prototype.setModeCreate=function(e){if(e){if(!(e instanceof i.shape.Creatable))throw Error("Instance of xrx.shape.Creatable expected.");this.creatable_.setShapeCreatable(e),this.getLayerBackground().setLocked(!0),this.getLayerShape().setLocked(!0),this.getLayerShapeModify().setLocked(!1),this.getLayerShapeCreate().setLocked(!1),this.getLayerShapeModify().removeShapes(),this.getLayerShapeCreate().removeShapes(),this.setMode_(i.drawing.Mode.CREATE)}},i.drawing.Drawing.prototype.handleResize=function(){var e=this;n.dom.getWindow().clearTimeout(this.timeoutResize_),this.timeoutResize_=n.dom.getWindow().setTimeout(function(){e.calculateSize_(),e.canvas_.setHeight(e.height_),e.canvas_.setWidth(e.width_),e.shield_.setHeight(e.height_),e.shield_.setWidth(e.width_)}),this.draw()},i.drawing.Drawing.prototype.calculateSize_=function(){var e=n.style.getSize(this.element_),t=n.style.getPaddingBox(this.element_),i=n.style.getBorderBox(this.element_),r=e.height-t.top-t.bottom-i.top-i.bottom;this.width_=e.width-t.left-t.right-i.left-i.right,this.height_=r},i.drawing.Drawing.prototype.installCanvas_=function(){var e=this;this.vsm_=new n.dom.ViewportSizeMonitor,n.events.listen(this.vsm_,n.events.EventType.RESIZE,function(t){e.handleResize()},!1,e),this.canvas_=new i.shape.Canvas(this),this.canvas_.setHeight(this.height_),this.canvas_.setWidth(this.width_)},i.drawing.Drawing.prototype.installViewbox_=function(){this.viewbox_=new i.viewbox.Viewbox(this),this.canvas_.addChildren(this.viewbox_.getGroup())},i.drawing.Drawing.prototype.installLayerBackground_=function(){this.layer_[0]=new i.drawing.LayerBackground(this),this.viewbox_.getGroup().addChildren(this.layer_[0].getGroup())},i.drawing.Drawing.prototype.installLayerShape_=function(){this.layer_[1]=new i.drawing.LayerShape(this),this.viewbox_.getGroup().addChildren(this.layer_[1].getGroup())},i.drawing.Drawing.prototype.installLayerShapeModify_=function(){this.layer_[3]=new i.drawing.LayerShapeModify(this),this.viewbox_.getGroup().addChildren(this.layer_[3].getGroup())},i.drawing.Drawing.prototype.installLayerShapecreatable_=function(){this.layer_[2]=new i.drawing.LayerShapeCreate(this),this.viewbox_.getGroup().addChildren(this.layer_[2].getGroup())},i.drawing.Drawing.prototype.installShield_=function(){this.shield_=new i.shape.Rect(this),this.shield_.setX(0),this.shield_.setY(0),this.shield_.setWidth(this.width_),this.shield_.setHeight(this.height_),this.shield_.setFillOpacity(0),this.shield_.setStrokeWidth(0),this.canvas_.addChildren(this.shield_)},i.drawing.Drawing.prototype.installLayerTool_=function(){this.layer_[4]=new i.drawing.LayerTool(this)},i.drawing.Drawing.prototype.initEngine_=function(e){this.engine_=new i.engine.Engine(e,this.element_)},i.drawing.Drawing.prototype.install_=function(e){this.initEngine_(e),this.engine_.isAvailable()&&(n.dom.removeChildren(this.element_),this.calculateSize_(),this.installCanvas_(),this.installViewbox_(),this.installLayerBackground_(),this.installLayerShape_(),this.installLayerShapecreatable_(),this.installLayerShapeModify_(),this.installShield_(),this.installLayerTool_())},i.drawing.Drawing.prototype.disposeInternal=function(){n.dom.removeNode(this.element_),this.element_=null,this.engine_.dispose(),this.engine_=null,this.canvas_.dispose(),this.canvas_=null;for(var e;e=this.layer_.pop();)e.dispose();this.layer_=null,this.shield_.dispose(),this.shield_=null,this.modifiable_.dispose(),this.modifiable_=null,this.selectable_.dispose(),this.selectable_=null,this.hoverable_.dispose(),this.hoverable_=null,n.dispose(this.creatable_),this.creatable_=null,this.viewbox_.dispose(),this.eventBeforeRendering=this.viewbox_=null,this.vsm_.removeAllListeners(),this.vsm_.dispose(),this.timeoutResize_=this.timeoutDraw_=this.vsm_=null,i.drawing.Drawing.superClass_.disposeInternal.call(this)},i.shape.DiPolygonArrow=function(e,t){i.shape.Line.call(this,e),this.diPolygon_=t,this.angle_},n.inherits(i.shape.DiPolygonArrow,i.shape.Line),i.shape.DiPolygonArrow.prototype.getDiPolygon=function(){return this.diPolygon_},i.shape.DiPolygonArrow.prototype.getModifiable=function(){return void 0===this.modifiable_&&(this.modifiable_=new i.shape.DiPolygonArrowModifiable(this)),this.modifiable_},i.shape.DiPolygonArrowModifiable=function(e){i.shape.LineModifiable.call(this,e)},n.inherits(i.shape.DiPolygonArrowModifiable,i.shape.LineModifiable),i.shape.DiPolygonArrowModifiable.prototype.setCoordAt=function(e,t){var n=this.shape_.getDiPolygon().getBox(),i=t[0],r=t[1];i<n.x?i=n.x:i>n.x2&&(i=n.x2),r<n.y?r=n.y:r>n.y2&&(r=n.y2);var o=n.x+n.width/2,n=n.y+n.height/2,o=o-(i-o),n=n-(r-n);0===e?(this.dragger_[0].setCoordX(i),this.dragger_[0].setCoordY(r),this.dragger_[1].setCoordX(o),this.dragger_[1].setCoordY(n),this.shape_.setX1(i),this.shape_.setY1(r),this.shape_.setX2(o),this.shape_.setY2(n)):(this.dragger_[1].setCoordX(i),this.dragger_[1].setCoordY(r),this.dragger_[0].setCoordX(o),this.dragger_[0].setCoordY(n),this.shape_.setX1(o),this.shape_.setY1(n),this.shape_.setX2(i),this.shape_.setY2(r))},i.shape.DiPolygonArrowModifiable.prototype.move=function(){},i.shape.DiPolygonPolygon=function(e){i.shape.Polygon.call(this,e)},n.inherits(i.shape.DiPolygonPolygon,i.shape.Polygon),i.shape.DiPolygon=function(e){i.shape.Group.call(this,e),this.box_,this.init_()},n.inherits(i.shape.DiPolygon,i.shape.Group),i.shape.DiPolygon.prototype.getArrow=function(){return this.arrow_},i.shape.DiPolygon.prototype.getBox=function(){return this.box_},i.shape.DiPolygon.prototype.MARGIN=20,i.shape.DiPolygon.prototype.setCoords=function(e){this.childs_[0].setCoords(e)},i.shape.DiPolygon.prototype.init_=function(){var e=new i.shape.DiPolygonPolygon(this.drawing_),t=new i.shape.DiPolygonArrow(this.drawing_,this);this.addChildren([e,t])},i.extension={},i.extension.Extensions={},i.api={},i.api.drawing=function(){},e.exports=i,e.exports.goog=n}]);
//# sourceMappingURL=xrxeditor.js.map